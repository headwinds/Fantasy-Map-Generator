{"remainingRequest":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/thread-loader/dist/cjs.js!/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/babel-loader/lib/index.js!/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/brandonflowers/Fantasy-Map-Generator/vue/src/components/FantasyMapGenerator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/src/components/FantasyMapGenerator.vue","mtime":1548206490876},{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js","mtime":1545787835318},{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/thread-loader/dist/cjs.js","mtime":1545766616720},{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/babel-loader/lib/index.js","mtime":1545766614930},{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/cache-loader/dist/cjs.js","mtime":1545787835318},{"path":"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/vue-loader/lib/index.js","mtime":1545766616769}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport _slicedToArray from \"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/@babel/runtime/helpers/builtin/es6/slicedToArray\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.number.is-integer\";\nimport \"core-js/modules/es6.string.from-code-point\";\nimport \"core-js/modules/es6.string.code-point-at\";\nimport \"core-js/modules/es6.set\";\nimport _toConsumableArray from \"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/@babel/runtime/helpers/builtin/es6/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.math.trunc\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _typeof from \"/Users/brandonflowers/Fantasy-Map-Generator/vue/node_modules/@babel/runtime/helpers/builtin/es6/typeof\";\nimport \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nexport default {\n  name: 'FantasyMapGenerator',\n  mounted: function mounted() {\n    console.log(\"mounted\");\n    fantasyMap();\n  },\n  props: {\n    msg: String\n  } // Fantasy Map Generator main script\n  // Azgaar (maxganiev@yandex.com). Minsk, 2017-2018\n  // https://github.com/Azgaar/Fantasy-Map-Generator\n  // GNU General Public License v3.0\n  // To programmers:\n  // I don't mind of any help with programming\n  // I know the code is badly structurized and it's hard to read it as a single page\n  // Meanwhile a core part takes only 300-500 lines\n  // What should be done generally:\n  // Refactor the code\n  // Modernize the code (ES6)\n  // Optimize the code\n  // Modulize the code\n  // And particularry:\n  // Migrate from d3-voronoi to mapbox-delunator or d3-delaunay\n  // Use typed arrays instead of array of objects\n  // Get rid of jQuery as d3.js can almost all the same and more\n  // Re-build UI on reactive approach, vue.js\n\n};\n\"use strict\"; //fantasyMap();\n\n\nfunction fantasyMap() {\n  // Version control\n  var version = \"0.60b\";\n  document.title += \" v. \" + version; // Declare variables\n\n  var svg = d3.select(\"svg\");\n  var defs = svg.select(\"#deftemp\");\n  var viewbox = svg.append(\"g\").attr(\"id\", \"viewbox\");\n  var ocean = viewbox.append(\"g\").attr(\"id\", \"ocean\");\n  var oceanLayers = ocean.append(\"g\").attr(\"id\", \"oceanLayers\");\n  var oceanPattern = ocean.append(\"g\").attr(\"id\", \"oceanPattern\");\n  var landmass = viewbox.append(\"g\").attr(\"id\", \"landmass\");\n  var terrs = viewbox.append(\"g\").attr(\"id\", \"terrs\");\n  var grid = viewbox.append(\"g\").attr(\"id\", \"grid\");\n  var overlay = viewbox.append(\"g\").attr(\"id\", \"overlay\");\n  var rivers = viewbox.append(\"g\").attr(\"id\", \"rivers\");\n  var terrain = viewbox.append(\"g\").attr(\"id\", \"terrain\");\n  var cults = viewbox.append(\"g\").attr(\"id\", \"cults\");\n  var regions = viewbox.append(\"g\").attr(\"id\", \"regions\");\n  var borders = viewbox.append(\"g\").attr(\"id\", \"borders\");\n  var stateBorders = borders.append(\"g\").attr(\"id\", \"stateBorders\");\n  var neutralBorders = borders.append(\"g\").attr(\"id\", \"neutralBorders\");\n  var lakes = viewbox.append(\"g\").attr(\"id\", \"lakes\");\n  var routes = viewbox.append(\"g\").attr(\"id\", \"routes\");\n  var roads = routes.append(\"g\").attr(\"id\", \"roads\").attr(\"data-type\", \"land\");\n  var trails = routes.append(\"g\").attr(\"id\", \"trails\").attr(\"data-type\", \"land\");\n  var searoutes = routes.append(\"g\").attr(\"id\", \"searoutes\").attr(\"data-type\", \"sea\");\n  var coastline = viewbox.append(\"g\").attr(\"id\", \"coastline\");\n  var labels = viewbox.append(\"g\").attr(\"id\", \"labels\");\n  var burgLabels = labels.append(\"g\").attr(\"id\", \"burgLabels\");\n  var icons = viewbox.append(\"g\").attr(\"id\", \"icons\");\n  var burgIcons = icons.append(\"g\").attr(\"id\", \"burgIcons\");\n  var markers = viewbox.append(\"g\").attr(\"id\", \"markers\");\n  var ruler = viewbox.append(\"g\").attr(\"id\", \"ruler\");\n  var debug = viewbox.append(\"g\").attr(\"id\", \"debug\");\n  labels.append(\"g\").attr(\"id\", \"countries\");\n  burgIcons.append(\"g\").attr(\"id\", \"capitals\");\n  burgLabels.append(\"g\").attr(\"id\", \"capitals\");\n  burgIcons.append(\"g\").attr(\"id\", \"towns\");\n  burgLabels.append(\"g\").attr(\"id\", \"towns\");\n  icons.append(\"g\").attr(\"id\", \"capital-anchors\");\n  icons.append(\"g\").attr(\"id\", \"town-anchors\");\n  terrain.append(\"g\").attr(\"id\", \"hills\");\n  terrain.append(\"g\").attr(\"id\", \"mounts\");\n  terrain.append(\"g\").attr(\"id\", \"swamps\");\n  terrain.append(\"g\").attr(\"id\", \"forests\"); // append ocean pattern\n\n  oceanPattern.append(\"rect\").attr(\"fill\", \"url(#oceanic)\").attr(\"stroke\", \"none\");\n  oceanLayers.append(\"rect\").attr(\"id\", \"oceanBase\"); // main data variables\n\n  var seed;\n  var params;\n  var voronoi;\n  var diagram;\n  var polygons;\n  var spacing;\n  var points = [];\n  var heights; // Common variables\n\n  var modules = {};\n  var customization = 0;\n  var history = [];\n  var historyStage = 0;\n  var elSelected;\n  var autoResize = true;\n  var graphSize;\n  var cells = [];\n  var land = [];\n  var riversData = [];\n  var manors = [];\n  var states = [];\n  var features = [];\n  var notes = [];\n  var queue = [];\n  var fonts = [\"Almendra+SC\", \"Georgia\", \"Times+New+Roman\", \"Comic+Sans+MS\", \"Lucida+Sans+Unicode\", \"Courier+New\"]; // Cultures-related data\n\n  var defaultCultures = [];\n  var cultures = [];\n  var chain = {};\n  var nameBases = [];\n  var nameBase = [];\n  var cultureTree;\n  var vowels = \"aeiouy\"; // canvas element for raster images\n\n  var canvas = document.getElementById(\"canvas\");\n  var ctx = canvas.getContext(\"2d\"); // Color schemes\n\n  var color = d3.scaleSequential(d3.interpolateSpectral);\n  var colors8 = d3.scaleOrdinal(d3.schemeSet2);\n  var colors20 = d3.scaleOrdinal(d3.schemeCategory20); // D3 drag and zoom behavior\n\n  var scale = 1,\n      viewX = 0,\n      viewY = 0;\n  var zoom = d3.zoom().scaleExtent([1, 20]).on(\"zoom\", zoomed);\n  svg.call(zoom); // D3 Line generator variables\n\n  var lineGen = d3.line().x(function (d) {\n    return d.scX;\n  }).y(function (d) {\n    return d.scY;\n  }).curve(d3.curveCatmullRom);\n  applyStoredOptions();\n  var graphWidth = +mapWidthInput.value; // voronoi graph extention, should be stable for each map\n\n  var graphHeight = +mapHeightInput.value;\n  var svgWidth = graphWidth,\n      svgHeight = graphHeight; // svg canvas resolution, can vary for each map\n  // toggle off loading screen and on menus\n\n  $(\"#loading, #initial\").remove();\n  svg.style(\"background-color\", \"#000000\");\n  $(\"#optionsContainer, #tooltip\").show();\n\n  if (localStorage.getItem(\"disable_click_arrow_tooltip\")) {\n    tooltip.innerHTML = \"\";\n    tooltip.setAttribute(\"data-main\", \"\");\n    $(\"#optionsTrigger\").removeClass(\"glow\");\n  }\n\n  $(\"#optionsContainer\").draggable({\n    handle: \".drag-trigger\",\n    snap: \"svg\",\n    snapMode: \"both\"\n  });\n  $(\"#mapLayers\").sortable({\n    items: \"li:not(.solid)\",\n    cancel: \".solid\",\n    update: moveLayer\n  });\n  $(\"#templateBody\").sortable({\n    items: \"div:not(div[data-type='Mountain'])\"\n  });\n  $(\"#mapLayers, #templateBody\").disableSelection();\n  var drag = d3.drag().container(function () {\n    return this;\n  }).subject(function () {\n    var p = [d3.event.x, d3.event.y];\n    return [p, p];\n  }).on(\"start\", dragstarted);\n\n  function zoomed() {\n    var scaleDiff = Math.abs(scale - d3.event.transform.k);\n    scale = d3.event.transform.k;\n    viewX = d3.event.transform.x;\n    viewY = d3.event.transform.y;\n    viewbox.attr(\"transform\", d3.event.transform); // rescale only if zoom is significally changed\n\n    if (scaleDiff > 0.001) {\n      invokeActiveZooming();\n      drawScaleBar();\n    }\n  } // Manually update viewbox\n\n\n  function zoomUpdate(duration) {\n    var dur = duration || 0;\n    var transform = d3.zoomIdentity.translate(viewX, viewY).scale(scale);\n    svg.transition().duration(dur).call(zoom.transform, transform);\n  } // Zoom to specific point (x,y - coods, z - scale, d - duration)\n\n\n  function zoomTo(x, y, z, d) {\n    var transform = d3.zoomIdentity.translate(x * -z + graphWidth / 2, y * -z + graphHeight / 2).scale(z);\n    svg.transition().duration(d).call(zoom.transform, transform);\n  } // Reset zoom to initial\n\n\n  function resetZoom(duration) {\n    zoom.transform(svg, d3.zoomIdentity);\n  } // Active zooming\n\n\n  function invokeActiveZooming() {\n    // toggle shade/blur filter on zoom\n    var filter = scale > 2.6 ? \"url(#blurFilter)\" : \"url(#dropShadow)\";\n    if (scale > 1.5 && scale <= 2.6) filter = null;\n    coastline.attr(\"filter\", filter); // rescale lables on zoom (active zooming)\n\n    labels.selectAll(\"g\").each(function (d) {\n      var el = d3.select(this);\n      if (el.attr(\"id\") === \"burgLabels\") return;\n      var desired = +el.attr(\"data-size\");\n      var relative = rn((desired + desired / scale) / 2, 2);\n      if (relative < 2) relative = 2;\n      el.attr(\"font-size\", relative);\n\n      if (hideLabels.checked) {\n        el.classed(\"hidden\", relative * scale < 6);\n        updateLabelGroups();\n      }\n    }); // rescale map markers\n\n    markers.selectAll(\"use\").each(function (d) {\n      var el = d3.select(this);\n      var x = +el.attr(\"data-x\"),\n          y = +el.attr(\"data-y\");\n      var desired = +el.attr(\"data-size\");\n      var size = desired * 5 + 25 / scale;\n      if (size < 1) size = 1;\n      el.attr(\"x\", x - size / 2).attr(\"y\", y - size).attr(\"width\", size).attr(\"height\", size);\n    });\n\n    if (ruler.size()) {\n      if (ruler.style(\"display\") !== \"none\") {\n        if (ruler.selectAll(\"g\").size() < 1) {\n          return;\n        }\n\n        var factor = rn(1 / Math.pow(scale, 0.3), 1);\n        ruler.selectAll(\"circle:not(.center)\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor);\n        ruler.selectAll(\"circle.center\").attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor);\n        ruler.selectAll(\"text\").attr(\"font-size\", 10 * factor);\n        ruler.selectAll(\"line, path\").attr(\"stroke-width\", factor);\n      }\n    }\n  }\n\n  addDragToUpload(); // Changelog dialog window\n\n  var storedVersion = localStorage.getItem(\"version\"); // show message on load\n\n  if (storedVersion != version) {\n    alertMessage.innerHTML = \"<b>2018-29-23</b>:\\n      The <i>Fantasy Map Generator</i> is updated up to version <b>\".concat(version, \"</b>.\\n      Main changes:<br><br>\\n      <li>Map Markers</li>\\n      <li>Legend Editor (text notes)</li>\\n      <li>Bug fixes</li>\\n      <br>See a <a href='https://www.reddit.com/r/FantasyMapGenerator/comments/9iarje/update_new_version_is_published_v060b' target='_blank'>dedicated post</a> for the details.\\n      <br><br>\\n      <i>Join our <a href='https://www.reddit.com/r/FantasyMapGenerator/' target='_blank'>Reddit community</a>\\n      to share created maps, discuss the Generator, report bugs, ask questions and propose new features.\\n      You may also report bugs <a href='https://github.com/Azgaar/Fantasy-Map-Generator/issues' target='_blank'>here</a>.</i>\");\n    $(\"#alert\").dialog({\n      resizable: false,\n      title: \"Fantasy Map Generator update\",\n      width: 320,\n      buttons: {\n        \"Don't show again\": function DonTShowAgain() {\n          localStorage.setItem(\"version\", version);\n          $(this).dialog(\"close\");\n        },\n        Close: function Close() {\n          $(this).dialog(\"close\");\n        }\n      },\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: \"svg\"\n      }\n    });\n  }\n\n  getSeed(); // get and set random generator seed\n\n  applyNamesData(); // apply default namesbase on load\n\n  generate(); // generate map on load\n\n  applyDefaultStyle(); // apply style on load\n\n  focusOn(); // based on searchParams focus on point, cell or burg from MFCG\n\n  invokeActiveZooming(); // to hide what need to be hidden\n\n  function generate() {\n    console.group(\"Random map\");\n    console.time(\"TOTAL\");\n    applyMapSize();\n    randomizeOptions();\n    placePoints();\n    calculateVoronoi(points);\n    detectNeighbors();\n    drawScaleBar();\n    defineHeightmap();\n    markFeatures();\n    drawOcean();\n    elevateLakes();\n    resolveDepressionsPrimary();\n    reGraph();\n    resolveDepressionsSecondary();\n    flux();\n    addLakes();\n    drawCoastline();\n    drawRelief();\n    generateCultures();\n    manorsAndRegions();\n    cleanData();\n    console.timeEnd(\"TOTAL\");\n    console.groupEnd(\"Random map\");\n  } // get or generate map seed\n\n\n  function getSeed() {\n    var url = new URL(window.location.href);\n    params = url.searchParams;\n    seed = params.get(\"seed\") || Math.floor(Math.random() * 1e9);\n    console.log(\" seed: \" + seed);\n    optionsSeed.value = seed;\n    Math.seedrandom(seed);\n  } // generate new map seed\n\n\n  function changeSeed() {\n    seed = Math.floor(Math.random() * 1e9);\n    console.log(\" seed: \" + seed);\n    optionsSeed.value = seed;\n    Math.seedrandom(seed);\n  }\n\n  function updateURL() {\n    var url = new URL(window.location.href);\n    url.searchParams.set(\"seed\", seed);\n    if (url.protocol !== \"file:\") window.history.pushState({\n      seed: seed\n    }, \"\", \"url.search\");\n  } // load options from LocalStorage is any\n\n\n  function applyStoredOptions() {\n    if (localStorage.getItem(\"mapWidth\") && localStorage.getItem(\"mapHeight\")) {\n      mapWidthInput.value = localStorage.getItem(\"mapWidth\");\n      mapHeightInput.value = localStorage.getItem(\"mapHeight\");\n    } else {\n      mapWidthInput.value = window.innerWidth;\n      mapHeightInput.value = window.innerHeight;\n    }\n\n    if (localStorage.getItem(\"graphSize\")) {\n      graphSize = localStorage.getItem(\"graphSize\");\n      sizeInput.value = sizeOutput.value = graphSize;\n    } else {\n      graphSize = +sizeInput.value;\n    }\n\n    if (localStorage.getItem(\"template\")) {\n      templateInput.value = localStorage.getItem(\"template\");\n      lockTemplateInput.setAttribute(\"data-locked\", 1);\n      lockTemplateInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"manors\")) {\n      manorsInput.value = manorsOutput.value = localStorage.getItem(\"manors\");\n      lockManorsInput.setAttribute(\"data-locked\", 1);\n      lockManorsInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"regions\")) {\n      regionsInput.value = regionsOutput.value = localStorage.getItem(\"regions\");\n      lockRegionsInput.setAttribute(\"data-locked\", 1);\n      lockRegionsInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"power\")) {\n      powerInput.value = powerOutput.value = localStorage.getItem(\"power\");\n      lockPowerInput.setAttribute(\"data-locked\", 1);\n      lockPowerInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"neutral\")) neutralInput.value = neutralOutput.value = localStorage.getItem(\"neutral\");\n\n    if (localStorage.getItem(\"names\")) {\n      namesInput.value = localStorage.getItem(\"names\");\n      lockNamesInput.setAttribute(\"data-locked\", 1);\n      lockNamesInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"cultures\")) {\n      culturesInput.value = culturesOutput.value = localStorage.getItem(\"cultures\");\n      lockCulturesInput.setAttribute(\"data-locked\", 1);\n      lockCulturesInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"prec\")) {\n      precInput.value = precOutput.value = localStorage.getItem(\"prec\");\n      lockPrecInput.setAttribute(\"data-locked\", 1);\n      lockPrecInput.className = \"icon-lock\";\n    }\n\n    if (localStorage.getItem(\"swampiness\")) swampinessInput.value = swampinessOutput.value = localStorage.getItem(\"swampiness\");\n    if (localStorage.getItem(\"outlineLayers\")) outlineLayersInput.value = localStorage.getItem(\"outlineLayers\");\n\n    if (localStorage.getItem(\"pngResolution\")) {\n      pngResolutionInput.value = localStorage.getItem(\"pngResolution\");\n      pngResolutionOutput.value = pngResolutionInput.value + \"x\";\n    }\n\n    if (localStorage.getItem(\"transparency\")) {\n      transparencyInput.value = transparencyOutput.value = localStorage.getItem(\"transparency\");\n      changeDialogsTransparency(transparencyInput.value);\n    } else {\n      changeDialogsTransparency(0);\n    }\n  }\n\n  function restoreDefaultOptions() {\n    // remove ALL saved data from LocalStorage\n    localStorage.clear(); // set defaut values\n\n    mapWidthInput.value = window.innerWidth;\n    mapHeightInput.value = window.innerHeight;\n    changeMapSize();\n    graphSize = sizeInput.value = sizeOutput.value = 1;\n    $(\"#options i[class^='icon-lock']\").each(function () {\n      this.setAttribute(\"data-locked\", 0);\n      this.className = \"icon-lock-open\";\n\n      if (this.id === \"lockNeutralInput\" || this.id === \"lockSwampinessInput\") {\n        this.setAttribute(\"data-locked\", 1);\n        this.className = \"icon-lock\";\n      }\n    });\n    neutralInput.value = neutralOutput.value = 200;\n    swampinessInput.value = swampinessOutput.value = 10;\n    outlineLayersInput.value = \"-6,-3,-1\";\n    transparencyInput.value = transparencyOutput.value = 0;\n    changeDialogsTransparency(0);\n    pngResolutionInput.value = 5;\n    pngResolutionOutput.value = \"5x\";\n    randomizeOptions();\n  } // apply names data from localStorage if available\n\n\n  function applyNamesData() {\n    applyDefaultNamesData();\n    defaultCultures = [{\n      name: \"Shwazen\",\n      color: \"#b3b3b3\",\n      base: 0\n    }, {\n      name: \"Angshire\",\n      color: \"#fca463\",\n      base: 1\n    }, {\n      name: \"Luari\",\n      color: \"#99acfb\",\n      base: 2\n    }, {\n      name: \"Tallian\",\n      color: \"#a6d854\",\n      base: 3\n    }, {\n      name: \"Toledi\",\n      color: \"#ffd92f\",\n      base: 4\n    }, {\n      name: \"Slovian\",\n      color: \"#e5c494\",\n      base: 5\n    }, {\n      name: \"Norse\",\n      color: \"#dca3e4\",\n      base: 6\n    }, {\n      name: \"Elladian\",\n      color: \"#66c4a0\",\n      base: 7\n    }, {\n      name: \"Latian\",\n      color: \"#ff7174\",\n      base: 8\n    }, {\n      name: \"Soomi\",\n      color: \"#85c8fa\",\n      base: 9\n    }, {\n      name: \"Koryo\",\n      color: \"#578880\",\n      base: 10\n    }, {\n      name: \"Hantzu\",\n      color: \"#becb8d\",\n      base: 11\n    }, {\n      name: \"Yamoto\",\n      color: \"#ffd9da\",\n      base: 12\n    }];\n  } // apply default names data\n\n\n  function applyDefaultNamesData() {\n    nameBases = [// min; max; mean; common\n    {\n      name: \"German\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 11,\n      d: \"lt\",\n      m: 0.1\n    }, // real: 3; 17; 8.6; 8\n    {\n      name: \"English\",\n      method: \"let-to-syl\",\n      min: 5,\n      max: 10,\n      d: \"\",\n      m: 0.3\n    }, // real: 4; 13; 7.9; 8\n    {\n      name: \"French\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 10,\n      d: \"lns\",\n      m: 0.3\n    }, // real: 3; 15; 7.6; 6\n    {\n      name: \"Italian\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 11,\n      d: \"clrt\",\n      m: 0.2\n    }, // real: 4; 14; 7.7; 7\n    {\n      name: \"Castillian\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 10,\n      d: \"lr\",\n      m: 0\n    }, // real: 2; 13; 7.5; 8\n    {\n      name: \"Ruthenian\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 9,\n      d: \"\",\n      m: 0\n    }, // real: 3; 12; 7.1; 7\n    {\n      name: \"Nordic\",\n      method: \"let-to-syl\",\n      min: 5,\n      max: 9,\n      d: \"kln\",\n      m: 0.1\n    }, // real: 3; 12; 7.5; 6\n    {\n      name: \"Greek\",\n      method: \"let-to-syl\",\n      min: 4,\n      max: 10,\n      d: \"ls\",\n      m: 0.2\n    }, // real: 3; 14; 7.1; 6\n    {\n      name: \"Roman\",\n      method: \"let-to-syl\",\n      min: 5,\n      max: 10,\n      d: \"\",\n      m: 1\n    }, // real: 3; 15; 8.0; 7\n    {\n      name: \"Finnic\",\n      method: \"let-to-syl\",\n      min: 3,\n      max: 10,\n      d: \"aktu\",\n      m: 0\n    }, // real: 3; 13; 7.5; 6\n    {\n      name: \"Korean\",\n      method: \"let-to-syl\",\n      min: 5,\n      max: 10,\n      d: \"\",\n      m: 0\n    }, // real: 3; 13; 6.8; 7\n    {\n      name: \"Chinese\",\n      method: \"let-to-syl\",\n      min: 5,\n      max: 9,\n      d: \"\",\n      m: 0\n    }, // real: 4; 11; 6.9; 6\n    {\n      name: \"Japanese\",\n      method: \"let-to-syl\",\n      min: 3,\n      max: 9,\n      d: \"\",\n      m: 0 // real: 2; 15; 6.8; 6\n\n    }];\n    nameBase = [[\"Achern\", \"Aichhalden\", \"Aitern\", \"Albbruck\", \"Alpirsbach\", \"Altensteig\", \"Althengstett\", \"Appenweier\", \"Auggen\", \"Wildbad\", \"Badenen\", \"Badenweiler\", \"Baiersbronn\", \"Ballrechten\", \"Bellingen\", \"Berghaupten\", \"Bernau\", \"Biberach\", \"Biederbach\", \"Binzen\", \"Birkendorf\", \"Birkenfeld\", \"Bischweier\", \"Blumberg\", \"Bollen\", \"Bollschweil\", \"Bonndorf\", \"Bosingen\", \"Braunlingen\", \"Breisach\", \"Breisgau\", \"Breitnau\", \"Brigachtal\", \"Buchenbach\", \"Buggingen\", \"Buhl\", \"Buhlertal\", \"Calw\", \"Dachsberg\", \"Dobel\", \"Donaueschingen\", \"Dornhan\", \"Dornstetten\", \"Dottingen\", \"Dunningen\", \"Durbach\", \"Durrheim\", \"Ebhausen\", \"Ebringen\", \"Efringen\", \"Egenhausen\", \"Ehrenkirchen\", \"Ehrsberg\", \"Eimeldingen\", \"Eisenbach\", \"Elzach\", \"Elztal\", \"Emmendingen\", \"Endingen\", \"Engelsbrand\", \"Enz\", \"Enzklosterle\", \"Eschbronn\", \"Ettenheim\", \"Ettlingen\", \"Feldberg\", \"Fischerbach\", \"Fischingen\", \"Fluorn\", \"Forbach\", \"Freiamt\", \"Freiburg\", \"Freudenstadt\", \"Friedenweiler\", \"Friesenheim\", \"Frohnd\", \"Furtwangen\", \"Gaggenau\", \"Geisingen\", \"Gengenbach\", \"Gernsbach\", \"Glatt\", \"Glatten\", \"Glottertal\", \"Gorwihl\", \"Gottenheim\", \"Grafenhausen\", \"Grenzach\", \"Griesbach\", \"Gutach\", \"Gutenbach\", \"Hag\", \"Haiterbach\", \"Hardt\", \"Harmersbach\", \"Hasel\", \"Haslach\", \"Hausach\", \"Hausen\", \"Hausern\", \"Heitersheim\", \"Herbolzheim\", \"Herrenalb\", \"Herrischried\", \"Hinterzarten\", \"Hochenschwand\", \"Hofen\", \"Hofstetten\", \"Hohberg\", \"Horb\", \"Horben\", \"Hornberg\", \"Hufingen\", \"Ibach\", \"Ihringen\", \"Inzlingen\", \"Kandern\", \"Kappel\", \"Kappelrodeck\", \"Karlsbad\", \"Karlsruhe\", \"Kehl\", \"Keltern\", \"Kippenheim\", \"Kirchzarten\", \"Konigsfeld\", \"Krozingen\", \"Kuppenheim\", \"Kussaberg\", \"Lahr\", \"Lauchringen\", \"Lauf\", \"Laufenburg\", \"Lautenbach\", \"Lauterbach\", \"Lenzkirch\", \"Liebenzell\", \"Loffenau\", \"Loffingen\", \"Lorrach\", \"Lossburg\", \"Mahlberg\", \"Malsburg\", \"Malsch\", \"March\", \"Marxzell\", \"Marzell\", \"Maulburg\", \"Monchweiler\", \"Muhlenbach\", \"Mullheim\", \"Munstertal\", \"Murg\", \"Nagold\", \"Neubulach\", \"Neuenburg\", \"Neuhausen\", \"Neuried\", \"Neuweiler\", \"Niedereschach\", \"Nordrach\", \"Oberharmersbach\", \"Oberkirch\", \"Oberndorf\", \"Oberbach\", \"Oberried\", \"Oberwolfach\", \"Offenburg\", \"Ohlsbach\", \"Oppenau\", \"Ortenberg\", \"otigheim\", \"Ottenhofen\", \"Ottersweier\", \"Peterstal\", \"Pfaffenweiler\", \"Pfalzgrafenweiler\", \"Pforzheim\", \"Rastatt\", \"Renchen\", \"Rheinau\", \"Rheinfelden\", \"Rheinmunster\", \"Rickenbach\", \"Rippoldsau\", \"Rohrdorf\", \"Rottweil\", \"Rummingen\", \"Rust\", \"Sackingen\", \"Sasbach\", \"Sasbachwalden\", \"Schallbach\", \"Schallstadt\", \"Schapbach\", \"Schenkenzell\", \"Schiltach\", \"Schliengen\", \"Schluchsee\", \"Schomberg\", \"Schonach\", \"Schonau\", \"Schonenberg\", \"Schonwald\", \"Schopfheim\", \"Schopfloch\", \"Schramberg\", \"Schuttertal\", \"Schwenningen\", \"Schworstadt\", \"Seebach\", \"Seelbach\", \"Seewald\", \"Sexau\", \"Simmersfeld\", \"Simonswald\", \"Sinzheim\", \"Solden\", \"Staufen\", \"Stegen\", \"Steinach\", \"Steinen\", \"Steinmauern\", \"Straubenhardt\", \"Stuhlingen\", \"Sulz\", \"Sulzburg\", \"Teinach\", \"Tiefenbronn\", \"Tiengen\", \"Titisee\", \"Todtmoos\", \"Todtnau\", \"Todtnauberg\", \"Triberg\", \"Tunau\", \"Tuningen\", \"uhlingen\", \"Unterkirnach\", \"Reichenbach\", \"Utzenfeld\", \"Villingen\", \"Villingendorf\", \"Vogtsburg\", \"Vohrenbach\", \"Waldachtal\", \"Waldbronn\", \"Waldkirch\", \"Waldshut\", \"Wehr\", \"Weil\", \"Weilheim\", \"Weisenbach\", \"Wembach\", \"Wieden\", \"Wiesental\", \"Wildberg\", \"Winzeln\", \"Wittlingen\", \"Wittnau\", \"Wolfach\", \"Wutach\", \"Wutoschingen\", \"Wyhlen\", \"Zavelstein\"], [\"Abingdon\", \"Albrighton\", \"Alcester\", \"Almondbury\", \"Altrincham\", \"Amersham\", \"Andover\", \"Appleby\", \"Ashboume\", \"Atherstone\", \"Aveton\", \"Axbridge\", \"Aylesbury\", \"Baldock\", \"Bamburgh\", \"Barton\", \"Basingstoke\", \"Berden\", \"Bere\", \"Berkeley\", \"Berwick\", \"Betley\", \"Bideford\", \"Bingley\", \"Birmingham\", \"Blandford\", \"Blechingley\", \"Bodmin\", \"Bolton\", \"Bootham\", \"Boroughbridge\", \"Boscastle\", \"Bossinney\", \"Bramber\", \"Brampton\", \"Brasted\", \"Bretford\", \"Bridgetown\", \"Bridlington\", \"Bromyard\", \"Bruton\", \"Buckingham\", \"Bungay\", \"Burton\", \"Calne\", \"Cambridge\", \"Canterbury\", \"Carlisle\", \"Castleton\", \"Caus\", \"Charmouth\", \"Chawleigh\", \"Chichester\", \"Chillington\", \"Chinnor\", \"Chipping\", \"Chisbury\", \"Cleobury\", \"Clifford\", \"Clifton\", \"Clitheroe\", \"Cockermouth\", \"Coleshill\", \"Combe\", \"Congleton\", \"Crafthole\", \"Crediton\", \"Cuddenbeck\", \"Dalton\", \"Darlington\", \"Dodbrooke\", \"Drax\", \"Dudley\", \"Dunstable\", \"Dunster\", \"Dunwich\", \"Durham\", \"Dymock\", \"Exeter\", \"Exning\", \"Faringdon\", \"Felton\", \"Fenny\", \"Finedon\", \"Flookburgh\", \"Fowey\", \"Frampton\", \"Gateshead\", \"Gatton\", \"Godmanchester\", \"Grampound\", \"Grantham\", \"Guildford\", \"Halesowen\", \"Halton\", \"Harbottle\", \"Harlow\", \"Hatfield\", \"Hatherleigh\", \"Haydon\", \"Helston\", \"Henley\", \"Hertford\", \"Heytesbury\", \"Hinckley\", \"Hitchin\", \"Holme\", \"Hornby\", \"Horsham\", \"Kendal\", \"Kenilworth\", \"Kilkhampton\", \"Kineton\", \"Kington\", \"Kinver\", \"Kirby\", \"Knaresborough\", \"Knutsford\", \"Launceston\", \"Leighton\", \"Lewes\", \"Linton\", \"Louth\", \"Luton\", \"Lyme\", \"Lympstone\", \"Macclesfield\", \"Madeley\", \"Malborough\", \"Maldon\", \"Manchester\", \"Manningtree\", \"Marazion\", \"Marlborough\", \"Marshfield\", \"Mere\", \"Merryfield\", \"Middlewich\", \"Midhurst\", \"Milborne\", \"Mitford\", \"Modbury\", \"Montacute\", \"Mousehole\", \"Newbiggin\", \"Newborough\", \"Newbury\", \"Newenden\", \"Newent\", \"Norham\", \"Northleach\", \"Noss\", \"Oakham\", \"Olney\", \"Orford\", \"Ormskirk\", \"Oswestry\", \"Padstow\", \"Paignton\", \"Penkneth\", \"Penrith\", \"Penzance\", \"Pershore\", \"Petersfield\", \"Pevensey\", \"Pickering\", \"Pilton\", \"Pontefract\", \"Portsmouth\", \"Preston\", \"Quatford\", \"Reading\", \"Redcliff\", \"Retford\", \"Rockingham\", \"Romney\", \"Rothbury\", \"Rothwell\", \"Salisbury\", \"Saltash\", \"Seaford\", \"Seasalter\", \"Sherston\", \"Shifnal\", \"Shoreham\", \"Sidmouth\", \"Skipsea\", \"Skipton\", \"Solihull\", \"Somerton\", \"Southam\", \"Southwark\", \"Standon\", \"Stansted\", \"Stapleton\", \"Stottesdon\", \"Sudbury\", \"Swavesey\", \"Tamerton\", \"Tarporley\", \"Tetbury\", \"Thatcham\", \"Thaxted\", \"Thetford\", \"Thornbury\", \"Tintagel\", \"Tiverton\", \"Torksey\", \"Totnes\", \"Towcester\", \"Tregoney\", \"Trematon\", \"Tutbury\", \"Uxbridge\", \"Wallingford\", \"Wareham\", \"Warenmouth\", \"Wargrave\", \"Warton\", \"Watchet\", \"Watford\", \"Wendover\", \"Westbury\", \"Westcheap\", \"Weymouth\", \"Whitford\", \"Wickwar\", \"Wigan\", \"Wigmore\", \"Winchelsea\", \"Winkleigh\", \"Wiscombe\", \"Witham\", \"Witheridge\", \"Wiveliscombe\", \"Woodbury\", \"Yeovil\"], [\"Adon\", \"Aillant\", \"Amilly\", \"Andonville\", \"Ardon\", \"Artenay\", \"Ascheres\", \"Ascoux\", \"Attray\", \"Aubin\", \"Audeville\", \"Aulnay\", \"Autruy\", \"Auvilliers\", \"Auxy\", \"Aveyron\", \"Baccon\", \"Bardon\", \"Barville\", \"Batilly\", \"Baule\", \"Bazoches\", \"Beauchamps\", \"Beaugency\", \"Beaulieu\", \"Beaune\", \"Bellegarde\", \"Boesses\", \"Boigny\", \"Boiscommun\", \"Boismorand\", \"Boisseaux\", \"Bondaroy\", \"Bonnee\", \"Bonny\", \"Bordes\", \"Bou\", \"Bougy\", \"Bouilly\", \"Boulay\", \"Bouzonville\", \"Bouzy\", \"Boynes\", \"Bray\", \"Breteau\", \"Briare\", \"Briarres\", \"Bricy\", \"Bromeilles\", \"Bucy\", \"Cepoy\", \"Cercottes\", \"Cerdon\", \"Cernoy\", \"Cesarville\", \"Chailly\", \"Chaingy\", \"Chalette\", \"Chambon\", \"Champoulet\", \"Chanteau\", \"Chantecoq\", \"Chapell\", \"Charme\", \"Charmont\", \"Charsonville\", \"Chateau\", \"Chateauneuf\", \"Chatel\", \"Chatenoy\", \"Chatillon\", \"Chaussy\", \"Checy\", \"Chevannes\", \"Chevillon\", \"Chevilly\", \"Chevry\", \"Chilleurs\", \"Choux\", \"Chuelles\", \"Clery\", \"Coinces\", \"Coligny\", \"Combleux\", \"Combreux\", \"Conflans\", \"Corbeilles\", \"Corquilleroy\", \"Cortrat\", \"Coudroy\", \"Coullons\", \"Coulmiers\", \"Courcelles\", \"Courcy\", \"Courtemaux\", \"Courtempierre\", \"Courtenay\", \"Cravant\", \"Crottes\", \"Dadonville\", \"Dammarie\", \"Dampierre\", \"Darvoy\", \"Desmonts\", \"Dimancheville\", \"Donnery\", \"Dordives\", \"Dossainville\", \"Douchy\", \"Dry\", \"Echilleuses\", \"Egry\", \"Engenville\", \"Epieds\", \"Erceville\", \"Ervauville\", \"Escrennes\", \"Escrignelles\", \"Estouy\", \"Faverelles\", \"Fay\", \"Feins\", \"Ferolles\", \"Ferrieres\", \"Fleury\", \"Fontenay\", \"Foret\", \"Foucherolles\", \"Freville\", \"Gatinais\", \"Gaubertin\", \"Gemigny\", \"Germigny\", \"Gidy\", \"Gien\", \"Girolles\", \"Givraines\", \"Gondreville\", \"Grangermont\", \"Greneville\", \"Griselles\", \"Guigneville\", \"Guilly\", \"Gyleslonains\", \"Huetre\", \"Huisseau\", \"Ingrannes\", \"Ingre\", \"Intville\", \"Isdes\", \"Jargeau\", \"Jouy\", \"Juranville\", \"Bussiere\", \"Laas\", \"Ladon\", \"Lailly\", \"Langesse\", \"Leouville\", \"Ligny\", \"Lombreuil\", \"Lorcy\", \"Lorris\", \"Loury\", \"Louzouer\", \"Malesherbois\", \"Marcilly\", \"Mardie\", \"Mareau\", \"Marigny\", \"Marsainvilliers\", \"Melleroy\", \"Menestreau\", \"Merinville\", \"Messas\", \"Meung\", \"Mezieres\", \"Migneres\", \"Mignerette\", \"Mirabeau\", \"Montargis\", \"Montbarrois\", \"Montbouy\", \"Montcresson\", \"Montereau\", \"Montigny\", \"Montliard\", \"Mormant\", \"Morville\", \"Moulinet\", \"Moulon\", \"Nancray\", \"Nargis\", \"Nesploy\", \"Neuville\", \"Neuvy\", \"Nevoy\", \"Nibelle\", \"Nogent\", \"Noyers\", \"Ocre\", \"Oison\", \"Olivet\", \"Ondreville\", \"Onzerain\", \"Orleans\", \"Ormes\", \"Orville\", \"Oussoy\", \"Outarville\", \"Ouzouer\", \"Pannecieres\", \"Pannes\", \"Patay\", \"Paucourt\", \"Pers\", \"Pierrefitte\", \"Pithiverais\", \"Pithiviers\", \"Poilly\", \"Potier\", \"Prefontaines\", \"Presnoy\", \"Pressigny\", \"Puiseaux\", \"Quiers\", \"Ramoulu\", \"Rebrechien\", \"Rouvray\", \"Rozieres\", \"Rozoy\", \"Ruan\", \"Sandillon\", \"Santeau\", \"Saran\", \"Sceaux\", \"Seichebrieres\", \"Semoy\", \"Sennely\", \"Sermaises\", \"Sigloy\", \"Solterre\", \"Sougy\", \"Sully\", \"Sury\", \"Tavers\", \"Thignonville\", \"Thimory\", \"Thorailles\", \"Thou\", \"Tigy\", \"Tivernon\", \"Tournoisis\", \"Trainou\", \"Treilles\", \"Trigueres\", \"Trinay\", \"Vannes\", \"Varennes\", \"Vennecy\", \"Vieilles\", \"Vienne\", \"Viglain\", \"Vignes\", \"Villamblain\", \"Villemandeur\", \"Villemoutiers\", \"Villemurlin\", \"Villeneuve\", \"Villereau\", \"Villevoques\", \"Villorceau\", \"Vimory\", \"Vitry\", \"Vrigny\", \"Ivre\"], [\"Accumoli\", \"Acquafondata\", \"Acquapendente\", \"Acuto\", \"Affile\", \"Agosta\", \"Alatri\", \"Albano\", \"Allumiere\", \"Alvito\", \"Amaseno\", \"Amatrice\", \"Anagni\", \"Anguillara\", \"Anticoli\", \"Antrodoco\", \"Anzio\", \"Aprilia\", \"Aquino\", \"Arce\", \"Arcinazzo\", \"Ardea\", \"Ariccia\", \"Arlena\", \"Arnara\", \"Arpino\", \"Arsoli\", \"Artena\", \"Ascrea\", \"Atina\", \"Ausonia\", \"Bagnoregio\", \"Barbarano\", \"Bassano\", \"Bassiano\", \"Bellegra\", \"Belmonte\", \"Blera\", \"Bolsena\", \"Bomarzo\", \"Borbona\", \"Borgo\", \"Borgorose\", \"Boville\", \"Bracciano\", \"Broccostella\", \"Calcata\", \"Camerata\", \"Campagnano\", \"Campodimele\", \"Campoli\", \"Canale\", \"Canepina\", \"Canino\", \"Cantalice\", \"Cantalupo\", \"Canterano\", \"Capena\", \"Capodimonte\", \"Capranica\", \"Caprarola\", \"Carbognano\", \"Casalattico\", \"Casalvieri\", \"Casape\", \"Casaprota\", \"Casperia\", \"Cassino\", \"Castelforte\", \"Castelliri\", \"Castello\", \"Castelnuovo\", \"Castiglione\", \"Castro\", \"Castrocielo\", \"Cave\", \"Ceccano\", \"Celleno\", \"Cellere\", \"Ceprano\", \"Cerreto\", \"Cervara\", \"Cervaro\", \"Cerveteri\", \"Ciampino\", \"Ciciliano\", \"Cineto\", \"Cisterna\", \"Cittaducale\", \"Cittareale\", \"Civita\", \"Civitavecchia\", \"Civitella\", \"Colfelice\", \"Collalto\", \"Colle\", \"Colleferro\", \"Collegiove\", \"Collepardo\", \"Collevecchio\", \"Colli\", \"Colonna\", \"Concerviano\", \"Configni\", \"Contigliano\", \"Corchiano\", \"Coreno\", \"Cori\", \"Cottanello\", \"Esperia\", \"Fabrica\", \"Faleria\", \"Falvaterra\", \"Fara\", \"Farnese\", \"Ferentino\", \"Fiamignano\", \"Fiano\", \"Filacciano\", \"Filettino\", \"Fiuggi\", \"Fiumicino\", \"Fondi\", \"Fontana\", \"Fonte\", \"Fontechiari\", \"Forano\", \"Formello\", \"Formia\", \"Frascati\", \"Frasso\", \"Frosinone\", \"Fumone\", \"Gaeta\", \"Gallese\", \"Gallicano\", \"Gallinaro\", \"Gavignano\", \"Genazzano\", \"Genzano\", \"Gerano\", \"Giuliano\", \"Gorga\", \"Gradoli\", \"Graffignano\", \"Greccio\", \"Grottaferrata\", \"Grotte\", \"Guarcino\", \"Guidonia\", \"Ischia\", \"Isola\", \"Itri\", \"Jenne\", \"Labico\", \"Labro\", \"Ladispoli\", \"Lanuvio\", \"Lariano\", \"Latera\", \"Lenola\", \"Leonessa\", \"Licenza\", \"Longone\", \"Lubriano\", \"Maenza\", \"Magliano\", \"Mandela\", \"Manziana\", \"Marano\", \"Marcellina\", \"Marcetelli\", \"Marino\", \"Marta\", \"Mazzano\", \"Mentana\", \"Micigliano\", \"Minturno\", \"Mompeo\", \"Montalto\", \"Montasola\", \"Monte\", \"Montebuono\", \"Montefiascone\", \"Monteflavio\", \"Montelanico\", \"Monteleone\", \"Montelibretti\", \"Montenero\", \"Monterosi\", \"Monterotondo\", \"Montopoli\", \"Montorio\", \"Moricone\", \"Morlupo\", \"Morolo\", \"Morro\", \"Nazzano\", \"Nemi\", \"Nepi\", \"Nerola\", \"Nespolo\", \"Nettuno\", \"Norma\", \"Olevano\", \"Onano\", \"Oriolo\", \"Orte\", \"Orvinio\", \"Paganico\", \"Palestrina\", \"Paliano\", \"Palombara\", \"Pastena\", \"Patrica\", \"Percile\", \"Pescorocchiano\", \"Pescosolido\", \"Petrella\", \"Piansano\", \"Picinisco\", \"Pico\", \"Piedimonte\", \"Piglio\", \"Pignataro\", \"Pisoniano\", \"Pofi\", \"Poggio\", \"Poli\", \"Pomezia\", \"Pontecorvo\", \"Pontinia\", \"Ponza\", \"Ponzano\", \"Posta\", \"Pozzaglia\", \"Priverno\", \"Proceno\", \"Prossedi\", \"Riano\", \"Rieti\", \"Rignano\", \"Riofreddo\", \"Ripi\", \"Rivodutri\", \"Rocca\", \"Roccagiovine\", \"Roccagorga\", \"Roccantica\", \"Roccasecca\", \"Roiate\", \"Ronciglione\", \"Roviano\", \"Sabaudia\", \"Sacrofano\", \"Salisano\", \"Sambuci\", \"Santa\", \"Santi\", \"Santopadre\", \"Saracinesco\", \"Scandriglia\", \"Segni\", \"Selci\", \"Sermoneta\", \"Serrone\", \"Settefrati\", \"Sezze\", \"Sgurgola\", \"Sonnino\", \"Sora\", \"Soriano\", \"Sperlonga\", \"Spigno\", \"Stimigliano\", \"Strangolagalli\", \"Subiaco\", \"Supino\", \"Sutri\", \"Tarano\", \"Tarquinia\", \"Terelle\", \"Terracina\", \"Tessennano\", \"Tivoli\", \"Toffia\", \"Tolfa\", \"Torre\", \"Torri\", \"Torrice\", \"Torricella\", \"Torrita\", \"Trevi\", \"Trevignano\", \"Trivigliano\", \"Turania\", \"Tuscania\", \"Vacone\", \"Valentano\", \"Vallecorsa\", \"Vallemaio\", \"Vallepietra\", \"Vallerano\", \"Vallerotonda\", \"Vallinfreda\", \"Valmontone\", \"Varco\", \"Vasanello\", \"Vejano\", \"Velletri\", \"Ventotene\", \"Veroli\", \"Vetralla\", \"Vicalvi\", \"Vico\", \"Vicovaro\", \"Vignanello\", \"Viterbo\", \"Viticuso\", \"Vitorchiano\", \"Vivaro\", \"Zagarolo\"], [\"Abanades\", \"Ablanque\", \"Adobes\", \"Ajofrin\", \"Alameda\", \"Alaminos\", \"Alarilla\", \"Albalate\", \"Albares\", \"Albarreal\", \"Albendiego\", \"Alcabon\", \"Alcanizo\", \"Alcaudete\", \"Alcocer\", \"Alcolea\", \"Alcoroches\", \"Aldea\", \"Aldeanueva\", \"Algar\", \"Algora\", \"Alhondiga\", \"Alique\", \"Almadrones\", \"Almendral\", \"Almoguera\", \"Almonacid\", \"Almorox\", \"Alocen\", \"Alovera\", \"Alustante\", \"Angon\", \"Anguita\", \"Anover\", \"Anquela\", \"Arbancon\", \"Arbeteta\", \"Arcicollar\", \"Argecilla\", \"Arges\", \"Armallones\", \"Armuna\", \"Arroyo\", \"Atanzon\", \"Atienza\", \"Aunon\", \"Azuqueca\", \"Azutan\", \"Baides\", \"Banos\", \"Banuelos\", \"Barcience\", \"Bargas\", \"Barriopedro\", \"Belvis\", \"Berninches\", \"Borox\", \"Brihuega\", \"Budia\", \"Buenaventura\", \"Bujalaro\", \"Burguillos\", \"Burujon\", \"Bustares\", \"Cabanas\", \"Cabanillas\", \"Calera\", \"Caleruela\", \"Calzada\", \"Camarena\", \"Campillo\", \"Camunas\", \"Canizar\", \"Canredondo\", \"Cantalojas\", \"Cardiel\", \"Carmena\", \"Carranque\", \"Carriches\", \"Casa\", \"Casarrubios\", \"Casas\", \"Casasbuenas\", \"Caspuenas\", \"Castejon\", \"Castellar\", \"Castilforte\", \"Castillo\", \"Castilnuevo\", \"Cazalegas\", \"Cebolla\", \"Cedillo\", \"Cendejas\", \"Centenera\", \"Cervera\", \"Checa\", \"Chequilla\", \"Chillaron\", \"Chiloeches\", \"Chozas\", \"Chueca\", \"Cifuentes\", \"Cincovillas\", \"Ciruelas\", \"Ciruelos\", \"Cobeja\", \"Cobeta\", \"Cobisa\", \"Cogollor\", \"Cogolludo\", \"Condemios\", \"Congostrina\", \"Consuegra\", \"Copernal\", \"Corduente\", \"Corral\", \"Cuerva\", \"Domingo\", \"Dosbarrios\", \"Driebes\", \"Duron\", \"El\", \"Embid\", \"Erustes\", \"Escalona\", \"Escalonilla\", \"Escamilla\", \"Escariche\", \"Escopete\", \"Espinosa\", \"Espinoso\", \"Esplegares\", \"Esquivias\", \"Estables\", \"Estriegana\", \"Fontanar\", \"Fuembellida\", \"Fuensalida\", \"Fuentelsaz\", \"Gajanejos\", \"Galve\", \"Galvez\", \"Garciotum\", \"Gascuena\", \"Gerindote\", \"Guadamur\", \"Henche\", \"Heras\", \"Herreria\", \"Herreruela\", \"Hijes\", \"Hinojosa\", \"Hita\", \"Hombrados\", \"Hontanar\", \"Hontoba\", \"Horche\", \"Hormigos\", \"Huecas\", \"Huermeces\", \"Huerta\", \"Hueva\", \"Humanes\", \"Illan\", \"Illana\", \"Illescas\", \"Iniestola\", \"Irueste\", \"Jadraque\", \"Jirueque\", \"Lagartera\", \"Las\", \"Layos\", \"Ledanca\", \"Lillo\", \"Lominchar\", \"Loranca\", \"Los\", \"Lucillos\", \"Lupiana\", \"Luzaga\", \"Luzon\", \"Madridejos\", \"Magan\", \"Majaelrayo\", \"Malaga\", \"Malaguilla\", \"Malpica\", \"Mandayona\", \"Mantiel\", \"Manzaneque\", \"Maqueda\", \"Maranchon\", \"Marchamalo\", \"Marjaliza\", \"Marrupe\", \"Mascaraque\", \"Masegoso\", \"Matarrubia\", \"Matillas\", \"Mazarete\", \"Mazuecos\", \"Medranda\", \"Megina\", \"Mejorada\", \"Mentrida\", \"Mesegar\", \"Miedes\", \"Miguel\", \"Millana\", \"Milmarcos\", \"Mirabueno\", \"Miralrio\", \"Mocejon\", \"Mochales\", \"Mohedas\", \"Molina\", \"Monasterio\", \"Mondejar\", \"Montarron\", \"Mora\", \"Moratilla\", \"Morenilla\", \"Muduex\", \"Nambroca\", \"Navalcan\", \"Negredo\", \"Noblejas\", \"Noez\", \"Nombela\", \"Noves\", \"Numancia\", \"Nuno\", \"Ocana\", \"Ocentejo\", \"Olias\", \"Olmeda\", \"Ontigola\", \"Orea\", \"Orgaz\", \"Oropesa\", \"Otero\", \"Palmaces\", \"Palomeque\", \"Pantoja\", \"Pardos\", \"Paredes\", \"Pareja\", \"Parrillas\", \"Pastrana\", \"Pelahustan\", \"Penalen\", \"Penalver\", \"Pepino\", \"Peralejos\", \"Peralveche\", \"Pinilla\", \"Pioz\", \"Piqueras\", \"Polan\", \"Portillo\", \"Poveda\", \"Pozo\", \"Pradena\", \"Prados\", \"Puebla\", \"Puerto\", \"Pulgar\", \"Quer\", \"Quero\", \"Quintanar\", \"Quismondo\", \"Rebollosa\", \"Recas\", \"Renera\", \"Retamoso\", \"Retiendas\", \"Riba\", \"Rielves\", \"Rillo\", \"Riofrio\", \"Robledillo\", \"Robledo\", \"Romanillos\", \"Romanones\", \"Rueda\", \"Sacecorbo\", \"Sacedon\", \"Saelices\", \"Salmeron\", \"San\", \"Santa\", \"Santiuste\", \"Santo\", \"Sartajada\", \"Sauca\", \"Sayaton\", \"Segurilla\", \"Selas\", \"Semillas\", \"Sesena\", \"Setiles\", \"Sevilleja\", \"Sienes\", \"Siguenza\", \"Solanillos\", \"Somolinos\", \"Sonseca\", \"Sotillo\", \"Sotodosos\", \"Talavera\", \"Tamajon\", \"Taragudo\", \"Taravilla\", \"Tartanedo\", \"Tembleque\", \"Tendilla\", \"Terzaga\", \"Tierzo\", \"Tordellego\", \"Tordelrabano\", \"Tordesilos\", \"Torija\", \"Torralba\", \"Torre\", \"Torrecilla\", \"Torrecuadrada\", \"Torrejon\", \"Torremocha\", \"Torrico\", \"Torrijos\", \"Torrubia\", \"Tortola\", \"Tortuera\", \"Tortuero\", \"Totanes\", \"Traid\", \"Trijueque\", \"Trillo\", \"Turleque\", \"Uceda\", \"Ugena\", \"Ujados\", \"Urda\", \"Utande\", \"Valdarachas\", \"Valdesotos\", \"Valhermoso\", \"Valtablado\", \"Valverde\", \"Velada\", \"Viana\", \"Vinuelas\", \"Yebes\", \"Yebra\", \"Yelamos\", \"Yeles\", \"Yepes\", \"Yuncler\", \"Yunclillos\", \"Yuncos\", \"Yunquera\", \"Zaorejas\", \"Zarzuela\", \"Zorita\"], [\"Belgorod\", \"Beloberezhye\", \"Belyi\", \"Belz\", \"Berestiy\", \"Berezhets\", \"Berezovets\", \"Berezutsk\", \"Bobruisk\", \"Bolonets\", \"Borisov\", \"Borovsk\", \"Bozhesk\", \"Bratslav\", \"Bryansk\", \"Brynsk\", \"Buryn\", \"Byhov\", \"Chechersk\", \"Chemesov\", \"Cheremosh\", \"Cherlen\", \"Chern\", \"Chernigov\", \"Chernitsa\", \"Chernobyl\", \"Chernogorod\", \"Chertoryesk\", \"Chetvertnia\", \"Demyansk\", \"Derevesk\", \"Devyagoresk\", \"Dichin\", \"Dmitrov\", \"Dorogobuch\", \"Dorogobuzh\", \"Drestvin\", \"Drokov\", \"Drutsk\", \"Dubechin\", \"Dubichi\", \"Dubki\", \"Dubkov\", \"Dveren\", \"Galich\", \"Glebovo\", \"Glinsk\", \"Goloty\", \"Gomiy\", \"Gorodets\", \"Gorodische\", \"Gorodno\", \"Gorohovets\", \"Goroshin\", \"Gorval\", \"Goryshon\", \"Holm\", \"Horobor\", \"Hoten\", \"Hotin\", \"Hotmyzhsk\", \"Ilovech\", \"Ivan\", \"Izborsk\", \"Izheslavl\", \"Kamenets\", \"Kanev\", \"Karachev\", \"Karna\", \"Kavarna\", \"Klechesk\", \"Klyapech\", \"Kolomyya\", \"Kolyvan\", \"Kopyl\", \"Korec\", \"Kornik\", \"Korochunov\", \"Korshev\", \"Korsun\", \"Koshkin\", \"Kotelno\", \"Kovyla\", \"Kozelsk\", \"Kozelsk\", \"Kremenets\", \"Krichev\", \"Krylatsk\", \"Ksniatin\", \"Kulatsk\", \"Kursk\", \"Kursk\", \"Lebedev\", \"Lida\", \"Logosko\", \"Lomihvost\", \"Loshesk\", \"Loshichi\", \"Lubech\", \"Lubno\", \"Lubutsk\", \"Lutsk\", \"Luchin\", \"Luki\", \"Lukoml\", \"Luzha\", \"Lvov\", \"Mtsensk\", \"Mdin\", \"Medniki\", \"Melecha\", \"Merech\", \"Meretsk\", \"Mescherskoe\", \"Meshkovsk\", \"Metlitsk\", \"Mezetsk\", \"Mglin\", \"Mihailov\", \"Mikitin\", \"Mikulino\", \"Miloslavichi\", \"Mogilev\", \"Mologa\", \"Moreva\", \"Mosalsk\", \"Moschiny\", \"Mozyr\", \"Mstislav\", \"Mstislavets\", \"Muravin\", \"Nemech\", \"Nemiza\", \"Nerinsk\", \"Nichan\", \"Novgorod\", \"Novogorodok\", \"Obolichi\", \"Obolensk\", \"Obolensk\", \"Oleshsk\", \"Olgov\", \"Omelnik\", \"Opoka\", \"Opoki\", \"Oreshek\", \"Orlets\", \"Osechen\", \"Oster\", \"Ostrog\", \"Ostrov\", \"Perelai\", \"Peremil\", \"Peremyshl\", \"Pererov\", \"Peresechen\", \"Perevitsk\", \"Pereyaslav\", \"Pinsk\", \"Ples\", \"Polotsk\", \"Pronsk\", \"Proposhesk\", \"Punia\", \"Putivl\", \"Rechitsa\", \"Rodno\", \"Rogachev\", \"Romanov\", \"Romny\", \"Roslavl\", \"Rostislavl\", \"Rostovets\", \"Rsha\", \"Ruza\", \"Rybchesk\", \"Rylsk\", \"Rzhavesk\", \"Rzhev\", \"Rzhischev\", \"Sambor\", \"Serensk\", \"Serensk\", \"Serpeysk\", \"Shilov\", \"Shuya\", \"Sinech\", \"Sizhka\", \"Skala\", \"Slovensk\", \"Slutsk\", \"Smedin\", \"Sneporod\", \"Snitin\", \"Snovsk\", \"Sochevo\", \"Sokolec\", \"Starica\", \"Starodub\", \"Stepan\", \"Sterzh\", \"Streshin\", \"Sutesk\", \"Svinetsk\", \"Svisloch\", \"Terebovl\", \"Ternov\", \"Teshilov\", \"Teterin\", \"Tiversk\", \"Torchevsk\", \"Toropets\", \"Torzhok\", \"Tripolye\", \"Trubchevsk\", \"Tur\", \"Turov\", \"Usvyaty\", \"Uteshkov\", \"Vasilkov\", \"Velil\", \"Velye\", \"Venev\", \"Venicha\", \"Verderev\", \"Vereya\", \"Veveresk\", \"Viazma\", \"Vidbesk\", \"Vidychev\", \"Voino\", \"Volodimer\", \"Volok\", \"Volyn\", \"Vorobesk\", \"Voronich\", \"Voronok\", \"Vorotynsk\", \"Vrev\", \"Vruchiy\", \"Vselug\", \"Vyatichsk\", \"Vyatka\", \"Vyshegorod\", \"Vyshgorod\", \"Vysokoe\", \"Yagniatin\", \"Yaropolch\", \"Yasenets\", \"Yuryev\", \"Yuryevets\", \"Zaraysk\", \"Zhitomel\", \"Zholvazh\", \"Zizhech\", \"Zubkov\", \"Zudechev\", \"Zvenigorod\"], [\"Akureyri\", \"Aldra\", \"Alftanes\", \"Andenes\", \"Austbo\", \"Auvog\", \"Bakkafjordur\", \"Ballangen\", \"Bardal\", \"Beisfjord\", \"Bifrost\", \"Bildudalur\", \"Bjerka\", \"Bjerkvik\", \"Bjorkosen\", \"Bliksvaer\", \"Blokken\", \"Blonduos\", \"Bolga\", \"Bolungarvik\", \"Borg\", \"Borgarnes\", \"Bosmoen\", \"Bostad\", \"Bostrand\", \"Botsvika\", \"Brautarholt\", \"Breiddalsvik\", \"Bringsli\", \"Brunahlid\", \"Budardalur\", \"Byggdakjarni\", \"Dalvik\", \"Djupivogur\", \"Donnes\", \"Drageid\", \"Drangsnes\", \"Egilsstadir\", \"Eiteroga\", \"Elvenes\", \"Engavogen\", \"Ertenvog\", \"Eskifjordur\", \"Evenes\", \"Eyrarbakki\", \"Fagernes\", \"Fallmoen\", \"Fellabaer\", \"Fenes\", \"Finnoya\", \"Fjaer\", \"Fjelldal\", \"Flakstad\", \"Flateyri\", \"Flostrand\", \"Fludir\", \"Gardabær\", \"Gardur\", \"Gimstad\", \"Givaer\", \"Gjeroy\", \"Gladstad\", \"Godoya\", \"Godoynes\", \"Granmoen\", \"Gravdal\", \"Grenivik\", \"Grimsey\", \"Grindavik\", \"Grytting\", \"Hafnir\", \"Halsa\", \"Hauganes\", \"Haugland\", \"Hauknes\", \"Hella\", \"Helland\", \"Hellissandur\", \"Hestad\", \"Higrav\", \"Hnifsdalur\", \"Hofn\", \"Hofsos\", \"Holand\", \"Holar\", \"Holen\", \"Holkestad\", \"Holmavik\", \"Hopen\", \"Hovden\", \"Hrafnagil\", \"Hrisey\", \"Husavik\", \"Husvik\", \"Hvammstangi\", \"Hvanneyri\", \"Hveragerdi\", \"Hvolsvollur\", \"Igeroy\", \"Indre\", \"Inndyr\", \"Innhavet\", \"Innes\", \"Isafjordur\", \"Jarklaustur\", \"Jarnsreykir\", \"Junkerdal\", \"Kaldvog\", \"Kanstad\", \"Karlsoy\", \"Kavosen\", \"Keflavik\", \"Kjelde\", \"Kjerstad\", \"Klakk\", \"Kopasker\", \"Kopavogur\", \"Korgen\", \"Kristnes\", \"Krutoga\", \"Krystad\", \"Kvina\", \"Lande\", \"Laugar\", \"Laugaras\", \"Laugarbakki\", \"Laugarvatn\", \"Laupstad\", \"Leines\", \"Leira\", \"Leiren\", \"Leland\", \"Lenvika\", \"Loding\", \"Lodingen\", \"Lonsbakki\", \"Lopsmarka\", \"Lovund\", \"Luroy\", \"Maela\", \"Melahverfi\", \"Meloy\", \"Mevik\", \"Misvaer\", \"Mornes\", \"Mosfellsbær\", \"Moskenes\", \"Myken\", \"Naurstad\", \"Nesberg\", \"Nesjahverfi\", \"Nesset\", \"Nevernes\", \"Obygda\", \"Ofoten\", \"Ogskardet\", \"Okervika\", \"Oknes\", \"Olafsfjordur\", \"Oldervika\", \"Olstad\", \"Onstad\", \"Oppeid\", \"Oresvika\", \"Orsnes\", \"Orsvog\", \"Osmyra\", \"Overdal\", \"Prestoya\", \"Raudalaekur\", \"Raufarhofn\", \"Reipo\", \"Reykholar\", \"Reykholt\", \"Reykjahlid\", \"Rif\", \"Rinoya\", \"Rodoy\", \"Rognan\", \"Rosvika\", \"Rovika\", \"Salhus\", \"Sanden\", \"Sandgerdi\", \"Sandoker\", \"Sandset\", \"Sandvika\", \"Saudarkrokur\", \"Selfoss\", \"Selsoya\", \"Sennesvik\", \"Setso\", \"Siglufjordur\", \"Silvalen\", \"Skagastrond\", \"Skjerstad\", \"Skonland\", \"Skorvogen\", \"Skrova\", \"Sleneset\", \"Snubba\", \"Softing\", \"Solheim\", \"Solheimar\", \"Sorarnoy\", \"Sorfugloy\", \"Sorland\", \"Sormela\", \"Sorvaer\", \"Sovika\", \"Stamsund\", \"Stamsvika\", \"Stave\", \"Stokka\", \"Stokkseyri\", \"Storjord\", \"Storo\", \"Storvika\", \"Strand\", \"Straumen\", \"Strendene\", \"Sudavik\", \"Sudureyri\", \"Sundoya\", \"Sydalen\", \"Thingeyri\", \"Thorlakshofn\", \"Thorshofn\", \"Tjarnabyggd\", \"Tjotta\", \"Tosbotn\", \"Traelnes\", \"Trofors\", \"Trones\", \"Tverro\", \"Ulvsvog\", \"Unnstad\", \"Utskor\", \"Valla\", \"Vandved\", \"Varmahlid\", \"Vassos\", \"Vevelstad\", \"Vidrek\", \"Vik\", \"Vikholmen\", \"Vogar\", \"Vogehamn\", \"Vopnafjordur\"], [\"Abdera\", \"Abila\", \"Abydos\", \"Acanthus\", \"Acharnae\", \"Actium\", \"Adramyttium\", \"Aegae\", \"Aegina\", \"Aegium\", \"Aenus\", \"Agrinion\", \"Aigosthena\", \"Akragas\", \"Akrai\", \"Akrillai\", \"Akroinon\", \"Akrotiri\", \"Alalia\", \"Alexandreia\", \"Alexandretta\", \"Alexandria\", \"Alinda\", \"Amarynthos\", \"Amaseia\", \"Ambracia\", \"Amida\", \"Amisos\", \"Amnisos\", \"Amphicaea\", \"Amphigeneia\", \"Amphipolis\", \"Amphissa\", \"Ankon\", \"Antigona\", \"Antipatrea\", \"Antioch\", \"Antioch\", \"Antiochia\", \"Andros\", \"Apamea\", \"Aphidnae\", \"Apollonia\", \"Argos\", \"Arsuf\", \"Artanes\", \"Artemita\", \"Argyroupoli\", \"Asine\", \"Asklepios\", \"Aspendos\", \"Assus\", \"Astacus\", \"Athenai\", \"Athmonia\", \"Aytos\", \"Ancient\", \"Baris\", \"Bhrytos\", \"Borysthenes\", \"Berge\", \"Boura\", \"Bouthroton\", \"Brauron\", \"Byblos\", \"Byllis\", \"Byzantium\", \"Bythinion\", \"Callipolis\", \"Cebrene\", \"Chalcedon\", \"Calydon\", \"Carystus\", \"Chamaizi\", \"Chalcis\", \"Chersonesos\", \"Chios\", \"Chytri\", \"Clazomenae\", \"Cleonae\", \"Cnidus\", \"Colosse\", \"Corcyra\", \"Croton\", \"Cyme\", \"Cyrene\", \"Cythera\", \"Decelea\", \"Delos\", \"Delphi\", \"Demetrias\", \"Dicaearchia\", \"Dimale\", \"Didyma\", \"Dion\", \"Dioscurias\", \"Dodona\", \"Dorylaion\", \"Dyme\", \"Edessa\", \"Elateia\", \"Eleusis\", \"Eleutherna\", \"Emporion\", \"Ephesus\", \"Ephyra\", \"Epidamnos\", \"Epidauros\", \"Eresos\", \"Eretria\", \"Erythrae\", \"Eubea\", \"Gangra\", \"Gaza\", \"Gela\", \"Golgi\", \"Gonnos\", \"Gorgippia\", \"Gournia\", \"Gortyn\", \"Gythium\", \"Hagios\", \"Hagia\", \"Halicarnassus\", \"Halieis\", \"Helike\", \"Heliopolis\", \"Hellespontos\", \"Helorus\", \"Hemeroskopeion\", \"Heraclea\", \"Hermione\", \"Hermonassa\", \"Hierapetra\", \"Hierapolis\", \"Himera\", \"Histria\", \"Hubla\", \"Hyele\", \"Ialysos\", \"Iasus\", \"Idalium\", \"Imbros\", \"Iolcus\", \"Itanos\", \"Ithaca\", \"Juktas\", \"Kallipolis\", \"Kamares\", \"Kameiros\", \"Kannia\", \"Kamarina\", \"Kasmenai\", \"Katane\", \"Kerkinitida\", \"Kepoi\", \"Kimmerikon\", \"Kios\", \"Klazomenai\", \"Knidos\", \"Knossos\", \"Korinthos\", \"Kos\", \"Kourion\", \"Kume\", \"Kydonia\", \"Kynos\", \"Kyrenia\", \"Lamia\", \"Lampsacus\", \"Laodicea\", \"Lapithos\", \"Larissa\", \"Lato\", \"Laus\", \"Lebena\", \"Lefkada\", \"Lekhaion\", \"Leibethra\", \"Leontinoi\", \"Lepreum\", \"Lessa\", \"Lilaea\", \"Lindus\", \"Lissus\", \"Epizephyrian\", \"Madytos\", \"Magnesia\", \"Mallia\", \"Mantineia\", \"Marathon\", \"Marmara\", \"Maroneia\", \"Masis\", \"Massalia\", \"Megalopolis\", \"Megara\", \"Mesembria\", \"Messene\", \"Metapontum\", \"Methana\", \"Methone\", \"Methumna\", \"Miletos\", \"Misenum\", \"Mochlos\", \"Monastiraki\", \"Morgantina\", \"Mulai\", \"Mukenai\", \"Mylasa\", \"Myndus\", \"Myonia\", \"Myra\", \"Myrmekion\", \"Mutilene\", \"Myos\", \"Nauplios\", \"Naucratis\", \"Naupactus\", \"Naxos\", \"Neapoli\", \"Neapolis\", \"Nemea\", \"Nicaea\", \"Nicopolis\", \"Nirou\", \"Nymphaion\", \"Nysa\", \"Oenoe\", \"Oenus\", \"Odessos\", \"Olbia\", \"Olous\", \"Olympia\", \"Olynthus\", \"Opus\", \"Orchomenus\", \"Oricos\", \"Orestias\", \"Oreus\", \"Oropus\", \"Onchesmos\", \"Pactye\", \"Pagasae\", \"Palaikastro\", \"Pandosia\", \"Panticapaeum\", \"Paphos\", \"Parium\", \"Paros\", \"Parthenope\", \"Patrae\", \"Pavlopetri\", \"Pegai\", \"Pelion\", \"Peiraieús\", \"Pella\", \"Percote\", \"Pergamum\", \"Petsofa\", \"Phaistos\", \"Phaleron\", \"Phanagoria\", \"Pharae\", \"Pharnacia\", \"Pharos\", \"Phaselis\", \"Philippi\", \"Pithekussa\", \"Philippopolis\", \"Platanos\", \"Phlius\", \"Pherae\", \"Phocaea\", \"Pinara\", \"Pisa\", \"Pitane\", \"Pitiunt\", \"Pixous\", \"Plataea\", \"Poseidonia\", \"Potidaea\", \"Priapus\", \"Priene\", \"Prousa\", \"Pseira\", \"Psychro\", \"Pteleum\", \"Pydna\", \"Pylos\", \"Pyrgos\", \"Rhamnus\", \"Rhegion\", \"Rhithymna\", \"Rhodes\", \"Rhypes\", \"Rizinia\", \"Salamis\", \"Same\", \"Samos\", \"Scyllaeum\", \"Selinus\", \"Seleucia\", \"Semasus\", \"Sestos\", \"Scidrus\", \"Sicyon\", \"Side\", \"Sidon\", \"Siteia\", \"Sinope\", \"Siris\", \"Sklavokampos\", \"Smyrna\", \"Soli\", \"Sozopolis\", \"Sparta\", \"Stagirus\", \"Stratos\", \"Stymphalos\", \"Sybaris\", \"Surakousai\", \"Taras\", \"Tanagra\", \"Tanais\", \"Tauromenion\", \"Tegea\", \"Temnos\", \"Tenedos\", \"Tenea\", \"Teos\", \"Thapsos\", \"Thassos\", \"Thebai\", \"Theodosia\", \"Therma\", \"Thespiae\", \"Thronion\", \"Thoricus\", \"Thurii\", \"Thyreum\", \"Thyria\", \"Tiruns\", \"Tithoraea\", \"Tomis\", \"Tragurion\", \"Trapeze\", \"Trapezus\", \"Tripolis\", \"Troizen\", \"Troliton\", \"Troy\", \"Tylissos\", \"Tyras\", \"Tyros\", \"Tyritake\", \"Vasiliki\", \"Vathypetros\", \"Zakynthos\", \"Zakros\", \"Zankle\"], [\"Abila\", \"Adflexum\", \"Adnicrem\", \"Aelia\", \"Aelius\", \"Aeminium\", \"Aequum\", \"Agrippina\", \"Agrippinae\", \"Ala\", \"Albanianis\", \"Ambianum\", \"Andautonia\", \"Apulum\", \"Aquae\", \"Aquaegranni\", \"Aquensis\", \"Aquileia\", \"Aquincum\", \"Arae\", \"Argentoratum\", \"Ariminum\", \"Ascrivium\", \"Atrebatum\", \"Atuatuca\", \"Augusta\", \"Aurelia\", \"Aurelianorum\", \"Batavar\", \"Batavorum\", \"Belum\", \"Biriciana\", \"Blestium\", \"Bonames\", \"Bonna\", \"Bononia\", \"Borbetomagus\", \"Bovium\", \"Bracara\", \"Brigantium\", \"Burgodunum\", \"Caesaraugusta\", \"Caesarea\", \"Caesaromagus\", \"Calleva\", \"Camulodunum\", \"Cannstatt\", \"Cantiacorum\", \"Capitolina\", \"Castellum\", \"Castra\", \"Castrum\", \"Cibalae\", \"Clausentum\", \"Colonia\", \"Concangis\", \"Condate\", \"Confluentes\", \"Conimbriga\", \"Corduba\", \"Coria\", \"Corieltauvorum\", \"Corinium\", \"Coriovallum\", \"Cornoviorum\", \"Danum\", \"Deva\", \"Divodurum\", \"Dobunnorum\", \"Drusi\", \"Dubris\", \"Dumnoniorum\", \"Durnovaria\", \"Durocobrivis\", \"Durocornovium\", \"Duroliponte\", \"Durovernum\", \"Durovigutum\", \"Eboracum\", \"Edetanorum\", \"Emerita\", \"Emona\", \"Euracini\", \"Faventia\", \"Flaviae\", \"Florentia\", \"Forum\", \"Gerulata\", \"Gerunda\", \"Glevensium\", \"Hadriani\", \"Herculanea\", \"Isca\", \"Italica\", \"Iulia\", \"Iuliobrigensium\", \"Iuvavum\", \"Lactodurum\", \"Lagentium\", \"Lauri\", \"Legionis\", \"Lemanis\", \"Lentia\", \"Lepidi\", \"Letocetum\", \"Lindinis\", \"Lindum\", \"Londinium\", \"Lopodunum\", \"Lousonna\", \"Lucus\", \"Lugdunum\", \"Luguvalium\", \"Lutetia\", \"Mancunium\", \"Marsonia\", \"Martius\", \"Massa\", \"Matilo\", \"Mattiacorum\", \"Mediolanum\", \"Mod\", \"Mogontiacum\", \"Moridunum\", \"Mursa\", \"Naissus\", \"Nervia\", \"Nida\", \"Nigrum\", \"Novaesium\", \"Noviomagus\", \"Olicana\", \"Ovilava\", \"Parisiorum\", \"Partiscum\", \"Paterna\", \"Pistoria\", \"Placentia\", \"Pollentia\", \"Pomaria\", \"Pons\", \"Portus\", \"Praetoria\", \"Praetorium\", \"Pullum\", \"Ragusium\", \"Ratae\", \"Raurica\", \"Regina\", \"Regium\", \"Regulbium\", \"Rigomagus\", \"Roma\", \"Romula\", \"Rutupiae\", \"Salassorum\", \"Salernum\", \"Salona\", \"Scalabis\", \"Segovia\", \"Silurum\", \"Sirmium\", \"Siscia\", \"Sorviodurum\", \"Sumelocenna\", \"Tarraco\", \"Taurinorum\", \"Theranda\", \"Traiectum\", \"Treverorum\", \"Tungrorum\", \"Turicum\", \"Ulpia\", \"Valentia\", \"Venetiae\", \"Venta\", \"Verulamium\", \"Vesontio\", \"Vetera\", \"Victoriae\", \"Victrix\", \"Villa\", \"Viminacium\", \"Vindelicorum\", \"Vindobona\", \"Vinovia\", \"Viroconium\"], [\"Aanekoski\", \"Abjapaluoja\", \"Ahlainen\", \"Aholanvaara\", \"Ahtari\", \"Aijala\", \"Aimala\", \"Akaa\", \"Alajarvi\", \"Alatornio\", \"Alavus\", \"Antsla\", \"Aspo\", \"Bennas\", \"Bjorkoby\", \"Elva\", \"Emasalo\", \"Espoo\", \"Esse\", \"Evitskog\", \"Forssa\", \"Haapajarvi\", \"Haapamaki\", \"Haapavesi\", \"Haapsalu\", \"Haavisto\", \"Hameenlinna\", \"Hameenmaki\", \"Hamina\", \"Hanko\", \"Harjavalta\", \"Hattuvaara\", \"Haukipudas\", \"Hautajarvi\", \"Havumaki\", \"Heinola\", \"Hetta\", \"Hinkabole\", \"Hirmula\", \"Hossa\", \"Huittinen\", \"Husula\", \"Hyryla\", \"Hyvinkaa\", \"Iisalmi\", \"Ikaalinen\", \"Ilmola\", \"Imatra\", \"Inari\", \"Iskmo\", \"Itakoski\", \"Jamsa\", \"Jarvenpaa\", \"Jeppo\", \"Jioesuu\", \"Jiogeva\", \"Joensuu\", \"Jokela\", \"Jokikyla\", \"Jokisuu\", \"Jormua\", \"Juankoski\", \"Jungsund\", \"Jyvaskyla\", \"Kaamasmukka\", \"Kaarina\", \"Kajaani\", \"Kalajoki\", \"Kallaste\", \"Kankaanpaa\", \"Kannus\", \"Kardla\", \"Karesuvanto\", \"Karigasniemi\", \"Karkkila\", \"Karkku\", \"Karksinuia\", \"Karpankyla\", \"Kaskinen\", \"Kasnas\", \"Kauhajoki\", \"Kauhava\", \"Kauniainen\", \"Kauvatsa\", \"Kehra\", \"Keila\", \"Kellokoski\", \"Kelottijarvi\", \"Kemi\", \"Kemijarvi\", \"Kerava\", \"Keuruu\", \"Kiikka\", \"Kiipu\", \"Kilinginiomme\", \"Kiljava\", \"Kilpisjarvi\", \"Kitee\", \"Kiuruvesi\", \"Kivesjarvi\", \"Kiviioli\", \"Kivisuo\", \"Klaukkala\", \"Klovskog\", \"Kohtlajarve\", \"Kokemaki\", \"Kokkola\", \"Kolho\", \"Koria\", \"Koskue\", \"Kotka\", \"Kouva\", \"Kouvola\", \"Kristiina\", \"Kaupunki\", \"Kuhmo\", \"Kunda\", \"Kuopio\", \"Kuressaare\", \"Kurikka\", \"Kusans\", \"Kuusamo\", \"Kylmalankyla\", \"Lahti\", \"Laitila\", \"Lankipohja\", \"Lansikyla\", \"Lappeenranta\", \"Lapua\", \"Laurila\", \"Lautiosaari\", \"Lepsama\", \"Liedakkala\", \"Lieksa\", \"Lihula\", \"Littoinen\", \"Lohja\", \"Loimaa\", \"Loksa\", \"Loviisa\", \"Luohuanylipaa\", \"Lusi\", \"Maardu\", \"Maarianhamina\", \"Malmi\", \"Mantta\", \"Masaby\", \"Masala\", \"Matasvaara\", \"Maula\", \"Miiluranta\", \"Mikkeli\", \"Mioisakula\", \"Munapirtti\", \"Mustvee\", \"Muurahainen\", \"Naantali\", \"Nappa\", \"Narpio\", \"Nickby\", \"Niinimaa\", \"Niinisalo\", \"Nikkila\", \"Nilsia\", \"Nivala\", \"Nokia\", \"Nummela\", \"Nuorgam\", \"Nurmes\", \"Nuvvus\", \"Obbnas\", \"Oitti\", \"Ojakkala\", \"Ollola\", \"onningeby\", \"Orimattila\", \"Orivesi\", \"Otanmaki\", \"Otava\", \"Otepaa\", \"Oulainen\", \"Oulu\", \"Outokumpu\", \"Paavola\", \"Paide\", \"Paimio\", \"Pakankyla\", \"Paldiski\", \"Parainen\", \"Parkano\", \"Parkumaki\", \"Parola\", \"Perttula\", \"Pieksamaki\", \"Pietarsaari\", \"Pioltsamaa\", \"Piolva\", \"Pohjavaara\", \"Porhola\", \"Pori\", \"Porrasa\", \"Porvoo\", \"Pudasjarvi\", \"Purmo\", \"Pussi\", \"Pyhajarvi\", \"Raahe\", \"Raasepori\", \"Raisio\", \"Rajamaki\", \"Rakvere\", \"Rapina\", \"Rapla\", \"Rauma\", \"Rautio\", \"Reposaari\", \"Riihimaki\", \"Rovaniemi\", \"Roykka\", \"Ruonala\", \"Ruottala\", \"Rutalahti\", \"Saarijarvi\", \"Salo\", \"Sastamala\", \"Saue\", \"Savonlinna\", \"Seinajoki\", \"Sillamae\", \"Sindi\", \"Siuntio\", \"Somero\", \"Sompujarvi\", \"Suonenjoki\", \"Suurejaani\", \"Syrjantaka\", \"Tampere\", \"Tamsalu\", \"Tapa\", \"Temmes\", \"Tiorva\", \"Tormasenvaara\", \"Tornio\", \"Tottijarvi\", \"Tulppio\", \"Turenki\", \"Turi\", \"Tuukkala\", \"Tuurala\", \"Tuuri\", \"Tuuski\", \"Ulvila\", \"Unari\", \"Upinniemi\", \"Utti\", \"Uusikaarlepyy\", \"Uusikaupunki\", \"Vaaksy\", \"Vaalimaa\", \"Vaarinmaja\", \"Vaasa\", \"Vainikkala\", \"Valga\", \"Valkeakoski\", \"Vantaa\", \"Varkaus\", \"Vehkapera\", \"Vehmasmaki\", \"Vieki\", \"Vierumaki\", \"Viitasaari\", \"Viljandi\", \"Vilppula\", \"Viohma\", \"Vioru\", \"Virrat\", \"Ylike\", \"Ylivieska\", \"Ylojarvi\"], [\"Sabi\", \"Wiryeseong\", \"Hwando\", \"Gungnae\", \"Ungjin\", \"Wanggeomseong\", \"Ganggyeong\", \"Jochiwon\", \"Cheorwon\", \"Beolgyo\", \"Gangjin\", \"Gampo\", \"Yecheon\", \"Geochang\", \"Janghang\", \"Hadong\", \"Goseong\", \"Yeongdong\", \"Yesan\", \"Sintaein\", \"Geumsan\", \"Boseong\", \"Jangheung\", \"Uiseong\", \"Jumunjin\", \"Janghowon\", \"Hongseong\", \"Gimhwa\", \"Gwangcheon\", \"Guryongpo\", \"Jinyeong\", \"Buan\", \"Damyang\", \"Jangseong\", \"Wando\", \"Angang\", \"Okcheon\", \"Jeungpyeong\", \"Waegwan\", \"Cheongdo\", \"Gwangyang\", \"Gochang\", \"Haenam\", \"Yeonggwang\", \"Hanam\", \"Eumseong\", \"Daejeong\", \"Hanrim\", \"Samrye\", \"Yongjin\", \"Hamyang\", \"Buyeo\", \"Changnyeong\", \"Yeongwol\", \"Yeonmu\", \"Gurye\", \"Hwasun\", \"Hampyeong\", \"Namji\", \"Samnangjin\", \"Dogye\", \"Hongcheon\", \"Munsan\", \"Gapyeong\", \"Ganghwa\", \"Geojin\", \"Sangdong\", \"Jeongseon\", \"Sabuk\", \"Seonghwan\", \"Heunghae\", \"Hapdeok\", \"Sapgyo\", \"Taean\", \"Boeun\", \"Geumwang\", \"Jincheon\", \"Bongdong\", \"Doyang\", \"Geoncheon\", \"Pungsan\", \"Punggi\", \"Geumho\", \"Wonju\", \"Gaun\", \"Hayang\", \"Yeoju\", \"Paengseong\", \"Yeoncheon\", \"Yangpyeong\", \"Ganseong\", \"Yanggu\", \"Yangyang\", \"Inje\", \"Galmal\", \"Pyeongchang\", \"Hwacheon\", \"Hoengseong\", \"Seocheon\", \"Cheongyang\", \"Goesan\", \"Danyang\", \"Hamyeol\", \"Muju\", \"Sunchang\", \"Imsil\", \"Jangsu\", \"Jinan\", \"Goheung\", \"Gokseong\", \"Muan\", \"Yeongam\", \"Jindo\", \"Seonsan\", \"Daegaya\", \"Gunwi\", \"Bonghwa\", \"Seongju\", \"Yeongdeok\", \"Yeongyang\", \"Ulleung\", \"Uljin\", \"Cheongsong\", \"wayang\", \"Namhae\", \"Sancheong\", \"Uiryeong\", \"Gaya\", \"Hapcheon\", \"Wabu\", \"Dongsong\", \"Sindong\", \"Wondeok\", \"Maepo\", \"Anmyeon\", \"Okgu\", \"Sariwon\", \"Dolsan\", \"Daedeok\", \"Gwansan\", \"Geumil\", \"Nohwa\", \"Baeksu\", \"Illo\", \"Jido\", \"Oedong\", \"Ocheon\", \"Yeonil\", \"Hamchang\", \"Pyeonghae\", \"Gijang\", \"Jeonggwan\", \"Aewor\", \"Gujwa\", \"Seongsan\", \"Jeongok\", \"Seonggeo\", \"Seungju\", \"Hongnong\", \"Jangan\", \"Jocheon\", \"Gohan\", \"Jinjeop\", \"Bubal\", \"Beobwon\", \"Yeomchi\", \"Hwado\", \"Daesan\", \"Hwawon\", \"Apo\", \"Nampyeong\", \"Munsan\", \"Sinbuk\", \"Munmak\", \"Judeok\", \"Bongyang\", \"Ungcheon\", \"Yugu\", \"Unbong\", \"Mangyeong\", \"Dong\", \"Naeseo\", \"Sanyang\", \"Soheul\", \"Onsan\", \"Eonyang\", \"Nongong\", \"Dasa\", \"Goa\", \"Jillyang\", \"Bongdam\", \"Naesu\", \"Beomseo\", \"Opo\", \"Gongdo\", \"Jingeon\", \"Onam\", \"Baekseok\", \"Jiksan\", \"Mokcheon\", \"Jori\", \"Anjung\", \"Samho\", \"Ujeong\", \"Buksam\", \"Tongjin\", \"Chowol\", \"Gonjiam\", \"Pogok\", \"Seokjeok\", \"Poseung\", \"Ochang\", \"Hyangnam\", \"Baebang\", \"Gochon\", \"Songak\", \"Samhyang\", \"Yangchon\", \"Osong\", \"Aphae\", \"Ganam\", \"Namyang\", \"Chirwon\", \"Andong\", \"Ansan\", \"Anseong\", \"Anyang\", \"Asan\", \"Boryeong\", \"Bucheon\", \"Busan\", \"Changwon\", \"Cheonan\", \"Cheongju\", \"Chuncheon\", \"Chungju\", \"Daegu\", \"Daejeon\", \"Dangjin\", \"Dongducheon\", \"Donghae\", \"Gangneung\", \"Geoje\", \"Gimcheon\", \"Gimhae\", \"Gimje\", \"Gimpo\", \"Gongju\", \"Goyang\", \"Gumi\", \"Gunpo\", \"Gunsan\", \"Guri\", \"Gwacheon\", \"Gwangju\", \"Gwangju\", \"Gwangmyeong\", \"Gyeongju\", \"Gyeongsan\", \"Gyeryong\", \"Hwaseong\", \"Icheon\", \"Iksan\", \"Incheon\", \"Jecheon\", \"Jeongeup\", \"Jeonju\", \"Jeju\", \"Jinju\", \"Naju\", \"Namyangju\", \"Namwon\", \"Nonsan\", \"Miryang\", \"Mokpo\", \"Mungyeong\", \"Osan\", \"Paju\", \"Pocheon\", \"Pohang\", \"Pyeongtaek\", \"Sacheon\", \"Sangju\", \"Samcheok\", \"Sejong\", \"Seogwipo\", \"Seongnam\", \"Seosan\", \"Seoul\", \"Siheung\", \"Sokcho\", \"Suncheon\", \"Suwon\", \"Taebaek\", \"Tongyeong\", \"Uijeongbu\", \"Uiwang\", \"Ulsan\", \"Yangju\", \"Yangsan\", \"Yeongcheon\", \"Yeongju\", \"Yeosu\", \"Yongin\", \"Chungmu\", \"Daecheon\", \"Donggwangyang\", \"Geumseong\", \"Gyeongseong\", \"Iri\", \"Jangseungpo\", \"Jeomchon\", \"Jeongju\", \"Migeum\", \"Onyang\", \"Samcheonpo\", \"Busan\", \"Busan\", \"Cheongju\", \"Chuncheon\", \"Daegu\", \"Daegu\", \"Daejeon\", \"Daejeon\", \"Gunsan\", \"Gwangju\", \"Gwangju\", \"Gyeongseong\", \"Incheon\", \"Incheon\", \"Iri\", \"Jeonju\", \"Jinhae\", \"Jinju\", \"Masan\", \"Masan\", \"Mokpo\", \"Songjeong\", \"Songtan\", \"Ulsan\", \"Yeocheon\", \"Cheongjin\", \"Gaeseong\", \"Haeju\", \"Hamheung\", \"Heungnam\", \"Jinnampo\", \"Najin\", \"Pyeongyang\", \"Seongjin\", \"Sineuiju\", \"Songnim\", \"Wonsan\"], [\"Anding\", \"Anlu\", \"Anqing\", \"Anshun\", \"Baan\", \"Baixing\", \"Banyang\", \"Baoding\", \"Baoqing\", \"Binzhou\", \"Caozhou\", \"Changbai\", \"Changchun\", \"Changde\", \"Changling\", \"Changsha\", \"Changtu\", \"Changzhou\", \"Chaozhou\", \"Cheli\", \"Chengde\", \"Chengdu\", \"Chenzhou\", \"Chizhou\", \"Chongqing\", \"Chuxiong\", \"Chuzhou\", \"Dading\", \"Dali\", \"Daming\", \"Datong\", \"Daxing\", \"Dean\", \"Dengke\", \"Dengzhou\", \"Deqing\", \"Dexing\", \"Dihua\", \"Dingli\", \"Dongan\", \"Dongchang\", \"Dongchuan\", \"Dongping\", \"Duyun\", \"Fengtian\", \"Fengxiang\", \"Fengyang\", \"Fenzhou\", \"Funing\", \"Fuzhou\", \"Ganzhou\", \"Gaoyao\", \"Gaozhou\", \"Gongchang\", \"Guangnan\", \"Guangning\", \"Guangping\", \"Guangxin\", \"Guangzhou\", \"Guide\", \"Guilin\", \"Guiyang\", \"Hailong\", \"Hailun\", \"Hangzhou\", \"Hanyang\", \"Hanzhong\", \"Heihe\", \"Hejian\", \"Henan\", \"Hengzhou\", \"Hezhong\", \"Huaian\", \"Huaide\", \"Huaiqing\", \"Huanglong\", \"Huangzhou\", \"Huining\", \"Huizhou\", \"Hulan\", \"Huzhou\", \"Jiading\", \"Jian\", \"Jianchang\", \"Jiande\", \"Jiangning\", \"Jiankang\", \"Jianning\", \"Jiaxing\", \"Jiayang\", \"Jilin\", \"Jinan\", \"Jingjiang\", \"Jingzhao\", \"Jingzhou\", \"Jinhua\", \"Jinzhou\", \"Jiujiang\", \"Kaifeng\", \"Kaihua\", \"Kangding\", \"Kuizhou\", \"Laizhou\", \"Lanzhou\", \"Leizhou\", \"Liangzhou\", \"Lianzhou\", \"Liaoyang\", \"Lijiang\", \"Linan\", \"Linhuang\", \"Linjiang\", \"Lintao\", \"Liping\", \"Liuzhou\", \"Longan\", \"Longjiang\", \"Longqing\", \"Longxing\", \"Luan\", \"Lubin\", \"Lubin\", \"Luzhou\", \"Mishan\", \"Nanan\", \"Nanchang\", \"Nandian\", \"Nankang\", \"Nanning\", \"Nanyang\", \"Nenjiang\", \"Ningan\", \"Ningbo\", \"Ningguo\", \"Ninguo\", \"Ningwu\", \"Ningxia\", \"Ningyuan\", \"Pingjiang\", \"Pingle\", \"Pingliang\", \"Pingyang\", \"Puer\", \"Puzhou\", \"Qianzhou\", \"Qingyang\", \"Qingyuan\", \"Qingzhou\", \"Qiongzhou\", \"Qujing\", \"Quzhou\", \"Raozhou\", \"Rende\", \"Ruian\", \"Ruizhou\", \"Runing\", \"Shafeng\", \"Shajing\", \"Shaoqing\", \"Shaowu\", \"Shaoxing\", \"Shaozhou\", \"Shinan\", \"Shiqian\", \"Shouchun\", \"Shuangcheng\", \"Shulei\", \"Shunde\", \"Shunqing\", \"Shuntian\", \"Shuoping\", \"Sicheng\", \"Sien\", \"Sinan\", \"Sizhou\", \"Songjiang\", \"Suiding\", \"Suihua\", \"Suining\", \"Suzhou\", \"Taian\", \"Taibei\", \"Tainan\", \"Taiping\", \"Taiwan\", \"Taiyuan\", \"Taizhou\", \"Taonan\", \"Tengchong\", \"Tieli\", \"Tingzhou\", \"Tongchuan\", \"Tongqing\", \"Tongren\", \"Tongzhou\", \"Weihui\", \"Wensu\", \"Wenzhou\", \"Wuchang\", \"Wuding\", \"Wuzhou\", \"Xian\", \"Xianchun\", \"Xianping\", \"Xijin\", \"Xiliang\", \"Xincheng\", \"Xingan\", \"Xingde\", \"Xinghua\", \"Xingjing\", \"Xingqing\", \"Xingyi\", \"Xingyuan\", \"Xingzhong\", \"Xining\", \"Xinmen\", \"Xiping\", \"Xuanhua\", \"Xunzhou\", \"Xuzhou\", \"Yanan\", \"Yangzhou\", \"Yanji\", \"Yanping\", \"Yanqi\", \"Yanzhou\", \"Yazhou\", \"Yichang\", \"Yidu\", \"Yilan\", \"Yili\", \"Yingchang\", \"Yingde\", \"Yingtian\", \"Yingzhou\", \"Yizhou\", \"Yongchang\", \"Yongping\", \"Yongshun\", \"Yongzhou\", \"Yuanzhou\", \"Yuezhou\", \"Yulin\", \"Yunnan\", \"Yunyang\", \"Zezhou\", \"Zhangde\", \"Zhangzhou\", \"Zhaoqing\", \"Zhaotong\", \"Zhenan\", \"Zhending\", \"Zhengding\", \"Zhenhai\", \"Zhenjiang\", \"Zhenxi\", \"Zhenyun\", \"Zhongshan\", \"Zunyi\"], [\"Nanporo\", \"Naie\", \"Kamisunagawa\", \"Yuni\", \"Naganuma\", \"Kuriyama\", \"Tsukigata\", \"Urausu\", \"Shintotsukawa\", \"Moseushi\", \"Chippubetsu\", \"Uryu\", \"Hokuryu\", \"Numata\", \"Tobetsu\", \"Suttsu\", \"Kuromatsunai\", \"Rankoshi\", \"Niseko\", \"Kimobetsu\", \"Kyogoku\", \"Kutchan\", \"Kyowa\", \"Iwanai\", \"Shakotan\", \"Furubira\", \"Niki\", \"Yoichi\", \"Toyoura\", \"Toyako\", \"Sobetsu\", \"Shiraoi\", \"Atsuma\", \"Abira\", \"Mukawa\", \"Hidaka\", \"Biratori\", \"Niikappu\", \"Urakawa\", \"Samani\", \"Erimo\", \"Shinhidaka\", \"Matsumae\", \"Fukushima\", \"Shiriuchi\", \"Kikonai\", \"Nanae\", \"Shikabe\", \"Mori\", \"Yakumo\", \"Oshamambe\", \"Esashi\", \"Kaminokuni\", \"Assabu\", \"Otobe\", \"Okushiri\", \"Imakane\", \"Setana\", \"Takasu\", \"Higashikagura\", \"Toma\", \"Pippu\", \"Aibetsu\", \"Kamikawa\", \"Higashikawa\", \"Biei\", \"Kamifurano\", \"Nakafurano\", \"Minamifurano\", \"Horokanai\", \"Wassamu\", \"Kenbuchi\", \"Shimokawa\", \"Bifuka\", \"Nakagawa\", \"Mashike\", \"Obira\", \"Tomamae\", \"Haboro\", \"Enbetsu\", \"Teshio\", \"Hamatonbetsu\", \"Nakatonbetsu\", \"Esashi\", \"Toyotomi\", \"Horonobe\", \"Rebun\", \"Rishiri\", \"Rishirifuji\", \"Bihoro\", \"Tsubetsu\", \"Ozora\", \"Shari\", \"Kiyosato\", \"Koshimizu\", \"Kunneppu\", \"Oketo\", \"Saroma\", \"Engaru\", \"Yubetsu\", \"Takinoue\", \"Okoppe\", \"Omu\", \"Otofuke\", \"Shihoro\", \"Kamishihoro\", \"Shikaoi\", \"Shintoku\", \"Shimizu\", \"Memuro\", \"Taiki\", \"Hiroo\", \"Makubetsu\", \"Ikeda\", \"Toyokoro\", \"Honbetsu\", \"Ashoro\", \"Rikubetsu\", \"Urahoro\", \"Kushiro\", \"Akkeshi\", \"Hamanaka\", \"Shibecha\", \"Teshikaga\", \"Shiranuka\", \"Betsukai\", \"Nakashibetsu\", \"Shibetsu\", \"Rausu\", \"Hiranai\", \"Imabetsu\", \"Sotogahama\", \"Ajigasawa\", \"Fukaura\", \"Fujisaki\", \"Owani\", \"Itayanagi\", \"Tsuruta\", \"Nakadomari\", \"Noheji\", \"Shichinohe\", \"Rokunohe\", \"Yokohama\", \"Tohoku\", \"Oirase\", \"Oma\", \"Sannohe\", \"Gonohe\", \"Takko\", \"Nanbu\", \"Hashikami\", \"Shizukuishi\", \"Kuzumaki\", \"Iwate\", \"Shiwa\", \"Yahaba\", \"Nishiwaga\", \"Kanegasaki\", \"Hiraizumi\", \"Sumita\", \"Otsuchi\", \"Yamada\", \"Iwaizumi\", \"Karumai\", \"Hirono\", \"Ichinohe\", \"Zao\", \"Shichikashuku\", \"Ogawara\", \"Murata\", \"Shibata\", \"Kawasaki\", \"Marumori\", \"Watari\", \"Yamamoto\", \"Matsushima\", \"Shichigahama\", \"Rifu\", \"Taiwa\", \"Osato\", \"Shikama\", \"Kami\", \"Wakuya\", \"Misato\", \"Onagawa\", \"Minamisanriku\", \"Kosaka\", \"Fujisato\", \"Mitane\", \"Happo\", \"Gojome\", \"Hachirogata\", \"Ikawa\", \"Misato\", \"Ugo\", \"Yamanobe\", \"Nakayama\", \"Kahoku\", \"Nishikawa\", \"Asahi\", \"Oe\", \"Oishida\", \"Kaneyama\", \"Mogami\", \"Funagata\", \"Mamurogawa\", \"Takahata\", \"Kawanishi\", \"Oguni\", \"Shirataka\", \"Iide\", \"Mikawa\", \"Shonai\", \"Yuza\", \"Koori\", \"Kunimi\", \"Kawamata\", \"Kagamiishi\", \"Shimogo\", \"Tadami\", \"Minamiaizu\", \"Nishiaizu\", \"Bandai\", \"Inawashiro\", \"Aizubange\", \"Yanaizu\", \"Mishima\", \"Kaneyama\", \"Aizumisato\", \"Yabuki\", \"Tanagura\", \"Yamatsuri\", \"Hanawa\", \"Ishikawa\", \"Asakawa\", \"Furudono\", \"Miharu\", \"Ono\", \"Hirono\", \"Naraha\", \"Tomioka\", \"Okuma\", \"Futaba\", \"Namie\", \"Shinchi\", \"Ibaraki\", \"Oarai\", \"Shirosato\", \"Daigo\", \"Ami\", \"Kawachi\", \"Yachiyo\", \"Goka\", \"Sakai\", \"Tone\", \"Kaminokawa\", \"Mashiko\", \"Motegi\", \"Ichikai\", \"Haga\", \"Mibu\", \"Nogi\", \"Shioya\", \"Takanezawa\", \"Nasu\", \"Nakagawa\", \"Yoshioka\", \"Kanna\", \"Shimonita\", \"Kanra\", \"Nakanojo\", \"Naganohara\", \"Kusatsu\", \"Higashiagatsuma\", \"Minakami\", \"Tamamura\", \"Itakura\", \"Meiwa\", \"Chiyoda\", \"Oizumi\", \"Ora\", \"Ina\", \"Miyoshi\", \"Moroyama\", \"Ogose\", \"Namegawa\", \"Ranzan\", \"Ogawa\", \"Kawajima\", \"Yoshimi\", \"Hatoyama\", \"Tokigawa\", \"Yokoze\", \"Minano\", \"Nagatoro\", \"Ogano\", \"Misato\", \"Kamikawa\", \"Kamisato\", \"Yorii\", \"Miyashiro\", \"Sugito\", \"Matsubushi\", \"Shisui\", \"Sakae\", \"Kozaki\", \"Tako\", \"Tonosho\", \"Kujukuri\", \"Shibayama\", \"Yokoshibahikari\", \"Ichinomiya\", \"Mutsuzawa\", \"Shirako\", \"Nagara\", \"Chonan\", \"Otaki\", \"Onjuku\", \"Kyonan\", \"Mizuho\", \"Hinode\", \"Okutama\", \"Oshima\", \"Hachijo\", \"Aikawa\", \"Hayama\", \"Samukawa\", \"Oiso\", \"Ninomiya\", \"Nakai\", \"Oi\", \"Matsuda\", \"Yamakita\", \"Kaisei\", \"Hakone\", \"Manazuru\", \"Yugawara\", \"Seiro\", \"Tagami\", \"Aga\", \"Izumozaki\", \"Yuzawa\", \"Tsunan\", \"Kamiichi\", \"Tateyama\", \"Nyuzen\", \"Asahi\", \"Kawakita\", \"Tsubata\", \"Uchinada\", \"Shika\", \"Hodatsushimizu\", \"Nakanoto\", \"Anamizu\", \"Noto\", \"Eiheiji\", \"Ikeda\", \"Minamiechizen\", \"Echizen\", \"Mihama\", \"Takahama\", \"Oi\", \"Wakasa\", \"Ichikawamisato\", \"Hayakawa\", \"Minobu\", \"Nanbu\", \"Fujikawa\", \"Showa\", \"Nishikatsura\", \"Fujikawaguchiko\", \"Koumi\", \"Sakuho\", \"Karuizawa\", \"Miyota\", \"Tateshina\", \"Nagawa\", \"Shimosuwa\", \"Fujimi\", \"Tatsuno\", \"Minowa\", \"Iijima\", \"Matsukawa\", \"Takamori\", \"Anan\", \"Agematsu\", \"Nagiso\", \"Kiso\", \"Ikeda\", \"Sakaki\", \"Obuse\", \"Yamanouchi\", \"Shinano\", \"Iizuna\", \"Ginan\", \"Kasamatsu\", \"Yoro\", \"Tarui\", \"Sekigahara\", \"Godo\", \"Wanouchi\", \"Anpachi\", \"Ibigawa\", \"Ono\", \"Ikeda\", \"Kitagata\", \"Sakahogi\", \"Tomika\", \"Kawabe\", \"Hichiso\", \"Yaotsu\", \"Shirakawa\", \"Mitake\", \"Higashiizu\", \"Kawazu\", \"Minamiizu\", \"Matsuzaki\", \"Nishiizu\", \"Kannami\", \"Shimizu\", \"Nagaizumi\", \"Oyama\", \"Yoshida\", \"Kawanehon\", \"Mori\", \"Togo\", \"Toyoyama\", \"Oguchi\", \"Fuso\", \"Oharu\", \"Kanie\", \"Agui\", \"Higashiura\", \"Minamichita\", \"Mihama\", \"Taketoyo\", \"Mihama\", \"Kota\", \"Shitara\", \"Toei\", \"Kisosaki\", \"Toin\", \"Komono\", \"Asahi\", \"Kawagoe\", \"Taki\", \"Meiwa\", \"Odai\", \"Tamaki\", \"Watarai\", \"Taiki\", \"Minamiise\", \"Kihoku\", \"Mihama\", \"Kiho\", \"Hino\", \"Ryuo\", \"Aisho\", \"Toyosato\", \"Kora\", \"Taga\", \"Oyamazaki\", \"Kumiyama\", \"Ide\", \"Ujitawara\", \"Kasagi\", \"Wazuka\", \"Seika\", \"Kyotamba\", \"Ine\", \"Yosano\", \"Shimamoto\", \"Toyono\", \"Nose\", \"Tadaoka\", \"Kumatori\", \"Tajiri\", \"Misaki\", \"Taishi\", \"Kanan\", \"Inagawa\", \"Taka\", \"Inami\", \"Harima\", \"Ichikawa\", \"Fukusaki\", \"Kamikawa\", \"Taishi\", \"Kamigori\", \"Sayo\", \"Kami\", \"Shinonsen\", \"Heguri\", \"Sango\", \"Ikaruga\", \"Ando\", \"Kawanishi\", \"Miyake\", \"Tawaramoto\", \"Takatori\", \"Kanmaki\", \"Oji\", \"Koryo\", \"Kawai\", \"Yoshino\", \"Oyodo\", \"Shimoichi\", \"Kushimoto\", \"Kimino\", \"Katsuragi\", \"Kudoyama\", \"Koya\", \"Yuasa\", \"Hirogawa\", \"Aridagawa\", \"Mihama\", \"Hidaka\", \"Yura\", \"Inami\", \"Minabe\", \"Hidakagawa\", \"Shirahama\", \"Kamitonda\", \"Susami\", \"Nachikatsuura\", \"Taiji\", \"Kozagawa\", \"Iwami\", \"Wakasa\", \"Chizu\", \"Yazu\", \"Misasa\", \"Yurihama\", \"Kotoura\", \"Hokuei\", \"Daisen\", \"Nanbu\", \"Hoki\", \"Nichinan\", \"Hino\", \"Kofu\", \"Okuizumo\", \"Iinan\", \"Kawamoto\", \"Misato\", \"Onan\", \"Tsuwano\", \"Yoshika\", \"Ama\", \"Nishinoshima\", \"Okinoshima\", \"Wake\", \"Hayashima\", \"Satosho\", \"Yakage\", \"Kagamino\", \"Shoo\", \"Nagi\", \"Kumenan\", \"Misaki\", \"Kibichuo\", \"Fuchu\", \"Kaita\", \"Kumano\", \"Saka\", \"Kitahiroshima\", \"Akiota\", \"Osakikamijima\", \"Sera\", \"Jinsekikogen\", \"Suooshima\", \"Waki\", \"Kaminoseki\", \"Tabuse\", \"Hirao\", \"Abu\", \"Katsuura\", \"Kamikatsu\", \"Ishii\", \"Kamiyama\", \"Naka\", \"Mugi\", \"Minami\", \"Kaiyo\", \"Matsushige\", \"Kitajima\", \"Aizumi\", \"Itano\", \"Kamiita\", \"Tsurugi\", \"Higashimiyoshi\", \"Tonosho\", \"Shodoshima\", \"Miki\", \"Naoshima\", \"Utazu\", \"Ayagawa\", \"Kotohira\", \"Tadotsu\", \"Manno\", \"Kamijima\", \"Kumakogen\", \"Masaki\", \"Tobe\", \"Uchiko\", \"Ikata\", \"Kihoku\", \"Matsuno\", \"Ainan\", \"Toyo\", \"Nahari\", \"Tano\", \"Yasuda\", \"Motoyama\", \"Otoyo\", \"Tosa\", \"Ino\", \"Niyodogawa\", \"Nakatosa\", \"Sakawa\", \"Ochi\", \"Yusuhara\", \"Tsuno\", \"Shimanto\", \"Otsuki\", \"Kuroshio\", \"Nakagawa\", \"Umi\", \"Sasaguri\", \"Shime\", \"Sue\", \"Shingu\", \"Hisayama\", \"Kasuya\", \"Ashiya\", \"Mizumaki\", \"Okagaki\", \"Onga\", \"Kotake\", \"Kurate\", \"Keisen\", \"Chikuzen\", \"Tachiarai\", \"Oki\", \"Hirokawa\", \"Kawara\", \"Soeda\", \"Itoda\", \"Kawasaki\", \"Oto\", \"Fukuchi\", \"Kanda\", \"Miyako\", \"Yoshitomi\", \"Koge\", \"Chikujo\", \"Yoshinogari\", \"Kiyama\", \"Kamimine\", \"Miyaki\", \"Genkai\", \"Arita\", \"Omachi\", \"Kohoku\", \"Shiroishi\", \"Tara\", \"Nagayo\", \"Togitsu\", \"Higashisonogi\", \"Kawatana\", \"Hasami\", \"Ojika\", \"Saza\", \"Shinkamigoto\", \"Misato\", \"Gyokuto\", \"Nankan\", \"Nagasu\", \"Nagomi\", \"Ozu\", \"Kikuyo\", \"Minamioguni\", \"Oguni\", \"Takamori\", \"Mifune\", \"Kashima\", \"Mashiki\", \"Kosa\", \"Yamato\", \"Hikawa\", \"Ashikita\", \"Tsunagi\", \"Nishiki\", \"Taragi\", \"Yunomae\", \"Asagiri\", \"Reihoku\", \"Hiji\", \"Kusu\", \"Kokonoe\", \"Mimata\", \"Takaharu\", \"Kunitomi\", \"Aya\", \"Takanabe\", \"Shintomi\", \"Kijo\", \"Kawaminami\", \"Tsuno\", \"Kadogawa\", \"Misato\", \"Takachiho\", \"Hinokage\", \"Gokase\", \"Satsuma\", \"Nagashima\", \"Yusui\", \"Osaki\", \"Higashikushira\", \"Kinko\", \"Minamiosumi\", \"Kimotsuki\", \"Nakatane\", \"Minamitane\", \"Yakushima\", \"Setouchi\", \"Tatsugo\", \"Kikai\", \"Tokunoshima\", \"Amagi\", \"Isen\", \"Wadomari\", \"China\", \"Yoron\", \"Motobu\", \"Kin\", \"Kadena\", \"Chatan\", \"Nishihara\", \"Yonabaru\", \"Haebaru\", \"Kumejima\", \"Yaese\", \"Taketomi\", \"Yonaguni\"]];\n  } // randomize options if randomization is allowed in option\n\n\n  function randomizeOptions() {\n    var mod = rn((graphWidth + graphHeight) / 1500, 2); // add mod for big screens\n\n    if (lockRegionsInput.getAttribute(\"data-locked\") == 0) regionsInput.value = regionsOutput.value = rand(7, 17);\n\n    if (lockManorsInput.getAttribute(\"data-locked\") == 0) {\n      var _manors = regionsInput.value * 20 + rand(180 * mod);\n\n      manorsInput.value = manorsOutput.innerHTML = _manors;\n    }\n\n    if (lockPowerInput.getAttribute(\"data-locked\") == 0) powerInput.value = powerOutput.value = rand(2, 8);\n    if (lockNeutralInput.getAttribute(\"data-locked\") == 0) neutralInput.value = neutralOutput.value = rand(100, 300);\n    if (lockNamesInput.getAttribute(\"data-locked\") == 0) namesInput.value = rand(0, 1);\n    if (lockCulturesInput.getAttribute(\"data-locked\") == 0) culturesInput.value = culturesOutput.value = rand(5, 10);\n    if (lockPrecInput.getAttribute(\"data-locked\") == 0) precInput.value = precOutput.value = rand(3, 12);\n    if (lockSwampinessInput.getAttribute(\"data-locked\") == 0) swampinessInput.value = swampinessOutput.value = rand(100);\n  } // Locate points to calculate Voronoi diagram\n\n\n  function placePoints() {\n    console.time(\"placePoints\");\n    points = [];\n    points = getJitteredGrid();\n    heights = new Uint8Array(points.length);\n    console.timeEnd(\"placePoints\");\n  } // Calculate Voronoi Diagram\n\n\n  function calculateVoronoi(points) {\n    console.time(\"calculateVoronoi\");\n    diagram = voronoi(points); // round edges to simplify future calculations\n\n    diagram.edges.forEach(function (e) {\n      e[0][0] = rn(e[0][0], 2);\n      e[0][1] = rn(e[0][1], 2);\n      e[1][0] = rn(e[1][0], 2);\n      e[1][1] = rn(e[1][1], 2);\n    });\n    polygons = diagram.polygons();\n    console.log(\" cells: \" + points.length);\n    console.timeEnd(\"calculateVoronoi\");\n  } // Get cell info on mouse move (useful for debugging)\n\n\n  function moved() {\n    var point = d3.mouse(this);\n    var i = diagram.find(point[0], point[1]).index; // update cellInfo\n\n    if (i) {\n      var p = cells[i]; // get cell\n\n      infoX.innerHTML = rn(point[0]);\n      infoY.innerHTML = rn(point[1]);\n      infoCell.innerHTML = i;\n      infoArea.innerHTML = ifDefined(p.area, \"n/a\", 2);\n\n      if (customization === 1) {\n        infoHeight.innerHTML = getFriendlyHeight(heights[i]);\n      } else {\n        infoHeight.innerHTML = getFriendlyHeight(p.height);\n      }\n\n      infoFlux.innerHTML = ifDefined(p.flux, \"n/a\", 2);\n      var country = p.region === undefined ? \"n/a\" : p.region === \"neutral\" ? \"neutral\" : states[p.region].name + \" (\" + p.region + \")\";\n      infoCountry.innerHTML = country;\n      var culture = ifDefined(p.culture) !== \"no\" ? cultures[p.culture].name + \" (\" + p.culture + \")\" : \"n/a\";\n      infoCulture.innerHTML = culture;\n      infoPopulation.innerHTML = ifDefined(p.pop, \"n/a\", 2);\n      infoBurg.innerHTML = ifDefined(p.manor) !== \"no\" ? manors[p.manor].name + \" (\" + p.manor + \")\" : \"no\";\n      var feature = features[p.fn];\n\n      if (feature !== undefined) {\n        var fType = feature.land ? \"Island\" : feature.border ? \"Ocean\" : \"Lake\";\n        infoFeature.innerHTML = fType + \" (\" + p.fn + \")\";\n      } else {\n        infoFeature.innerHTML = \"n/a\";\n      }\n    } // update tooltip\n\n\n    if (toggleTooltips.checked) {\n      tooltip.innerHTML = tooltip.getAttribute(\"data-main\");\n      var tag = event.target.tagName;\n      var path = event.composedPath();\n      var group = path[path.length - 7].id;\n      var subgroup = path[path.length - 8].id;\n      if (group === \"rivers\") tip(\"Click to open River Editor\");\n      if (group === \"routes\") tip(\"Click to open Route Editor\");\n      if (group === \"terrain\") tip(\"Click to open Relief Icon Editor\");\n      if (group === \"labels\") tip(\"Click to open Label Editor\");\n      if (group === \"icons\") tip(\"Click to open Icon Editor\");\n      if (group === \"markers\") tip(\"Click to open Marker Editor\");\n\n      if (group === \"ruler\") {\n        if (tag === \"path\" || tag === \"line\") tip(\"Drag to move the measurer\");\n        if (tag === \"text\") tip(\"Click to remove the measurer\");\n        if (tag === \"circle\") tip(\"Drag to adjust the measurer\");\n      }\n\n      if (subgroup === \"burgIcons\") tip(\"Click to open Burg Editor\");\n      if (subgroup === \"burgLabels\") tip(\"Click to open Burg Editor\"); // show legend on hover (if any)\n\n      var id = event.target.id;\n      if (id === \"\") id = event.target.parentNode.id;\n      if (subgroup === \"burgLabels\") id = \"burg\" + event.target.getAttribute(\"data-id\");\n      var note = notes.find(function (note) {\n        return note.id === id;\n      });\n      var legend = document.getElementById(\"legend\");\n      var legendHeader = document.getElementById(\"legendHeader\");\n      var legendBody = document.getElementById(\"legendBody\");\n\n      if (note !== undefined && note.legend !== \"\") {\n        legend.style.display = \"block\";\n        legendHeader.innerHTML = note.name;\n        legendBody.innerHTML = note.legend;\n      } else {\n        legend.style.display = \"none\";\n        legendHeader.innerHTML = \"\";\n        legendBody.innerHTML = \"\";\n      }\n    } // draw line for ranges placing for heightmap Customization\n\n\n    if (customization === 1) {\n      var line = debug.selectAll(\".line\");\n\n      if (debug.selectAll(\".tag\").size() === 1) {\n        var x = +debug.select(\".tag\").attr(\"cx\");\n        var y = +debug.select(\".tag\").attr(\"cy\");\n\n        if (line.size()) {\n          line.attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", point[0]).attr(\"y2\", point[1]);\n        } else {\n          debug.insert(\"line\", \":first-child\").attr(\"class\", \"line\").attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", point[0]).attr(\"y2\", point[1]);\n        }\n      } else {\n        line.remove();\n      }\n    } // change radius circle for Customization\n\n\n    if (customization > 0) {\n      var brush = $(\"#brushesButtons > .pressed\");\n      var brushId = brush.attr(\"id\");\n      if (brushId === \"brushRange\" || brushId === \"brushTrough\") return;\n      if (customization !== 5 && !brush.length && !$(\"div.selected\").length) return;\n      var radius = 0;\n\n      if (customization === 1) {\n        radius = brushRadius.value;\n\n        if (brushId === \"brushHill\" || brushId === \"brushPit\") {\n          radius = Math.pow(brushPower.value * 4, .5);\n        }\n      } else if (customization === 2) radius = countriesManuallyBrush.value;else if (customization === 4) radius = culturesManuallyBrush.value;else if (customization === 5) radius = reliefBulkRemoveRadius.value;\n\n      var r = rn(6 / graphSize * radius, 1);\n      var clr = \"#373737\";\n\n      if (customization === 2) {\n        var state = +$(\"div.selected\").attr(\"id\").slice(5);\n        clr = states[state].color === \"neutral\" ? \"white\" : states[state].color;\n      }\n\n      if (customization === 4) {\n        var _culture = +$(\"div.selected\").attr(\"id\").slice(7);\n\n        clr = cultures[_culture].color;\n      }\n\n      moveCircle(point[0], point[1], r, clr);\n    }\n  } // return value (v) if defined with specified number of decimals (d)\n  // else return \"no\" or attribute (r)\n\n\n  function ifDefined(v, r, d) {\n    if (v === null || v === undefined) return r || \"no\";\n    if (d) return v.toFixed(d);\n    return v;\n  } // get user-friendly (real-world) height value from map data\n\n\n  function getFriendlyHeight(h) {\n    var exponent = +heightExponent.value;\n    var unit = heightUnit.value;\n    var unitRatio = 1; // default calculations are in meters\n\n    if (unit === \"ft\") unitRatio = 3.28; // if foot\n\n    if (unit === \"f\") unitRatio = 0.5468; // if fathom\n\n    var height = -990;\n    if (h >= 20) height = Math.pow(h - 18, exponent);\n    if (h < 20 && h > 0) height = (h - 20) / h * 50;\n    return h + \" (\" + rn(height * unitRatio) + \" \" + unit + \")\";\n  } // move brush radius circle\n\n\n  function moveCircle(x, y, r, c) {\n    var circle = debug.selectAll(\".circle\");\n    if (!circle.size()) circle = debug.insert(\"circle\", \":first-child\").attr(\"class\", \"circle\");\n    circle.attr(\"cx\", x).attr(\"cy\", y);\n    if (r) circle.attr(\"r\", r);\n    if (c) circle.attr(\"stroke\", c);\n  } // Drag actions\n\n\n  function dragstarted() {\n    var x0 = d3.event.x,\n        y0 = d3.event.y,\n        c0 = diagram.find(x0, y0).index;\n    var c1 = c0;\n    var x1, y1;\n    var opisometer = $(\"#addOpisometer\").hasClass(\"pressed\");\n    var planimeter = $(\"#addPlanimeter\").hasClass(\"pressed\");\n    var factor = rn(1 / Math.pow(scale, 0.3), 1);\n\n    if (opisometer || planimeter) {\n      $(\"#ruler\").show();\n      var type = opisometer ? \"opisometer\" : \"planimeter\";\n      var rulerNew = ruler.append(\"g\").attr(\"class\", type).call(d3.drag().on(\"start\", elementDrag));\n      var points = [{\n        scX: rn(x0, 2),\n        scY: rn(y0, 2)\n      }];\n\n      if (opisometer) {\n        var curve = rulerNew.append(\"path\").attr(\"class\", \"opisometer white\").attr(\"stroke-width\", factor);\n        var dash = rn(30 / distanceScale.value, 2);\n        var curveGray = rulerNew.append(\"path\").attr(\"class\", \"opisometer gray\").attr(\"stroke-dasharray\", dash).attr(\"stroke-width\", factor);\n      } else {\n        var curve = rulerNew.append(\"path\").attr(\"class\", \"planimeter\").attr(\"stroke-width\", factor);\n      }\n\n      var text = rulerNew.append(\"text\").attr(\"dy\", -1).attr(\"font-size\", 10 * factor);\n    }\n\n    d3.event.on(\"drag\", function () {\n      x1 = d3.event.x, y1 = d3.event.y;\n      var c2 = diagram.find(x1, y1).index; // Heightmap customization\n\n      if (customization === 1) {\n        if (c2 === c1 && x1 !== x0 && y1 !== y0) return;\n        c1 = c2;\n        var brush = $(\"#brushesButtons > .pressed\");\n        var id = brush.attr(\"id\");\n        var power = +brushPower.value;\n\n        if (id === \"brushHill\") {\n          add(c2, \"hill\", power);\n          updateHeightmap();\n        }\n\n        if (id === \"brushPit\") {\n          addPit(1, power, c2);\n          updateHeightmap();\n        }\n\n        if (id !== \"brushRange\" || id !== \"brushTrough\") {\n          // move a circle to show approximate change radius\n          moveCircle(x1, y1);\n          updateCellsInRadius(c2, c0);\n        }\n      } // Countries / cultures manuall assignment\n\n\n      if (customization === 2 || customization === 4) {\n        if ($(\"div.selected\").length === 0) return;\n        if (c2 === c1) return;\n        c1 = c2;\n        var radius = customization === 2 ? +countriesManuallyBrush.value : +culturesManuallyBrush.value;\n        var r = rn(6 / graphSize * radius, 1);\n        moveCircle(x1, y1, r);\n        var selection = defineBrushSelection(c2, radius);\n\n        if (selection) {\n          if (customization === 2) changeStateForSelection(selection);\n          if (customization === 4) changeCultureForSelection(selection);\n        }\n      }\n\n      if (opisometer || planimeter) {\n        var l = points[points.length - 1];\n        var diff = Math.hypot(l.scX - x1, l.scY - y1);\n\n        if (diff > 5) {\n          points.push({\n            scX: x1,\n            scY: y1\n          });\n        }\n\n        if (opisometer) {\n          lineGen.curve(d3.curveBasis);\n          var d = round(lineGen(points));\n          curve.attr(\"d\", d);\n          curveGray.attr(\"d\", d);\n          var dist = rn(curve.node().getTotalLength());\n          var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n          text.attr(\"x\", x1).attr(\"y\", y1 - 10).text(label);\n        } else {\n          lineGen.curve(d3.curveBasisClosed);\n          var d = round(lineGen(points));\n          curve.attr(\"d\", d);\n        }\n      }\n    });\n    d3.event.on(\"end\", function () {\n      if (customization === 1) updateHistory();\n\n      if (opisometer || planimeter) {\n        $(\"#addOpisometer, #addPlanimeter\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n\n        if (opisometer) {\n          var dist = rn(curve.node().getTotalLength());\n          var c = curve.node().getPointAtLength(dist / 2);\n          var p = curve.node().getPointAtLength(dist / 2 - 1);\n          var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n          var atan = p.x > c.x ? Math.atan2(p.y - c.y, p.x - c.x) : Math.atan2(c.y - p.y, c.x - p.x);\n          var angle = rn(atan * 180 / Math.PI, 3);\n          var tr = \"rotate(\" + angle + \" \" + c.x + \" \" + c.y + \")\";\n          text.attr(\"data-points\", JSON.stringify(points)).attr(\"data-dist\", dist).attr(\"x\", c.x).attr(\"y\", c.y).attr(\"transform\", tr).text(label).on(\"click\", removeParent);\n          rulerNew.append(\"circle\").attr(\"cx\", points[0].scX).attr(\"cy\", points[0].scY).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"start\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n          rulerNew.append(\"circle\").attr(\"cx\", points[points.length - 1].scX).attr(\"cy\", points[points.length - 1].scY).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"end\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n        } else {\n          var vertices = points.map(function (p) {\n            return [p.scX, p.scY];\n          });\n          var area = rn(Math.abs(d3.polygonArea(vertices))); // initial area as positive integer\n\n          var areaConv = area * Math.pow(distanceScale.value, 2); // convert area to distanceScale\n\n          areaConv = si(areaConv);\n\n          if (areaUnit.value === \"square\") {\n            areaConv += \" \" + distanceUnit.value + \"²\";\n          } else {\n            areaConv += \" \" + areaUnit.value;\n          }\n\n          var c = polylabel([vertices], 1.0); // pole of inaccessibility\n\n          text.attr(\"x\", rn(c[0], 2)).attr(\"y\", rn(c[1], 2)).attr(\"data-area\", area).text(areaConv).on(\"click\", removeParent);\n        }\n      }\n    });\n  } // restore default drag (map panning) and cursor\n\n\n  function restoreDefaultEvents() {\n    viewbox.style(\"cursor\", \"default\").on(\".drag\", null).on(\"click\", null);\n  } // remove parent element (usually if child is clicked)\n\n\n  function removeParent() {\n    $(this.parentNode).remove();\n  } // define selection based on radius\n\n\n  function defineBrushSelection(center, r) {\n    var radius = r;\n    var selection = [center];\n    if (radius > 1) selection = selection.concat(cells[center].neighbors);\n    selection = $.grep(selection, function (e) {\n      return cells[e].height >= 20;\n    });\n    if (radius === 2) return selection;\n    var frontier = cells[center].neighbors;\n\n    while (radius > 2) {\n      var cycle = frontier.slice();\n      frontier = [];\n      cycle.map(function (s) {\n        cells[s].neighbors.forEach(function (e) {\n          if (selection.indexOf(e) !== -1) return; // if (cells[e].height < 20) return;\n\n          selection.push(e);\n          frontier.push(e);\n        });\n      });\n      radius--;\n    }\n\n    selection = $.grep(selection, function (e) {\n      return cells[e].height >= 20;\n    });\n    return selection;\n  } // change region within selection\n\n\n  function changeStateForSelection(selection) {\n    if (selection.length === 0) return;\n    var temp = regions.select(\"#temp\");\n    var stateNew = +$(\"div.selected\").attr(\"id\").slice(5);\n    var color = states[stateNew].color === \"neutral\" ? \"white\" : states[stateNew].color;\n    selection.map(function (index) {\n      // keep stateOld and stateNew as integers!\n      var exists = temp.select(\"path[data-cell='\" + index + \"']\");\n      var region = cells[index].region === \"neutral\" ? states.length - 1 : cells[index].region;\n      var stateOld = exists.size() ? +exists.attr(\"data-state\") : region;\n      if (stateNew === stateOld) return;\n      if (states[stateOld].capital === cells[index].manor) return; // not allowed to re-draw calitals\n      // change of append new element\n\n      if (exists.size()) {\n        exists.attr(\"data-state\", stateNew).attr(\"fill\", color).attr(\"stroke\", color);\n      } else {\n        temp.append(\"path\").attr(\"data-cell\", index).attr(\"data-state\", stateNew).attr(\"d\", \"M\" + polygons[index].join(\"L\") + \"Z\").attr(\"fill\", color).attr(\"stroke\", color);\n      }\n    });\n  } // change culture within selection\n\n\n  function changeCultureForSelection(selection) {\n    if (selection.length === 0) return;\n    var cultureNew = +$(\"div.selected\").attr(\"id\").slice(7);\n    var clr = cultures[cultureNew].color;\n    selection.map(function (index) {\n      var cult = cults.select(\"#cult\" + index);\n      var cultureOld = cult.attr(\"data-culture\") !== null ? +cult.attr(\"data-culture\") : cells[index].culture;\n      if (cultureOld === cultureNew) return;\n      cult.attr(\"data-culture\", cultureNew).attr(\"fill\", clr).attr(\"stroke\", clr);\n    });\n  } // update cells in radius if non-feature brush selected\n\n\n  function updateCellsInRadius(cell, source) {\n    var power = +brushPower.value;\n    var radius = +brushRadius.value;\n    var brush = $(\"#brushesButtons > .pressed\").attr(\"id\");\n\n    if ($(\"#brushesButtons > .pressed\").hasClass(\"feature\")) {\n      return;\n    } // define selection besed on radius\n\n\n    var selection = [cell];\n    if (radius > 1) selection = selection.concat(cells[cell].neighbors);\n\n    if (radius > 2) {\n      (function () {\n        var frontier = cells[cell].neighbors;\n\n        while (radius > 2) {\n          var cycle = frontier.slice();\n          frontier = [];\n          cycle.map(function (s) {\n            cells[s].neighbors.forEach(function (e) {\n              if (selection.indexOf(e) !== -1) {\n                return;\n              }\n\n              selection.push(e);\n              frontier.push(e);\n            });\n          });\n          radius--;\n        }\n      })();\n    } // change each cell in the selection\n\n\n    var sourceHeight = heights[source];\n    selection.map(function (s) {\n      // calculate changes\n      if (brush === \"brushElevate\") {\n        if (heights[s] < 20) {\n          heights[s] = 20;\n        } else {\n          heights[s] += power;\n        }\n\n        if (heights[s] > 100) heights[s] = 100;\n      }\n\n      if (brush === \"brushDepress\") {\n        heights[s] -= power;\n        if (heights[s] > 100) heights[s] = 0;\n      }\n\n      if (brush === \"brushAlign\") {\n        heights[s] = sourceHeight;\n      }\n\n      if (brush === \"brushSmooth\") {\n        var hs = [heights[s]];\n        cells[s].neighbors.forEach(function (e) {\n          hs.push(heights[e]);\n        });\n        heights[s] = (heights[s] + d3.mean(hs)) / 2;\n      }\n    });\n    updateHeightmapSelection(selection);\n  } // Mouseclick events\n\n\n  function placeLinearFeature() {\n    var point = d3.mouse(this);\n    var index = getIndex(point);\n    var tag = debug.selectAll(\".tag\");\n\n    if (!tag.size()) {\n      tag = debug.append(\"circle\").attr(\"data-cell\", index).attr(\"class\", \"tag\").attr(\"r\", 3).attr(\"cx\", point[0]).attr(\"cy\", point[1]);\n    } else {\n      var from = +tag.attr(\"data-cell\");\n      debug.selectAll(\".tag, .line\").remove();\n      var power = +brushPower.value;\n      var mod = $(\"#brushesButtons > .pressed\").attr(\"id\") === \"brushRange\" ? 1 : -1;\n      var selection = addRange(mod, power, from, index);\n      updateHeightmapSelection(selection);\n    }\n  } // turn D3 polygons array into cell array, define neighbors for each cell\n\n\n  function detectNeighbors(withGrid) {\n    console.time(\"detectNeighbors\");\n    var gridPath = \"\"; // store grid as huge single path string\n\n    cells = [];\n    polygons.map(function (i, d) {\n      var neighbors = [];\n      var type; // define cell type\n\n      if (withGrid) {\n        gridPath += \"M\" + i.join(\"L\") + \"Z\";\n      } // grid path\n\n\n      diagram.cells[d].halfedges.forEach(function (e) {\n        var edge = diagram.edges[e];\n\n        if (edge.left && edge.right) {\n          var ea = edge.left.index === d ? edge.right.index : edge.left.index;\n          neighbors.push(ea);\n        } else {\n          type = \"border\"; // polygon is on border if it has edge without opposite side polygon\n        }\n      });\n      cells.push({\n        index: d,\n        data: i.data,\n        height: 0,\n        type: type,\n        neighbors: neighbors\n      });\n    });\n\n    if (withGrid) {\n      grid.append(\"path\").attr(\"d\", round(gridPath, 1));\n    }\n\n    console.timeEnd(\"detectNeighbors\");\n  } // Generate Heigtmap routine\n\n\n  function defineHeightmap() {\n    console.time('defineHeightmap');\n\n    if (lockTemplateInput.getAttribute(\"data-locked\") == 0) {\n      var rnd = Math.random();\n\n      if (rnd > 0.95) {\n        templateInput.value = \"Volcano\";\n      } else if (rnd > 0.75) {\n        templateInput.value = \"High Island\";\n      } else if (rnd > 0.55) {\n        templateInput.value = \"Low Island\";\n      } else if (rnd > 0.35) {\n        templateInput.value = \"Continents\";\n      } else if (rnd > 0.15) {\n        templateInput.value = \"Archipelago\";\n      } else if (rnd > 0.10) {\n        templateInput.value = \"Mainland\";\n      } else if (rnd > 0.01) {\n        templateInput.value = \"Peninsulas\";\n      } else {\n        templateInput.value = \"Atoll\";\n      }\n    }\n\n    var mapTemplate = templateInput.value;\n    if (mapTemplate === \"Volcano\") templateVolcano();\n    if (mapTemplate === \"High Island\") templateHighIsland();\n    if (mapTemplate === \"Low Island\") templateLowIsland();\n    if (mapTemplate === \"Continents\") templateContinents();\n    if (mapTemplate === \"Archipelago\") templateArchipelago();\n    if (mapTemplate === \"Atoll\") templateAtoll();\n    if (mapTemplate === \"Mainland\") templateMainland();\n    if (mapTemplate === \"Peninsulas\") templatePeninsulas();\n    console.log(\" template: \" + mapTemplate);\n    console.timeEnd('defineHeightmap');\n  } // Heighmap Template: Volcano\n\n\n  function templateVolcano(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(5, 0.35);\n    addRange(3);\n    addRange(-4);\n  } // Heighmap Template: High Island\n\n\n  function templateHighIsland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addRange(6);\n    addHill(12, 0.25);\n    addRange(-3);\n    modifyHeights(\"land\", 0, 0.75);\n    addPit(1);\n    addHill(3, 0.15);\n  } // Heighmap Template: Low Island\n\n\n  function templateLowIsland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    smoothHeights(2);\n    addRange(2);\n    addHill(4, 0.4);\n    addHill(12, 0.2);\n    addRange(-8);\n    modifyHeights(\"land\", 0, 0.35);\n  } // Heighmap Template: Continents\n\n\n  function templateContinents(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(30, 0.25);\n    var count = Math.ceil(Math.random() * 4 + 4);\n    addStrait(count);\n    addPit(10);\n    addRange(-10);\n    modifyHeights(\"land\", 0, 0.6);\n    smoothHeights(2);\n    addRange(3);\n  } // Heighmap Template: Archipelago\n\n\n  function templateArchipelago(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(12, 0.15);\n    addRange(8);\n    var count = Math.ceil(Math.random() * 2 + 2);\n    addStrait(count);\n    addRange(-15);\n    addPit(10);\n    modifyHeights(\"land\", -5, 0.7);\n    smoothHeights(3);\n  } // Heighmap Template: Atoll\n\n\n  function templateAtoll(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(2, 0.35);\n    addRange(2);\n    smoothHeights(1);\n    modifyHeights(\"27-100\", 0, 0.1);\n  } // Heighmap Template: Mainland\n\n\n  function templateMainland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(30, 0.2);\n    addRange(10);\n    addPit(20);\n    addHill(10, 0.15);\n    addRange(-10);\n    modifyHeights(\"land\", 0, 0.4);\n    addRange(10);\n    smoothHeights(3);\n  } // Heighmap Template: Peninsulas\n\n\n  function templatePeninsulas(mod) {\n    addMountain();\n    modifyHeights(\"all\", 15, 1);\n    addHill(30, 0);\n    addRange(5);\n    addPit(15);\n    var count = Math.ceil(Math.random() * 5 + 15);\n    addStrait(count);\n  }\n\n  function addMountain() {\n    var x = Math.floor(Math.random() * graphWidth / 3 + graphWidth / 3);\n    var y = Math.floor(Math.random() * graphHeight * 0.2 + graphHeight * 0.4);\n    var cell = diagram.find(x, y).index;\n    var height = Math.random() * 10 + 90; // 90-99\n\n    add(cell, \"mountain\", height);\n  } // place with shift 0-0.5\n\n\n  function addHill(count, shift) {\n    for (var c = 0; c < count; c++) {\n      var limit = 0,\n          cell = void 0,\n          height = void 0;\n\n      do {\n        height = Math.random() * 40 + 10; // 10-50\n\n        var x = Math.floor(Math.random() * graphWidth * (1 - shift * 2) + graphWidth * shift);\n        var y = Math.floor(Math.random() * graphHeight * (1 - shift * 2) + graphHeight * shift);\n        cell = diagram.find(x, y).index;\n        limit++;\n      } while (heights[cell] + height > 90 && limit < 100);\n\n      add(cell, \"hill\", height);\n    }\n  }\n\n  function add(start, type, height) {\n    var session = Math.ceil(Math.random() * 1e5);\n    var radius;\n    var hRadius;\n    var mRadius;\n\n    switch (+graphSize) {\n      case 1:\n        hRadius = 0.991;\n        mRadius = 0.91;\n        break;\n\n      case 2:\n        hRadius = 0.9967;\n        mRadius = 0.951;\n        break;\n\n      case 3:\n        hRadius = 0.999;\n        mRadius = 0.975;\n        break;\n\n      case 4:\n        hRadius = 0.9994;\n        mRadius = 0.98;\n        break;\n    }\n\n    radius = type === \"mountain\" ? mRadius : hRadius;\n    var queue = [start];\n    if (type === \"mountain\") heights[start] = height;\n\n    for (var i = 0; i < queue.length && height >= 1; i++) {\n      if (type === \"mountain\") {\n        height = heights[queue[i]] * radius - height / 100;\n      } else {\n        height *= radius;\n      }\n\n      cells[queue[i]].neighbors.forEach(function (e) {\n        if (cells[e].used === session) return;\n        var mod = Math.random() * 0.2 + 0.9; // 0.9-1.1 random factor\n\n        heights[e] += height * mod;\n        if (heights[e] > 100) heights[e] = 100;\n        cells[e].used = session;\n        queue.push(e);\n      });\n    }\n  }\n\n  function addRange(mod, height, from, to) {\n    var session = Math.ceil(Math.random() * 100000);\n    var count = Math.abs(mod);\n    var range = [];\n\n    var _loop = function _loop(c) {\n      range = [];\n      var diff = 0,\n          start = from,\n          end = to;\n\n      if (!start || !end) {\n        do {\n          var xf = Math.floor(Math.random() * (graphWidth * 0.7)) + graphWidth * 0.15;\n          var yf = Math.floor(Math.random() * (graphHeight * 0.6)) + graphHeight * 0.2;\n          start = diagram.find(xf, yf).index;\n          var xt = Math.floor(Math.random() * (graphWidth * 0.7)) + graphWidth * 0.15;\n          var yt = Math.floor(Math.random() * (graphHeight * 0.6)) + graphHeight * 0.2;\n          end = diagram.find(xt, yt).index;\n          diff = Math.hypot(xt - xf, yt - yf);\n        } while (diff < 150 / graphSize || diff > 300 / graphSize);\n      }\n\n      if (start && end) {\n        var _loop2 = function _loop2(l) {\n          var min = 10000;\n          cells[start].neighbors.forEach(function (e) {\n            diff = Math.hypot(cells[end].data[0] - cells[e].data[0], cells[end].data[1] - cells[e].data[1]);\n            if (Math.random() > 0.8) diff = diff / 2;\n\n            if (diff < min) {\n              min = diff, start = e;\n            }\n          });\n          range.push(start);\n        };\n\n        for (var l = 0; start != end && l < 10000; l++) {\n          _loop2(l);\n        }\n      }\n\n      var change = height ? height : Math.random() * 10 + 10;\n      range.map(function (r) {\n        var rnd = Math.random() * 0.4 + 0.8;\n        if (mod > 0) heights[r] += change * rnd;else if (heights[r] >= 10) {\n          heights[r] -= change * rnd;\n        }\n        cells[r].neighbors.forEach(function (e) {\n          if (cells[e].used === session) return;\n          cells[e].used = session;\n          rnd = Math.random() * 0.4 + 0.8;\n          var ch = change / 2 * rnd;\n\n          if (mod > 0) {\n            heights[e] += ch;\n          } else if (heights[e] >= 10) {\n            heights[e] -= ch;\n          }\n\n          if (heights[e] > 100) heights[e] = mod > 0 ? 100 : 5;\n        });\n        if (heights[r] > 100) heights[r] = mod > 0 ? 100 : 5;\n      });\n    };\n\n    for (var c = 0; c < count; c++) {\n      _loop(c);\n    }\n\n    return range;\n  }\n\n  function addStrait(width) {\n    var session = Math.ceil(Math.random() * 100000);\n    var top = Math.floor(Math.random() * graphWidth * 0.35 + graphWidth * 0.3);\n    var bottom = Math.floor(graphWidth - top - graphWidth * 0.1 + Math.random() * graphWidth * 0.2);\n    var start = diagram.find(top, graphHeight * 0.1).index;\n    var end = diagram.find(bottom, graphHeight * 0.9).index;\n    var range = [];\n\n    var _loop3 = function _loop3(l) {\n      var min = 10000; // dummy value\n\n      cells[start].neighbors.forEach(function (e) {\n        var diff = Math.hypot(cells[end].data[0] - cells[e].data[0], cells[end].data[1] - cells[e].data[1]);\n\n        if (Math.random() > 0.8) {\n          diff = diff / 2;\n        }\n\n        if (diff < min) {\n          min = diff;\n          start = e;\n        }\n      });\n      range.push(start);\n    };\n\n    for (var l = 0; start !== end && l < 1000; l++) {\n      _loop3(l);\n    }\n\n    var query = [];\n\n    for (; width > 0; width--) {\n      range.map(function (r) {\n        cells[r].neighbors.forEach(function (e) {\n          if (cells[e].used === session) {\n            return;\n          }\n\n          cells[e].used = session;\n          query.push(e);\n          heights[e] *= 0.23;\n          if (heights[e] > 100 || heights[e] < 5) heights[e] = 5;\n        });\n        range = query.slice();\n      });\n    }\n  }\n\n  function addPit(count, height, cell) {\n    var session = Math.ceil(Math.random() * 1e5);\n\n    var _loop4 = function _loop4(c) {\n      var change = height ? height + 10 : Math.random() * 10 + 20;\n      var start = cell;\n\n      if (!start) {\n        var lowlands = $.grep(cells, function (e) {\n          return heights[e.index] >= 20;\n        });\n        if (!lowlands.length) return {\n          v: void 0\n        };\n        var rnd = Math.floor(Math.random() * lowlands.length);\n        start = lowlands[rnd].index;\n      }\n\n      var query = [start],\n          newQuery = []; // depress pit center\n\n      heights[start] -= change;\n      if (heights[start] < 5 || heights[start] > 100) heights[start] = 5;\n      cells[start].used = session;\n\n      for (var i = 1; i < 10000; i++) {\n        var _rnd = Math.random() * 0.4 + 0.8;\n\n        change -= i / 0.6 * _rnd;\n        if (change < 1) break;\n        query.map(function (p) {\n          cells[p].neighbors.forEach(function (e) {\n            if (cells[e].used === session) return;\n            cells[e].used = session;\n            if (Math.random() > 0.8) return;\n            newQuery.push(e);\n            heights[e] -= change;\n            if (heights[e] < 5 || heights[e] > 100) heights[e] = 5;\n          });\n        });\n        query = newQuery.slice();\n        newQuery = [];\n      }\n    };\n\n    for (var c = 0; c < count; c++) {\n      var _ret = _loop4(c);\n\n      if (_typeof(_ret) === \"object\") return _ret.v;\n    }\n  } // Modify heights adding or multiplying by value\n\n\n  function modifyHeights(range, add, mult) {\n    function modify(v) {\n      if (add) v += add;\n\n      if (mult !== 1) {\n        if (mult === \"^2\") mult = (v - 20) / 100;\n        if (mult === \"^3\") mult = (v - 20) * (v - 20) / 100;\n\n        if (range === \"land\") {\n          v = 20 + (v - 20) * mult;\n        } else {\n          v *= mult;\n        }\n      }\n\n      if (v < 0) v = 0;\n      if (v > 100) v = 100;\n      return v;\n    }\n\n    var limMin = range === \"land\" ? 20 : range === \"all\" ? 0 : +range.split(\"-\")[0];\n    var limMax = range === \"land\" || range === \"all\" ? 100 : +range.split(\"-\")[1];\n\n    for (var i = 0; i < heights.length; i++) {\n      if (heights[i] < limMin || heights[i] > limMax) continue;\n      heights[i] = modify(heights[i]);\n    }\n  } // Smooth heights using mean of neighbors\n\n\n  function smoothHeights(fraction) {\n    var fr = fraction || 2;\n\n    var _loop5 = function _loop5(i) {\n      var nHeights = [heights[i]];\n      cells[i].neighbors.forEach(function (e) {\n        nHeights.push(heights[e]);\n      });\n      heights[i] = (heights[i] * (fr - 1) + d3.mean(nHeights)) / fr;\n    };\n\n    for (var i = 0; i < heights.length; i++) {\n      _loop5(i);\n    }\n  } // Randomize heights a bit\n\n\n  function disruptHeights() {\n    for (var i = 0; i < heights.length; i++) {\n      if (heights[i] < 18) continue;\n      if (Math.random() < 0.5) continue;\n      heights[i] += 2 - Math.random() * 4;\n    }\n  } // Mark features (ocean, lakes, islands)\n\n\n  function markFeatures() {\n    console.time(\"markFeatures\");\n    Math.seedrandom(seed); // reset seed to get the same result on heightmap edit\n\n    var _loop6 = function _loop6(i, _queue) {\n      var cell = cells[_queue[0]];\n      cell.fn = i; // feature number\n\n      var land = heights[_queue[0]] >= 20;\n      var border = cell.type === \"border\";\n      if (border && land) cell.ctype = 2;\n\n      var _loop7 = function _loop7() {\n        var q = _queue.pop();\n\n        if (cells[q].type === \"border\") {\n          border = true;\n          if (land) cells[q].ctype = 2;\n        }\n\n        cells[q].neighbors.forEach(function (e) {\n          var eLand = heights[e] >= 20;\n\n          if (land === eLand && cells[e].fn === undefined) {\n            cells[e].fn = i;\n\n            _queue.push(e);\n          }\n\n          if (land && !eLand) {\n            cells[q].ctype = 2;\n            cells[e].ctype = -1;\n            cells[q].harbor = cells[q].harbor ? cells[q].harbor + 1 : 1;\n          }\n        });\n      };\n\n      while (_queue.length) {\n        _loop7();\n      }\n\n      features.push({\n        i: i,\n        land: land,\n        border: border\n      }); // find unmarked cell\n\n      for (var c = 0; c < cells.length; c++) {\n        if (cells[c].fn === undefined) {\n          _queue[0] = c;\n          break;\n        }\n      }\n    };\n\n    for (var i = 0, _queue = [0]; _queue.length > 0; i++) {\n      _loop6(i, _queue);\n    }\n\n    console.timeEnd(\"markFeatures\");\n  } // remove closed lakes near ocean\n\n\n  function reduceClosedLakes() {\n    console.time(\"reduceClosedLakes\");\n    var fs = JSON.parse(JSON.stringify(features));\n    var lakesInit = lakesNow = features.reduce(function (s, f) {\n      return !f.land && !f.border ? s + 1 : s;\n    }, 0);\n\n    for (var c = 0; c < cells.length && lakesNow > 0; c++) {\n      if (heights[c] < 20) continue; // not land\n\n      if (cells[c].ctype !== 2) continue; // not near water\n\n      var _ocean = null,\n          lake = null; // find land cells with lake and ocean nearby\n\n      cells[c].neighbors.forEach(function (n) {\n        if (heights[n] >= 20) return;\n        var fn = cells[n].fn;\n        if (features[fn].border !== false) _ocean = fn;\n        if (fs[fn].border === false) lake = fn;\n      }); // if found, make it water and turn lake to ocean\n\n      if (_ocean !== null && lake !== null) {\n        //debug.append(\"circle\").attr(\"cx\", cells[c].data[0]).attr(\"cy\", cells[c].data[1]).attr(\"r\", 2).attr(\"fill\", \"red\");\n        lakesNow--;\n        fs[lake].border = _ocean;\n        heights[c] = 19;\n        cells[c].fn = _ocean;\n        cells[c].ctype = -1;\n        cells[c].neighbors.forEach(function (e) {\n          if (heights[e] >= 20) cells[e].ctype = 2;\n        });\n      }\n    }\n\n    if (lakesInit === lakesNow) return; // nothing was changed\n\n    for (var i = 0; i < cells.length; i++) {\n      if (heights[i] >= 20) continue; // not water\n\n      var fn = cells[i].fn;\n\n      if (fs[fn].border !== features[fn].border) {\n        cells[i].fn = fs[fn].border; //debug.append(\"circle\").attr(\"cx\", cells[i].data[0]).attr(\"cy\", cells[i].data[1]).attr(\"r\", 1).attr(\"fill\", \"blue\");\n      }\n    }\n\n    console.timeEnd(\"reduceClosedLakes\");\n  }\n\n  function drawOcean() {\n    console.time(\"drawOcean\");\n    var limits = [];\n    var odd = 0.8; // initial odd for ocean layer is 80%\n    // Define type of ocean cells based on cell distance form land\n\n    var frontier = $.grep(cells, function (e) {\n      return e.ctype === -1;\n    });\n\n    if (Math.random() < odd) {\n      limits.push(-1);\n      odd = 0.2;\n    }\n\n    var _loop8 = function _loop8(c) {\n      if (Math.random() < odd) {\n        limits.unshift(c);\n        odd = 0.2;\n      } else {\n        odd += 0.2;\n      }\n\n      frontier.map(function (i) {\n        i.neighbors.forEach(function (e) {\n          if (!cells[e].ctype) cells[e].ctype = c;\n        });\n      });\n      frontier = $.grep(cells, function (e) {\n        return e.ctype === c;\n      });\n    };\n\n    for (var c = -2; frontier.length > 0 && c > -10; c--) {\n      _loop8(c);\n    }\n\n    if (outlineLayersInput.value === \"none\") return;\n    if (outlineLayersInput.value !== \"random\") limits = outlineLayersInput.value.split(\",\"); // Define area edges\n\n    var opacity = rn(0.4 / limits.length, 2);\n\n    var _loop9 = function _loop9(l) {\n      var edges = [];\n      var lim = +limits[l];\n\n      var _loop10 = function _loop10(i) {\n        if (cells[i].ctype < lim || cells[i].ctype === undefined) return \"continue\";\n        if (cells[i].ctype > lim && cells[i].type !== \"border\") return \"continue\";\n        var cell = diagram.cells[i];\n        cell.halfedges.forEach(function (e) {\n          var edge = diagram.edges[e];\n          var start = edge[0].join(\" \");\n          var end = edge[1].join(\" \");\n\n          if (edge.left && edge.right) {\n            var ea = edge.left.index === i ? edge.right.index : edge.left.index;\n            if (cells[ea].ctype < lim) edges.push({\n              start: start,\n              end: end\n            });\n          } else {\n            edges.push({\n              start: start,\n              end: end\n            });\n          }\n        });\n      };\n\n      for (var i = 0; i < cells.length; i++) {\n        var _ret2 = _loop10(i);\n\n        if (_ret2 === \"continue\") continue;\n      }\n\n      lineGen.curve(d3.curveBasis);\n      var relax = 0.8 - l / 10;\n      if (relax < 0.2) relax = 0.2;\n      var line = getContinuousLine(edges, 0, relax);\n      oceanLayers.append(\"path\").attr(\"d\", line).attr(\"fill\", \"#ecf2f9\").style(\"opacity\", opacity);\n    };\n\n    for (var l = 0; l < limits.length; l++) {\n      _loop9(l);\n    }\n\n    console.timeEnd(\"drawOcean\");\n  } // recalculate Voronoi Graph to pack cells\n\n\n  function reGraph() {\n    console.time(\"reGraph\");\n    var tempCells = [],\n        newPoints = []; // to store new data\n    // get average precipitation based on graph size\n\n    var avPrec = precInput.value / 5000;\n    var smallLakesMax = 500;\n    var smallLakes = 0;\n    var evaporation = 2;\n    cells.map(function (i, d) {\n      var height = i.height || heights[d];\n      if (height > 100) height = 100;\n      var pit = i.pit;\n      var ctype = i.ctype;\n      if (ctype !== -1 && ctype !== -2 && height < 20) return; // exclude all deep ocean points\n\n      var x = rn(i.data[0], 1),\n          y = rn(i.data[1], 1);\n      var fn = i.fn;\n      var harbor = i.harbor;\n      var lake = i.lake; // mark potential cells for small lakes to add additional point there\n\n      if (smallLakes < smallLakesMax && !lake && pit > evaporation && ctype !== 2) {\n        lake = 2;\n        smallLakes++;\n      }\n\n      var region = i.region; // handle value for edit heightmap mode only\n\n      var culture = i.culture; // handle value for edit heightmap mode only\n\n      var copy = $.grep(newPoints, function (e) {\n        return e[0] == x && e[1] == y;\n      });\n\n      if (!copy.length) {\n        newPoints.push([x, y]);\n        tempCells.push({\n          index: tempCells.length,\n          data: [x, y],\n          height: height,\n          pit: pit,\n          ctype: ctype,\n          fn: fn,\n          harbor: harbor,\n          lake: lake,\n          region: region,\n          culture: culture\n        });\n      } // add additional points for cells along coast\n\n\n      if (ctype === 2 || ctype === -1) {\n        if (i.type === \"border\") return;\n        if (!features[fn].land && !features[fn].border) return;\n        i.neighbors.forEach(function (e) {\n          if (cells[e].ctype === ctype) {\n            var x1 = (x * 2 + cells[e].data[0]) / 3;\n            var y1 = (y * 2 + cells[e].data[1]) / 3;\n            x1 = rn(x1, 1), y1 = rn(y1, 1);\n            copy = $.grep(newPoints, function (e) {\n              return e[0] === x1 && e[1] === y1;\n            });\n            if (copy.length) return;\n            newPoints.push([x1, y1]);\n            tempCells.push({\n              index: tempCells.length,\n              data: [x1, y1],\n              height: height,\n              pit: pit,\n              ctype: ctype,\n              fn: fn,\n              harbor: harbor,\n              lake: lake,\n              region: region,\n              culture: culture\n            });\n          }\n        });\n      }\n\n      if (lake === 2) {\n        // add potential small lakes\n        polygons[i.index].forEach(function (e) {\n          if (Math.random() > 0.8) return;\n          var rnd = Math.random() * 0.6 + 0.8;\n          var x1 = rn((e[0] * rnd + i.data[0]) / (1 + rnd), 2);\n          rnd = Math.random() * 0.6 + 0.8;\n          var y1 = rn((e[1] * rnd + i.data[1]) / (1 + rnd), 2);\n          copy = $.grep(newPoints, function (c) {\n            return x1 === c[0] && y1 === c[1];\n          });\n          if (copy.length) return;\n          newPoints.push([x1, y1]);\n          tempCells.push({\n            index: tempCells.length,\n            data: [x1, y1],\n            height: height,\n            pit: pit,\n            ctype: ctype,\n            fn: fn,\n            region: region,\n            culture: culture\n          });\n        });\n      }\n    });\n    console.log(\"small lakes candidates: \" + smallLakes);\n    cells = tempCells; // use tempCells as the only cells array\n\n    calculateVoronoi(newPoints); // recalculate Voronoi diagram using new points\n\n    var gridPath = \"\"; // store grid as huge single path string\n\n    cells.map(function (i, d) {\n      if (i.height >= 20) {\n        // calc cell area\n        i.area = rn(Math.abs(d3.polygonArea(polygons[d])), 2);\n        var prec = rn(avPrec * i.area, 2);\n        i.flux = i.lake ? prec * 10 : prec;\n      }\n\n      var neighbors = []; // re-detect neighbors\n\n      diagram.cells[d].halfedges.forEach(function (e) {\n        var edge = diagram.edges[e];\n\n        if (edge.left === undefined || edge.right === undefined) {\n          if (i.height >= 20) i.ctype = 99; // border cell\n\n          return;\n        }\n\n        var ea = edge.left.index === d ? edge.right.index : edge.left.index;\n        neighbors.push(ea);\n\n        if (d < ea && i.height >= 20 && i.lake !== 1 && cells[ea].height >= 20 && cells[ea].lake !== 1) {\n          gridPath += \"M\" + edge[0][0] + \",\" + edge[0][1] + \"L\" + edge[1][0] + \",\" + edge[1][1];\n        }\n      });\n      i.neighbors = neighbors;\n      if (i.region === undefined) delete i.region;\n      if (i.culture === undefined) delete i.culture;\n    });\n    grid.append(\"path\").attr(\"d\", gridPath);\n    console.timeEnd(\"reGraph\");\n  } // redraw all cells for Customization 1 mode\n\n\n  function mockHeightmap() {\n    var landCells = 0;\n    $(\"#landmass\").empty();\n    var limit = renderOcean.checked ? 1 : 20;\n\n    for (var i = 0; i < heights.length; i++) {\n      if (heights[i] < limit) continue;\n      if (heights[i] > 100) heights[i] = 100;\n      var clr = color(1 - heights[i] / 100);\n      landmass.append(\"path\").attr(\"id\", \"cell\" + i).attr(\"d\", \"M\" + polygons[i].join(\"L\") + \"Z\").attr(\"fill\", clr).attr(\"stroke\", clr);\n    }\n  }\n\n  $(\"#renderOcean\").click(mockHeightmap); // draw or update all cells\n\n  function updateHeightmap() {\n    var limit = renderOcean.checked ? 1 : 20;\n\n    for (var i = 0; i < heights.length; i++) {\n      if (heights[i] > 100) heights[i] = 100;\n      var cell = landmass.select(\"#cell\" + i);\n      var clr = color(1 - heights[i] / 100);\n\n      if (cell.size()) {\n        if (heights[i] < limit) {\n          cell.remove();\n        } else {\n          cell.attr(\"fill\", clr).attr(\"stroke\", clr);\n        }\n      } else if (heights[i] >= limit) {\n        cell = landmass.append(\"path\").attr(\"id\", \"cell\" + i).attr(\"d\", \"M\" + polygons[i].join(\"L\") + \"Z\").attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    }\n  } // draw or update cells from the selection\n\n\n  function updateHeightmapSelection(selection) {\n    if (selection === undefined) return;\n    var limit = renderOcean.checked ? 1 : 20;\n    selection.map(function (s) {\n      if (heights[s] > 100) heights[s] = 100;\n      var cell = landmass.select(\"#cell\" + s);\n      var clr = color(1 - heights[s] / 100);\n\n      if (cell.size()) {\n        if (heights[s] < limit) {\n          cell.remove();\n        } else {\n          cell.attr(\"fill\", clr).attr(\"stroke\", clr);\n        }\n      } else if (heights[s] >= limit) {\n        cell = landmass.append(\"path\").attr(\"id\", \"cell\" + s).attr(\"d\", \"M\" + polygons[s].join(\"L\") + \"Z\").attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    });\n  }\n\n  function updateHistory() {\n    var landCells = 0; // count number of land cells\n\n    if (renderOcean.checked) {\n      landCells = heights.reduce(function (s, v) {\n        if (v >= 20) {\n          return s + 1;\n        } else {\n          return s;\n        }\n      }, 0);\n    } else {\n      landCells = landmass.selectAll(\"*\").size();\n    }\n\n    history = history.slice(0, historyStage);\n    history[historyStage] = heights.slice();\n    historyStage++;\n    undo.disabled = templateUndo.disabled = historyStage <= 1;\n    redo.disabled = templateRedo.disabled = true;\n    var landMean = Math.trunc(d3.mean(heights));\n    var landRatio = rn(landCells / heights.length * 100);\n    landmassCounter.innerHTML = landCells;\n    landmassRatio.innerHTML = landRatio;\n    landmassAverage.innerHTML = landMean; // if perspective view dialog is opened, update it\n\n    if ($(\"#perspectivePanel\").is(\":visible\")) drawPerspective();\n  } // restoreHistory\n\n\n  function restoreHistory(step) {\n    historyStage = step;\n    redo.disabled = templateRedo.disabled = historyStage >= history.length;\n    undo.disabled = templateUndo.disabled = historyStage <= 1;\n    if (history[historyStage - 1] === undefined) return;\n    heights = history[historyStage - 1].slice();\n    updateHeightmap();\n  } // restart history from 1st step\n\n\n  function restartHistory() {\n    history = [];\n    historyStage = 0;\n    redo.disabled = templateRedo.disabled = true;\n    undo.disabled = templateUndo.disabled = true;\n    updateHistory();\n  } // Detect and draw the coasline\n\n\n  function drawCoastline() {\n    console.time('drawCoastline');\n    Math.seedrandom(seed); // reset seed to get the same result on heightmap edit\n\n    var shape = defs.append(\"mask\").attr(\"id\", \"shape\").attr(\"fill\", \"black\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", \"100%\").attr(\"height\", \"100%\");\n    $(\"#landmass\").empty();\n    var minX = graphWidth,\n        maxX = 0; // extreme points\n\n    var minXedge, maxXedge; // extreme edges\n\n    var oceanEdges = [],\n        lakeEdges = [];\n\n    var _loop11 = function _loop11(i) {\n      var id = land[i].index,\n          cell = diagram.cells[id];\n      var f = land[i].fn;\n      land[i].height = Math.trunc(land[i].height);\n\n      if (!oceanEdges[f]) {\n        oceanEdges[f] = [];\n        lakeEdges[f] = [];\n      }\n\n      cell.halfedges.forEach(function (e) {\n        var edge = diagram.edges[e];\n        var start = edge[0].join(\" \");\n        var end = edge[1].join(\" \");\n\n        if (edge.left && edge.right) {\n          var ea = edge.left.index === id ? edge.right.index : edge.left.index;\n          cells[ea].height = Math.trunc(cells[ea].height);\n\n          if (cells[ea].height < 20) {\n            cells[ea].ctype = -1;\n\n            if (land[i].ctype !== 1) {\n              land[i].ctype = 1; // mark coastal land cells\n              // move cell point closer to coast\n\n              var x = (land[i].data[0] + cells[ea].data[0]) / 2;\n              var y = (land[i].data[1] + cells[ea].data[1]) / 2;\n              land[i].haven = ea; // harbor haven (oposite water cell)\n\n              land[i].coastX = rn(x + (land[i].data[0] - x) * 0.1, 1);\n              land[i].coastY = rn(y + (land[i].data[1] - y) * 0.1, 1);\n              land[i].data[0] = rn(x + (land[i].data[0] - x) * 0.5, 1);\n              land[i].data[1] = rn(y + (land[i].data[1] - y) * 0.5, 1);\n            }\n\n            if (features[cells[ea].fn].border) {\n              oceanEdges[f].push({\n                start: start,\n                end: end\n              }); // island extreme points\n\n              if (edge[0][0] < minX) {\n                minX = edge[0][0];\n                minXedge = edge[0];\n              }\n\n              if (edge[1][0] < minX) {\n                minX = edge[1][0];\n                minXedge = edge[1];\n              }\n\n              if (edge[0][0] > maxX) {\n                maxX = edge[0][0];\n                maxXedge = edge[0];\n              }\n\n              if (edge[1][0] > maxX) {\n                maxX = edge[1][0];\n                maxXedge = edge[1];\n              }\n            } else {\n              var l = cells[ea].fn;\n              if (!lakeEdges[f][l]) lakeEdges[f][l] = [];\n              lakeEdges[f][l].push({\n                start: start,\n                end: end\n              });\n            }\n          }\n        } else {\n          oceanEdges[f].push({\n            start: start,\n            end: end\n          });\n        }\n      });\n    };\n\n    for (var i = 0; i < land.length; i++) {\n      _loop11(i);\n    }\n\n    for (var f = 0; f < features.length; f++) {\n      if (!oceanEdges[f]) continue;\n\n      if (!oceanEdges[f].length && lakeEdges[f].length) {\n        var m = lakeEdges[f].indexOf(d3.max(lakeEdges[f]));\n        oceanEdges[f] = lakeEdges[f][m];\n        lakeEdges[f][m] = [];\n      }\n\n      lineGen.curve(d3.curveCatmullRomClosed.alpha(0.1));\n      var oceanCoastline = getContinuousLine(oceanEdges[f], 3, 0);\n\n      if (oceanCoastline) {\n        shape.append(\"path\").attr(\"d\", oceanCoastline).attr(\"fill\", \"white\"); // draw the mask\n\n        coastline.append(\"path\").attr(\"d\", oceanCoastline); // draw the coastline\n      }\n\n      lineGen.curve(d3.curveBasisClosed);\n      lakeEdges[f].forEach(function (l) {\n        var lakeCoastline = getContinuousLine(l, 3, 0);\n\n        if (lakeCoastline) {\n          shape.append(\"path\").attr(\"d\", lakeCoastline).attr(\"fill\", \"black\"); // draw the mask\n\n          lakes.append(\"path\").attr(\"d\", lakeCoastline); // draw the lakes\n        }\n      });\n    }\n\n    landmass.append(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight); // draw the landmass\n\n    drawDefaultRuler(minXedge, maxXedge);\n    console.timeEnd('drawCoastline');\n  } // draw default scale bar\n\n\n  function drawScaleBar() {\n    if ($(\"#scaleBar\").hasClass(\"hidden\")) return; // no need to re-draw hidden element\n\n    svg.select(\"#scaleBar\").remove(); // fully redraw every time\n    // get size\n\n    var size = +barSize.value;\n    var dScale = distanceScale.value;\n    var unit = distanceUnit.value;\n    var scaleBar = svg.append(\"g\").attr(\"id\", \"scaleBar\").on(\"click\", editScale).on(\"mousemove\", function () {\n      tip(\"Click to open Scale Editor, drag to move\");\n    }).call(d3.drag().on(\"start\", elementDrag));\n    var init = 100; // actual length in pixels if scale, dScale and size = 1;\n\n    var val = init * size * dScale / scale; // bar length in distance unit\n\n    if (val > 900) {\n      val = rn(val, -3);\n    } // round to 1000\n    else if (val > 90) {\n        val = rn(val, -2);\n      } // round to 100\n      else if (val > 9) {\n          val = rn(val, -1);\n        } // round to 10\n        else {\n            val = rn(val);\n          } // round to 1\n\n\n    var l = val * scale / dScale; // actual length in pixels on this scale\n\n    var x = 0,\n        y = 0; // initial position\n\n    scaleBar.append(\"line\").attr(\"x1\", x + 0.5).attr(\"y1\", y).attr(\"x2\", x + l + size - 0.5).attr(\"y2\", y).attr(\"stroke-width\", size).attr(\"stroke\", \"white\");\n    scaleBar.append(\"line\").attr(\"x1\", x).attr(\"y1\", y + size).attr(\"x2\", x + l + size).attr(\"y2\", y + size).attr(\"stroke-width\", size).attr(\"stroke\", \"#3d3d3d\");\n    var dash = size + \" \" + rn(l / 5 - size, 2);\n    scaleBar.append(\"line\").attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", x + l + size).attr(\"y2\", y).attr(\"stroke-width\", rn(size * 3, 2)).attr(\"stroke-dasharray\", dash).attr(\"stroke\", \"#3d3d3d\"); // big scale\n\n    for (var b = 0; b < 6; b++) {\n      var value = rn(b * l / 5, 2);\n      var label = rn(value * dScale / scale);\n\n      if (b === 5) {\n        scaleBar.append(\"text\").attr(\"x\", x + value).attr(\"y\", y - 2 * size).attr(\"font-size\", rn(5 * size, 1)).text(label + \" \" + unit);\n      } else {\n        scaleBar.append(\"text\").attr(\"x\", x + value).attr(\"y\", y - 2 * size).attr(\"font-size\", rn(5 * size, 1)).text(label);\n      }\n    }\n\n    if (barLabel.value !== \"\") {\n      scaleBar.append(\"text\").attr(\"x\", x + (l + 1) / 2).attr(\"y\", y + 2 * size).attr(\"dominant-baseline\", \"text-before-edge\").attr(\"font-size\", rn(5 * size, 1)).text(barLabel.value);\n    }\n\n    var bbox = scaleBar.node().getBBox(); // append backbround rectangle\n\n    scaleBar.insert(\"rect\", \":first-child\").attr(\"x\", -10).attr(\"y\", -20).attr(\"width\", bbox.width + 10).attr(\"height\", bbox.height + 15).attr(\"stroke-width\", size).attr(\"stroke\", \"none\").attr(\"filter\", \"url(#blur5)\").attr(\"fill\", barBackColor.value).attr(\"opacity\", +barBackOpacity.value);\n    fitScaleBar();\n  } // draw default ruler measiring land x-axis edges\n\n\n  function drawDefaultRuler(minXedge, maxXedge) {\n    var rulerNew = ruler.append(\"g\").attr(\"class\", \"linear\").call(d3.drag().on(\"start\", elementDrag));\n    if (!minXedge) minXedge = [0, 0];\n    if (!maxXedge) maxXedge = [svgWidth, svgHeight];\n    var x1 = rn(minXedge[0], 2),\n        y1 = rn(minXedge[1], 2),\n        x2 = rn(maxXedge[0], 2),\n        y2 = rn(maxXedge[1], 2);\n    rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x2).attr(\"y2\", y2).attr(\"class\", \"white\");\n    rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x2).attr(\"y2\", y2).attr(\"class\", \"gray\").attr(\"stroke-dasharray\", 10);\n    rulerNew.append(\"circle\").attr(\"r\", 2).attr(\"cx\", x1).attr(\"cy\", y1).attr(\"stroke-width\", 0.5).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    rulerNew.append(\"circle\").attr(\"r\", 2).attr(\"cx\", x2).attr(\"cy\", y2).attr(\"stroke-width\", 0.5).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    var x0 = rn((x1 + x2) / 2, 2),\n        y0 = rn((y1 + y2) / 2, 2);\n    rulerNew.append(\"circle\").attr(\"r\", 1.2).attr(\"cx\", x0).attr(\"cy\", y0).attr(\"stroke-width\", 0.3).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n    var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n    var tr = \"rotate(\" + angle + \" \" + x0 + \" \" + y0 + \")\";\n    var dist = rn(Math.hypot(x1 - x2, y1 - y2));\n    var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n    rulerNew.append(\"text\").attr(\"x\", x0).attr(\"y\", y0).attr(\"dy\", -1).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label).on(\"click\", removeParent).attr(\"font-size\", 10);\n  } // drag any element changing transform\n\n\n  function elementDrag() {\n    var el = d3.select(this);\n    var tr = parseTransform(el.attr(\"transform\"));\n    var dx = +tr[0] - d3.event.x,\n        dy = +tr[1] - d3.event.y;\n    d3.event.on(\"drag\", function () {\n      var x = d3.event.x,\n          y = d3.event.y;\n      var transform = \"translate(\".concat(dx + x, \",\").concat(dy + y, \") rotate(\").concat(tr[2], \" \").concat(tr[3], \" \").concat(tr[4], \")\");\n      el.attr(\"transform\", transform);\n      var pp = this.parentNode.parentNode.id;\n\n      if (pp === \"burgIcons\" || pp === \"burgLabels\") {\n        tip('Use dragging for fine-tuning only, to move burg to a different cell use \"Relocate\" button');\n      }\n\n      if (pp === \"labels\") {\n        // also transform curve control circle\n        debug.select(\"circle\").attr(\"transform\", transform);\n      }\n    });\n    d3.event.on(\"end\", function () {\n      // remember scaleBar bottom-right position\n      if (el.attr(\"id\") === \"scaleBar\") {\n        var xEnd = d3.event.x,\n            yEnd = d3.event.y;\n        var diff = Math.abs(dx - xEnd) + Math.abs(dy - yEnd);\n\n        if (diff > 5) {\n          var bbox = el.node().getBoundingClientRect();\n          sessionStorage.setItem(\"scaleBar\", [bbox.right, bbox.bottom]);\n        }\n      }\n    });\n  } // draw ruler circles and update label\n\n\n  function rulerEdgeDrag() {\n    var group = d3.select(this.parentNode);\n    var edge = d3.select(this).attr(\"data-edge\");\n    var x = d3.event.x,\n        y = d3.event.y;\n    var x0, y0;\n    d3.select(this).attr(\"cx\", x).attr(\"cy\", y);\n    var line = group.selectAll(\"line\");\n\n    if (edge === \"left\") {\n      line.attr(\"x1\", x).attr(\"y1\", y);\n      x0 = +line.attr(\"x2\"), y0 = +line.attr(\"y2\");\n    } else {\n      line.attr(\"x2\", x).attr(\"y2\", y);\n      x0 = +line.attr(\"x1\"), y0 = +line.attr(\"y1\");\n    }\n\n    var xc = rn((x + x0) / 2, 2),\n        yc = rn((y + y0) / 2, 2);\n    group.select(\".center\").attr(\"cx\", xc).attr(\"cy\", yc);\n    var dist = rn(Math.hypot(x0 - x, y0 - y));\n    var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n    var atan = x0 > x ? Math.atan2(y0 - y, x0 - x) : Math.atan2(y - y0, x - x0);\n    var angle = rn(atan * 180 / Math.PI, 3);\n    var tr = \"rotate(\" + angle + \" \" + xc + \" \" + yc + \")\";\n    group.select(\"text\").attr(\"x\", xc).attr(\"y\", yc).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label);\n  } // draw ruler center point to split ruler into 2 parts\n\n\n  function rulerCenterDrag() {\n    var xc1, yc1, xc2, yc2;\n    var group = d3.select(this.parentNode); // current ruler group\n\n    var x = d3.event.x,\n        y = d3.event.y; // current coords\n\n    var line = group.selectAll(\"line\"); // current lines\n\n    var x1 = +line.attr(\"x1\"),\n        y1 = +line.attr(\"y1\"),\n        x2 = +line.attr(\"x2\"),\n        y2 = +line.attr(\"y2\"); // initial line edge points\n\n    var rulerNew = ruler.insert(\"g\", \":first-child\");\n    rulerNew.attr(\"transform\", group.attr(\"transform\")).call(d3.drag().on(\"start\", elementDrag));\n    var factor = rn(1 / Math.pow(scale, 0.3), 1);\n    rulerNew.append(\"line\").attr(\"class\", \"white\").attr(\"stroke-width\", factor);\n    var dash = +group.select(\".gray\").attr(\"stroke-dasharray\");\n    rulerNew.append(\"line\").attr(\"class\", \"gray\").attr(\"stroke-dasharray\", dash).attr(\"stroke-width\", factor);\n    rulerNew.append(\"text\").attr(\"dy\", -1).on(\"click\", removeParent).attr(\"font-size\", 10 * factor).attr(\"stroke-width\", factor);\n    d3.event.on(\"drag\", function () {\n      x = d3.event.x, y = d3.event.y;\n      d3.select(this).attr(\"cx\", x).attr(\"cy\", y); // change first part\n\n      line.attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x).attr(\"y2\", y);\n      var dist = rn(Math.hypot(x1 - x, y1 - y));\n      var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      var atan = x1 > x ? Math.atan2(y1 - y, x1 - x) : Math.atan2(y - y1, x - x1);\n      xc1 = rn((x + x1) / 2, 2), yc1 = rn((y + y1) / 2, 2);\n      var tr = \"rotate(\" + rn(atan * 180 / Math.PI, 3) + \" \" + xc1 + \" \" + yc1 + \")\";\n      group.select(\"text\").attr(\"x\", xc1).attr(\"y\", yc1).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label); // change second (new) part\n\n      dist = rn(Math.hypot(x2 - x, y2 - y));\n      label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      atan = x2 > x ? Math.atan2(y2 - y, x2 - x) : Math.atan2(y - y2, x - x2);\n      xc2 = rn((x + x2) / 2, 2), yc2 = rn((y + y2) / 2, 2);\n      tr = \"rotate(\" + rn(atan * 180 / Math.PI, 3) + \" \" + xc2 + \" \" + yc2 + \")\";\n      rulerNew.selectAll(\"line\").attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y2);\n      rulerNew.select(\"text\").attr(\"x\", xc2).attr(\"y\", yc2).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label);\n    });\n    d3.event.on(\"end\", function () {\n      // circles for 1st part\n      group.selectAll(\"circle\").remove();\n      group.append(\"circle\").attr(\"cx\", x1).attr(\"cy\", y1).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      group.append(\"circle\").attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      group.append(\"circle\").attr(\"cx\", xc1).attr(\"cy\", yc1).attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag)); // circles for 2nd part\n\n      rulerNew.append(\"circle\").attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"cx\", x2).attr(\"cy\", y2).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"cx\", xc2).attr(\"cy\", yc2).attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n    });\n  }\n\n  function opisometerEdgeDrag() {\n    var el = d3.select(this);\n    var x0 = +el.attr(\"cx\"),\n        y0 = +el.attr(\"cy\");\n    var group = d3.select(this.parentNode);\n    var curve = group.select(\".white\");\n    var curveGray = group.select(\".gray\");\n    var text = group.select(\"text\");\n    var points = JSON.parse(text.attr(\"data-points\"));\n\n    if (x0 === points[0].scX && y0 === points[0].scY) {\n      points.reverse();\n    }\n\n    d3.event.on(\"drag\", function () {\n      var x = d3.event.x,\n          y = d3.event.y;\n      el.attr(\"cx\", x).attr(\"cy\", y);\n      var l = points[points.length - 1];\n      var diff = Math.hypot(l.scX - x, l.scY - y);\n\n      if (diff > 5) {\n        points.push({\n          scX: x,\n          scY: y\n        });\n      } else {\n        return;\n      }\n\n      lineGen.curve(d3.curveBasis);\n      var d = round(lineGen(points));\n      curve.attr(\"d\", d);\n      curveGray.attr(\"d\", d);\n      var dist = rn(curve.node().getTotalLength());\n      var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      text.attr(\"x\", x).attr(\"y\", y).text(label);\n    });\n    d3.event.on(\"end\", function () {\n      var dist = rn(curve.node().getTotalLength());\n      var c = curve.node().getPointAtLength(dist / 2);\n      var p = curve.node().getPointAtLength(dist / 2 - 1);\n      var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      var atan = p.x > c.x ? Math.atan2(p.y - c.y, p.x - c.x) : Math.atan2(c.y - p.y, c.x - p.x);\n      var angle = rn(atan * 180 / Math.PI, 3);\n      var tr = \"rotate(\" + angle + \" \" + c.x + \" \" + c.y + \")\";\n      text.attr(\"data-points\", JSON.stringify(points)).attr(\"data-dist\", dist).attr(\"x\", c.x).attr(\"y\", c.y).attr(\"transform\", tr).text(label);\n    });\n  }\n\n  function getContinuousLine(edges, indention, relax) {\n    var line = \"\";\n    if (edges.length < 3) return \"\";\n\n    while (edges.length > 2) {\n      var edgesOrdered = []; // to store points in a correct order\n\n      var _start = edges[0].start;\n      var end = edges[0].end;\n      edges.shift();\n\n      var spl = _start.split(\" \");\n\n      edgesOrdered.push({\n        scX: +spl[0],\n        scY: +spl[1]\n      });\n      spl = end.split(\" \");\n      edgesOrdered.push({\n        scX: +spl[0],\n        scY: +spl[1]\n      });\n      var x0 = +spl[0],\n          y0 = +spl[1];\n\n      for (var i = 0; end !== _start && i < 100000; i++) {\n        var next = null,\n            index = null;\n\n        for (var _e = 0; _e < edges.length; _e++) {\n          var edge = edges[_e];\n\n          if (edge.start == end || edge.end == end) {\n            next = edge;\n            end = next.start == end ? next.end : next.start;\n            index = _e;\n            break;\n          }\n        }\n\n        if (!next) {\n          console.error(\"Next edge is not found\");\n          return \"\";\n        }\n\n        spl = end.split(\" \");\n\n        if (indention || relax) {\n          var dist = Math.hypot(+spl[0] - x0, +spl[1] - y0);\n\n          if (dist >= indention && Math.random() > relax) {\n            edgesOrdered.push({\n              scX: +spl[0],\n              scY: +spl[1]\n            });\n            x0 = +spl[0], y0 = +spl[1];\n          }\n        } else {\n          edgesOrdered.push({\n            scX: +spl[0],\n            scY: +spl[1]\n          });\n        }\n\n        edges.splice(index, 1);\n\n        if (i === 100000 - 1) {\n          console.error(\"Line not ended, limit reached\");\n          break;\n        }\n      }\n\n      line += lineGen(edgesOrdered);\n    }\n\n    return round(line, 1);\n  } // temporary elevate lakes to min neighbors heights to correctly flux the water\n\n\n  function elevateLakes() {\n    console.time('elevateLakes');\n    var lakes = $.grep(cells, function (e, d) {\n      return heights[d] < 20 && !features[e.fn].border;\n    });\n    lakes.sort(function (a, b) {\n      return heights[b.index] - heights[a.index];\n    });\n\n    var _loop12 = function _loop12(i) {\n      var hs = [],\n          id = lakes[i].index;\n      cells[id].height = heights[id]; // use height on object level\n\n      lakes[i].neighbors.forEach(function (n) {\n        var nHeight = cells[n].height || heights[n];\n        if (nHeight >= 20) hs.push(nHeight);\n      });\n      if (hs.length) cells[id].height = d3.min(hs) - 1;\n      if (cells[id].height < 20) cells[id].height = 20;\n      lakes[i].lake = 1;\n    };\n\n    for (var i = 0; i < lakes.length; i++) {\n      _loop12(i);\n    }\n\n    console.timeEnd('elevateLakes');\n  } // Depression filling algorithm (for a correct water flux modeling; phase1)\n\n\n  function resolveDepressionsPrimary() {\n    console.time('resolveDepressionsPrimary');\n    land = $.grep(cells, function (e, d) {\n      if (!e.height) e.height = heights[d]; // use height on object level\n\n      return e.height >= 20;\n    });\n    land.sort(function (a, b) {\n      return b.height - a.height;\n    });\n    var limit = 10;\n\n    for (var l = 0, depression = 1; depression > 0 && l < limit; l++) {\n      depression = 0;\n\n      for (var i = 0; i < land.length; i++) {\n        var id = land[i].index;\n        if (land[i].type === \"border\") continue;\n        var hs = land[i].neighbors.map(function (n) {\n          return cells[n].height;\n        });\n        var minHigh = d3.min(hs);\n\n        if (cells[id].height <= minHigh) {\n          depression++;\n          land[i].pit = land[i].pit ? land[i].pit + 1 : 1;\n          cells[id].height = minHigh + 2;\n        }\n      }\n\n      if (l === 0) console.log(\" depressions init: \" + depression);\n    }\n\n    console.timeEnd('resolveDepressionsPrimary');\n  } // Depression filling algorithm (for a correct water flux modeling; phase2)\n\n\n  function resolveDepressionsSecondary() {\n    console.time('resolveDepressionsSecondary');\n    land = $.grep(cells, function (e) {\n      return e.height >= 20;\n    });\n    land.sort(function (a, b) {\n      return b.height - a.height;\n    });\n    var limit = 100;\n\n    for (var l = 0, depression = 1; depression > 0 && l < limit; l++) {\n      depression = 0;\n\n      for (var i = 0; i < land.length; i++) {\n        if (land[i].ctype === 99) continue;\n        var nHeights = land[i].neighbors.map(function (n) {\n          return cells[n].height;\n        });\n        var minHigh = d3.min(nHeights);\n\n        if (land[i].height <= minHigh) {\n          depression++;\n          land[i].pit = land[i].pit ? land[i].pit + 1 : 1;\n          land[i].height = Math.trunc(minHigh + 2);\n        }\n      }\n\n      if (l === 0) console.log(\" depressions reGraphed: \" + depression);\n      if (l === limit - 1) console.error(\"Error: resolveDepressions iteration limit\");\n    }\n\n    console.timeEnd('resolveDepressionsSecondary');\n  } // restore initial heights if user don't want system to change heightmap\n\n\n  function restoreCustomHeights() {\n    land.forEach(function (l) {\n      if (!l.pit) return;\n      l.height = Math.trunc(l.height - l.pit * 2);\n      if (l.height < 20) l.height = 20;\n    });\n  }\n\n  function flux() {\n    console.time('flux');\n    riversData = [];\n    var riverNext = 0;\n    land.sort(function (a, b) {\n      return b.height - a.height;\n    });\n\n    var _loop13 = function _loop13(i) {\n      var id = land[i].index;\n      var sx = land[i].data[0];\n      var sy = land[i].data[1];\n      var fn = land[i].fn;\n\n      if (land[i].ctype === 99) {\n        if (land[i].river !== undefined) {\n          var x, y;\n\n          var _min = Math.min(sy, graphHeight - sy, sx, graphWidth - sx);\n\n          if (_min === sy) {\n            x = sx;\n            y = 0;\n          }\n\n          if (_min === graphHeight - sy) {\n            x = sx;\n            y = graphHeight;\n          }\n\n          if (_min === sx) {\n            x = 0;\n            y = sy;\n          }\n\n          if (_min === graphWidth - sx) {\n            x = graphWidth;\n            y = sy;\n          }\n\n          riversData.push({\n            river: land[i].river,\n            cell: id,\n            x: x,\n            y: y\n          });\n        }\n\n        return \"continue\";\n      }\n\n      if (features[fn].river !== undefined) {\n        if (land[i].river !== features[fn].river) {\n          land[i].river = undefined;\n          land[i].flux = 0;\n        }\n      }\n\n      var minHeight = 1000,\n          min = void 0;\n      land[i].neighbors.forEach(function (e) {\n        if (cells[e].height < minHeight) {\n          minHeight = cells[e].height;\n          min = e;\n        }\n      }); // Define river number\n\n      if (min !== undefined && land[i].flux > 1) {\n        if (land[i].river === undefined) {\n          // State new River\n          land[i].river = riverNext;\n          riversData.push({\n            river: riverNext,\n            cell: id,\n            x: sx,\n            y: sy\n          });\n          riverNext += 1;\n        } // Assing existing River to the downhill cell\n\n\n        if (cells[min].river == undefined) {\n          cells[min].river = land[i].river;\n        } else {\n          var riverTo = cells[min].river;\n          var iRiver = $.grep(riversData, function (e) {\n            return e.river == land[i].river;\n          });\n          var minRiver = $.grep(riversData, function (e) {\n            return e.river == riverTo;\n          });\n          var iRiverL = iRiver.length;\n          var minRiverL = minRiver.length; // re-assing river nunber if new part is greater\n\n          if (iRiverL >= minRiverL) {\n            cells[min].river = land[i].river;\n            iRiverL += 1;\n            minRiverL -= 1;\n          } // mark confluences\n\n\n          if (cells[min].height >= 20 && iRiverL > 1 && minRiverL > 1) {\n            if (!cells[min].confluence) {\n              cells[min].confluence = minRiverL - 1;\n            } else {\n              cells[min].confluence += minRiverL - 1;\n            }\n          }\n        }\n      }\n\n      if (cells[min].flux) cells[min].flux += land[i].flux;\n\n      if (land[i].river !== undefined) {\n        var px = cells[min].data[0];\n        var py = cells[min].data[1];\n\n        if (cells[min].height < 20) {\n          // pour water to the sea\n          var _x = (px + sx) / 2 + (px - sx) / 10;\n\n          var _y = (py + sy) / 2 + (py - sy) / 10;\n\n          riversData.push({\n            river: land[i].river,\n            cell: id,\n            x: _x,\n            y: _y\n          });\n        } else {\n          if (cells[min].lake === 1) {\n            fn = cells[min].fn;\n            if (features[fn].river === undefined) features[fn].river = land[i].river;\n          } // add next River segment\n\n\n          riversData.push({\n            river: land[i].river,\n            cell: min,\n            x: px,\n            y: py\n          });\n        }\n      }\n    };\n\n    for (var i = 0; i < land.length; i++) {\n      var _ret3 = _loop13(i);\n\n      if (_ret3 === \"continue\") continue;\n    }\n\n    console.timeEnd('flux');\n    drawRiverLines(riverNext);\n  }\n\n  function drawRiverLines(riverNext) {\n    console.time('drawRiverLines');\n\n    var _loop14 = function _loop14(i) {\n      var dataRiver = $.grep(riversData, function (e) {\n        return e.river === i;\n      });\n\n      if (dataRiver.length > 1) {\n        var riverAmended = amendRiver(dataRiver, 1);\n        var width = rn(0.8 + Math.random() * 0.4, 1);\n        var increment = rn(0.8 + Math.random() * 0.4, 1);\n        var d = drawRiver(riverAmended, width, increment);\n        rivers.append(\"path\").attr(\"d\", d).attr(\"id\", \"river\" + i).attr(\"data-width\", width).attr(\"data-increment\", increment);\n      }\n    };\n\n    for (var i = 0; i < riverNext; i++) {\n      _loop14(i);\n    }\n\n    rivers.selectAll(\"path\").on(\"click\", editRiver);\n    console.timeEnd('drawRiverLines');\n  } // add more river points on 1/3 and 2/3 of length\n\n\n  function amendRiver(dataRiver, rndFactor) {\n    var riverAmended = [];\n    var side = 1;\n\n    for (var r = 0; r < dataRiver.length; r++) {\n      var dX = dataRiver[r].x;\n      var dY = dataRiver[r].y;\n      var cell = dataRiver[r].cell;\n      var c = cells[cell].confluence || 0;\n      riverAmended.push([dX, dY, c]);\n\n      if (r + 1 < dataRiver.length) {\n        var eX = dataRiver[r + 1].x;\n        var eY = dataRiver[r + 1].y;\n        var angle = Math.atan2(eY - dY, eX - dX);\n        var serpentine = 1 / (r + 1);\n        var meandr = serpentine + 0.3 + Math.random() * 0.3 * rndFactor;\n\n        if (Math.random() > 0.5) {\n          side *= -1;\n        }\n\n        var dist = Math.hypot(eX - dX, eY - dY); // if dist is big or river is small add 2 extra points\n\n        if (dist > 8 || dist > 4 && dataRiver.length < 6) {\n          var stX = (dX * 2 + eX) / 3;\n          var stY = (dY * 2 + eY) / 3;\n          var enX = (dX + eX * 2) / 3;\n          var enY = (dY + eY * 2) / 3;\n          stX += -Math.sin(angle) * meandr * side;\n          stY += Math.cos(angle) * meandr * side;\n\n          if (Math.random() > 0.8) {\n            side *= -1;\n          }\n\n          enX += Math.sin(angle) * meandr * side;\n          enY += -Math.cos(angle) * meandr * side;\n          riverAmended.push([stX, stY], [enX, enY]); // if dist is medium or river is small add 1 extra point\n        } else if (dist > 4 || dataRiver.length < 6) {\n          var scX = (dX + eX) / 2;\n          var scY = (dY + eY) / 2;\n          scX += -Math.sin(angle) * meandr * side;\n          scY += Math.cos(angle) * meandr * side;\n          riverAmended.push([scX, scY]);\n        }\n      }\n    }\n\n    return riverAmended;\n  } // draw river polygon using arrpoximation\n\n\n  function drawRiver(points, width, increment) {\n    lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n    var extraOffset = 0.03; // start offset to make river source visible\n\n    width = width || 1; // river width modifier\n\n    increment = increment || 1; // river bed widening modifier\n\n    var riverLength = 0;\n    points.map(function (p, i) {\n      if (i === 0) {\n        return 0;\n      }\n\n      riverLength += Math.hypot(p[0] - points[i - 1][0], p[1] - points[i - 1][1]);\n    });\n    var widening = rn((1000 + riverLength * 30) * increment);\n    var riverPointsLeft = [],\n        riverPointsRight = [];\n    var last = points.length - 1;\n    var factor = riverLength / points.length; // first point\n\n    var x = points[0][0],\n        y = points[0][1],\n        c;\n    var angle = Math.atan2(y - points[1][1], x - points[1][0]);\n    var xLeft = x + -Math.sin(angle) * extraOffset,\n        yLeft = y + Math.cos(angle) * extraOffset;\n    riverPointsLeft.push({\n      scX: xLeft,\n      scY: yLeft\n    });\n    var xRight = x + Math.sin(angle) * extraOffset,\n        yRight = y + -Math.cos(angle) * extraOffset;\n    riverPointsRight.unshift({\n      scX: xRight,\n      scY: yRight\n    }); // middle points\n\n    for (var p = 1; p < last; p++) {\n      x = points[p][0], y = points[p][1], c = points[p][2];\n\n      if (c) {\n        extraOffset += Math.atan(c * 10 / widening);\n      } // confluence\n\n\n      var xPrev = points[p - 1][0],\n          yPrev = points[p - 1][1];\n      var xNext = points[p + 1][0],\n          yNext = points[p + 1][1];\n      angle = Math.atan2(yPrev - yNext, xPrev - xNext);\n      var offset = Math.atan(Math.pow(p * factor, 2) / widening) / 2 * width + extraOffset;\n      xLeft = x + -Math.sin(angle) * offset, yLeft = y + Math.cos(angle) * offset;\n      riverPointsLeft.push({\n        scX: xLeft,\n        scY: yLeft\n      });\n      xRight = x + Math.sin(angle) * offset, yRight = y + -Math.cos(angle) * offset;\n      riverPointsRight.unshift({\n        scX: xRight,\n        scY: yRight\n      });\n    } // end point\n\n\n    x = points[last][0], y = points[last][1], c = points[last][2];\n\n    if (c) {\n      extraOffset += Math.atan(c * 10 / widening);\n    } // confluence\n\n\n    angle = Math.atan2(points[last - 1][1] - y, points[last - 1][0] - x);\n    xLeft = x + -Math.sin(angle) * offset, yLeft = y + Math.cos(angle) * offset;\n    riverPointsLeft.push({\n      scX: xLeft,\n      scY: yLeft\n    });\n    xRight = x + Math.sin(angle) * offset, yRight = y + -Math.cos(angle) * offset;\n    riverPointsRight.unshift({\n      scX: xRight,\n      scY: yRight\n    }); // generate path and return\n\n    var right = lineGen(riverPointsRight);\n    var left = lineGen(riverPointsLeft);\n    left = left.substring(left.indexOf(\"C\"));\n    return round(right + left, 2);\n  } // draw river polygon with best quality\n\n\n  function drawRiverSlow(points, width, increment) {\n    lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n    width = width || 1;\n    var extraOffset = 0.02 * width;\n    increment = increment || 1;\n    var riverPoints = points.map(function (p) {\n      return {\n        scX: p[0],\n        scY: p[1]\n      };\n    });\n    var river = defs.append(\"path\").attr(\"d\", lineGen(riverPoints));\n    var riverLength = river.node().getTotalLength();\n    var widening = rn((1000 + riverLength * 30) * increment);\n    var riverPointsLeft = [],\n        riverPointsRight = [];\n\n    for (var l = 0; l < riverLength; l++) {\n      var point = river.node().getPointAtLength(l);\n      var from = river.node().getPointAtLength(l - 0.1);\n      var to = river.node().getPointAtLength(l + 0.1);\n      var angle = Math.atan2(from.y - to.y, from.x - to.x);\n      var offset = Math.atan(Math.pow(l, 2) / widening) / 2 * width + extraOffset;\n      var xLeft = point.x + -Math.sin(angle) * offset;\n      var yLeft = point.y + Math.cos(angle) * offset;\n      riverPointsLeft.push({\n        scX: xLeft,\n        scY: yLeft\n      });\n      var xRight = point.x + Math.sin(angle) * offset;\n      var yRight = point.y + -Math.cos(angle) * offset;\n      riverPointsRight.unshift({\n        scX: xRight,\n        scY: yRight\n      });\n    }\n\n    var point = river.node().getPointAtLength(riverLength);\n    var from = river.node().getPointAtLength(riverLength - 0.1);\n    var angle = Math.atan2(from.y - point.y, from.x - point.x);\n    var offset = Math.atan(Math.pow(riverLength, 2) / widening) / 2 * width + extraOffset;\n    var xLeft = point.x + -Math.sin(angle) * offset;\n    var yLeft = point.y + Math.cos(angle) * offset;\n    riverPointsLeft.push({\n      scX: xLeft,\n      scY: yLeft\n    });\n    var xRight = point.x + Math.sin(angle) * offset;\n    var yRight = point.y + -Math.cos(angle) * offset;\n    riverPointsRight.unshift({\n      scX: xRight,\n      scY: yRight\n    });\n    river.remove(); // generate path and return\n\n    var right = lineGen(riverPointsRight);\n    var left = lineGen(riverPointsLeft);\n    left = left.substring(left.indexOf(\"C\"));\n    return round(right + left, 2);\n  } // add lakes on depressed points on river course\n\n\n  function addLakes() {\n    console.time('addLakes');\n    var smallLakes = 0;\n\n    for (var i = 0; i < land.length; i++) {\n      // elavate all big lakes\n      if (land[i].lake === 1) {\n        land[i].height = 19;\n        land[i].ctype = -1;\n      } // define eligible small lakes\n\n\n      if (land[i].lake === 2 && smallLakes < 100) {\n        if (land[i].river !== undefined) {\n          land[i].height = 19;\n          land[i].ctype = -1;\n          land[i].fn = -1;\n          smallLakes++;\n        } else {\n          land[i].lake = undefined;\n          land[i].neighbors.forEach(function (n) {\n            if (cells[n].lake !== 1 && cells[n].river !== undefined) {\n              cells[n].lake = 2;\n              cells[n].height = 19;\n              cells[n].ctype = -1;\n              cells[n].fn = -1;\n              smallLakes++;\n            } else if (cells[n].lake === 2) {\n              cells[n].lake = undefined;\n            }\n          });\n        }\n      }\n    }\n\n    console.log(\"small lakes: \" + smallLakes); // mark small lakes\n\n    var unmarked = $.grep(land, function (e) {\n      return e.fn === -1;\n    });\n\n    var _loop15 = function _loop15() {\n      var fn = -1,\n          queue = [unmarked[0].index],\n          lakeCells = [];\n      unmarked[0].session = \"addLakes\";\n\n      while (queue.length) {\n        var q = queue.pop();\n        lakeCells.push(q);\n        if (cells[q].fn !== -1) fn = cells[q].fn;\n        cells[q].neighbors.forEach(function (e) {\n          if (cells[e].lake && cells[e].session !== \"addLakes\") {\n            cells[e].session = \"addLakes\";\n            queue.push(e);\n          }\n        });\n      }\n\n      if (fn === -1) {\n        fn = features.length;\n        features.push({\n          i: fn,\n          land: false,\n          border: false\n        });\n      }\n\n      lakeCells.forEach(function (c) {\n        cells[c].fn = fn;\n      });\n      unmarked = $.grep(land, function (e) {\n        return e.fn === -1;\n      });\n    };\n\n    while (unmarked.length) {\n      _loop15();\n    }\n\n    land = $.grep(cells, function (e) {\n      return e.height >= 20;\n    });\n    console.timeEnd('addLakes');\n  }\n\n  function editLabel() {\n    if (customization) return;\n    unselect();\n    closeDialogs(\"#labelEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true); // update group parameters\n\n    var group = d3.select(this.parentNode);\n    updateGroupOptions();\n    labelGroupSelect.value = group.attr(\"id\");\n    labelFontSelect.value = fonts.indexOf(group.attr(\"data-font\"));\n    labelSize.value = group.attr(\"data-size\");\n    labelColor.value = toHEX(group.attr(\"fill\"));\n    labelOpacity.value = group.attr(\"opacity\");\n    labelText.value = elSelected.text();\n    var tr = parseTransform(elSelected.attr(\"transform\"));\n    labelAngle.value = tr[2];\n    labelAngleValue.innerHTML = Math.abs(+tr[2]) + \"°\";\n    $(\"#labelEditor\").dialog({\n      title: \"Edit Label: \" + labelText.value,\n      minHeight: 30,\n      width: \"auto\",\n      maxWidth: 275,\n      resizable: false,\n      position: {\n        my: \"center top+10\",\n        at: \"bottom\",\n        of: this\n      },\n      close: unselect\n    });\n    if (modules.editLabel) return;\n    modules.editLabel = true;\n    loadDefaultFonts();\n\n    function updateGroupOptions() {\n      labelGroupSelect.innerHTML = \"\";\n      labels.selectAll(\"g:not(#burgLabels)\").each(function (d) {\n        if (this.parentNode.id === \"burgLabels\") return;\n        var id = d3.select(this).attr(\"id\");\n        var opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = id;\n        labelGroupSelect.add(opt);\n      });\n    }\n\n    $(\"#labelGroupButton\").click(function () {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelGroupButtons\").toggle();\n    }); // on group change\n\n    document.getElementById(\"labelGroupSelect\").addEventListener(\"change\", function () {\n      document.getElementById(this.value).appendChild(elSelected.remove().node());\n    }); // toggle inputs to declare a new group\n\n    document.getElementById(\"labelGroupNew\").addEventListener(\"click\", function () {\n      if ($(\"#labelGroupInput\").css(\"display\") === \"none\") {\n        $(\"#labelGroupInput\").css(\"display\", \"inline-block\");\n        $(\"#labelGroupSelect\").css(\"display\", \"none\");\n        labelGroupInput.focus();\n      } else {\n        $(\"#labelGroupSelect\").css(\"display\", \"inline-block\");\n        $(\"#labelGroupInput\").css(\"display\", \"none\");\n      }\n    }); // toggle inputs to select a group\n\n    document.getElementById(\"labelExternalFont\").addEventListener(\"click\", function () {\n      if ($(\"#labelFontInput\").css(\"display\") === \"none\") {\n        $(\"#labelFontInput\").css(\"display\", \"inline-block\");\n        $(\"#labelFontSelect\").css(\"display\", \"none\");\n        labelFontInput.focus();\n      } else {\n        $(\"#labelFontSelect\").css(\"display\", \"inline-block\");\n        $(\"#labelFontInput\").css(\"display\", \"none\");\n      }\n    }); // on new group creation\n\n    document.getElementById(\"labelGroupInput\").addEventListener(\"change\", function () {\n      if (!this.value) {\n        tip(\"Please provide a valid group name\");\n        return;\n      }\n\n      var group = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+group.charAt(0))) group = \"g\" + group; // if el with this id exists, add size to id\n\n      while (labels.selectAll(\"#\" + group).size()) {\n        group += \"_new\";\n      }\n\n      createNewLabelGroup(group);\n    });\n\n    function createNewLabelGroup(g) {\n      var group = elSelected.node().parentNode.cloneNode(false);\n      var groupNew = labels.append(function (f) {\n        return group;\n      }).attr(\"id\", g);\n      groupNew.append(function (f) {\n        return elSelected.remove().node();\n      });\n      updateGroupOptions();\n      $(\"#labelGroupSelect, #labelGroupInput\").toggle();\n      labelGroupInput.value = \"\";\n      labelGroupSelect.value = g;\n      updateLabelGroups();\n    } // remove label group on click\n\n\n    document.getElementById(\"labelGroupRemove\").addEventListener(\"click\", function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var id = group.attr(\"id\");\n      var count = group.selectAll(\"text\").size(); // remove group with < 2 label without ask\n\n      if (count < 2) {\n        removeAllLabelsInGroup(id);\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n\n      alertMessage.innerHTML = \"Are you sure you want to remove all labels (\" + count + \") of that group?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove label group\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            removeAllLabelsInGroup(id);\n            $(\"#labelEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n    $(\"#labelTextButton\").click(function () {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelTextButtons\").toggle();\n    }); // on label text change\n\n    document.getElementById(\"labelText\").addEventListener(\"input\", function () {\n      if (!this.value) {\n        tip(\"Name should not be blank, set opacity to 0 to hide label or click remove button to delete\");\n        return;\n      } // change Label text\n\n\n      if (elSelected.select(\"textPath\").size()) elSelected.select(\"textPath\").text(this.value);else elSelected.text(this.value);\n      $(\"div[aria-describedby='labelEditor'] .ui-dialog-title\").text(\"Edit Label: \" + this.value); // check if label is a country name\n\n      var id = elSelected.attr(\"id\") || \"\";\n\n      if (id.includes(\"regionLabel\")) {\n        var state = +elSelected.attr(\"id\").slice(11);\n        states[state].name = this.value;\n      }\n    }); // generate a random country name\n\n    document.getElementById(\"labelTextRandom\").addEventListener(\"click\", function () {\n      var name = elSelected.text();\n      var id = elSelected.attr(\"id\") || \"\";\n\n      if (id.includes(\"regionLabel\")) {\n        // label is a country name\n        var state = +elSelected.attr(\"id\").slice(11);\n        name = generateStateName(state.i);\n        states[state].name = name;\n      } else {\n        // label is not a country name, use random culture\n        var c = elSelected.node().getBBox();\n        var closest = cultureTree.find(c.x + c.width / 2, c.y + c.height / 2);\n        var culture = Math.floor(Math.random() * cultures.length);\n        name = generateName(culture);\n      }\n\n      labelText.value = name;\n      $(\"div[aria-describedby='labelEditor'] .ui-dialog-title\").text(\"Edit Label: \" + name); // change Label text\n\n      if (elSelected.select(\"textPath\").size()) elSelected.select(\"textPath\").text(name);else elSelected.text(name);\n    });\n    $(\"#labelFontButton\").click(function () {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelFontButtons\").toggle();\n    }); // on label font change\n\n    document.getElementById(\"labelFontSelect\").addEventListener(\"change\", function () {\n      var group = elSelected.node().parentNode;\n      var font = fonts[this.value].split(':')[0].replace(/\\+/g, \" \");\n      group.setAttribute(\"font-family\", font);\n      group.setAttribute(\"data-font\", fonts[this.value]);\n    }); // on adding custom font\n\n    document.getElementById(\"labelFontInput\").addEventListener(\"change\", function () {\n      fetchFonts(this.value).then(function (fetched) {\n        if (!fetched) return;\n        labelExternalFont.click();\n        labelFontInput.value = \"\";\n        if (fetched === 1) $(\"#labelFontSelect\").val(fonts.length - 1).change();\n      });\n    }); // on label size input\n\n    document.getElementById(\"labelSize\").addEventListener(\"input\", function () {\n      var group = elSelected.node().parentNode;\n      var size = +this.value;\n      group.setAttribute(\"data-size\", size);\n      group.setAttribute(\"font-size\", rn((size + size / scale) / 2, 2));\n    });\n    $(\"#labelStyleButton\").click(function () {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelStyleButtons\").toggle();\n    }); // on label fill color input\n\n    document.getElementById(\"labelColor\").addEventListener(\"input\", function () {\n      var group = elSelected.node().parentNode;\n      group.setAttribute(\"fill\", this.value);\n    }); // on label opacity input\n\n    document.getElementById(\"labelOpacity\").addEventListener(\"input\", function () {\n      var group = elSelected.node().parentNode;\n      group.setAttribute(\"opacity\", this.value);\n    });\n    $(\"#labelAngleButton\").click(function () {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelAngleButtons\").toggle();\n    }); // on label angle input\n\n    document.getElementById(\"labelAngle\").addEventListener(\"input\", function () {\n      var tr = parseTransform(elSelected.attr(\"transform\"));\n      labelAngleValue.innerHTML = Math.abs(+this.value) + \"°\";\n      var c = elSelected.node().getBBox();\n      var angle = +this.value;\n      var transform = \"translate(\".concat(tr[0], \",\").concat(tr[1], \") rotate(\").concat(angle, \" \").concat(c.x + c.width / 2, \" \").concat(c.y + c.height / 2, \")\");\n      elSelected.attr(\"transform\", transform);\n    }); // display control points to curve label (place on path)\n\n    document.getElementById(\"labelCurve\").addEventListener(\"click\", function () {\n      var c = elSelected.node().getBBox();\n      var cx = c.x + c.width / 2,\n          cy = c.y + c.height / 2;\n\n      if (!elSelected.select(\"textPath\").size()) {\n        var id = elSelected.attr(\"id\");\n        var pathId = \"#textPath_\" + id;\n        var path = \"M\".concat(cx - c.width, \",\").concat(cy, \" q\").concat(c.width, \",0 \").concat(c.width * 2, \",0\");\n        var text = elSelected.text(),\n            x = elSelected.attr(\"x\"),\n            y = elSelected.attr(\"y\");\n        elSelected.text(null).attr(\"data-x\", x).attr(\"data-y\", y).attr(\"x\", null).attr(\"y\", null);\n        defs.append(\"path\").attr(\"id\", \"textPath_\" + id).attr(\"d\", path);\n        elSelected.append(\"textPath\").attr(\"href\", pathId).attr(\"startOffset\", \"50%\").text(text);\n      }\n\n      if (!debug.select(\"circle\").size()) {\n        debug.append(\"circle\").attr(\"id\", \"textPathControl\").attr(\"r\", 1.6).attr(\"cx\", cx).attr(\"cy\", cy).attr(\"transform\", elSelected.attr(\"transform\") || null).call(d3.drag().on(\"start\", textPathControlDrag));\n      }\n    }); // drag textPath controle point to curve the label\n\n    function textPathControlDrag() {\n      var textPath = defs.select(\"#textPath_\" + elSelected.attr(\"id\"));\n      var path = textPath.attr(\"d\").split(\" \");\n      var M = path[0].split(\",\");\n      var q = path[1].split(\",\"); // +q[1] to get qy - the only changeble value\n\n      var y = d3.event.y;\n      d3.event.on(\"drag\", function () {\n        var dy = d3.event.y - y;\n        var total = +q[1] + dy * 8;\n        d3.select(this).attr(\"cy\", d3.event.y);\n        textPath.attr(\"d\", \"\".concat(M[0], \",\").concat(+M[1] - dy, \" \").concat(q[0], \",\").concat(total, \" \").concat(path[2]));\n      });\n    } // cancel label curvature\n\n\n    document.getElementById(\"labelCurveCancel\").addEventListener(\"click\", function () {\n      if (!elSelected.select(\"textPath\").size()) return;\n      var text = elSelected.text(),\n          x = elSelected.attr(\"data-x\"),\n          y = elSelected.attr(\"data-y\");\n      elSelected.text();\n      elSelected.attr(\"x\", x).attr(\"y\", y).attr(\"data-x\", null).attr(\"data-y\", null).text(text);\n      defs.select(\"#textPath_\" + elSelected.attr(\"id\")).remove();\n      debug.select(\"circle\").remove();\n    }); // open legendsEditor\n\n    document.getElementById(\"labelLegend\").addEventListener(\"click\", function () {\n      var id = elSelected.attr(\"id\");\n      var name = elSelected.text();\n      editLegends(id, name);\n    }); // copy label on click\n\n    document.getElementById(\"labelCopy\").addEventListener(\"click\", function () {\n      var group = d3.select(elSelected.node().parentNode);\n      copy = group.append(function (f) {\n        return elSelected.node().cloneNode(true);\n      });\n      var id = \"label\" + Date.now().toString().slice(7);\n      copy.attr(\"id\", id).attr(\"class\", null).on(\"click\", editLabel);\n      var shift = +group.attr(\"font-size\") + 1;\n\n      if (copy.select(\"textPath\").size()) {\n        var path = defs.select(\"#textPath_\" + elSelected.attr(\"id\")).attr(\"d\");\n        var textPath = defs.append(\"path\").attr(\"id\", \"textPath_\" + id);\n        copy.select(\"textPath\").attr(\"href\", \"#textPath_\" + id);\n        var pathArray = path.split(\" \");\n        var x = +pathArray[0].split(\",\")[0].slice(1);\n        var y = +pathArray[0].split(\",\")[1];\n        textPath.attr(\"d\", \"M\".concat(x - shift, \",\").concat(y - shift, \" \").concat(pathArray[1], \" \").concat(pathArray[2]));\n        shift;\n      } else {\n        var _x2 = +elSelected.attr(\"x\") - shift;\n\n        var _y2 = +elSelected.attr(\"y\") - shift;\n\n        while (group.selectAll(\"text[x='\" + _x2 + \"']\").size()) {\n          _x2 -= shift;\n          _y2 -= shift;\n        }\n\n        copy.attr(\"x\", _x2).attr(\"y\", _y2);\n      }\n    }); // remove label on click\n\n    document.getElementById(\"labelRemoveSingle\").addEventListener(\"click\", function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the label?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove label\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            defs.select(\"#textPath_\" + elSelected.attr(\"id\")).remove();\n            $(\"#labelEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editRiver() {\n    if (customization) return;\n\n    if (elSelected) {\n      var self = d3.select(this).attr(\"id\") === elSelected.attr(\"id\");\n      var point = d3.mouse(this);\n\n      if (elSelected.attr(\"data-river\") === \"new\") {\n        addRiverPoint([point[0], point[1]]);\n        completeNewRiver();\n        return;\n      } else if (self) {\n        riverAddControlPoint(point);\n        return;\n      }\n    }\n\n    unselect();\n    closeDialogs(\"#riverEditor, .stable\");\n    elSelected = d3.select(this);\n    elSelected.call(d3.drag().on(\"start\", riverDrag));\n    var tr = parseTransform(elSelected.attr(\"transform\"));\n    riverAngle.value = tr[2];\n    riverAngleValue.innerHTML = Math.abs(+tr[2]) + \"°\";\n    riverScale.value = tr[5];\n    riverWidthInput.value = +elSelected.attr(\"data-width\");\n    riverIncrement.value = +elSelected.attr(\"data-increment\");\n    $(\"#riverEditor\").dialog({\n      title: \"Edit River\",\n      minHeight: 30,\n      width: \"auto\",\n      resizable: false,\n      position: {\n        my: \"center top+20\",\n        at: \"top\",\n        of: d3.event\n      },\n      close: function close() {\n        if ($(\"#riverNew\").hasClass('pressed')) completeNewRiver();\n        unselect();\n      }\n    });\n    if (!debug.select(\".controlPoints\").size()) debug.append(\"g\").attr(\"class\", \"controlPoints\");\n    riverDrawPoints();\n\n    if (modules.editRiver) {\n      return;\n    }\n\n    modules.editRiver = true;\n\n    function riverAddControlPoint(point) {\n      var dists = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var x = +d3.select(this).attr(\"cx\");\n        var y = +d3.select(this).attr(\"cy\");\n        dists.push(Math.hypot(point[0] - x, point[1] - y));\n      });\n      var index = dists.length;\n\n      if (dists.length > 1) {\n        var sorted = dists.slice(0).sort(function (a, b) {\n          return a - b;\n        });\n        var closest = dists.indexOf(sorted[0]);\n        var next = dists.indexOf(sorted[1]);\n\n        if (closest <= next) {\n          index = closest + 1;\n        } else {\n          index = next + 1;\n        }\n      }\n\n      var before = \":nth-child(\" + (index + 1) + \")\";\n      debug.select(\".controlPoints\").insert(\"circle\", before).attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35).call(d3.drag().on(\"drag\", riverPointDrag)).on(\"click\", function (d) {\n        $(this).remove();\n        redrawRiver();\n      });\n      redrawRiver();\n    }\n\n    function riverDrawPoints() {\n      var node = elSelected.node(); // river is a polygon, so divide length by 2 to get course length\n\n      var l = node.getTotalLength() / 2;\n      var parts = l / 5 >> 0; // number of points\n\n      var inc = l / parts; // increment\n\n      if (inc === Infinity) {\n        inc = l;\n      } // 2 control points for short rivers\n      // draw control points\n\n\n      for (var i = l, c = l; i > 0; i -= inc, c += inc) {\n        var p1 = node.getPointAtLength(i);\n        var p2 = node.getPointAtLength(c);\n        var _p = [(p1.x + p2.x) / 2, (p1.y + p2.y) / 2];\n        addRiverPoint(_p);\n      } // last point should be accurate\n\n\n      var lp1 = node.getPointAtLength(0);\n      var lp2 = node.getPointAtLength(l * 2);\n      var p = [(lp1.x + lp2.x) / 2, (lp1.y + lp2.y) / 2];\n      addRiverPoint(p);\n    }\n\n    function addRiverPoint(point) {\n      debug.select(\".controlPoints\").append(\"circle\").attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35).call(d3.drag().on(\"drag\", riverPointDrag)).on(\"click\", function (d) {\n        $(this).remove();\n        redrawRiver();\n      });\n    }\n\n    function riverPointDrag() {\n      d3.select(this).attr(\"cx\", d3.event.x).attr(\"cy\", d3.event.y);\n      redrawRiver();\n    }\n\n    function riverDrag() {\n      var x = d3.event.x,\n          y = d3.event.y;\n      var tr = parseTransform(elSelected.attr(\"transform\"));\n      d3.event.on(\"drag\", function () {\n        var xc = d3.event.x,\n            yc = d3.event.y;\n        var transform = \"translate(\".concat(+tr[0] + xc - x, \",\").concat(+tr[1] + yc - y, \") rotate(\").concat(tr[2], \" \").concat(tr[3], \" \").concat(tr[4], \") scale(\").concat(tr[5], \")\");\n        elSelected.attr(\"transform\", transform);\n        debug.select(\".controlPoints\").attr(\"transform\", transform);\n      });\n    }\n\n    function redrawRiver() {\n      var points = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var el = d3.select(this);\n        points.push([+el.attr(\"cx\"), +el.attr(\"cy\")]);\n      });\n      var width = +riverWidthInput.value;\n      var increment = +riverIncrement.value;\n      var d = drawRiverSlow(points, width, increment);\n      elSelected.attr(\"d\", d);\n    }\n\n    $(\"#riverWidthInput, #riverIncrement\").change(function () {\n      var width = +riverWidthInput.value;\n      var increment = +riverIncrement.value;\n      elSelected.attr(\"data-width\", width).attr(\"data-increment\", increment);\n      redrawRiver();\n    });\n    $(\"#riverRegenerate\").click(function () {\n      var points = [],\n          amended = [],\n          x,\n          y,\n          p1,\n          p2;\n      var node = elSelected.node();\n      var l = node.getTotalLength() / 2;\n      var parts = l / 8 >> 0; // number of points\n\n      var inc = l / parts; // increment\n\n      if (inc === Infinity) {\n        inc = l;\n      } // 2 control points for short rivers\n\n\n      for (var i = l, _e2 = l; i > 0; i -= inc, _e2 += inc) {\n        p1 = node.getPointAtLength(i);\n        p2 = node.getPointAtLength(_e2);\n        x = (p1.x + p2.x) / 2, y = (p1.y + p2.y) / 2;\n        points.push([x, y]);\n      } // last point should be accurate\n\n\n      p1 = node.getPointAtLength(0);\n      p2 = node.getPointAtLength(l * 2);\n      x = (p1.x + p2.x) / 2, y = (p1.y + p2.y) / 2;\n      points.push([x, y]); // amend points\n\n      var rndFactor = 0.3 + Math.random() * 1.4; // random factor in range 0.2-1.8\n\n      for (var _i = 0; _i < points.length; _i++) {\n        x = points[_i][0], y = points[_i][1];\n        amended.push([x, y]); // add additional semi-random point\n\n        if (_i + 1 < points.length) {\n          var x2 = points[_i + 1][0],\n              y2 = points[_i + 1][1];\n          var side = Math.random() > 0.5 ? 1 : -1;\n          var angle = Math.atan2(y2 - y, x2 - x);\n          var serpentine = 2 / (_i + 1);\n          var meandr = serpentine + 0.3 + Math.random() * rndFactor;\n          x = (x + x2) / 2, y = (y + y2) / 2;\n          x += -Math.sin(angle) * meandr * side;\n          y += Math.cos(angle) * meandr * side;\n          amended.push([x, y]);\n        }\n      }\n\n      var width = +riverWidthInput.value * 0.6 + Math.random();\n      var increment = +riverIncrement.value * 0.9 + Math.random() * 0.2;\n      riverWidthInput.value = width;\n      riverIncrement.value = increment;\n      elSelected.attr(\"data-width\", width).attr(\"data-increment\", increment);\n      var d = drawRiverSlow(amended, width, increment);\n      elSelected.attr(\"d\", d).attr(\"data-width\", width).attr(\"data-increment\", increment);\n      debug.select(\".controlPoints\").selectAll(\"*\").remove();\n      amended.map(function (p) {\n        addRiverPoint(p);\n      });\n    });\n    $(\"#riverAngle\").on(\"input\", function () {\n      var tr = parseTransform(elSelected.attr(\"transform\"));\n      riverAngleValue.innerHTML = Math.abs(+this.value) + \"°\";\n      var c = elSelected.node().getBBox();\n      var angle = +this.value,\n          scale = +tr[5];\n      var transform = \"translate(\".concat(tr[0], \",\").concat(tr[1], \") rotate(\").concat(angle, \" \").concat((c.x + c.width / 2) * scale, \" \").concat((c.y + c.height / 2) * scale, \") scale(\").concat(scale, \")\");\n      elSelected.attr(\"transform\", transform);\n      debug.select(\".controlPoints\").attr(\"transform\", transform);\n    });\n    $(\"#riverReset\").click(function () {\n      elSelected.attr(\"transform\", \"\");\n      debug.select(\".controlPoints\").attr(\"transform\", \"\");\n      riverAngle.value = 0;\n      riverAngleValue.innerHTML = \"0°\";\n      riverScale.value = 1;\n    });\n    $(\"#riverScale\").change(function () {\n      var tr = parseTransform(elSelected.attr(\"transform\"));\n      var scaleOld = +tr[5],\n          scale = +this.value;\n      var c = elSelected.node().getBBox();\n      var cx = c.x + c.width / 2,\n          cy = c.y + c.height / 2;\n      var trX = +tr[0] + cx * (scaleOld - scale);\n      var trY = +tr[1] + cy * (scaleOld - scale);\n      var scX = +tr[3] * scale / scaleOld;\n      var scY = +tr[4] * scale / scaleOld;\n      var transform = \"translate(\".concat(trX, \",\").concat(trY, \") rotate(\").concat(tr[2], \" \").concat(scX, \" \").concat(scY, \") scale(\").concat(scale, \")\");\n      elSelected.attr(\"transform\", transform);\n      debug.select(\".controlPoints\").attr(\"transform\", transform);\n    });\n    $(\"#riverNew\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        completeNewRiver();\n      } else {\n        // enter creation mode\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        if (elSelected) elSelected.call(d3.drag().on(\"drag\", null));\n        debug.select(\".controlPoints\").selectAll(\"*\").remove();\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", newRiverAddPoint);\n      }\n    });\n\n    function newRiverAddPoint() {\n      var point = d3.mouse(this);\n      addRiverPoint([point[0], point[1]]);\n\n      if (!elSelected || elSelected.attr(\"data-river\") !== \"new\") {\n        var id = +$(\"#rivers > path\").last().attr(\"id\").slice(5) + 1;\n        elSelected = rivers.append(\"path\").attr(\"data-river\", \"new\").attr(\"id\", \"river\" + id).attr(\"data-width\", 2).attr(\"data-increment\", 1).on(\"click\", completeNewRiver);\n      } else {\n        redrawRiver();\n        var cell = diagram.find(point[0], point[1]).index;\n        var f = cells[cell].fn;\n\n        var _ocean2 = !features[f].land && features[f].border;\n\n        if (_ocean2 && debug.select(\".controlPoints\").selectAll(\"circle\").size() > 5) completeNewRiver();\n      }\n    }\n\n    function completeNewRiver() {\n      $(\"#riverNew\").removeClass('pressed');\n      restoreDefaultEvents();\n      if (!elSelected || elSelected.attr(\"data-river\") !== \"new\") return;\n      redrawRiver();\n      elSelected.attr(\"data-river\", \"\");\n      elSelected.call(d3.drag().on(\"start\", riverDrag)).on(\"click\", editRiver);\n      var r = +elSelected.attr(\"id\").slice(5);\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var x = +d3.select(this).attr(\"cx\");\n        var y = +d3.select(this).attr(\"cy\");\n        var cell = diagram.find(x, y, 3);\n        if (!cell) return;\n        if (cells[cell.index].river === undefined) cells[cell.index].river = r;\n      });\n      unselect();\n      debug.append(\"g\").attr(\"class\", \"controlPoints\");\n    }\n\n    $(\"#riverCopy\").click(function () {\n      var tr = parseTransform(elSelected.attr(\"transform\"));\n      var d = elSelected.attr(\"d\");\n      var x = 2,\n          y = 2;\n      var transform = \"translate(\".concat(tr[0] - x, \",\").concat(tr[1] - y, \") rotate(\").concat(tr[2], \" \").concat(tr[3], \" \").concat(tr[4], \") scale(\").concat(tr[5], \")\");\n\n      while (rivers.selectAll(\"[transform='\" + transform + \"'][d='\" + d + \"']\").size() > 0) {\n        x += 2;\n        y += 2;\n        transform = \"translate(\".concat(tr[0] - x, \",\").concat(tr[1] - y, \") rotate(\").concat(tr[2], \" \").concat(tr[3], \" \").concat(tr[4], \") scale(\").concat(tr[5], \")\");\n      }\n\n      var river = +$(\"#rivers > path\").last().attr(\"id\").slice(5) + 1;\n      rivers.append(\"path\").attr(\"d\", d).attr(\"transform\", transform).attr(\"id\", \"river\" + river).on(\"click\", editRiver).attr(\"data-width\", elSelected.attr(\"data-width\")).attr(\"data-increment\", elSelected.attr(\"data-increment\"));\n      unselect();\n    }); // open legendsEditor\n\n    document.getElementById(\"riverLegend\").addEventListener(\"click\", function () {\n      var id = elSelected.attr(\"id\");\n      editLegends(id, id);\n    });\n    $(\"#riverRemove\").click(function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the river?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove river\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            var river = +elSelected.attr(\"id\").slice(5);\n            var avPrec = rn(precInput.value / Math.sqrt(cells.length), 2);\n            land.map(function (l) {\n              if (l.river === river) {\n                l.river = undefined;\n                l.flux = avPrec;\n              }\n            });\n            elSelected.remove();\n            unselect();\n            $(\"#riverEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editRoute() {\n    if (customization) {\n      return;\n    }\n\n    if (elSelected) {\n      var self = d3.select(this).attr(\"id\") === elSelected.attr(\"id\");\n      var point = d3.mouse(this);\n\n      if (elSelected.attr(\"data-route\") === \"new\") {\n        addRoutePoint({\n          x: point[0],\n          y: point[1]\n        });\n        completeNewRoute();\n        return;\n      } else if (self) {\n        routeAddControlPoint(point);\n        return;\n      }\n    }\n\n    unselect();\n    closeDialogs(\"#routeEditor, .stable\");\n\n    if (this && this !== window) {\n      elSelected = d3.select(this);\n      if (!debug.select(\".controlPoints\").size()) debug.append(\"g\").attr(\"class\", \"controlPoints\");\n      routeDrawPoints();\n      routeUpdateGroups();\n      var routeType = d3.select(this.parentNode).attr(\"id\");\n      routeGroup.value = routeType;\n      $(\"#routeEditor\").dialog({\n        title: \"Edit Route\",\n        minHeight: 30,\n        width: \"auto\",\n        resizable: false,\n        position: {\n          my: \"center top+20\",\n          at: \"top\",\n          of: d3.event\n        },\n        close: function close() {\n          if ($(\"#addRoute\").hasClass('pressed')) completeNewRoute();\n          if ($(\"#routeSplit\").hasClass('pressed')) $(\"#routeSplit\").removeClass('pressed');\n          unselect();\n        }\n      });\n    } else {\n      elSelected = null;\n    }\n\n    if (modules.editRoute) {\n      return;\n    }\n\n    modules.editRoute = true;\n\n    function routeAddControlPoint(point) {\n      var dists = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var x = +d3.select(this).attr(\"cx\");\n        var y = +d3.select(this).attr(\"cy\");\n        dists.push(Math.hypot(point[0] - x, point[1] - y));\n      });\n      var index = dists.length;\n\n      if (dists.length > 1) {\n        var sorted = dists.slice(0).sort(function (a, b) {\n          return a - b;\n        });\n        var closest = dists.indexOf(sorted[0]);\n        var next = dists.indexOf(sorted[1]);\n\n        if (closest <= next) {\n          index = closest + 1;\n        } else {\n          index = next + 1;\n        }\n      }\n\n      var before = \":nth-child(\" + (index + 1) + \")\";\n      debug.select(\".controlPoints\").insert(\"circle\", before).attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35).call(d3.drag().on(\"drag\", routePointDrag)).on(\"click\", function (d) {\n        $(this).remove();\n        routeRedraw();\n      });\n      routeRedraw();\n    }\n\n    function routeDrawPoints() {\n      if (!elSelected.size()) return;\n      var node = elSelected.node();\n      var l = node.getTotalLength();\n      var parts = l / 5 >> 0; // number of points\n\n      var inc = l / parts; // increment\n\n      if (inc === Infinity) inc = l; // 2 control points for short routes\n      // draw control points\n\n      for (var i = 0; i <= l; i += inc) {\n        var p = node.getPointAtLength(i);\n        addRoutePoint(p);\n      } // convert length to distance\n\n\n      routeLength.innerHTML = rn(l * distanceScale.value) + \" \" + distanceUnit.value;\n    }\n\n    function addRoutePoint(point) {\n      var controlPoints = debug.select(\".controlPoints\").size() ? debug.select(\".controlPoints\") : debug.append(\"g\").attr(\"class\", \"controlPoints\");\n      controlPoints.append(\"circle\").attr(\"cx\", point.x).attr(\"cy\", point.y).attr(\"r\", 0.35).call(d3.drag().on(\"drag\", routePointDrag)).on(\"click\", function (d) {\n        if ($(\"#routeSplit\").hasClass('pressed')) {\n          routeSplitInPoint(this);\n        } else {\n          $(this).remove();\n          routeRedraw();\n        }\n      });\n    }\n\n    function routePointDrag() {\n      d3.select(this).attr(\"cx\", d3.event.x).attr(\"cy\", d3.event.y);\n      routeRedraw();\n    }\n\n    function routeRedraw() {\n      var points = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var el = d3.select(this);\n        points.push({\n          scX: +el.attr(\"cx\"),\n          scY: +el.attr(\"cy\")\n        });\n      });\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n      elSelected.attr(\"d\", lineGen(points)); // get route distance\n\n      var l = elSelected.node().getTotalLength();\n      routeLength.innerHTML = rn(l * distanceScale.value) + \" \" + distanceUnit.value;\n    }\n\n    function addNewRoute() {\n      var routeType = elSelected && elSelected.node() ? elSelected.node().parentNode.id : \"searoutes\";\n      var group = routes.select(\"#\" + routeType);\n      var id = routeType + \"\" + group.selectAll(\"*\").size();\n      elSelected = group.append(\"path\").attr(\"data-route\", \"new\").attr(\"id\", id).on(\"click\", editRoute);\n      routeUpdateGroups();\n      $(\"#routeEditor\").dialog({\n        title: \"Edit Route\",\n        minHeight: 30,\n        width: \"auto\",\n        resizable: false,\n        close: function close() {\n          if ($(\"#addRoute\").hasClass('pressed')) completeNewRoute();\n          if ($(\"#routeSplit\").hasClass('pressed')) $(\"#routeSplit\").removeClass('pressed');\n          unselect();\n        }\n      });\n    }\n\n    function newRouteAddPoint() {\n      var point = d3.mouse(this);\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2);\n      addRoutePoint({\n        x: x,\n        y: y\n      });\n      routeRedraw();\n    }\n\n    function completeNewRoute() {\n      $(\"#routeNew, #addRoute\").removeClass('pressed');\n      restoreDefaultEvents();\n      if (!elSelected.size()) return;\n\n      if (elSelected.attr(\"data-route\") === \"new\") {\n        routeRedraw();\n        elSelected.attr(\"data-route\", \"\");\n        var node = elSelected.node();\n        var l = node.getTotalLength();\n        var pathCells = [];\n\n        for (var i = 0; i <= l; i++) {\n          var p = node.getPointAtLength(i);\n          var cell = diagram.find(p.x, p.y);\n\n          if (!cell) {\n            return;\n          }\n\n          pathCells.push(cell.index);\n        }\n\n        var uniqueCells = _toConsumableArray(new Set(pathCells));\n\n        uniqueCells.map(function (c) {\n          if (cells[c].path !== undefined) {\n            cells[c].path += 1;\n          } else {\n            cells[c].path = 1;\n          }\n        });\n      }\n\n      tip(\"\", true);\n    }\n\n    function routeUpdateGroups() {\n      routeGroup.innerHTML = \"\";\n      routes.selectAll(\"g\").each(function () {\n        var opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = this.id;\n        routeGroup.add(opt);\n      });\n    }\n\n    function routeSplitInPoint(clicked) {\n      var group = d3.select(elSelected.node().parentNode);\n      $(\"#routeSplit\").removeClass('pressed');\n      var points1 = [],\n          points2 = [];\n      var points = points1;\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function () {\n        var el = d3.select(this);\n        points.push({\n          scX: +el.attr(\"cx\"),\n          scY: +el.attr(\"cy\")\n        });\n\n        if (this === clicked) {\n          points = points2;\n          points.push({\n            scX: +el.attr(\"cx\"),\n            scY: +el.attr(\"cy\")\n          });\n        }\n\n        el.remove();\n      });\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n      elSelected.attr(\"d\", lineGen(points1));\n      var id = routeGroup.value + \"\" + group.selectAll(\"*\").size();\n      group.append(\"path\").attr(\"id\", id).attr(\"d\", lineGen(points2)).on(\"click\", editRoute);\n      routeDrawPoints();\n    }\n\n    $(\"#routeGroup\").change(function () {\n      $(elSelected.node()).detach().appendTo($(\"#\" + this.value));\n    }); // open legendsEditor\n\n    document.getElementById(\"routeLegend\").addEventListener(\"click\", function () {\n      var id = elSelected.attr(\"id\");\n      editLegends(id, id);\n    });\n    $(\"#routeNew\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        completeNewRoute();\n      } else {\n        // enter creation mode\n        $(\".pressed\").removeClass('pressed');\n        $(\"#routeNew, #addRoute\").addClass('pressed');\n        debug.select(\".controlPoints\").selectAll(\"*\").remove();\n        addNewRoute();\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", newRouteAddPoint);\n        tip(\"Click on map to add route point\", true);\n      }\n    });\n    $(\"#routeRemove\").click(function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the route?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove route\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#routeEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editIcon() {\n    if (customization) return;\n    if (elSelected) if (this.isSameNode(elSelected.node())) return;\n    unselect();\n    closeDialogs(\"#iconEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true); // update group parameters\n\n    var group = d3.select(this.parentNode);\n    iconUpdateGroups();\n    iconGroup.value = group.attr(\"id\");\n    iconFillColor.value = group.attr(\"fill\");\n    iconStrokeColor.value = group.attr(\"stroke\");\n    iconSize.value = group.attr(\"size\");\n    iconStrokeWidth.value = group.attr(\"stroke-width\");\n    $(\"#iconEditor\").dialog({\n      title: \"Edit icon: \" + group.attr(\"id\"),\n      minHeight: 30,\n      width: \"auto\",\n      resizable: false,\n      position: {\n        my: \"center top+20\",\n        at: \"top\",\n        of: d3.event\n      },\n      close: unselect\n    });\n\n    if (modules.editIcon) {\n      return;\n    }\n\n    modules.editIcon = true;\n    $(\"#iconGroups\").click(function () {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconGroupsSelection\").toggle();\n    });\n\n    function iconUpdateGroups() {\n      iconGroup.innerHTML = \"\";\n      var anchor = group.attr(\"id\").includes(\"anchor\");\n      icons.selectAll(\"g\").each(function (d) {\n        var id = d3.select(this).attr(\"id\");\n        if (id === \"burgs\") return;\n        if (!anchor && id.includes(\"anchor\")) return;\n        if (anchor && !id.includes(\"anchor\")) return;\n        var opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = id;\n        iconGroup.add(opt);\n      });\n    }\n\n    $(\"#iconGroup\").change(function () {\n      var newGroup = this.value;\n      var to = $(\"#icons > #\" + newGroup);\n      $(elSelected.node()).detach().appendTo(to);\n    });\n    $(\"#iconCopy\").click(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var copy = elSelected.node().cloneNode();\n      copy.removeAttribute(\"data-id\"); // remove assignment to burg if any\n\n      var tr = parseTransform(copy.getAttribute(\"transform\"));\n      var shift = 10 / Math.sqrt(scale);\n      var transform = \"translate(\" + rn(tr[0] - shift, 1) + \",\" + rn(tr[1] - shift, 1) + \")\";\n\n      for (var i = 2; group.selectAll(\"[transform='\" + transform + \"']\").size() > 0; i++) {\n        transform = \"translate(\" + rn(tr[0] - shift * i, 1) + \",\" + rn(tr[1] - shift * i, 1) + \")\";\n      }\n\n      copy.setAttribute(\"transform\", transform);\n      group.node().insertBefore(copy, null);\n      copy.addEventListener(\"click\", editIcon);\n    });\n    $(\"#iconRemoveGroup\").click(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var count = group.selectAll(\"*\").size();\n\n      if (count < 2) {\n        group.remove();\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n\n      var message = \"Are you sure you want to remove all '\" + iconGroup.value + \"' icons (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove icon group\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            group.remove();\n            $(\"#iconEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n    $(\"#iconColors\").click(function () {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconColorsSection\").toggle();\n    });\n    $(\"#iconFillColor\").change(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      group.attr(\"fill\", this.value);\n    });\n    $(\"#iconStrokeColor\").change(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      group.attr(\"stroke\", this.value);\n    });\n    $(\"#iconSetSize\").click(function () {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconSizeSection\").toggle();\n    });\n    $(\"#iconSize\").change(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var size = +this.value;\n      group.attr(\"size\", size);\n      group.selectAll(\"*\").each(function () {\n        d3.select(this).attr(\"width\", size).attr(\"height\", size);\n      });\n    });\n    $(\"#iconStrokeWidth\").change(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      group.attr(\"stroke-width\", this.value);\n    });\n    $(\"#iconRemove\").click(function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the icon?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove icon\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#iconEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editReliefIcon() {\n    if (customization) return;\n    if (elSelected) if (this.isSameNode(elSelected.node())) return;\n    unselect();\n    closeDialogs(\"#reliefEditor, .stable\");\n    elSelected = d3.select(this).raise().call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n    var group = elSelected.node().parentNode.id;\n    reliefGroup.value = group;\n    var bulkRemoveSection = document.getElementById(\"reliefBulkRemoveSection\");\n    if (bulkRemoveSection.style.display != \"none\") reliefBulkRemove.click();\n    $(\"#reliefEditor\").dialog({\n      title: \"Edit relief icon\",\n      minHeight: 30,\n      width: \"auto\",\n      resizable: false,\n      position: {\n        my: \"center top+40\",\n        at: \"top\",\n        of: d3.event\n      },\n      close: unselect\n    });\n\n    if (modules.editReliefIcon) {\n      return;\n    }\n\n    modules.editReliefIcon = true;\n    $(\"#reliefGroups\").click(function () {\n      $(\"#reliefEditor > button\").not(this).toggle();\n      $(\"#reliefGroupsSelection\").toggle();\n    });\n    $(\"#reliefGroup\").change(function () {\n      var type = this.value;\n      var bbox = elSelected.node().getBBox();\n      var cx = bbox.x;\n      var cy = bbox.y + bbox.height / 2;\n      var cell = diagram.find(cx, cy).index;\n      var height = cell !== undefined ? cells[cell].height : 50;\n      elSelected.remove();\n      elSelected = addReliefIcon(height / 100, type, cx, cy, cell);\n      elSelected.call(d3.drag().on(\"start\", elementDrag));\n    });\n    $(\"#reliefCopy\").click(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var copy = elSelected.node().cloneNode(true);\n      var tr = parseTransform(copy.getAttribute(\"transform\"));\n      var shift = 10 / Math.sqrt(scale);\n      var transform = \"translate(\" + rn(tr[0] - shift, 1) + \",\" + rn(tr[1] - shift, 1) + \")\";\n\n      for (var i = 2; group.selectAll(\"[transform='\" + transform + \"']\").size() > 0; i++) {\n        transform = \"translate(\" + rn(tr[0] - shift * i, 1) + \",\" + rn(tr[1] - shift * i, 1) + \")\";\n      }\n\n      copy.setAttribute(\"transform\", transform);\n      group.node().insertBefore(copy, null);\n      copy.addEventListener(\"click\", editReliefIcon);\n    });\n    $(\"#reliefAddfromEditor\").click(function () {\n      clickToAdd(); // to load on click event function\n\n      $(\"#addRelief\").click();\n    });\n    $(\"#reliefRemoveGroup\").click(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var count = group.selectAll(\"*\").size();\n\n      if (count < 2) {\n        group.selectAll(\"*\").remove();\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n\n      var message = \"Are you sure you want to remove all '\" + reliefGroup.value + \"' icons (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove all icons within group\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            group.selectAll(\"*\").remove();\n            $(\"#reliefEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n    $(\"#reliefBulkRemove\").click(function () {\n      $(\"#reliefEditor > button\").not(this).toggle();\n      var section = document.getElementById(\"reliefBulkRemoveSection\");\n\n      if (section.style.display === \"none\") {\n        section.style.display = \"inline-block\";\n        tip(\"Drag to remove relief icons in radius\", true);\n        viewbox.style(\"cursor\", \"crosshair\").call(d3.drag().on(\"drag\", dragToRemoveReliefIcons));\n        customization = 5;\n      } else {\n        section.style.display = \"none\";\n        restoreDefaultEvents();\n        customization = 0;\n      }\n    });\n\n    function dragToRemoveReliefIcons() {\n      var point = d3.mouse(this);\n      var cell = diagram.find(point[0], point[1]).index;\n      var radius = +reliefBulkRemoveRadius.value;\n      var r = rn(6 / graphSize * radius, 1);\n      moveCircle(point[0], point[1], r);\n      var selection = defineBrushSelection(cell, radius);\n      if (selection) removeReliefIcons(selection);\n    }\n\n    function removeReliefIcons(selection) {\n      if (selection.length === 0) return;\n      selection.map(function (index) {\n        var selected = terrain.selectAll(\"g\").selectAll(\"g[data-cell='\" + index + \"']\");\n        selected.remove();\n      });\n    }\n\n    $(\"#reliefRemove\").click(function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the icon?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove relief icon\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#reliefEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editBurg() {\n    if (customization) return;\n    unselect();\n    closeDialogs(\"#burgEditor, .stable\");\n    elSelected = d3.select(this);\n    var id = +elSelected.attr(\"data-id\");\n    if (id === undefined) return;\n    d3.selectAll(\"[data-id='\" + id + \"']\").call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true); // update Burg details\n\n    var type = elSelected.node().parentNode.id;\n    var labelGroup = burgLabels.select(\"#\" + type);\n    var iconGroup = burgIcons.select(\"#\" + type);\n    burgNameInput.value = manors[id].name;\n    updateBurgsGroupOptions();\n    burgSelectGroup.value = labelGroup.attr(\"id\");\n    burgSelectDefaultFont.value = fonts.indexOf(labelGroup.attr(\"data-font\"));\n    burgSetLabelSize.value = labelGroup.attr(\"data-size\");\n    burgLabelColorInput.value = toHEX(labelGroup.attr(\"fill\"));\n    burgLabelOpacity.value = labelGroup.attr(\"opacity\") === undefined ? 1 : +labelGroup.attr(\"opacity\");\n    var tr = parseTransform(elSelected.attr(\"transform\"));\n    burgLabelAngle.value = tr[2];\n    burgLabelAngleOutput.innerHTML = Math.abs(+tr[2]) + \"°\";\n    burgIconSize.value = iconGroup.attr(\"size\");\n    burgIconFillOpacity.value = iconGroup.attr(\"fill-opacity\") === undefined ? 1 : +iconGroup.attr(\"fill-opacity\");\n    burgIconFillColor.value = iconGroup.attr(\"fill\");\n    burgIconStrokeWidth.value = iconGroup.attr(\"stroke-width\");\n    burgIconStrokeOpacity.value = iconGroup.attr(\"stroke-opacity\") === undefined ? 1 : +iconGroup.attr(\"stroke-opacity\");\n    burgIconStrokeColor.value = iconGroup.attr(\"stroke\");\n    var cell = cells[manors[id].cell];\n\n    if (cell.region !== \"neutral\" && cell.region !== undefined) {\n      burgToggleCapital.disabled = false;\n      var capital = states[manors[id].region] ? id === states[manors[id].region].capital ? 1 : 0 : 0;\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", capital);\n    } else {\n      burgToggleCapital.disabled = true;\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", false);\n    }\n\n    d3.select(\"#burgTogglePort\").classed(\"pressed\", cell.port !== undefined);\n    burgPopulation.value = manors[id].population;\n    burgPopulationFriendly.value = rn(manors[id].population * urbanization.value * populationRate.value * 1000);\n    $(\"#burgEditor\").dialog({\n      title: \"Edit Burg: \" + manors[id].name,\n      minHeight: 30,\n      width: \"auto\",\n      resizable: false,\n      position: {\n        my: \"center top+40\",\n        at: \"top\",\n        of: d3.event\n      },\n      close: function close() {\n        d3.selectAll(\"[data-id='\" + id + \"']\").call(d3.drag().on(\"drag\", null)).classed(\"draggable\", false);\n        elSelected = null;\n      }\n    });\n    if (modules.editBurg) return;\n    modules.editBurg = true;\n    loadDefaultFonts();\n\n    function updateBurgsGroupOptions() {\n      burgSelectGroup.innerHTML = \"\";\n      burgIcons.selectAll(\"g\").each(function (d) {\n        var opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = d3.select(this).attr(\"id\");\n        burgSelectGroup.add(opt);\n      });\n    }\n\n    $(\"#burgEditor > button\").not(\"#burgAddfromEditor\").not(\"#burgRelocate\").not(\"#burgRemove\").click(function () {\n      if ($(this).next().is(\":visible\")) {\n        $(\"#burgEditor > button\").show();\n        $(this).next(\"div\").hide();\n      } else {\n        $(\"#burgEditor > *\").not(this).hide();\n        $(this).next(\"div\").show();\n      }\n    });\n    $(\"#burgEditor > div > button\").click(function () {\n      if ($(this).next().is(\":visible\")) {\n        $(\"#burgEditor > div > button\").show();\n        $(this).parent().prev().show();\n        $(this).next(\"div\").hide();\n      } else {\n        $(\"#burgEditor > div > button\").not(this).hide();\n        $(this).parent().prev().hide();\n        $(this).next(\"div\").show();\n      }\n    });\n    $(\"#burgSelectGroup\").change(function () {\n      var id = +elSelected.attr(\"data-id\");\n      var g = this.value;\n      moveBurgToGroup(id, g);\n    });\n    $(\"#burgInputGroup\").change(function () {\n      var newGroup = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+newGroup.charAt(0))) newGroup = \"g\" + newGroup;\n\n      if (burgLabels.select(\"#\" + newGroup).size()) {\n        tip('The group \"' + newGroup + '\" is already exists');\n        return;\n      }\n\n      burgInputGroup.value = \"\"; // clone old group assigning new id\n\n      var id = elSelected.node().parentNode.id;\n      var l = burgLabels.select(\"#\" + id).node().cloneNode(false);\n      l.id = newGroup;\n      var i = burgIcons.select(\"#\" + id).node().cloneNode(false);\n      i.id = newGroup;\n      burgLabels.node().insertBefore(l, null);\n      burgIcons.node().insertBefore(i, null); // select new group\n\n      var opt = document.createElement(\"option\");\n      opt.value = opt.innerHTML = newGroup;\n      burgSelectGroup.add(opt);\n      $(\"#burgSelectGroup\").val(newGroup).change();\n      $(\"#burgSelectGroup, #burgInputGroup\").toggle();\n      updateLabelGroups();\n    });\n    $(\"#burgAddGroup\").click(function () {\n      if ($(\"#burgInputGroup\").css(\"display\") === \"none\") {\n        $(\"#burgInputGroup\").css(\"display\", \"inline-block\");\n        $(\"#burgSelectGroup\").css(\"display\", \"none\");\n        burgInputGroup.focus();\n      } else {\n        $(\"#burgSelectGroup\").css(\"display\", \"inline-block\");\n        $(\"#burgInputGroup\").css(\"display\", \"none\");\n      }\n    });\n    $(\"#burgRemoveGroup\").click(function () {\n      var group = d3.select(elSelected.node().parentNode);\n      var type = group.attr(\"id\");\n      var id = +elSelected.attr(\"data-id\");\n      var count = group.selectAll(\"*\").size();\n      var message = \"Are you sure you want to remove all Burgs (\" + count + \") of that group?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove Burgs\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            group.selectAll(\"*\").each(function (d) {\n              var id = +d3.select(this).attr(\"data-id\");\n              if (id === undefined) return;\n              var cell = manors[id].cell;\n              var state = manors[id].region;\n\n              if (states[state]) {\n                if (states[state].capital === id) states[state].capital = \"select\";\n                states[state].burgs--;\n              }\n\n              manors[id].region = \"removed\";\n              cells[cell].manor = undefined;\n            });\n            burgLabels.select(\"#\" + type).selectAll(\"*\").remove();\n            burgIcons.select(\"#\" + type).selectAll(\"*\").remove();\n            $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\").parent().children().remove();\n            closeDialogs(\".stable\");\n            updateCountryEditors();\n            $(\"#burgEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n    $(\"#burgNameInput\").on(\"input\", function () {\n      if (this.value === \"\") {\n        tip(\"Name should not be blank, set opacity to 0 to hide label or remove button to delete\");\n        return;\n      }\n\n      var id = +elSelected.attr(\"data-id\");\n      burgLabels.selectAll(\"[data-id='\" + id + \"']\").text(this.value);\n      manors[id].name = this.value;\n      $(\"div[aria-describedby='burgEditor'] .ui-dialog-title\").text(\"Edit Burg: \" + this.value);\n    });\n    $(\"#burgNameReCulture, #burgNameReRandom\").click(function () {\n      var id = +elSelected.attr(\"data-id\");\n      var culture = this.id === \"burgNameReCulture\" ? manors[id].culture : Math.floor(Math.random() * cultures.length);\n      var name = generateName(culture);\n      burgLabels.selectAll(\"[data-id='\" + id + \"']\").text(name);\n      manors[id].name = name;\n      burgNameInput.value = name;\n      $(\"div[aria-describedby='burgEditor'] .ui-dialog-title\").text(\"Edit Burg: \" + name);\n    });\n    $(\"#burgToggleExternalFont\").click(function () {\n      if ($(\"#burgInputExternalFont\").css(\"display\") === \"none\") {\n        $(\"#burgInputExternalFont\").css(\"display\", \"inline-block\");\n        $(\"#burgSelectDefaultFont\").css(\"display\", \"none\");\n        burgInputExternalFont.focus();\n      } else {\n        $(\"#burgSelectDefaultFont\").css(\"display\", \"inline-block\");\n        $(\"#burgInputExternalFont\").css(\"display\", \"none\");\n      }\n    });\n    $(\"#burgSelectDefaultFont\").change(function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgLabels.select(\"#\" + type);\n      if (burgSelectDefaultFont.value === \"\") return;\n      var font = fonts[burgSelectDefaultFont.value].split(':')[0].replace(/\\+/g, \" \");\n      group.attr(\"font-family\", font).attr(\"data-font\", fonts[burgSelectDefaultFont.value]);\n    });\n    $(\"#burgInputExternalFont\").change(function () {\n      fetchFonts(this.value).then(function (fetched) {\n        if (!fetched) return;\n        burgToggleExternalFont.click();\n        burgInputExternalFont.value = \"\";\n        if (fetched === 1) $(\"#burgSelectDefaultFont\").val(fonts.length - 1).change();\n      });\n    });\n    $(\"#burgSetLabelSize\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgLabels.select(\"#\" + type);\n      group.attr(\"data-size\", +this.value);\n      invokeActiveZooming();\n    });\n    $(\"#burgLabelColorInput\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgLabels.select(\"#\" + type);\n      group.attr(\"fill\", this.value);\n    });\n    $(\"#burgLabelOpacity\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgLabels.select(\"#\" + type);\n      group.attr(\"opacity\", +this.value);\n    });\n    $(\"#burgLabelAngle\").on(\"input\", function () {\n      var id = +elSelected.attr(\"data-id\");\n      var el = burgLabels.select(\"[data-id='\" + id + \"']\");\n      var tr = parseTransform(el.attr(\"transform\"));\n      var c = el.node().getBBox();\n      burgLabelAngleOutput.innerHTML = Math.abs(+this.value) + \"°\";\n      var angle = +this.value;\n      var transform = \"translate(\".concat(tr[0], \",\").concat(tr[1], \") rotate(\").concat(angle, \" \").concat(c.x + c.width / 2, \" \").concat(c.y + c.height / 2, \")\");\n      el.attr(\"transform\", transform);\n    });\n    $(\"#burgIconSize\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      var size = +this.value;\n      group.attr(\"size\", size);\n      group.selectAll(\"*\").each(function () {\n        d3.select(this).attr(\"r\", size);\n      });\n    });\n    $(\"#burgIconFillOpacity\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      group.attr(\"fill-opacity\", +this.value);\n    });\n    $(\"#burgIconFillColor\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      group.attr(\"fill\", this.value);\n    });\n    $(\"#burgIconStrokeWidth\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      group.attr(\"stroke-width\", +this.value);\n    });\n    $(\"#burgIconStrokeOpacity\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      group.attr(\"stroke-opacity\", +this.value);\n    });\n    $(\"#burgIconStrokeColor\").on(\"input\", function () {\n      var type = elSelected.node().parentNode.id;\n      var group = burgIcons.select(\"#\" + type);\n      group.attr(\"stroke\", this.value);\n    });\n    $(\"#burgToggleCapital\").click(function () {\n      var id = +elSelected.attr(\"data-id\");\n      var state = manors[id].region;\n      if (states[state] === undefined) return;\n      var capital = states[manors[id].region] ? id === states[manors[id].region].capital ? 0 : 1 : 1;\n\n      if (capital && states[state].capital !== \"select\") {\n        // move oldCapital to a town group\n        var oldCapital = states[state].capital;\n        moveBurgToGroup(oldCapital, \"towns\");\n      }\n\n      states[state].capital = capital ? id : \"select\";\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", capital);\n      var g = capital ? \"capitals\" : \"towns\";\n      moveBurgToGroup(id, g);\n    });\n    $(\"#burgTogglePort\").click(function () {\n      var id = +elSelected.attr(\"data-id\");\n      var cell = cells[manors[id].cell];\n      var markAsPort = cell.port === undefined ? true : undefined;\n      cell.port = markAsPort;\n      d3.select(\"#burgTogglePort\").classed(\"pressed\", markAsPort);\n\n      if (markAsPort) {\n        var _type = elSelected.node().parentNode.id;\n        var ag = _type === \"capitals\" ? \"#capital-anchors\" : \"#town-anchors\";\n        var group = icons.select(ag);\n        var size = +group.attr(\"size\");\n        var x = rn(manors[id].x - size * 0.47, 2);\n        var y = rn(manors[id].y - size * 0.47, 2);\n        group.append(\"use\").attr(\"xlink:href\", \"#icon-anchor\").attr(\"data-id\", id).attr(\"x\", x).attr(\"y\", y).attr(\"width\", size).attr(\"height\", size).on(\"click\", editIcon);\n      } else {\n        $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\").remove();\n      }\n    });\n    $(\"#burgPopulation\").on(\"input\", function () {\n      var id = +elSelected.attr(\"data-id\");\n      burgPopulationFriendly.value = rn(this.value * urbanization.value * populationRate.value * 1000);\n      manors[id].population = +this.value;\n    });\n    $(\"#burgRelocate\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n        tip(\"\", true);\n      } else {\n        $(\".pressed\").removeClass('pressed');\n\n        var _id = elSelected.attr(\"data-id\");\n\n        $(this).addClass('pressed').attr(\"data-id\", _id);\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", relocateBurgOnClick);\n        tip(\"Click on map to relocate burg. Hold Shift for continuous move\", true);\n      }\n    }); // open legendsEditor\n\n    document.getElementById(\"burglLegend\").addEventListener(\"click\", function () {\n      var burg = +elSelected.attr(\"data-id\");\n      var id = \"burg\" + burg;\n      var name = manors[burg].name;\n      editLegends(id, name);\n    }); // move burg to a different cell\n\n    function relocateBurgOnClick() {\n      var point = d3.mouse(this);\n      var index = getIndex(point);\n      var i = +$(\"#burgRelocate\").attr(\"data-id\");\n      if (isNaN(i) || !manors[i]) return;\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place burg in the water! Select a land cell\", null, \"error\");\n        return;\n      }\n\n      if (cells[index].manor !== undefined && cells[index].manor !== i) {\n        tip(\"There is already a burg in this cell. Please select a free cell\", null, \"error\");\n        $('#grid').fadeIn();\n        d3.select(\"#toggleGrid\").classed(\"buttonoff\", false);\n        return;\n      }\n\n      var region = cells[index].region;\n      var oldRegion = manors[i].region; // relocating capital to other country you \"conquer\" target cell\n\n      if (states[oldRegion] && states[oldRegion].capital === i) {\n        if (region !== oldRegion) {\n          tip(\"Capital cannot be moved to another country!\", null, \"error\");\n          return;\n        }\n      }\n\n      if (d3.event.shiftKey === false) {\n        $(\"#burgRelocate\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n        tip(\"\", true);\n\n        if (region !== oldRegion) {\n          recalculateStateData(oldRegion);\n          recalculateStateData(region);\n          updateCountryEditors();\n        }\n      }\n\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2);\n      burgIcons.select(\"circle[data-id='\" + i + \"']\").attr(\"transform\", null).attr(\"cx\", x).attr(\"cy\", y);\n      burgLabels.select(\"text[data-id='\" + i + \"']\").attr(\"transform\", null).attr(\"x\", x).attr(\"y\", y);\n      var anchor = icons.select(\"use[data-id='\" + i + \"']\");\n\n      if (anchor.size()) {\n        var size = anchor.attr(\"width\");\n        var xa = rn(x - size * 0.47, 2);\n        var ya = rn(y - size * 0.47, 2);\n        anchor.attr(\"transform\", null).attr(\"x\", xa).attr(\"y\", ya);\n      }\n\n      cells[index].manor = i;\n      cells[manors[i].cell].manor = undefined;\n      manors[i].x = x, manors[i].y = y, manors[i].region = region, manors[i].cell = index;\n    } // open in MFCG\n\n\n    $(\"#burgSeeInMFCG\").click(function () {\n      var id = +elSelected.attr(\"data-id\");\n      var name = manors[id].name;\n      var cell = manors[id].cell;\n      var pop = rn(manors[id].population);\n      var size = pop > 65 ? 65 : pop < 6 ? 6 : pop;\n      var s = seed + \"\" + id;\n      var hub = cells[cell].crossroad > 2 ? 1 : 0;\n      var river = cells[cell].river ? 1 : 0;\n      var coast = cells[cell].port !== undefined ? 1 : 0;\n      var sec = pop > 40 ? 1 : Math.random() < pop / 100 ? 1 : 0;\n      var thr = sec && Math.random() < 0.8 ? 1 : 0;\n      var url = \"http://fantasycities.watabou.ru/\";\n      var params = \"?name=\".concat(name, \"&size=\").concat(size, \"&seed=\").concat(s, \"&hub=\").concat(hub, \"&random=0&continuous=0\");\n      params += \"&river=\".concat(river, \"&coast=\").concat(coast, \"&citadel=\").concat(id & 1, \"&plaza=\").concat(sec, \"&temple=\").concat(thr, \"&walls=\").concat(sec, \"&shantytown=\").concat(sec);\n      var win = window.open(url + params, '_blank');\n      win.focus();\n    });\n    $(\"#burgAddfromEditor\").click(function () {\n      clickToAdd(); // to load on click event function\n\n      $(\"#addBurg\").click();\n    });\n    $(\"#burgRemove\").click(function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the Burg?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove Burg\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            var id = +elSelected.attr(\"data-id\");\n            d3.selectAll(\"[data-id='\" + id + \"']\").remove();\n            var cell = manors[id].cell;\n            var state = manors[id].region;\n\n            if (states[state]) {\n              if (states[state].capital === id) states[state].capital = \"select\";\n              states[state].burgs--;\n            }\n\n            manors[id].region = \"removed\";\n            cells[cell].manor = undefined;\n            closeDialogs(\".stable\");\n            updateCountryEditors();\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  }\n\n  function editMarker() {\n    if (customization) return;\n    unselect();\n    closeDialogs(\"#markerEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n    $(\"#markerEditor\").dialog({\n      title: \"Edit Marker\",\n      minHeight: 30,\n      width: \"auto\",\n      maxWidth: 275,\n      resizable: false,\n      position: {\n        my: \"center top+30\",\n        at: \"bottom\",\n        of: d3.event\n      },\n      close: unselect\n    }); // update inputs\n\n    var id = elSelected.attr(\"href\");\n    var symbol = d3.select(\"#defs-markers\").select(id);\n    var icon = symbol.select(\"text\");\n    markerSelectGroup.value = id.slice(1);\n    markerIconSize.value = parseFloat(icon.attr(\"font-size\"));\n    markerIconShiftX.value = parseFloat(icon.attr(\"x\"));\n    markerIconShiftY.value = parseFloat(icon.attr(\"y\"));\n    markerIconFill.value = icon.attr(\"fill\");\n    markerIconStrokeWidth.value = icon.attr(\"stroke-width\");\n    markerIconStroke.value = icon.attr(\"stroke\");\n    markerSize.value = elSelected.attr(\"data-size\");\n    markerBase.value = symbol.select(\"path\").attr(\"fill\");\n    markerFill.value = symbol.select(\"circle\").attr(\"fill\");\n    var opacity = symbol.select(\"circle\").attr(\"opacity\");\n    markerToggleBubble.className = opacity === \"0\" ? \"icon-info\" : \"icon-info-circled\";\n    var table = document.getElementById(\"markerIconTable\");\n    var selected = table.getElementsByClassName(\"selected\");\n    if (selected.length) selected[0].removeAttribute(\"class\");\n    selected = document.querySelectorAll(\"#markerIcon\" + icon.text().codePointAt());\n    if (selected.length) selected[0].className = \"selected\";\n    markerIconCustom.value = selected.length ? \"\" : icon.text();\n    if (modules.editMarker) return;\n    modules.editMarker = true;\n    $(\"#markerGroup\").click(function () {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerGroupSection\").toggle();\n      updateMarkerGroupOptions();\n    });\n\n    function updateMarkerGroupOptions() {\n      markerSelectGroup.innerHTML = \"\";\n      d3.select(\"#defs-markers\").selectAll(\"symbol\").each(function () {\n        var opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = this.id;\n        markerSelectGroup.add(opt);\n      });\n      var id = elSelected.attr(\"href\").slice(1);\n      markerSelectGroup.value = id;\n    } // on add marker type click\n\n\n    document.getElementById(\"markerAddGroup\").addEventListener(\"click\", function () {\n      if ($(\"#markerInputGroup\").css(\"display\") === \"none\") {\n        $(\"#markerInputGroup\").css(\"display\", \"inline-block\");\n        $(\"#markerSelectGroup\").css(\"display\", \"none\");\n        markerInputGroup.focus();\n      } else {\n        $(\"#markerSelectGroup\").css(\"display\", \"inline-block\");\n        $(\"#markerInputGroup\").css(\"display\", \"none\");\n      }\n    }); // on marker type change\n\n    document.getElementById(\"markerSelectGroup\").addEventListener(\"change\", function () {\n      elSelected.attr(\"href\", \"#\" + this.value);\n      elSelected.attr(\"data-id\", \"#\" + this.value);\n    }); // on new type input\n\n    document.getElementById(\"markerInputGroup\").addEventListener(\"change\", function () {\n      var newGroup = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+newGroup.charAt(0))) newGroup = \"m\" + newGroup;\n\n      if (d3.select(\"#defs-markers\").select(\"#\" + newGroup).size()) {\n        tip('The type \"' + newGroup + '\" is already exists');\n        return;\n      }\n\n      markerInputGroup.value = \"\"; // clone old group assigning new id\n\n      var id = elSelected.attr(\"href\");\n      var l = d3.select(\"#defs-markers\").select(id).node().cloneNode(true);\n      l.id = newGroup;\n      elSelected.attr(\"href\", \"#\" + newGroup);\n      elSelected.attr(\"data-id\", \"#\" + newGroup);\n      document.getElementById(\"defs-markers\").insertBefore(l, null); // select new group\n\n      var opt = document.createElement(\"option\");\n      opt.value = opt.innerHTML = newGroup;\n      markerSelectGroup.add(opt);\n      $(\"#markerSelectGroup\").val(newGroup).change();\n      $(\"#markerSelectGroup, #markerInputGroup\").toggle();\n      updateMarkerGroupOptions();\n    });\n    $(\"#markerIconButton\").click(function () {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerIconButtons\").toggle();\n      if (!$(\"#markerIconTable\").text()) drawIconsList(icons);\n    });\n    $(\"#markerRemoveGroup\").click(function () {\n      var id = elSelected.attr(\"href\");\n      var used = document.querySelectorAll(\"use[data-id='\" + id + \"']\");\n      var count = used.length === 1 ? \"1 element\" : used.length + \" elements\";\n      var message = \"Are you sure you want to remove the marker (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove marker\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            if (id !== \"#marker0\") d3.select(\"#defs-markers\").select(id).remove();\n            used.forEach(function (e) {\n              e.remove();\n            });\n            updateMarkerGroupOptions();\n            $(\"#markerEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n\n    function drawIconsList() {\n      var icons = [// emoticons in FF:\n      [\"2693\", \"⚓\", \"Anchor\"], [\"26EA\", \"⛪\", \"Church\"], [\"1F3EF\", \"🏯\", \"Japanese Castle\"], [\"1F3F0\", \"🏰\", \"Castle\"], [\"1F5FC\", \"🗼\", \"Tower\"], [\"1F3E0\", \"🏠\", \"House\"], [\"1F3AA\", \"🎪\", \"Tent\"], [\"1F3E8\", \"🏨\", \"Hotel\"], [\"1F4B0\", \"💰\", \"Money bag\"], [\"1F4A8\", \"💨\", \"Dashing away\"], [\"1F334\", \"🌴\", \"Palm\"], [\"1F335\", \"🌵\", \"Cactus\"], [\"1F33E\", \"🌾\", \"Sheaf\"], [\"1F5FB\", \"🗻\", \"Mountain\"], [\"1F30B\", \"🌋\", \"Volcano\"], [\"1F40E\", \"🐎\", \"Horse\"], [\"1F434\", \"🐴\", \"Horse Face\"], [\"1F42E\", \"🐮\", \"Cow\"], [\"1F43A\", \"🐺\", \"Wolf Face\"], [\"1F435\", \"🐵\", \"Monkey face\"], [\"1F437\", \"🐷\", \"Pig face\"], [\"1F414\", \"🐔\", \"Chiken\"], [\"1F411\", \"🐑\", \"Eve\"], [\"1F42B\", \"🐫\", \"Camel\"], [\"1F418\", \"🐘\", \"Elephant\"], [\"1F422\", \"🐢\", \"Turtle\"], [\"1F40C\", \"🐌\", \"Snail\"], [\"1F40D\", \"🐍\", \"Snake\"], [\"1F433\", \"🐳\", \"Whale\"], [\"1F42C\", \"🐬\", \"Dolphin\"], [\"1F420\", \"🐟\", \"Fish\"], [\"1F432\", \"🐲\", \"Dragon Head\"], [\"1F479\", \"👹\", \"Ogre\"], [\"1F47B\", \"👻\", \"Ghost\"], [\"1F47E\", \"👾\", \"Alien\"], [\"1F480\", \"💀\", \"Skull\"], [\"1F374\", \"🍴\", \"Fork and knife\"], [\"1F372\", \"🍲\", \"Food\"], [\"1F35E\", \"🍞\", \"Bread\"], [\"1F357\", \"🍗\", \"Poultry leg\"], [\"1F347\", \"🍇\", \"Grapes\"], [\"1F34F\", \"🍏\", \"Apple\"], [\"1F352\", \"🍒\", \"Cherries\"], [\"1F36F\", \"🍯\", \"Honey pot\"], [\"1F37A\", \"🍺\", \"Beer\"], [\"1F377\", \"🍷\", \"Wine glass\"], [\"1F3BB\", \"🎻\", \"Violin\"], [\"1F3B8\", \"🎸\", \"Guitar\"], [\"26A1\", \"⚡\", \"Electricity\"], [\"1F320\", \"🌠\", \"Shooting star\"], [\"1F319\", \"🌙\", \"Crescent moon\"], [\"1F525\", \"🔥\", \"Fire\"], [\"1F4A7\", \"💧\", \"Droplet\"], [\"1F30A\", \"🌊\", \"Wave\"], [\"231B\", \"⌛\", \"Hourglass\"], [\"1F3C6\", \"🏆\", \"Goblet\"], [\"26F2\", \"⛲\", \"Fountain\"], [\"26F5\", \"⛵\", \"Sailboat\"], [\"26FA\", \"⛺\", \"Tend\"], [\"1F489\", \"💉\", \"Syringe\"], [\"1F4D6\", \"📚\", \"Books\"], [\"1F3AF\", \"🎯\", \"Archery\"], [\"1F52E\", \"🔮\", \"Magic ball\"], [\"1F3AD\", \"🎭\", \"Performing arts\"], [\"1F3A8\", \"🎨\", \"Artist palette\"], [\"1F457\", \"👗\", \"Dress\"], [\"1F451\", \"👑\", \"Crown\"], [\"1F48D\", \"💍\", \"Ring\"], [\"1F48E\", \"💎\", \"Gem\"], [\"1F514\", \"🔔\", \"Bell\"], [\"1F3B2\", \"🎲\", \"Die\"], // black and white icons in FF:\n      [\"26A0\", \"⚠\", \"Alert\"], [\"2317\", \"⌗\", \"Hash\"], [\"2318\", \"⌘\", \"POI\"], [\"2307\", \"⌇\", \"Wavy\"], [\"21E6\", \"⇦\", \"Left arrow\"], [\"21E7\", \"⇧\", \"Top arrow\"], [\"21E8\", \"⇨\", \"Right arrow\"], [\"21E9\", \"⇩\", \"Left arrow\"], [\"21F6\", \"⇶\", \"Three arrows\"], [\"2699\", \"⚙\", \"Gear\"], [\"269B\", \"⚛\", \"Atom\"], [\"0024\", \"$\", \"Dollar\"], [\"2680\", \"⚀\", \"Die1\"], [\"2681\", \"⚁\", \"Die2\"], [\"2682\", \"⚂\", \"Die3\"], [\"2683\", \"⚃\", \"Die4\"], [\"2684\", \"⚄\", \"Die5\"], [\"2685\", \"⚅\", \"Die6\"], [\"26B4\", \"⚴\", \"Pallas\"], [\"26B5\", \"⚵\", \"Juno\"], [\"26B6\", \"⚶\", \"Vesta\"], [\"26B7\", \"⚷\", \"Chiron\"], [\"26B8\", \"⚸\", \"Lilith\"], [\"263F\", \"☿\", \"Mercury\"], [\"2640\", \"♀\", \"Venus\"], [\"2641\", \"♁\", \"Earth\"], [\"2642\", \"♂\", \"Mars\"], [\"2643\", \"♃\", \"Jupiter\"], [\"2644\", \"♄\", \"Saturn\"], [\"2645\", \"♅\", \"Uranus\"], [\"2646\", \"♆\", \"Neptune\"], [\"2647\", \"♇\", \"Pluto\"], [\"26B3\", \"⚳\", \"Ceres\"], [\"2654\", \"♔\", \"Chess king\"], [\"2655\", \"♕\", \"Chess queen\"], [\"2656\", \"♖\", \"Chess rook\"], [\"2657\", \"♗\", \"Chess bishop\"], [\"2658\", \"♘\", \"Chess knight\"], [\"2659\", \"♙\", \"Chess pawn\"], [\"2660\", \"♠\", \"Spade\"], [\"2663\", \"♣\", \"Club\"], [\"2665\", \"♥\", \"Heart\"], [\"2666\", \"♦\", \"Diamond\"], [\"2698\", \"⚘\", \"Flower\"], [\"2625\", \"☥\", \"Ankh\"], [\"2626\", \"☦\", \"Orthodox\"], [\"2627\", \"☧\", \"Chi Rho\"], [\"2628\", \"☨\", \"Lorraine\"], [\"2629\", \"☩\", \"Jerusalem\"], [\"2670\", \"♰\", \"Syriac cross\"], [\"2020\", \"†\", \"Dagger\"], [\"262A\", \"☪\", \"Muslim\"], [\"262D\", \"☭\", \"Soviet\"], [\"262E\", \"☮\", \"Peace\"], [\"262F\", \"☯\", \"Yin yang\"], [\"26A4\", \"⚤\", \"Heterosexuality\"], [\"26A2\", \"⚢\", \"Female homosexuality\"], [\"26A3\", \"⚣\", \"Male homosexuality\"], [\"26A5\", \"⚥\", \"Male and female\"], [\"26AD\", \"⚭\", \"Rings\"], [\"2690\", \"⚐\", \"White flag\"], [\"2691\", \"⚑\", \"Black flag\"], [\"263C\", \"☼\", \"Sun\"], [\"263E\", \"☾\", \"Moon\"], [\"2668\", \"♨\", \"Hot springs\"], [\"2600\", \"☀\", \"Black sun\"], [\"2601\", \"☁\", \"Cloud\"], [\"2602\", \"☂\", \"Umbrella\"], [\"2603\", \"☃\", \"Snowman\"], [\"2604\", \"☄\", \"Comet\"], [\"2605\", \"★\", \"Black star\"], [\"2606\", \"☆\", \"White star\"], [\"269D\", \"⚝\", \"Outlined star\"], [\"2618\", \"☘\", \"Shamrock\"], [\"21AF\", \"↯\", \"Lightning\"], [\"269C\", \"⚜\", \"FleurDeLis\"], [\"2622\", \"☢\", \"Radiation\"], [\"2623\", \"☣\", \"Biohazard\"], [\"2620\", \"☠\", \"Skull\"], [\"2638\", \"☸\", \"Dharma\"], [\"2624\", \"☤\", \"Caduceus\"], [\"2695\", \"⚕\", \"Aeculapius staff\"], [\"269A\", \"⚚\", \"Hermes staff\"], [\"2697\", \"⚗\", \"Alembic\"], [\"266B\", \"♫\", \"Music\"], [\"2702\", \"✂\", \"Scissors\"], [\"2696\", \"⚖\", \"Scales\"], [\"2692\", \"⚒\", \"Hammer and pick\"], [\"2694\", \"⚔\", \"Swords\"]];\n      var table = document.getElementById(\"markerIconTable\"),\n          row = \"\";\n      table.addEventListener(\"click\", clickMarkerIconTable, false);\n      table.addEventListener(\"mouseover\", hoverMarkerIconTable, false);\n\n      for (var i = 0; i < icons.length; i++) {\n        if (i % 20 === 0) row = table.insertRow(0);\n        var cell = row.insertCell(0);\n\n        var _icon = String.fromCodePoint(parseInt(icons[i][0], 16));\n\n        cell.innerHTML = _icon;\n        cell.id = \"markerIcon\" + _icon.codePointAt();\n        cell.setAttribute(\"data-desc\", icons[i][2]);\n      }\n    }\n\n    function clickMarkerIconTable(e) {\n      if (e.target !== e.currentTarget) {\n        var _table = document.getElementById(\"markerIconTable\");\n\n        var _selected = _table.getElementsByClassName(\"selected\");\n\n        if (_selected.length) _selected[0].removeAttribute(\"class\");\n        e.target.className = \"selected\";\n\n        var _id2 = elSelected.attr(\"href\");\n\n        var _icon2 = e.target.innerHTML;\n        d3.select(\"#defs-markers\").select(_id2).select(\"text\").text(_icon2);\n      }\n\n      e.stopPropagation();\n    }\n\n    function hoverMarkerIconTable(e) {\n      if (e.target !== e.currentTarget) {\n        var desc = e.target.getAttribute(\"data-desc\");\n        tip(e.target.innerHTML + \" \" + desc);\n      }\n\n      e.stopPropagation();\n    } // change marker icon size\n\n\n    document.getElementById(\"markerIconSize\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"font-size\", this.value + \"px\");\n    }); // change marker icon x shift\n\n    document.getElementById(\"markerIconShiftX\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"x\", this.value + \"%\");\n    }); // change marker icon y shift\n\n    document.getElementById(\"markerIconShiftY\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"y\", this.value + \"%\");\n    }); // apply custom unicode icon on input\n\n    document.getElementById(\"markerIconCustom\").addEventListener(\"input\", function () {\n      if (!this.value) return;\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").text(this.value);\n    });\n    $(\"#markerStyleButton\").click(function () {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerStyleButtons\").toggle();\n    }); // change marker size\n\n    document.getElementById(\"markerSize\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"data-id\");\n      var used = document.querySelectorAll(\"use[data-id='\" + id + \"']\");\n      var size = this.value;\n      used.forEach(function (e) {\n        e.setAttribute(\"data-size\", size);\n      });\n      invokeActiveZooming();\n    }); // change marker base color\n\n    document.getElementById(\"markerBase\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(id).select(\"path\").attr(\"fill\", this.value);\n      d3.select(id).select(\"circle\").attr(\"stroke\", this.value);\n    }); // change marker fill color\n\n    document.getElementById(\"markerFill\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(id).select(\"circle\").attr(\"fill\", this.value);\n    }); // change marker icon y shift\n\n    document.getElementById(\"markerIconFill\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"fill\", this.value);\n    }); // change marker icon y shift\n\n    document.getElementById(\"markerIconStrokeWidth\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"stroke-width\", this.value);\n    }); // change marker icon y shift\n\n    document.getElementById(\"markerIconStroke\").addEventListener(\"input\", function () {\n      var id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"stroke\", this.value);\n    }); // toggle marker bubble display\n\n    document.getElementById(\"markerToggleBubble\").addEventListener(\"click\", function () {\n      var id = elSelected.attr(\"href\");\n      var show = 1;\n\n      if (this.className === \"icon-info-circled\") {\n        this.className = \"icon-info\";\n        show = 0;\n      } else {\n        this.className = \"icon-info-circled\";\n        ;\n      }\n\n      d3.select(id).select(\"circle\").attr(\"opacity\", show);\n      d3.select(id).select(\"path\").attr(\"opacity\", show);\n    }); // open legendsEditor\n\n    document.getElementById(\"markerLegendButton\").addEventListener(\"click\", function () {\n      var id = elSelected.attr(\"id\");\n      var symbol = elSelected.attr(\"href\");\n      var icon = d3.select(\"#defs-markers\").select(symbol).select(\"text\").text();\n      var name = \"Marker \" + icon;\n      editLegends(id, name);\n    }); // click on master button to add new markers on click\n\n    document.getElementById(\"markerAdd\").addEventListener(\"click\", function () {\n      document.getElementById(\"addMarker\").click();\n    }); // remove marker on click\n\n    document.getElementById(\"markerRemove\").addEventListener(\"click\", function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the marker?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove marker\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#markerEditor\").dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  } // clear elSelected variable\n\n\n  function unselect() {\n    tip(\"\", true);\n    restoreDefaultEvents();\n    if (customization === 5) customization = 0;\n    if (!elSelected) return;\n    elSelected.call(d3.drag().on(\"drag\", null)).attr(\"class\", null);\n    debug.selectAll(\"*\").remove();\n    viewbox.style(\"cursor\", \"default\");\n    elSelected = null;\n  } // transform string to array [translateX,translateY,rotateDeg,rotateX,rotateY,scale]\n\n\n  function parseTransform(string) {\n    if (!string) {\n      return [0, 0, 0, 0, 0, 1];\n    }\n\n    var a = string.replace(/[a-z()]/g, \"\").replace(/[ ]/g, \",\").split(\",\");\n    return [a[0] || 0, a[1] || 0, a[2] || 0, a[3] || 0, a[4] || 0, a[5] || 1];\n  } // generic function to move any burg to any group\n\n\n  function moveBurgToGroup(id, g) {\n    $(\"#burgLabels [data-id=\" + id + \"]\").detach().appendTo($(\"#burgLabels > #\" + g));\n    $(\"#burgIcons [data-id=\" + id + \"]\").detach().appendTo($(\"#burgIcons > #\" + g));\n    var rSize = $(\"#burgIcons > #\" + g).attr(\"size\");\n    $(\"#burgIcons [data-id=\" + id + \"]\").attr(\"r\", rSize);\n    var el = $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\");\n\n    if (el.length) {\n      var to = g === \"towns\" ? $(\"#town-anchors\") : $(\"#capital-anchors\");\n      el.detach().appendTo(to);\n      var useSize = to.attr(\"size\");\n      var x = rn(manors[id].x - useSize * 0.47, 2);\n      var y = rn(manors[id].y - useSize * 0.47, 2);\n      el.attr(\"x\", x).attr(\"y\", y).attr(\"width\", useSize).attr(\"height\", useSize);\n    }\n\n    updateCountryEditors();\n  } // generate cultures for a new map based on options and namesbase\n\n\n  function generateCultures() {\n    var count = +culturesInput.value;\n    cultures = d3.shuffle(defaultCultures).slice(0, count);\n    var centers = d3.range(cultures.length).map(function (d, i) {\n      var x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      var y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      var center = [x, y];\n      cultures[i].center = center;\n      return center;\n    });\n    cultureTree = d3.quadtree(centers);\n  }\n\n  function manorsAndRegions() {\n    console.group('manorsAndRegions');\n    calculateChains();\n    rankPlacesGeography();\n    locateCapitals();\n    generateMainRoads();\n    rankPlacesEconomy();\n    locateTowns();\n    getNames();\n    shiftSettlements();\n    checkAccessibility();\n    defineRegions(\"withCultures\");\n    generatePortRoads();\n    generateSmallRoads();\n    generateOceanRoutes();\n    calculatePopulation();\n    drawManors();\n    drawRegions();\n    console.groupEnd('manorsAndRegions');\n  } // Assess cells geographycal suitability for settlement\n\n\n  function rankPlacesGeography() {\n    console.time('rankPlacesGeography');\n    land.map(function (c) {\n      var score = 0;\n      c.flux = rn(c.flux, 2); // get base score from height (will be biom)\n\n      if (c.height <= 40) score = 2;else if (c.height <= 50) score = 1.8;else if (c.height <= 60) score = 1.6;else if (c.height <= 80) score = 1.4;\n      score += (1 - c.height / 100) / 3;\n\n      if (c.ctype && Math.random() < 0.8 && !c.river) {\n        c.score = 0; // ignore 80% of extended cells\n      } else {\n        if (c.harbor) {\n          if (c.harbor === 1) {\n            score += 1;\n          } else {\n            score -= 0.3;\n          } // good sea harbor is valued\n\n        }\n\n        if (c.river) score += 1; // coastline is valued\n\n        if (c.river && c.ctype === 1) score += 1; // estuary is valued\n\n        if (c.flux > 1) score += Math.pow(c.flux, 0.3); // riverbank is valued\n\n        if (c.confluence) score += Math.pow(c.confluence, 0.7); // confluence is valued;\n\n        var neighbEv = c.neighbors.map(function (n) {\n          if (cells[n].height >= 20) return cells[n].height;\n        });\n        var difEv = c.height - d3.mean(neighbEv); // if (!isNaN(difEv)) score += difEv * 10 * (1 - c.height / 100); // local height maximums are valued\n      }\n\n      c.score = rn(Math.random() * score + score, 3); // add random factor\n    });\n    land.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    console.timeEnd('rankPlacesGeography');\n  } // Assess the cells economical suitability for settlement\n\n\n  function rankPlacesEconomy() {\n    console.time('rankPlacesEconomy');\n    land.map(function (c) {\n      var score = c.score;\n      var path = c.path || 0; // roads are valued\n\n      if (path) {\n        path = Math.pow(path, 0.2);\n        var crossroad = c.crossroad || 0; // crossroads are valued\n\n        score = score + path + crossroad;\n      }\n\n      c.score = rn(Math.random() * score + score, 2); // add random factor\n    });\n    land.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    console.timeEnd('rankPlacesEconomy');\n  } // calculate population for manors, cells and states\n\n\n  function calculatePopulation() {\n    // neutral population factors < 1 as neutral lands are usually pretty wild\n    var ruralFactor = 0.5,\n        urbanFactor = 0.9; // calculate population for each burg (based on trade/people attractors)\n\n    manors.map(function (m) {\n      var cell = cells[m.cell];\n      var score = cell.score;\n\n      if (score <= 0) {\n        score = rn(Math.random(), 2);\n      }\n\n      if (cell.crossroad) {\n        score += cell.crossroad;\n      } // crossroads\n\n\n      if (cell.confluence) {\n        score += Math.pow(cell.confluence, 0.3);\n      } // confluences\n\n\n      if (m.i !== m.region && cell.port) {\n        score *= 1.5;\n      } // ports (not capital)\n\n\n      if (m.i === m.region && !cell.port) {\n        score *= 2;\n      } // land-capitals\n\n\n      if (m.i === m.region && cell.port) {\n        score *= 3;\n      } // port-capitals\n\n\n      if (m.region === \"neutral\") score *= urbanFactor;\n      var rnd = 0.6 + Math.random() * 0.8; // random factor\n\n      m.population = rn(score * rnd, 1);\n    }); // calculate rural population for each cell based on area + elevation (elevation to be changed to biome)\n\n    var graphSizeAdj = 90 / Math.sqrt(cells.length, 2); // adjust to different graphSize\n\n    land.map(function (l) {\n      var population = 0;\n      var elevationFactor = Math.pow(1 - l.height / 100, 3);\n      population = elevationFactor * l.area * graphSizeAdj;\n      if (l.region === \"neutral\") population *= ruralFactor;\n      l.pop = rn(population, 1);\n    }); // calculate population for each region\n\n    states.map(function (s, i) {\n      // define region burgs count\n      var burgs = $.grep(manors, function (e) {\n        return e.region === i;\n      });\n      s.burgs = burgs.length; // define region total and burgs population\n\n      var burgsPop = 0; // get summ of all burgs population\n\n      burgs.map(function (b) {\n        burgsPop += b.population;\n      });\n      s.urbanPopulation = rn(burgsPop, 2);\n      var regionCells = $.grep(cells, function (e) {\n        return e.region === i;\n      });\n      var cellsPop = 0;\n      regionCells.map(function (c) {\n        cellsPop += c.pop;\n      });\n      s.cells = regionCells.length;\n      s.ruralPopulation = rn(cellsPop, 1);\n    }); // collect data for neutrals\n\n    var neutralCells = $.grep(cells, function (e) {\n      return e.region === \"neutral\";\n    });\n\n    if (neutralCells.length) {\n      var burgs = 0,\n          urbanPopulation = 0,\n          ruralPopulation = 0,\n          area = 0;\n      manors.forEach(function (m) {\n        if (m.region !== \"neutral\") return;\n        urbanPopulation += m.population;\n        burgs++;\n      });\n      neutralCells.forEach(function (c) {\n        ruralPopulation += c.pop;\n        area += cells[c.index].area;\n      });\n      states.push({\n        i: states.length,\n        color: \"neutral\",\n        name: \"Neutrals\",\n        capital: \"neutral\",\n        cells: neutralCells.length,\n        burgs: burgs,\n        urbanPopulation: rn(urbanPopulation, 2),\n        ruralPopulation: rn(ruralPopulation, 2),\n        area: rn(area)\n      });\n    }\n  }\n\n  function locateCapitals() {\n    console.time('locateCapitals'); // min distance detween capitals\n\n    var count = +regionsInput.value;\n    var spacing = (graphWidth + graphHeight) / 2 / count;\n    console.log(\" states: \" + count);\n\n    for (var l = 0; manors.length < count; l++) {\n      var region = manors.length;\n      var x = land[l].data[0],\n          y = land[l].data[1];\n      var minDist = 10000; // dummy value\n\n      for (var c = 0; c < manors.length; c++) {\n        var dist = Math.hypot(x - manors[c].x, y - manors[c].y);\n        if (dist < minDist) minDist = dist;\n        if (minDist < spacing) break;\n      }\n\n      if (minDist >= spacing) {\n        var cell = land[l].index;\n        var closest = cultureTree.find(x, y);\n        var culture = getCultureId(closest);\n        manors.push({\n          i: region,\n          cell: cell,\n          x: x,\n          y: y,\n          region: region,\n          culture: culture\n        });\n      }\n\n      if (l === land.length - 1) {\n        console.error(\"Cannot place capitals with current spacing. Trying again with reduced spacing\");\n        l = -1, manors = [], spacing /= 1.2;\n      }\n    } // For each capital create a country\n\n\n    var scheme = count <= 8 ? colors8 : colors20;\n    var mod = +powerInput.value;\n    manors.forEach(function (m, i) {\n      var power = rn(Math.random() * mod / 2 + 1, 1);\n      var color = scheme(i / count);\n      states.push({\n        i: i,\n        color: color,\n        power: power,\n        capital: i\n      });\n      var p = cells[m.cell];\n      p.manor = i;\n      p.region = i;\n      p.culture = m.culture;\n    });\n    console.timeEnd('locateCapitals');\n  }\n\n  function locateTowns() {\n    console.time('locateTowns');\n    var count = +manorsInput.value;\n    var neutral = +neutralInput.value;\n    var manorTree = d3.quadtree();\n    manors.forEach(function (m) {\n      manorTree.add([m.x, m.y]);\n    });\n\n    for (var l = 0; manors.length < count && l < land.length; l++) {\n      var x = land[l].data[0],\n          y = land[l].data[1];\n      var c = manorTree.find(x, y);\n      var d = Math.hypot(x - c[0], y - c[1]);\n      if (d < 6) continue;\n      var cell = land[l].index;\n      var region = \"neutral\",\n          culture = -1,\n          closest = neutral;\n\n      for (var _c = 0; _c < states.length; _c++) {\n        var dist = Math.hypot(manors[_c].x - x, manors[_c].y - y) / states[_c].power;\n\n        var cap = manors[_c].cell;\n        if (cells[cell].fn !== cells[cap].fn) dist *= 3;\n\n        if (dist < closest) {\n          region = _c;\n          closest = dist;\n        }\n      }\n\n      if (closest > neutral / 5 || region === \"neutral\") {\n        var closestCulture = cultureTree.find(x, y);\n        culture = getCultureId(closestCulture);\n      } else {\n        culture = manors[region].culture;\n      }\n\n      land[l].manor = manors.length;\n      land[l].culture = culture;\n      land[l].region = region;\n      manors.push({\n        i: manors.length,\n        cell: cell,\n        x: x,\n        y: y,\n        region: region,\n        culture: culture\n      });\n      manorTree.add([x, y]);\n    }\n\n    if (manors.length < count) {\n      var error = \"Cannot place all burgs. Requested \" + count + \", placed \" + manors.length;\n      console.error(error);\n    }\n\n    console.timeEnd('locateTowns');\n  } // shift settlements from cell point\n\n\n  function shiftSettlements() {\n    for (var i = 0; i < manors.length; i++) {\n      var capital = i < regionsInput.value;\n      var cell = cells[manors[i].cell];\n      var x = manors[i].x,\n          y = manors[i].y;\n\n      if (capital && cell.harbor || cell.harbor === 1) {\n        // port: capital with any harbor and towns with good harbors\n        if (cell.haven === undefined) {\n          cell.harbor = undefined;\n        } else {\n          cell.port = cells[cell.haven].fn;\n          x = cell.coastX;\n          y = cell.coastY;\n        }\n      }\n\n      if (cell.river && cell.type !== 1) {\n        var shift = 0.2 * cell.flux;\n        if (shift < 0.2) shift = 0.2;\n        if (shift > 1) shift = 1;\n        shift = Math.random() > .5 ? shift : shift * -1;\n        x = rn(x + shift, 2);\n        shift = Math.random() > .5 ? shift : shift * -1;\n        y = rn(y + shift, 2);\n      }\n\n      cell.data[0] = manors[i].x = x;\n      cell.data[1] = manors[i].y = y;\n    }\n  } // Validate each island with manors has port\n\n\n  function checkAccessibility() {\n    console.time(\"checkAccessibility\");\n\n    var _loop16 = function _loop16(f) {\n      if (!features[f].land) return \"continue\";\n      var manorsOnIsland = $.grep(land, function (e) {\n        return e.manor !== undefined && e.fn === f;\n      });\n      if (!manorsOnIsland.length) return \"continue\"; // if lake port is the only port on lake, remove port\n\n      var lakePorts = $.grep(manorsOnIsland, function (p) {\n        return p.port && !features[p.port].border;\n      });\n\n      if (lakePorts.length) {\n        var _lakes = [];\n        lakePorts.forEach(function (p) {\n          _lakes[p.port] = _lakes[p.port] ? _lakes[p.port] + 1 : 1;\n        });\n        lakePorts.forEach(function (p) {\n          if (_lakes[p.port] === 1) p.port = undefined;\n        });\n      } // check how many ocean ports are there on island\n\n\n      var oceanPorts = $.grep(manorsOnIsland, function (p) {\n        return p.port && features[p.port].border;\n      });\n      if (oceanPorts.length) return \"continue\";\n      var portCandidates = $.grep(manorsOnIsland, function (c) {\n        return c.harbor && features[cells[c.harbor].fn].border && c.ctype === 1;\n      });\n\n      if (portCandidates.length) {\n        // No ports on island. Upgrading first burg to port\n        var candidate = portCandidates[0];\n        candidate.harbor = 1;\n        candidate.port = cells[candidate.haven].fn;\n        var manor = manors[portCandidates[0].manor];\n        candidate.data[0] = manor.x = candidate.coastX;\n        candidate.data[1] = manor.y = candidate.coastY; // add score for each burg on island (as it's the only port)\n\n        candidate.score += Math.floor((portCandidates.length - 1) / 2);\n      } else {\n        // No ports on island. Reducing score for burgs\n        manorsOnIsland.forEach(function (e) {\n          e.score -= 2;\n        });\n      }\n    };\n\n    for (var f = 0; f < features.length; f++) {\n      var _ret4 = _loop16(f);\n\n      if (_ret4 === \"continue\") continue;\n    }\n\n    console.timeEnd(\"checkAccessibility\");\n  }\n\n  function generateMainRoads() {\n    console.time(\"generateMainRoads\");\n    lineGen.curve(d3.curveBasis);\n    if (states.length < 2 || manors.length < 2) return;\n\n    var _loop17 = function _loop17(f) {\n      if (!features[f].land) return \"continue\";\n      var manorsOnIsland = $.grep(land, function (e) {\n        return e.manor !== undefined && e.fn === f;\n      });\n\n      if (manorsOnIsland.length > 1) {\n        for (var d = 1; d < manorsOnIsland.length; d++) {\n          for (var m = 0; m < d; m++) {\n            var path = findLandPath(manorsOnIsland[d].index, manorsOnIsland[m].index, \"main\");\n            restorePath(manorsOnIsland[m].index, manorsOnIsland[d].index, \"main\", path);\n          }\n        }\n      }\n    };\n\n    for (var f = 0; f < features.length; f++) {\n      var _ret5 = _loop17(f);\n\n      if (_ret5 === \"continue\") continue;\n    }\n\n    console.timeEnd(\"generateMainRoads\");\n  } // add roads from port to capital if capital is not a port\n\n\n  function generatePortRoads() {\n    console.time(\"generatePortRoads\");\n    if (!states.length || manors.length < 2) return;\n    var portless = [];\n\n    for (var s = 0; s < states.length; s++) {\n      var cell = manors[s].cell;\n      if (cells[cell].port === undefined) portless.push(s);\n    }\n\n    var _loop18 = function _loop18(l) {\n      var ports = $.grep(land, function (l) {\n        return l.port !== undefined && l.region === portless[l];\n      });\n      if (!ports.length) return \"continue\";\n      var minDist = 1000,\n          end = -1;\n      ports.map(function (p) {\n        var dist = Math.hypot(e.data[0] - p.data[0], e.data[1] - p.data[1]);\n\n        if (dist < minDist && dist > 1) {\n          minDist = dist;\n          end = p.index;\n        }\n      });\n\n      if (end !== -1) {\n        var _start2 = manors[portless[l]].cell;\n        var path = findLandPath(_start2, end, \"direct\");\n        restorePath(end, _start2, \"main\", path);\n      }\n    };\n\n    for (var l = 0; l < portless.length; l++) {\n      var _ret6 = _loop18(l);\n\n      if (_ret6 === \"continue\") continue;\n    }\n\n    console.timeEnd(\"generatePortRoads\");\n  }\n\n  function generateSmallRoads() {\n    console.time(\"generateSmallRoads\");\n    if (manors.length < 2) return;\n\n    var _loop19 = function _loop19(f) {\n      var manorsOnIsland = $.grep(land, function (e) {\n        return e.manor !== undefined && e.fn === f;\n      });\n      var l = manorsOnIsland.length;\n\n      if (l > 1) {\n        var secondary = rn((l + 8) / 10);\n\n        for (var s = 0; s < secondary; s++) {\n          start = manorsOnIsland[Math.floor(Math.random() * l)].index;\n          end = manorsOnIsland[Math.floor(Math.random() * l)].index;\n          dist = Math.hypot(cells[start].data[0] - cells[end].data[0], cells[start].data[1] - cells[end].data[1]);\n\n          if (dist > 10) {\n            path = findLandPath(start, end, \"direct\");\n            restorePath(end, start, \"small\", path);\n          }\n        }\n\n        manorsOnIsland.map(function (e, d) {\n          if (!e.path && d > 0) {\n            var _start3 = e.index;\n\n            var _end = -1;\n\n            var road = $.grep(land, function (e) {\n              return e.path && e.fn === f;\n            });\n\n            if (road.length > 0) {\n              var minDist = 10000;\n              road.map(function (i) {\n                var dist = Math.hypot(e.data[0] - i.data[0], e.data[1] - i.data[1]);\n\n                if (dist < minDist) {\n                  minDist = dist;\n                  _end = i.index;\n                }\n              });\n            } else {\n              _end = manorsOnIsland[0].index;\n            }\n\n            var _path = findLandPath(_start3, _end, \"main\");\n\n            restorePath(_end, _start3, \"small\", _path);\n          }\n        });\n      }\n    };\n\n    for (var f = 0; f < features.length; f++) {\n      var start;\n      var end;\n      var dist;\n      var path;\n\n      _loop19(f);\n    }\n\n    console.timeEnd(\"generateSmallRoads\");\n  }\n\n  function generateOceanRoutes() {\n    console.time(\"generateOceanRoutes\");\n    lineGen.curve(d3.curveBasis);\n    var cAnchors = icons.selectAll(\"#capital-anchors\");\n    var tAnchors = icons.selectAll(\"#town-anchors\");\n    var cSize = cAnchors.attr(\"size\") || 2;\n    var tSize = tAnchors.attr(\"size\") || 1;\n    var ports = []; // groups all ports on water feature\n\n    for (var m = 0; m < manors.length; m++) {\n      var cell = manors[m].cell;\n      var port = cells[cell].port;\n      if (port === undefined) continue;\n      if (ports[port] === undefined) ports[port] = [];\n      ports[port].push(cell); // draw anchor icon\n\n      var group = m < states.length ? cAnchors : tAnchors;\n      var size = m < states.length ? cSize : tSize;\n      var x = rn(cells[cell].data[0] - size * 0.47, 2);\n      var y = rn(cells[cell].data[1] - size * 0.47, 2);\n      group.append(\"use\").attr(\"xlink:href\", \"#icon-anchor\").attr(\"data-id\", m).attr(\"x\", x).attr(\"y\", y).attr(\"width\", size).attr(\"height\", size);\n      icons.selectAll(\"use\").on(\"click\", editIcon);\n    }\n\n    for (var w = 0; w < ports.length; w++) {\n      if (!ports[w]) continue;\n      if (ports[w].length < 2) continue;\n      var onIsland = [];\n\n      for (var i = 0; i < ports[w].length; i++) {\n        var _cell = ports[w][i];\n        var fn = cells[_cell].fn;\n        if (onIsland[fn] === undefined) onIsland[fn] = [];\n        onIsland[fn].push(_cell);\n      }\n\n      for (var _fn = 0; _fn < onIsland.length; _fn++) {\n        if (!onIsland[_fn]) continue;\n        if (onIsland[_fn].length < 2) continue;\n        var _start4 = onIsland[_fn][0];\n        var paths = findOceanPaths(_start4, -1);\n\n        for (var h = 1; h < onIsland[_fn].length; h++) {\n          // routes from all ports on island to 1st port on island\n          restorePath(onIsland[_fn][h], _start4, \"ocean\", paths);\n        } // inter-island routes\n\n\n        for (var c = _fn + 1; c < onIsland.length; c++) {\n          if (!onIsland[c]) continue;\n          if (!onIsland[c].length) continue;\n\n          if (onIsland[_fn].length > 3) {\n            var end = onIsland[c][0];\n            restorePath(end, _start4, \"ocean\", paths);\n          }\n        }\n\n        if (features[w].border && !features[_fn].border && onIsland[_fn].length > 5) {\n          // encircle the island\n          onIsland[_fn].sort(function (a, b) {\n            return cells[b].cost - cells[a].cost;\n          });\n\n          for (var a = 2; a < onIsland[_fn].length && a < 10; a++) {\n            var from = onIsland[_fn][1],\n                to = onIsland[_fn][a];\n            var dist = Math.hypot(cells[from].data[0] - cells[to].data[0], cells[from].data[1] - cells[to].data[1]);\n            var distPath = getPathDist(from, to);\n\n            if (distPath > dist * 4 + 10) {\n              var totalCost = cells[from].cost + cells[to].cost;\n              var pathsAdd = findOceanPaths(from, to);\n\n              if (cells[to].cost < totalCost) {\n                restorePath(to, from, \"ocean\", pathsAdd);\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    console.timeEnd(\"generateOceanRoutes\");\n  }\n\n  function findLandPath(start, end, type) {\n    // A* algorithm\n    var queue = new PriorityQueue({\n      comparator: function comparator(a, b) {\n        return a.p - b.p;\n      }\n    });\n    var cameFrom = [];\n    var costTotal = [];\n    costTotal[start] = 0;\n    queue.queue({\n      e: start,\n      p: 0\n    });\n\n    var _loop20 = function _loop20() {\n      var next = queue.dequeue().e;\n\n      if (next === end) {\n        return \"break\";\n      }\n\n      var pol = cells[next];\n      pol.neighbors.forEach(function (e) {\n        if (cells[e].height >= 20) {\n          var cost = cells[e].height / 100 * 2;\n\n          if (cells[e].path && type === \"main\") {\n            cost = 0.15;\n          } else {\n            if (typeof e.manor === \"undefined\") {\n              cost += 0.1;\n            }\n\n            if (typeof e.river !== \"undefined\") {\n              cost -= 0.1;\n            }\n\n            if (cells[e].harbor) {\n              cost *= 0.3;\n            }\n\n            if (cells[e].path) {\n              cost *= 0.5;\n            }\n\n            cost += Math.hypot(cells[e].data[0] - pol.data[0], cells[e].data[1] - pol.data[1]) / 30;\n          }\n\n          var costNew = costTotal[next] + cost;\n\n          if (!cameFrom[e] || costNew < costTotal[e]) {\n            //\n            costTotal[e] = costNew;\n            cameFrom[e] = next;\n            var dist = Math.hypot(cells[e].data[0] - cells[end].data[0], cells[e].data[1] - cells[end].data[1]) / 15;\n            var priority = costNew + dist;\n            queue.queue({\n              e: e,\n              p: priority\n            });\n          }\n        }\n      });\n    };\n\n    while (queue.length > 0) {\n      var _ret7 = _loop20();\n\n      if (_ret7 === \"break\") break;\n    }\n\n    return cameFrom;\n  }\n\n  function findLandPaths(start, type) {\n    // Dijkstra algorithm (not used now)\n    var queue = new PriorityQueue({\n      comparator: function comparator(a, b) {\n        return a.p - b.p;\n      }\n    });\n    var cameFrom = [],\n        costTotal = [];\n    cameFrom[start] = \"no\", costTotal[start] = 0;\n    queue.queue({\n      e: start,\n      p: 0\n    });\n\n    var _loop21 = function _loop21() {\n      var next = queue.dequeue().e;\n      var pol = cells[next];\n      pol.neighbors.forEach(function (e) {\n        if (cells[e].height < 20) return;\n        var cost = cells[e].height / 100 * 2;\n        if (e.river !== undefined) cost -= 0.2;\n        if (pol.region !== cells[e].region) cost += 1;\n        if (cells[e].region === \"neutral\") cost += 1;\n        if (e.manor !== undefined) cost = 0.1;\n        var costNew = costTotal[next] + cost;\n\n        if (!cameFrom[e]) {\n          costTotal[e] = costNew;\n          cameFrom[e] = next;\n          queue.queue({\n            e: e,\n            p: costNew\n          });\n        }\n      });\n    };\n\n    while (queue.length > 0) {\n      _loop21();\n    }\n\n    return cameFrom;\n  }\n\n  function findOceanPaths(start, end) {\n    var queue = new PriorityQueue({\n      comparator: function comparator(a, b) {\n        return a.p - b.p;\n      }\n    });\n    var next;\n    var cameFrom = [],\n        costTotal = [];\n    cameFrom[start] = \"no\", costTotal[start] = 0;\n    queue.queue({\n      e: start,\n      p: 0\n    });\n\n    var _loop22 = function _loop22() {\n      next = queue.dequeue().e;\n      var pol = cells[next];\n      pol.neighbors.forEach(function (e) {\n        if (cells[e].ctype < 0 || cells[e].haven === next) {\n          var cost = 1;\n          if (cells[e].ctype > 0) cost += 100;\n\n          if (cells[e].ctype < -1) {\n            var dist = Math.hypot(cells[e].data[0] - pol.data[0], cells[e].data[1] - pol.data[1]);\n            cost += 50 + dist * 2;\n          }\n\n          if (cells[e].path && cells[e].ctype < 0) cost *= 0.8;\n          var costNew = costTotal[next] + cost;\n\n          if (!cameFrom[e]) {\n            costTotal[e] = costNew;\n            cells[e].cost = costNew;\n            cameFrom[e] = next;\n            queue.queue({\n              e: e,\n              p: costNew\n            });\n          }\n        }\n      });\n    };\n\n    while (queue.length > 0 && next !== end) {\n      _loop22();\n    }\n\n    return cameFrom;\n  }\n\n  function getPathDist(start, end) {\n    var queue = new PriorityQueue({\n      comparator: function comparator(a, b) {\n        return a.p - b.p;\n      }\n    });\n    var next, costNew;\n    var cameFrom = [];\n    var costTotal = [];\n    cameFrom[start] = \"no\";\n    costTotal[start] = 0;\n    queue.queue({\n      e: start,\n      p: 0\n    });\n\n    var _loop23 = function _loop23() {\n      next = queue.dequeue().e;\n      var pol = cells[next];\n      pol.neighbors.forEach(function (e) {\n        if (cells[e].path && (cells[e].ctype === -1 || cells[e].haven === next)) {\n          var dist = Math.hypot(cells[e].data[0] - pol.data[0], cells[e].data[1] - pol.data[1]);\n          costNew = costTotal[next] + dist;\n\n          if (!cameFrom[e]) {\n            costTotal[e] = costNew;\n            cameFrom[e] = next;\n            queue.queue({\n              e: e,\n              p: costNew\n            });\n          }\n        }\n      });\n    };\n\n    while (queue.length > 0 && next !== end) {\n      _loop23();\n    }\n\n    return costNew;\n  }\n\n  function restorePath(end, start, type, from) {\n    var path = [],\n        current = end;\n    var limit = 1000;\n    var prev = cells[end];\n\n    if (type === \"ocean\" || !prev.path) {\n      path.push({\n        scX: prev.data[0],\n        scY: prev.data[1],\n        i: end\n      });\n    }\n\n    if (!prev.path) {\n      prev.path = 1;\n    }\n\n    for (var i = 0; i < limit; i++) {\n      current = from[current];\n      var cur = cells[current];\n\n      if (!cur) {\n        break;\n      }\n\n      if (cur.path) {\n        cur.path += 1;\n        path.push({\n          scX: cur.data[0],\n          scY: cur.data[1],\n          i: current\n        });\n        prev = cur;\n        drawPath();\n      } else {\n        cur.path = 1;\n\n        if (prev) {\n          path.push({\n            scX: prev.data[0],\n            scY: prev.data[1],\n            i: prev.index\n          });\n        }\n\n        prev = undefined;\n        path.push({\n          scX: cur.data[0],\n          scY: cur.data[1],\n          i: current\n        });\n      }\n\n      if (current === start || !from[current]) {\n        break;\n      }\n    }\n\n    drawPath();\n\n    function drawPath() {\n      if (path.length > 1) {\n        // mark crossroades\n        if (type === \"main\" || type === \"small\") {\n          var plus = type === \"main\" ? 4 : 2;\n          var f = cells[path[0].i];\n\n          if (f.path > 1) {\n            if (!f.crossroad) {\n              f.crossroad = 0;\n            }\n\n            f.crossroad += plus;\n          }\n\n          var t = cells[path[path.length - 1].i];\n\n          if (t.path > 1) {\n            if (!t.crossroad) {\n              t.crossroad = 0;\n            }\n\n            t.crossroad += plus;\n          }\n        } // draw path segments\n\n\n        var line = lineGen(path);\n        line = round(line, 1);\n        var id = 0; // to create unique route id\n\n        if (type === \"main\") {\n          id = roads.selectAll(\"path\").size();\n          roads.append(\"path\").attr(\"d\", line).attr(\"id\", \"road\" + id).on(\"click\", editRoute);\n        } else if (type === \"small\") {\n          id = trails.selectAll(\"path\").size();\n          trails.append(\"path\").attr(\"d\", line).attr(\"id\", \"trail\" + id).on(\"click\", editRoute);\n        } else if (type === \"ocean\") {\n          id = searoutes.selectAll(\"path\").size();\n          searoutes.append(\"path\").attr(\"d\", line).attr(\"id\", \"searoute\" + id).on(\"click\", editRoute);\n        }\n      }\n\n      path = [];\n    }\n  } // Append burg elements\n\n\n  function drawManors() {\n    console.time('drawManors');\n    var capitalIcons = burgIcons.select(\"#capitals\");\n    var capitalLabels = burgLabels.select(\"#capitals\");\n    var townIcons = burgIcons.select(\"#towns\");\n    var townLabels = burgLabels.select(\"#towns\");\n    var capitalSize = capitalIcons.attr(\"size\") || 1;\n    var townSize = townIcons.attr(\"size\") || 0.5;\n    capitalIcons.selectAll(\"*\").remove();\n    capitalLabels.selectAll(\"*\").remove();\n    townIcons.selectAll(\"*\").remove();\n    townLabels.selectAll(\"*\").remove();\n\n    for (var i = 0; i < manors.length; i++) {\n      var x = manors[i].x,\n          y = manors[i].y;\n      var cell = manors[i].cell;\n      var name = manors[i].name;\n      var ic = i < states.length ? capitalIcons : townIcons;\n      var lb = i < states.length ? capitalLabels : townLabels;\n      var size = i < states.length ? capitalSize : townSize;\n      ic.append(\"circle\").attr(\"id\", \"burg\" + i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", size).on(\"click\", editBurg);\n      lb.append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n    }\n\n    console.timeEnd('drawManors');\n  } // get settlement and country names based on option selected\n\n\n  function getNames() {\n    console.time('getNames'); // if names source is an external resource\n\n    if (namesInput.value === \"1\") {\n      var request = new XMLHttpRequest();\n      var url = \"https://archivist.xalops.com/archivist-core/api/name/settlement?count=\";\n      request.open(\"GET\", url + manors.length, true);\n\n      request.onload = function () {\n        var names = JSON.parse(request.responseText);\n\n        for (var i = 0; i < manors.length; i++) {\n          manors[i].name = names[i];\n          burgLabels.select(\"[data-id='\" + i + \"']\").text(names[i]);\n\n          if (i < states.length) {\n            states[i].name = generateStateName(i);\n            labels.select(\"#countries\").select(\"#regionLabel\" + i).text(states[i].name);\n          }\n        }\n\n        console.log(names);\n      };\n\n      request.send(null);\n    }\n\n    if (namesInput.value !== \"0\") return;\n\n    for (var i = 0; i < manors.length; i++) {\n      var culture = manors[i].culture;\n      manors[i].name = generateName(culture);\n      if (i < states.length) states[i].name = generateStateName(i);\n    }\n\n    console.timeEnd('getNames');\n  }\n\n  function calculateChains() {\n    for (var c = 0; c < nameBase.length; c++) {\n      chain[c] = calculateChain(c);\n    }\n  } // calculate Markov's chain from namesbase data\n\n\n  function calculateChain(c) {\n    var chain = [];\n    var d = nameBase[c].join(\" \").toLowerCase();\n    var method = nameBases[c].method;\n\n    for (var i = -1, prev = \" \", str = \"\"; i < d.length - 2; prev = str, i += str.length, str = \"\") {\n      var vowel = 0,\n          f = \" \";\n\n      if (method === \"let-to-let\") {\n        str = d[i + 1];\n      } else {\n        for (var _c2 = i + 1; str.length < 5; _c2++) {\n          if (d[_c2] === undefined) break;\n          str += d[_c2];\n          if (str === \" \") break;\n          if (d[_c2] !== \"o\" && d[_c2] !== \"e\" && vowels.includes(d[_c2]) && d[_c2 + 1] === d[_c2]) break;\n\n          if (d[_c2 + 2] === \" \") {\n            str += d[_c2 + 1];\n            break;\n          }\n\n          if (vowels.includes(d[_c2])) vowel++;\n          if (vowel && vowels.includes(d[_c2 + 2])) break;\n        }\n      }\n\n      if (i >= 0) {\n        f = d[i];\n        if (method === \"syl-to-syl\") f = prev;\n      }\n\n      if (chain[f] === undefined) chain[f] = [];\n      chain[f].push(str);\n    }\n\n    return chain;\n  } // generate random name using Markov's chain\n\n\n  function generateName(culture, base) {\n    if (base === undefined) {\n      if (!cultures[culture]) {\n        console.error(\"culture \" + culture + \" is not defined. Will load default cultures and set first culture\");\n        generateCultures();\n        culture = 0;\n      }\n\n      base = cultures[culture].base;\n    }\n\n    if (!nameBases[base]) {\n      console.error(\"nameBase \" + base + \" is not defined. Will load default names data and first base\");\n      if (!nameBases[0]) applyDefaultNamesData();\n      base = 0;\n    }\n\n    var method = nameBases[base].method;\n\n    var error = function error(base) {\n      tip(\"Names data for base \" + nameBases[base].name + \" is incorrect. Please fix in Namesbase Editor\");\n      editNamesbase();\n    };\n\n    if (method === \"selection\") {\n      if (nameBase[base].length < 1) {\n        error(base);\n        return;\n      }\n\n      var rnd = rand(nameBase[base].length - 1);\n      var _name = nameBase[base][rnd];\n      return _name;\n    }\n\n    var data = chain[base];\n\n    if (data === undefined || data[\" \"] === undefined) {\n      error(base);\n      return;\n    }\n\n    var max = nameBases[base].max;\n    var min = nameBases[base].min;\n    var d = nameBases[base].d;\n    var word = \"\",\n        variants = data[\" \"];\n\n    if (variants === undefined) {\n      error(base);\n      return;\n    }\n\n    var cur = variants[rand(variants.length - 1)];\n\n    for (var i = 0; i < 21; i++) {\n      if (cur === \" \" && Math.random() < 0.8) {\n        // space means word end, but we don't want to end if word is too short\n        if (word.length < min) {\n          word = \"\";\n          variants = data[\" \"];\n        } else {\n          break;\n        }\n      } else {\n        var l = method === \"let-to-syl\" && cur.length > 1 ? cur[cur.length - 1] : cur;\n        variants = data[l]; // word is getting too long, restart\n\n        word += cur; // add current el to word\n\n        if (word.length > max) word = \"\";\n      }\n\n      if (variants === undefined) {\n        error(base);\n        return;\n      }\n\n      cur = variants[rand(variants.length - 1)];\n    } // very rare case, let's just select a random name\n\n\n    if (word.length < 2) word = nameBase[base][rand(nameBase[base].length - 1)]; // do not allow multi-word name if word is foo short or not allowed for culture\n\n    if (word.includes(\" \")) {\n      var words = word.split(\" \"),\n          parsed;\n\n      if (Math.random() > nameBases[base].m) {\n        word = words.join(\"\");\n      } else {\n        for (var _i2 = 0; _i2 < words.length; _i2++) {\n          if (words[_i2].length < 2) {\n            if (!_i2) words[1] = words[0] + words[1];\n            if (_i2) words[_i2 - 1] = words[_i2 - 1] + words[_i2];\n            words.splice(_i2, 1);\n            _i2--;\n          }\n        }\n\n        word = words.join(\" \");\n      }\n    } // parse word to get a final name\n\n\n    var name = _toConsumableArray(word).reduce(function (r, c, i, data) {\n      if (c === \" \") {\n        if (!r.length) return \"\";\n        if (i + 1 === data.length) return r;\n      }\n\n      if (!r.length) return c.toUpperCase();\n      if (r.slice(-1) === \" \") return r + c.toUpperCase();\n\n      if (c === data[i - 1]) {\n        if (!d.includes(c)) return r;\n        if (c === data[i - 2]) return r;\n      }\n\n      return r + c;\n    }, \"\");\n\n    return name;\n  } // Define areas based on the closest manor to a polygon\n\n\n  function defineRegions(withCultures) {\n    console.time('defineRegions');\n    var manorTree = d3.quadtree();\n    manors.forEach(function (m) {\n      if (m.region !== \"removed\") manorTree.add([m.x, m.y]);\n    });\n    var neutral = +neutralInput.value;\n    land.forEach(function (i) {\n      if (i.manor !== undefined && manors[i.manor].region !== \"removed\") {\n        i.region = manors[i.manor].region;\n        if (withCultures && manors[i.manor].culture !== undefined) i.culture = manors[i.manor].culture;\n        return;\n      }\n\n      var x = i.data[0],\n          y = i.data[1];\n      var dist = 100000,\n          manor = null;\n\n      if (manors.length) {\n        var c = manorTree.find(x, y);\n        dist = Math.hypot(c[0] - x, c[1] - y);\n        manor = getManorId(c);\n      }\n\n      if (dist > neutral / 2 || manor === null) {\n        i.region = \"neutral\";\n\n        if (withCultures) {\n          var closestCulture = cultureTree.find(x, y);\n          i.culture = getCultureId(closestCulture);\n        }\n      } else {\n        var cell = manors[manor].cell;\n\n        if (cells[cell].fn !== i.fn) {\n          var minDist = dist * 3;\n          land.forEach(function (l) {\n            if (l.fn === i.fn && l.manor !== undefined) {\n              if (manors[l.manor].region === \"removed\") return;\n              var distN = Math.hypot(l.data[0] - x, l.data[1] - y);\n\n              if (distN < minDist) {\n                minDist = distN;\n                manor = l.manor;\n              }\n            }\n          });\n        }\n\n        i.region = manors[manor].region;\n        if (withCultures) i.culture = manors[manor].culture;\n      }\n    });\n    console.timeEnd('defineRegions');\n  } // Define areas cells\n\n\n  function drawRegions() {\n    console.time('drawRegions');\n    labels.select(\"#countries\").selectAll(\"*\").remove(); // arrays to store edge data\n\n    var edges = [],\n        coastalEdges = [],\n        borderEdges = [],\n        neutralEdges = [];\n\n    for (var a = 0; a < states.length; a++) {\n      edges[a] = [];\n      coastalEdges[a] = [];\n    }\n\n    var e = diagram.edges;\n\n    for (var i = 0; i < e.length; i++) {\n      if (e[i] === undefined) continue;\n\n      var _start5 = e[i][0].join(\" \");\n\n      var end = e[i][1].join(\" \");\n      var p = {\n        start: _start5,\n        end: end\n      };\n\n      if (e[i].left === undefined) {\n        var _r = e[i].right.index;\n        var _rr = cells[_r].region;\n        if (Number.isInteger(_rr)) edges[_rr].push(p);\n        continue;\n      }\n\n      if (e[i].right === undefined) {\n        var _l = e[i].left.index;\n        var _lr = cells[_l].region;\n        if (Number.isInteger(_lr)) edges[_lr].push(p);\n        continue;\n      }\n\n      var l = e[i].left.index;\n      var r = e[i].right.index;\n      var lr = cells[l].region;\n      var rr = cells[r].region;\n      if (lr === rr) continue;\n\n      if (Number.isInteger(lr)) {\n        edges[lr].push(p);\n\n        if (rr === undefined) {\n          coastalEdges[lr].push(p);\n        } else if (rr === \"neutral\") {\n          neutralEdges.push(p);\n        }\n      }\n\n      if (Number.isInteger(rr)) {\n        edges[rr].push(p);\n\n        if (lr === undefined) {\n          coastalEdges[rr].push(p);\n        } else if (lr === \"neutral\") {\n          neutralEdges.push(p);\n        } else if (Number.isInteger(lr)) {\n          borderEdges.push(p);\n        }\n      }\n    }\n\n    edges.map(function (e, i) {\n      if (e.length) {\n        drawRegion(e, i);\n        drawRegionCoast(coastalEdges[i], i);\n      }\n    });\n    drawBorders(borderEdges, \"state\");\n    drawBorders(neutralEdges, \"neutral\");\n    console.timeEnd('drawRegions');\n  }\n\n  function drawRegion(edges, region) {\n    var path = \"\";\n    var array = [];\n    lineGen.curve(d3.curveLinear);\n\n    var _loop24 = function _loop24() {\n      var edgesOrdered = []; // to store points in a correct order\n\n      var start = edges[0].start;\n      var end = edges[0].end;\n      edges.shift();\n      var spl = start.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n      spl = end.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n\n      for (var i = 0; end !== start && i < 2000; i++) {\n        var next = $.grep(edges, function (e) {\n          return e.start == end || e.end == end;\n        });\n\n        if (next.length > 0) {\n          if (next[0].start == end) {\n            end = next[0].end;\n          } else if (next[0].end == end) {\n            end = next[0].start;\n          }\n\n          spl = end.split(\" \");\n          edgesOrdered.push({\n            scX: spl[0],\n            scY: spl[1]\n          });\n        }\n\n        var rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n      }\n\n      path += lineGen(edgesOrdered) + \"Z \";\n      array[array.length] = edgesOrdered.map(function (e) {\n        return [+e.scX, +e.scY];\n      });\n    };\n\n    while (edges.length > 2) {\n      _loop24();\n    }\n\n    var color = states[region].color;\n    regions.append(\"path\").attr(\"d\", round(path, 1)).attr(\"fill\", color).attr(\"class\", \"region\" + region);\n    array.sort(function (a, b) {\n      return b.length - a.length;\n    });\n    var capital = states[region].capital; // add capital cell as a hole\n\n    if (!isNaN(capital)) {\n      var capitalCell = manors[capital].cell;\n      array.push(polygons[capitalCell]);\n    }\n\n    var name = states[region].name;\n    var c = polylabel(array, 1.0); // pole of inaccessibility\n\n    labels.select(\"#countries\").append(\"text\").attr(\"id\", \"regionLabel\" + region).attr(\"x\", rn(c[0])).attr(\"y\", rn(c[1])).text(name).on(\"click\", editLabel);\n    states[region].area = rn(Math.abs(d3.polygonArea(array[0]))); // define region area\n  }\n\n  function drawRegionCoast(edges, region) {\n    var path = \"\";\n\n    var _loop25 = function _loop25() {\n      var edgesOrdered = []; // to store points in a correct order\n\n      var start = edges[0].start;\n      var end = edges[0].end;\n      edges.shift();\n      var spl = start.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n      spl = end.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n      var next = $.grep(edges, function (e) {\n        return e.start == end || e.end == end;\n      });\n\n      while (next.length > 0) {\n        if (next[0].start == end) {\n          end = next[0].end;\n        } else if (next[0].end == end) {\n          end = next[0].start;\n        }\n\n        spl = end.split(\" \");\n        edgesOrdered.push({\n          scX: spl[0],\n          scY: spl[1]\n        });\n        var rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n        next = $.grep(edges, function (e) {\n          return e.start == end || e.end == end;\n        });\n      }\n\n      path += lineGen(edgesOrdered);\n    };\n\n    while (edges.length > 0) {\n      _loop25();\n    }\n\n    var color = states[region].color;\n    regions.append(\"path\").attr(\"d\", round(path, 1)).attr(\"fill\", \"none\").attr(\"stroke\", color).attr(\"stroke-width\", 5).attr(\"class\", \"region\" + region);\n  }\n\n  function drawBorders(edges, type) {\n    var path = \"\";\n\n    if (edges.length < 1) {\n      return;\n    }\n\n    var _loop26 = function _loop26() {\n      var edgesOrdered = []; // to store points in a correct order\n\n      var start = edges[0].start;\n      var end = edges[0].end;\n      edges.shift();\n      var spl = start.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n      spl = end.split(\" \");\n      edgesOrdered.push({\n        scX: spl[0],\n        scY: spl[1]\n      });\n      var next = $.grep(edges, function (e) {\n        return e.start == end || e.end == end;\n      });\n\n      while (next.length > 0) {\n        if (next[0].start == end) {\n          end = next[0].end;\n        } else if (next[0].end == end) {\n          end = next[0].start;\n        }\n\n        spl = end.split(\" \");\n        edgesOrdered.push({\n          scX: spl[0],\n          scY: spl[1]\n        });\n        var rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n        next = $.grep(edges, function (e) {\n          return e.start == end || e.end == end;\n        });\n      }\n\n      path += lineGen(edgesOrdered);\n    };\n\n    while (edges.length > 0) {\n      _loop26();\n    }\n\n    if (type === \"state\") {\n      stateBorders.append(\"path\").attr(\"d\", round(path, 1));\n    }\n\n    if (type === \"neutral\") {\n      neutralBorders.append(\"path\").attr(\"d\", round(path, 1));\n    }\n  } // generate region name\n\n\n  function generateStateName(state) {\n    var culture = null;\n    if (states[state]) if (manors[states[state].capital]) culture = manors[states[state].capital].culture;\n    var name = \"NameIdontWant\";\n\n    if (Math.random() < 0.85 || culture === null) {\n      // culture is random if capital is not yet defined\n      if (culture === null) culture = rand(cultures.length - 1); // try to avoid too long words as a basename\n\n      for (var i = 0; i < 20 && name.length > 7; i++) {\n        name = generateName(culture);\n      }\n    } else {\n      name = manors[state].name;\n    }\n\n    var base = cultures[culture].base;\n    var addSuffix = false; // handle special cases\n\n    var e = name.slice(-2);\n\n    if (base === 5 && (e === \"sk\" || e === \"ev\" || e === \"ov\")) {\n      // remove -sk and -ev/-ov for Ruthenian\n      name = name.slice(0, -2);\n      addSuffix = true;\n    } else if (name.length > 5 && base === 1 && name.slice(-3) === \"ton\") {\n      // remove -ton ending for English\n      name = name.slice(0, -3);\n      addSuffix = true;\n    } else if (name.length > 6 && name.slice(-4) === \"berg\") {\n      // remove -berg ending for any\n      name = name.slice(0, -4);\n      addSuffix = true;\n    } else if (base === 12) {\n      // Japanese ends on vowels\n      if (vowels.includes(name.slice(-1))) return name;\n      return name + \"u\";\n    } else if (base === 10) {\n      // Korean has \"guk\" suffix\n      if (name.slice(-3) === \"guk\") return name;\n      if (name.slice(-1) === \"g\") name = name.slice(0, -1);\n      if (Math.random() < 0.2 && name.length < 7) name = name + \"guk\"; // 20% for \"guk\"\n\n      return name;\n    } else if (base === 11) {\n      // Chinese has \"guo\" suffix\n      if (name.slice(-3) === \"guo\") return name;\n      if (name.slice(-1) === \"g\") name = name.slice(0, -1);\n      if (Math.random() < 0.3 && name.length < 7) name = name + \" Guo\"; // 30% for \"guo\"\n\n      return name;\n    } // define if suffix should be used\n\n\n    var vowel = vowels.includes(name.slice(-1)); // last char is vowel\n\n    if (vowel && name.length > 3) {\n      if (Math.random() < 0.85) {\n        if (vowels.includes(name.slice(-2, -1))) {\n          name = name.slice(0, -2);\n          addSuffix = true; // 85% for vv\n        } else if (Math.random() < 0.7) {\n          name = name.slice(0, -1);\n          addSuffix = true; // ~60% for cv\n        }\n      }\n    } else if (Math.random() < 0.6) {\n      addSuffix = true; // 60% for cc and vc\n    }\n\n    if (addSuffix === false) return name;\n    var suffix = \"ia\"; // common latin suffix\n\n    var rnd = Math.random();\n    if (rnd < 0.05 && base === 3) suffix = \"terra\"; // 5% \"terra\" for Italian\n    else if (rnd < 0.05 && base === 4) suffix = \"terra\"; // 5% \"terra\" for Spanish\n      else if (rnd < 0.05 && base == 2) suffix = \"terre\"; // 5% \"terre\" for French\n        else if (rnd < 0.5 && base == 0) suffix = \"land\"; // 50% \"land\" for German\n          else if (rnd < 0.4 && base == 1) suffix = \"land\"; // 40% \"land\" for English\n            else if (rnd < 0.3 && base == 6) suffix = \"land\"; // 30% \"land\" for Nordic\n              else if (rnd < 0.1 && base == 7) suffix = \"eia\"; // 10% \"eia\" for Greek (\"ia\" is also Greek)\n                else if (rnd < 0.4 && base == 9) suffix = \"maa\"; // 40% \"maa\" for Finnic\n\n    if (name.slice(-1 * suffix.length) === suffix) return name; // no suffix if name already ends with it\n\n    if (name.slice(-1) === suffix.charAt(0)) name = name.slice(0, -1); // remove name last letter if it's a suffix first letter\n\n    return name + suffix;\n  } // re-calculate cultures\n\n\n  function recalculateCultures(fullRedraw) {\n    console.time(\"recalculateCultures\"); // For each capital find closest culture and assign it to capital\n\n    states.forEach(function (s) {\n      if (s.capital === \"neutral\" || s.capital === \"select\") return;\n      var capital = manors[s.capital];\n      var c = cultureTree.find(capital.x, capital.y);\n      capital.culture = getCultureId(c);\n    }); // For each town if distance to its capital > neutral / 2,\n    // assign closest culture to the town; else assign capital's culture\n\n    var manorTree = d3.quadtree();\n    var neutral = +neutralInput.value;\n    manors.forEach(function (m) {\n      if (m.region === \"removed\") return;\n      manorTree.add([m.x, m.y]);\n\n      if (m.region === \"neutral\") {\n        var _culture2 = cultureTree.find(m.x, m.y);\n\n        m.culture = getCultureId(_culture2);\n        return;\n      }\n\n      var c = states[m.region].capital;\n\n      if (c !== \"neutral\" && c !== \"select\") {\n        var dist = Math.hypot(m.x - manors[c].x, m.y - manors[c].y);\n\n        if (dist <= neutral / 5) {\n          m.culture = manors[c].culture;\n          return;\n        }\n      }\n\n      var culture = cultureTree.find(m.x, m.y);\n      m.culture = getCultureId(culture);\n    }); // For each land cell if distance to closest manor > neutral / 2,\n    // assign closest culture to the cell; else assign manors's culture\n\n    var changed = [];\n    land.forEach(function (i) {\n      var x = i.data[0],\n          y = i.data[1];\n      var c = manorTree.find(x, y);\n      var culture = i.culture;\n      var dist = Math.hypot(c[0] - x, c[1] - y);\n      var manor = getManorId(c);\n\n      if (dist > neutral / 2 || manor === undefined) {\n        var closestCulture = cultureTree.find(i.data[0], i.data[1]);\n        i.culture = getCultureId(closestCulture);\n      } else {\n        var cell = manors[manor].cell;\n\n        if (cells[cell].fn !== i.fn) {\n          var minDist = dist * 3;\n          land.forEach(function (l) {\n            if (l.fn === i.fn && l.manor !== undefined) {\n              if (manors[l.manor].region === \"removed\") return;\n              var distN = Math.hypot(l.data[0] - x, l.data[1] - y);\n\n              if (distN < minDist) {\n                minDist = distN;\n                manor = l.manor;\n              }\n            }\n          });\n        }\n\n        i.culture = manors[manor].culture;\n      } // re-color cells\n\n\n      if (i.culture !== culture || fullRedraw) {\n        var clr = cultures[i.culture].color;\n        cults.select(\"#cult\" + i.index).attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    });\n    console.timeEnd(\"recalculateCultures\");\n  } // get culture Id from center coordinates\n\n\n  function getCultureId(c) {\n    for (var i = 0; i < cultures.length; i++) {\n      if (cultures[i].center[0] === c[0]) if (cultures[i].center[1] === c[1]) return i;\n    }\n  } // get manor Id from center coordinates\n\n\n  function getManorId(c) {\n    for (var i = 0; i < manors.length; i++) {\n      if (manors[i].x === c[0]) if (manors[i].y === c[1]) return i;\n    }\n  } // focus on coorditanes, cell or burg provided in searchParams\n\n\n  function focusOn() {\n    if (params.get(\"from\") === \"MFCG\") {\n      // focus on burg from MFCG\n      findBurgForMFCG();\n      return;\n    }\n\n    var s = params.get(\"scale\") || 8;\n    var x = params.get(\"x\");\n    var y = params.get(\"y\");\n    var c = params.get(\"cell\");\n\n    if (c !== null) {\n      x = cells[+c].data[0];\n      y = cells[+c].data[1];\n    }\n\n    var b = params.get(\"burg\");\n\n    if (b !== null) {\n      x = manors[+b].x;\n      y = manors[+b].y;\n    }\n\n    if (x !== null && y !== null) zoomTo(x, y, s, 1600);\n  } // find burg from MFCG and focus on it\n\n\n  function findBurgForMFCG() {\n    if (!manors.length) {\n      console.error(\"No burgs generated. Cannot select a burg for MFCG\");\n      return;\n    }\n\n    var size = +params.get(\"size\");\n    var coast = +params.get(\"coast\");\n    var port = +params.get(\"port\");\n    var river = +params.get(\"river\");\n    var selection = defineSelection(coast, port, river);\n    if (!selection.length) selection = defineSelection(coast, !port, !river);\n    if (!selection.length) selection = defineSelection(!coast, 0, !river);\n    if (!selection.length) selection = manors[0]; // select first if nothing is found\n\n    if (!selection.length) {\n      console.error(\"Cannot find a burg for MFCG\");\n      return;\n    }\n\n    function defineSelection(coast, port, river) {\n      var selection = [];\n      if (port && river) selection = $.grep(manors, function (e) {\n        return cells[e.cell].port !== undefined && cells[e.cell].river !== undefined;\n      });else if (!port && coast && river) selection = $.grep(manors, function (e) {\n        return cells[e.cell].port === undefined && cells[e.cell].ctype === 1 && cells[e.cell].river !== undefined;\n      });else if (!coast && !river) selection = $.grep(manors, function (e) {\n        return cells[e.cell].ctype !== 1 && cells[e.cell].river === undefined;\n      });else if (!coast && river) selection = $.grep(manors, function (e) {\n        return cells[e.cell].ctype !== 1 && cells[e.cell].river !== undefined;\n      });else if (coast && !river) selection = $.grep(manors, function (e) {\n        return cells[e.cell].ctype === 1 && cells[e.cell].river === undefined;\n      });\n      return selection;\n    } // select a burg with closes population from selection\n\n\n    var selected = d3.scan(selection, function (a, b) {\n      return Math.abs(a.population - size) - Math.abs(b.population - size);\n    });\n    var burg = selection[selected].i;\n\n    if (size && burg !== undefined) {\n      manors[burg].population = size;\n    } else {\n      return;\n    } // focus on found burg\n\n\n    var label = burgLabels.select(\"[data-id='\" + burg + \"']\");\n\n    if (!label.size()) {\n      console.error(\"Cannot find a label for MFCG burg \" + burg);\n      return;\n    }\n\n    tip(\"Here stands the glorious city of \" + manors[burg].name, true);\n    label.classed(\"drag\", true).on(\"mouseover\", function () {\n      d3.select(this).classed(\"drag\", false);\n      tip(\"\", true);\n    });\n    var x = +label.attr(\"x\"),\n        y = +label.attr(\"y\");\n    zoomTo(x, y, 8, 1600);\n  } // draw the Heightmap\n\n\n  function toggleHeight() {\n    var scheme = styleSchemeInput.value;\n    var hColor = color;\n    if (scheme === \"light\") hColor = d3.scaleSequential(d3.interpolateRdYlGn);\n    if (scheme === \"green\") hColor = d3.scaleSequential(d3.interpolateGreens);\n    if (scheme === \"monochrome\") hColor = d3.scaleSequential(d3.interpolateGreys);\n\n    if (!terrs.selectAll(\"path\").size()) {\n      cells.map(function (i, d) {\n        var height = i.height;\n        if (height < 20 && !i.lake) return;\n\n        if (i.lake) {\n          var nHeights = i.neighbors.map(function (e) {\n            if (cells[e].height >= 20) return cells[e].height;\n          });\n          var mean = d3.mean(nHeights);\n          if (!mean) return;\n          height = Math.trunc(mean);\n          if (height < 20 || isNaN(height)) height = 20;\n        }\n\n        var clr = hColor((100 - height) / 100);\n        terrs.append(\"path\").attr(\"d\", \"M\" + polygons[d].join(\"L\") + \"Z\").attr(\"fill\", clr).attr(\"stroke\", clr);\n      });\n    } else {\n      terrs.selectAll(\"path\").remove();\n    }\n  } // draw Cultures\n\n\n  function toggleCultures() {\n    if (cults.selectAll(\"path\").size() == 0) {\n      land.map(function (i) {\n        var color = cultures[i.culture].color;\n        cults.append(\"path\").attr(\"d\", \"M\" + polygons[i.index].join(\"L\") + \"Z\").attr(\"id\", \"cult\" + i.index).attr(\"fill\", color).attr(\"stroke\", color);\n      });\n    } else {\n      cults.selectAll(\"path\").remove();\n    }\n  } // draw Overlay\n\n\n  function toggleOverlay() {\n    if (overlay.selectAll(\"*\").size() === 0) {\n      var type = styleOverlayType.value;\n      var size = +styleOverlaySize.value;\n\n      if (type === \"pointyHex\" || type === \"flatHex\") {\n        var _points = getHexGridPoints(size, type);\n\n        var hex = \"m\" + getHex(size, type).slice(0, 4).join(\"l\");\n\n        var d = _points.map(function (p) {\n          return \"M\" + p + hex;\n        }).join(\"\");\n\n        overlay.append(\"path\").attr(\"d\", d);\n      } else if (type === \"square\") {\n        var x = d3.range(size, svgWidth, size);\n        var y = d3.range(size, svgHeight, size);\n        overlay.append(\"g\").selectAll(\"line\").data(x).enter().append(\"line\").attr(\"x1\", function (d) {\n          return d;\n        }).attr(\"x2\", function (d) {\n          return d;\n        }).attr(\"y1\", 0).attr(\"y2\", svgHeight);\n        overlay.append(\"g\").selectAll(\"line\").data(y).enter().append(\"line\").attr(\"y1\", function (d) {\n          return d;\n        }).attr(\"y2\", function (d) {\n          return d;\n        }).attr(\"x1\", 0).attr(\"x2\", svgWidth);\n      } else {\n        var tr = \"translate(80 80) scale(\".concat(size / 20, \")\");\n        d3.select(\"#rose\").attr(\"transform\", tr);\n        overlay.append(\"use\").attr(\"xlink:href\", \"#rose\");\n      }\n\n      overlay.call(d3.drag().on(\"start\", elementDrag));\n      calculateFriendlyOverlaySize();\n    } else {\n      overlay.selectAll(\"*\").remove();\n    }\n  }\n\n  function getHex(radius, type) {\n    var x0 = 0,\n        y0 = 0;\n    var s = type === \"pointyHex\" ? 0 : Math.PI / -6;\n    var thirdPi = Math.PI / 3;\n    var angles = [s, s + thirdPi, s + 2 * thirdPi, s + 3 * thirdPi, s + 4 * thirdPi, s + 5 * thirdPi];\n    return angles.map(function (angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  function getHexGridPoints(size, type) {\n    var points = [];\n    var rt3 = Math.sqrt(3);\n    var off = type === \"pointyHex\" ? rt3 * size / 2 : size * 3 / 2;\n    var ySpace = type === \"pointyHex\" ? size * 3 / 2 : rt3 * size / 2;\n    var xSpace = type === \"pointyHex\" ? rt3 * size : size * 3;\n\n    for (var y = 0, l = 0; y < graphHeight; y += ySpace, l++) {\n      for (var x = l % 2 ? 0 : off; x < graphWidth; x += xSpace) {\n        points.push([x, y]);\n      }\n    }\n\n    return points;\n  } // clean data to get rid of redundand info\n\n\n  function cleanData() {\n    console.time(\"cleanData\");\n    cells.map(function (c) {\n      delete c.cost;\n      delete c.used;\n      delete c.coastX;\n      delete c.coastY;\n      if (c.ctype === undefined) delete c.ctype;\n      if (c.lake === undefined) delete c.lake;\n      c.height = Math.trunc(c.height);\n      if (c.height >= 20) c.flux = rn(c.flux, 2);\n    }); // restore layers if they was turned on\n\n    if (!$(\"#toggleHeight\").hasClass(\"buttonoff\") && !terrs.selectAll(\"path\").size()) toggleHeight();\n    if (!$(\"#toggleCultures\").hasClass(\"buttonoff\") && !cults.selectAll(\"path\").size()) toggleCultures();\n    closeDialogs();\n    invokeActiveZooming();\n    console.timeEnd(\"cleanData\");\n  } // close all dialogs except stated\n\n\n  function closeDialogs(except) {\n    except = except || \"#except\";\n    $(\".dialog:visible\").not(except).each(function (e) {\n      $(this).dialog(\"close\");\n    });\n  } // change transparency for modal windowa\n\n\n  function changeDialogsTransparency(v) {\n    localStorage.setItem(\"transparency\", v);\n    var alpha = (100 - +v) / 100;\n    var optionsColor = \"rgba(164, 139, 149, \" + alpha + \")\"; // purple-red\n\n    var dialogsColor = \"rgba(255, 255, 255, \" + alpha + \")\"; // white\n\n    document.getElementById(\"options\").style.backgroundColor = optionsColor;\n    document.getElementById(\"dialogs\").style.backgroundColor = dialogsColor;\n  } // Draw the water flux system (for dubugging)\n\n\n  function toggleFlux() {\n    var colorFlux = d3.scaleSequential(d3.interpolateBlues);\n\n    if (terrs.selectAll(\"path\").size() == 0) {\n      land.map(function (i) {\n        terrs.append(\"path\").attr(\"d\", \"M\" + polygons[i.index].join(\"L\") + \"Z\").attr(\"fill\", colorFlux(0.1 + i.flux)).attr(\"stroke\", colorFlux(0.1 + i.flux));\n      });\n    } else {\n      terrs.selectAll(\"path\").remove();\n    }\n  } // Draw the Relief (need to create more beautiness)\n\n\n  function drawRelief() {\n    console.time('drawRelief');\n    var h,\n        count,\n        rnd,\n        cx,\n        cy,\n        swampCount = 0;\n    var hills = terrain.select(\"#hills\");\n    var mounts = terrain.select(\"#mounts\");\n    var swamps = terrain.select(\"#swamps\");\n    var forests = terrain.select(\"#forests\");\n    terrain.selectAll(\"g\").selectAll(\"g\").remove(); // sort the land to Draw the top element first (reduce the elements overlapping)\n\n    land.sort(compareY);\n\n    for (var i = 0; i < land.length; i++) {\n      if (land[i].river) continue; // no icons on rivers\n\n      var cell = land[i].index;\n      var p = d3.polygonCentroid(polygons[cell]); // polygon centroid point\n\n      if (p === undefined) continue; // something is wrong with data\n\n      var height = land[i].height;\n      var area = land[i].area;\n\n      if (height >= 70) {\n        // mount icon\n        h = (height - 55) * 0.12;\n\n        for (var c = 0, a = area; Math.random() < a / 50; c++, a -= 50) {\n          if (polygons[cell][c] === undefined) break;\n          var g = mounts.append(\"g\").attr(\"data-cell\", cell);\n\n          if (c < 2) {\n            cx = p[0] - h / 100 * (1 - c / 10) - c * 2;\n            cy = p[1] + h / 400 + c;\n          } else {\n            var p2 = polygons[cell][c];\n            cx = (p[0] * 1.2 + p2[0] * 0.8) / 2;\n            cy = (p[1] * 1.2 + p2[1] * 0.8) / 2;\n          }\n\n          rnd = Math.random() * 0.8 + 0.2;\n          var mount = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h + rnd) + \",\" + (cy - h / 1.2 + rnd) + \" L\" + (cx + h * 2) + \",\" + cy;\n          var shade = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h / 1.5) + \",\" + cy;\n          var dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.3) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.3);\n          dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.6) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.6);\n          g.append(\"path\").attr(\"d\", round(mount, 1)).attr(\"stroke\", \"#5c5c70\");\n          g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"#999999\");\n          g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n        }\n      } else if (height > 50) {\n        // hill icon\n        h = (height - 40) / 10;\n        if (h > 1.7) h = 1.7;\n\n        for (var _c3 = 0, _a = area; Math.random() < _a / 30; _c3++, _a -= 30) {\n          if (land[i].ctype === 1 && _c3 > 0) break;\n          if (polygons[cell][_c3] === undefined) break;\n\n          var _g = hills.append(\"g\").attr(\"data-cell\", cell);\n\n          if (_c3 < 2) {\n            cx = p[0] - h - _c3 * 1.2;\n            cy = p[1] + h / 4 + _c3 / 1.6;\n          } else {\n            var _p2 = polygons[cell][_c3];\n            cx = (p[0] * 1.2 + _p2[0] * 0.8) / 2;\n            cy = (p[1] * 1.2 + _p2[1] * 0.8) / 2;\n          }\n\n          var hill = \"M\" + cx + \",\" + cy + \" Q\" + (cx + h) + \",\" + (cy - h) + \" \" + (cx + 2 * h) + \",\" + cy;\n\n          var _shade = \"M\" + (cx + 0.6 * h) + \",\" + (cy + 0.1) + \" Q\" + (cx + h * 0.95) + \",\" + (cy - h * 0.91) + \" \" + (cx + 2 * h * 0.97) + \",\" + cy;\n\n          var _dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.2) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.2);\n\n          _dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.4) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.4);\n\n          _g.append(\"path\").attr(\"d\", round(hill, 1)).attr(\"stroke\", \"#5c5c70\");\n\n          _g.append(\"path\").attr(\"d\", round(_shade, 1)).attr(\"fill\", \"white\");\n\n          _g.append(\"path\").attr(\"d\", round(_dash, 1)).attr(\"class\", \"strokes\");\n        }\n      } // swamp icons\n\n\n      if (height >= 21 && height < 22 && swampCount < +swampinessInput.value && land[i].used != 1) {\n        var _g2 = swamps.append(\"g\").attr(\"data-cell\", cell);\n\n        swampCount++;\n        land[i].used = 1;\n        var swamp = drawSwamp(p[0], p[1]);\n        land[i].neighbors.forEach(function (e) {\n          if (cells[e].height >= 20 && cells[e].height < 30 && !cells[e].river && cells[e].used != 1) {\n            cells[e].used = 1;\n            swamp += drawSwamp(cells[e].data[0], cells[e].data[1]);\n          }\n        });\n\n        _g2.append(\"path\").attr(\"d\", round(swamp, 1));\n      } // forest icons\n\n\n      if (Math.random() < height / 100 && height >= 22 && height < 48) {\n        for (var _c4 = 0, _a2 = area; Math.random() < _a2 / 15; _c4++, _a2 -= 15) {\n          if (land[i].ctype === 1 && _c4 > 0) break;\n          if (polygons[cell][_c4] === undefined) break;\n\n          var _g3 = forests.append(\"g\").attr(\"data-cell\", cell);\n\n          if (_c4 === 0) {\n            cx = rn(p[0] - 1 - Math.random(), 1);\n            cy = p[1] - 2;\n          } else {\n            var _p3 = polygons[cell][_c4];\n\n            if (_c4 > 1) {\n              var dist = Math.hypot(_p3[0] - polygons[cell][_c4 - 1][0], _p3[1] - polygons[cell][_c4 - 1][1]);\n              if (dist < 2) continue;\n            }\n\n            cx = (p[0] * 0.5 + _p3[0] * 1.5) / 2;\n            cy = (p[1] * 0.5 + _p3[1] * 1.5) / 2 - 1;\n          }\n\n          var forest = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 v0.75 h0.1 v-0.75 q0.95,-0.47 -0.05,-1.25 z \";\n          var light = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 h0.1 q0.95,-0.47 -0.05,-1.25 z \";\n\n          var _shade2 = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 q-0.2,-0.55 0,-1.1 z \";\n\n          _g3.append(\"path\").attr(\"d\", forest);\n\n          _g3.append(\"path\").attr(\"d\", light).attr(\"fill\", \"white\").attr(\"stroke\", \"none\");\n\n          _g3.append(\"path\").attr(\"d\", _shade2).attr(\"fill\", \"#999999\").attr(\"stroke\", \"none\");\n        }\n      }\n    }\n\n    terrain.selectAll(\"g\").selectAll(\"g\").on(\"click\", editReliefIcon);\n    console.timeEnd('drawRelief');\n  }\n\n  function addReliefIcon(height, type, cx, cy, cell) {\n    var g = terrain.select(\"#\" + type).append(\"g\").attr(\"data-cell\", cell);\n\n    if (type === \"mounts\") {\n      var h = height >= 0.7 ? (height - 0.55) * 12 : 1.8;\n      var rnd = Math.random() * 0.8 + 0.2;\n      var mount = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h + rnd) + \",\" + (cy - h / 1.2 + rnd) + \" L\" + (cx + h * 2) + \",\" + cy;\n      var shade = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h / 1.5) + \",\" + cy;\n      var dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.3) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.3);\n      dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.6) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.6);\n      g.append(\"path\").attr(\"d\", round(mount, 1)).attr(\"stroke\", \"#5c5c70\");\n      g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"#999999\");\n      g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n    }\n\n    if (type === \"hills\") {\n      var _h = height > 0.5 ? (height - 0.4) * 10 : 1.2;\n\n      if (_h > 1.8) _h = 1.8;\n      var hill = \"M\" + cx + \",\" + cy + \" Q\" + (cx + _h) + \",\" + (cy - _h) + \" \" + (cx + 2 * _h) + \",\" + cy;\n\n      var _shade3 = \"M\" + (cx + 0.6 * _h) + \",\" + (cy + 0.1) + \" Q\" + (cx + _h * 0.95) + \",\" + (cy - _h * 0.91) + \" \" + (cx + 2 * _h * 0.97) + \",\" + cy;\n\n      var _dash2 = \"M\" + (cx - 0.1) + \",\" + (cy + 0.2) + \" L\" + (cx + 2 * _h + 0.1) + \",\" + (cy + 0.2);\n\n      _dash2 += \"M\" + (cx + 0.4) + \",\" + (cy + 0.4) + \" L\" + (cx + 2 * _h - 0.3) + \",\" + (cy + 0.4);\n      g.append(\"path\").attr(\"d\", round(hill, 1)).attr(\"stroke\", \"#5c5c70\");\n      g.append(\"path\").attr(\"d\", round(_shade3, 1)).attr(\"fill\", \"white\");\n      g.append(\"path\").attr(\"d\", round(_dash2, 1)).attr(\"class\", \"strokes\");\n    }\n\n    if (type === \"swamps\") {\n      var swamp = drawSwamp(cx, cy);\n      g.append(\"path\").attr(\"d\", round(swamp, 1));\n    }\n\n    if (type === \"forests\") {\n      var _rnd2 = Math.random();\n\n      var _h2 = _rnd2 * 0.4 + 0.6;\n\n      var forest = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 v0.75 h0.1 v-0.75 q0.95,-0.47 -0.05,-1.25 z \";\n      var light = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 h0.1 q0.95,-0.47 -0.05,-1.25 z \";\n\n      var _shade4 = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 q-0.2,-0.55 0,-1.1 z \";\n\n      g.append(\"path\").attr(\"d\", forest);\n      g.append(\"path\").attr(\"d\", light).attr(\"fill\", \"white\").attr(\"stroke\", \"none\");\n      g.append(\"path\").attr(\"d\", _shade4).attr(\"fill\", \"#999999\").attr(\"stroke\", \"none\");\n    }\n\n    g.on(\"click\", editReliefIcon);\n    return g;\n  }\n\n  function compareY(a, b) {\n    if (a.data[1] > b.data[1]) return 1;\n    if (a.data[1] < b.data[1]) return -1;\n    return 0;\n  }\n\n  function drawSwamp(x, y) {\n    var h = 0.6;\n    var line = \"\";\n\n    for (var c = 0; c < 3; c++) {\n      var cx = void 0;\n      var cy = void 0;\n\n      if (c == 0) {\n        cx = x;\n        cy = y - 0.5 - Math.random();\n      }\n\n      if (c == 1) {\n        cx = x + h + Math.random();\n        cy = y + h + Math.random();\n      }\n\n      if (c == 2) {\n        cx = x - h - Math.random();\n        cy = y + 2 * h + Math.random();\n      }\n\n      line += \"M\" + cx + \",\" + cy + \" H\" + (cx - h / 6) + \" M\" + cx + \",\" + cy + \" H\" + (cx + h / 6) + \" M\" + cx + \",\" + cy + \" L\" + (cx - h / 3) + \",\" + (cy - h / 2) + \" M\" + cx + \",\" + cy + \" V\" + (cy - h / 1.5) + \" M\" + cx + \",\" + cy + \" L\" + (cx + h / 3) + \",\" + (cy - h / 2);\n      line += \"M\" + (cx - h) + \",\" + cy + \" H\" + (cx - h / 2) + \" M\" + (cx + h / 2) + \",\" + cy + \" H\" + (cx + h);\n    }\n\n    return line;\n  }\n\n  function dragged(e) {\n    var el = d3.select(this);\n    var x = d3.event.x;\n    var y = d3.event.y;\n    el.raise().classed(\"drag\", true);\n\n    if (el.attr(\"x\")) {\n      el.attr(\"x\", x).attr(\"y\", y + 0.8);\n      var matrix = el.attr(\"transform\");\n\n      if (matrix) {\n        var angle = matrix.split('(')[1].split(')')[0].split(' ')[0];\n        var bbox = el.node().getBBox();\n        var rotate = \"rotate(\" + angle + \" \" + (bbox.x + bbox.width / 2) + \" \" + (bbox.y + bbox.height / 2) + \")\";\n        el.attr(\"transform\", rotate);\n      }\n    } else {\n      el.attr(\"cx\", x).attr(\"cy\", y);\n    }\n  }\n\n  function dragended(d) {\n    d3.select(this).classed(\"drag\", false);\n  } // Complete the map for the \"customize\" mode\n\n\n  function getMap() {\n    if (customization !== 1) {\n      tip('Nothing to complete! Click on \"Edit\" or \"Clear all\" to enter a heightmap customization mode', null, \"error\");\n      return;\n    }\n\n    if (+landmassCounter.innerHTML < 150) {\n      tip(\"Insufficient land area! Please add more land cells to complete the map\", null, \"error\");\n      return;\n    }\n\n    exitCustomization();\n    console.time(\"TOTAL\");\n    markFeatures();\n    drawOcean();\n    elevateLakes();\n    resolveDepressionsPrimary();\n    reGraph();\n    resolveDepressionsSecondary();\n    flux();\n    addLakes();\n    if (!changeHeights.checked) restoreCustomHeights();\n    drawCoastline();\n    drawRelief();\n    var keepData = states.length && manors.length;\n\n    if (keepData) {\n      restoreRegions();\n    } else {\n      generateCultures();\n      manorsAndRegions();\n    }\n\n    cleanData();\n    console.timeEnd(\"TOTAL\");\n  } // Add support \"click to add\" button events\n\n\n  $(\"#customizeTab\").click(clickToAdd);\n\n  function clickToAdd() {\n    if (modules.clickToAdd) return;\n    modules.clickToAdd = true; // add label on click\n\n    $(\"#addLabel\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addLabelOnClick);\n      }\n    });\n\n    function addLabelOnClick() {\n      var point = d3.mouse(this);\n      var index = getIndex(point);\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2); // get culture in clicked point to generate a name\n\n      var closest = cultureTree.find(x, y);\n      var culture = cultureTree.data().indexOf(closest) || 0;\n      var name = generateName(culture);\n      var group = labels.select(\"#addedLabels\");\n\n      if (!group.size()) {\n        group = labels.append(\"g\").attr(\"id\", \"addedLabels\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", 18).attr(\"data-size\", 18);\n      }\n\n      var id = \"label\" + Date.now().toString().slice(7);\n      group.append(\"text\").attr(\"id\", id).attr(\"x\", x).attr(\"y\", y).text(name).on(\"click\", editLabel);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addLabel\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n    } // add burg on click\n\n\n    $(\"#addBurg\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n        tip(\"\", true);\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).attr(\"data-state\", -1).addClass('pressed');\n        $(\"#burgAdd, #burgAddfromEditor\").addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addBurgOnClick);\n        tip(\"Click on map to place burg icon with a label. Hold Shift to place several\", true);\n      }\n    });\n\n    function addBurgOnClick() {\n      var point = d3.mouse(this);\n      var index = getIndex(point);\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2); // get culture in clicked point to generate a name\n\n      var culture = cells[index].culture;\n      if (culture === undefined) culture = 0;\n      var name = generateName(culture);\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place burg in the water! Select a land cell\", null, \"error\");\n        return;\n      }\n\n      if (cells[index].manor !== undefined) {\n        tip(\"There is already a burg in this cell. Please select a free cell\", null, \"error\");\n        $('#grid').fadeIn();\n        d3.select(\"#toggleGrid\").classed(\"buttonoff\", false);\n        return;\n      }\n\n      var i = manors.length;\n      var size = burgIcons.select(\"#towns\").attr(\"size\");\n      burgIcons.select(\"#towns\").append(\"circle\").attr(\"id\", \"burg\" + i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", size).on(\"click\", editBurg);\n      burgLabels.select(\"#towns\").append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n      invokeActiveZooming();\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addBurg, #burgAdd, #burgAddfromEditor\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n\n      var region,\n          state = +$(\"#addBurg\").attr(\"data-state\");\n\n      if (state !== -1) {\n        region = states[state].capital === \"neutral\" ? \"neutral\" : state;\n        var oldRegion = cells[index].region;\n\n        if (region !== oldRegion) {\n          cells[index].region = region;\n          redrawRegions();\n        }\n      } else {\n        region = cells[index].region;\n        state = region === \"neutral\" ? states.length - 1 : region;\n      }\n\n      cells[index].manor = i;\n      var score = cells[index].score;\n\n      if (score <= 0) {\n        score = rn(Math.random(), 2);\n      }\n\n      if (cells[index].crossroad) {\n        score += cells[index].crossroad;\n      } // crossroads\n\n\n      if (cells[index].confluence) {\n        score += Math.pow(cells[index].confluence, 0.3);\n      } // confluences\n\n\n      if (cells[index].port !== undefined) {\n        score *= 3;\n      } // port-capital\n\n\n      var population = rn(score, 1);\n      manors.push({\n        i: i,\n        cell: index,\n        x: x,\n        y: y,\n        region: region,\n        culture: culture,\n        name: name,\n        population: population\n      });\n      recalculateStateData(state);\n      updateCountryEditors();\n      tip(\"\", true);\n    } // add river on click\n\n\n    $(\"#addRiver\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        unselect();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        unselect();\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addRiverOnClick);\n        tip(\"Click on map to place new river or extend an existing one\", true);\n      }\n    });\n\n    function addRiverOnClick() {\n      var point = d3.mouse(this);\n      var index = diagram.find(point[0], point[1]).index;\n      var cell = cells[index];\n      if (cell.river || cell.height < 20) return;\n      var dataRiver = []; // to store river points\n\n      var last = $(\"#rivers > path\").last();\n      var river = last.length ? +last.attr(\"id\").slice(5) + 1 : 0;\n      cell.flux = 0.85;\n\n      var _loop27 = function _loop27() {\n        cell.river = river;\n        var x = cell.data[0],\n            y = cell.data[1];\n        dataRiver.push({\n          x: x,\n          y: y,\n          cell: index\n        });\n        var nHeights = [];\n        cell.neighbors.forEach(function (e) {\n          nHeights.push(cells[e].height);\n        });\n        var minId = nHeights.indexOf(d3.min(nHeights));\n        var min = cell.neighbors[minId];\n        var tx = cells[min].data[0],\n            ty = cells[min].data[1];\n\n        if (cells[min].height < 20) {\n          var px = (x + tx) / 2;\n          var py = (y + ty) / 2;\n          dataRiver.push({\n            x: px,\n            y: py,\n            cell: index\n          });\n          cell = undefined;\n        } else {\n          if (cells[min].river === undefined) {\n            cells[min].flux += cell.flux;\n            cell = cells[min];\n          } else {\n            var r = cells[min].river;\n            var riverEl = $(\"#river\" + r);\n            var riverCells = $.grep(land, function (e) {\n              return e.river === r;\n            });\n            riverCells.sort(function (a, b) {\n              return b.height - a.height;\n            });\n            var riverCellsUpper = $.grep(riverCells, function (e) {\n              return e.height > cells[min].height;\n            });\n\n            if (dataRiver.length > riverCellsUpper.length) {\n              // new river is more perspective\n              var avPrec = rn(precInput.value / Math.sqrt(cells.length), 2);\n              var dataRiverMin = [];\n              riverCells.map(function (c) {\n                if (c.height < cells[min].height) {\n                  cells[c.index].river = undefined;\n                  cells[c.index].flux = avPrec;\n                } else {\n                  dataRiverMin.push({\n                    x: c.data[0],\n                    y: c.data[1],\n                    cell: c.index\n                  });\n                }\n              });\n              cells[min].flux += cell.flux;\n\n              if (cells[min].confluence) {\n                cells[min].confluence += riverCellsUpper.length;\n              } else {\n                cells[min].confluence = riverCellsUpper.length;\n              }\n\n              cell = cells[min]; // redraw old river's upper part or remove if small\n\n              if (dataRiverMin.length > 1) {\n                riverAmended = amendRiver(dataRiverMin, 1);\n                d = drawRiver(riverAmended, 1.3, 1);\n                riverEl.attr(\"d\", d).attr(\"data-width\", 1.3).attr(\"data-increment\", 1);\n              } else {\n                riverEl.remove();\n                dataRiverMin.map(function (c) {\n                  cells[c.cell].river = undefined;\n                });\n              }\n            } else {\n              if (cells[min].confluence) {\n                cells[min].confluence += dataRiver.length;\n              } else {\n                cells[min].confluence = dataRiver.length;\n              }\n\n              cells[min].flux += cell.flux;\n              dataRiver.push({\n                x: tx,\n                y: ty,\n                cell: min\n              });\n              cell = undefined;\n            }\n          }\n        }\n      };\n\n      while (cell) {\n        var riverAmended;\n        var d;\n\n        _loop27();\n      }\n\n      var rndFactor = 0.2 + Math.random() * 1.6; // random factor in range 0.2-1.8\n\n      var riverAmended = amendRiver(dataRiver, rndFactor);\n      var d = drawRiver(riverAmended, 1.3, 1);\n      rivers.append(\"path\").attr(\"d\", d).attr(\"id\", \"river\" + river).attr(\"data-width\", 1.3).attr(\"data-increment\", 1).on(\"click\", editRiver);\n    } // add relief icon on click\n\n\n    $(\"#addRelief\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addReliefOnClick);\n        tip(\"Click on map to place relief icon. Hold Shift to place several\", true);\n      }\n    });\n\n    function addReliefOnClick() {\n      var point = d3.mouse(this);\n      var index = getIndex(point);\n      var height = cells[index].height;\n\n      if (height < 20) {\n        tip(\"Cannot place icon in the water! Select a land cell\");\n        return;\n      }\n\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2);\n      var type = reliefGroup.value;\n      addReliefIcon(height / 100, type, x, y, index);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addRelief\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n\n      tip(\"\", true);\n    } // add route on click\n\n\n    $(\"#addRoute\").click(function () {\n      if (!modules.editRoute) editRoute();\n      $(\"#routeNew\").click();\n    }); // add marker on click\n\n    $(\"#addMarker\").click(function () {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        $(\"#markerAdd\").addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addMarkerOnClick);\n      }\n    });\n\n    function addMarkerOnClick() {\n      var point = d3.mouse(this);\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2);\n      var selected = markerSelectGroup.value;\n      var valid = selected && d3.select(\"#defs-markers\").select(\"#\" + selected).size() === 1;\n      var symbol = valid ? \"#\" + selected : \"#marker0\";\n      var desired = valid ? markers.select(\"[data-id='\" + symbol + \"']\").attr(\"data-size\") : 1;\n      if (isNaN(desired)) desired = 1;\n      var id = \"marker\" + Date.now().toString().slice(7); // unique id\n\n      var size = desired * 5 + 25 / scale;\n      markers.append(\"use\").attr(\"id\", id).attr(\"xlink:href\", symbol).attr(\"data-id\", symbol).attr(\"data-x\", x).attr(\"data-y\", y).attr(\"x\", x - size / 2).attr(\"y\", y - size).attr(\"data-size\", desired).attr(\"width\", size).attr(\"height\", size).on(\"click\", editMarker);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addMarker, #markerAdd\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n    }\n  } // return cell / polly Index or error\n\n\n  function getIndex(point) {\n    var c = diagram.find(point[0], point[1]);\n\n    if (!c) {\n      console.error(\"Cannot find closest cell for points\" + point[0] + \", \" + point[1]);\n      return;\n    }\n\n    return c.index;\n  } // re-calculate data for a particular state\n\n\n  function recalculateStateData(state) {\n    var s = states[state] || states[states.length - 1];\n    if (s.capital === \"neutral\") state = \"neutral\";\n    var burgs = $.grep(manors, function (e) {\n      return e.region === state;\n    });\n    s.burgs = burgs.length;\n    var burgsPop = 0; // get summ of all burgs population\n\n    burgs.map(function (b) {\n      burgsPop += b.population;\n    });\n    s.urbanPopulation = rn(burgsPop, 1);\n    var regionCells = $.grep(cells, function (e) {\n      return e.region === state;\n    });\n    var cellsPop = 0,\n        area = 0;\n    regionCells.map(function (c) {\n      cellsPop += c.pop;\n      area += c.area;\n    });\n    s.cells = regionCells.length;\n    s.area = rn(area);\n    s.ruralPopulation = rn(cellsPop, 1);\n  }\n\n  function changeSelectedOnClick() {\n    var point = d3.mouse(this);\n    var index = diagram.find(point[0], point[1]).index;\n    if (cells[index].height < 20) return;\n    $(\".selected\").removeClass(\"selected\");\n    var color; // select state\n\n    if (customization === 2) {\n      var assigned = regions.select(\"#temp\").select(\"path[data-cell='\" + index + \"']\");\n      var s = assigned.size() ? assigned.attr(\"data-state\") : cells[index].region;\n      if (s === \"neutral\") s = states.length - 1;\n      color = states[s].color;\n      if (color === \"neutral\") color = \"white\";\n      $(\"#state\" + s).addClass(\"selected\");\n    } // select culture\n\n\n    if (customization === 4) {\n      var _assigned = cults.select(\"#cult\" + index);\n\n      var c = _assigned.attr(\"data-culture\") !== null ? +_assigned.attr(\"data-culture\") : cells[index].culture;\n      color = cultures[c].color;\n      $(\"#culture\" + c).addClass(\"selected\");\n    }\n\n    debug.selectAll(\".circle\").attr(\"stroke\", color);\n  } // fetch default fonts if not done before\n\n\n  function loadDefaultFonts() {\n    if (!$('link[href=\"fonts.css\"]').length) {\n      $(\"head\").append('<link rel=\"stylesheet\" type=\"text/css\" href=\"fonts.css\">');\n      var fontsToAdd = [\"Amatic+SC:700\", \"IM+Fell+English\", \"Great+Vibes\", \"MedievalSharp\", \"Metamorphous\", \"Nova+Script\", \"Uncial+Antiqua\", \"Underdog\", \"Caesar+Dressing\", \"Bitter\", \"Yellowtail\", \"Montez\", \"Shadows+Into+Light\", \"Fredericka+the+Great\", \"Orbitron\", \"Dancing+Script:700\", \"Architects+Daughter\", \"Kaushan+Script\", \"Gloria+Hallelujah\", \"Satisfy\", \"Comfortaa:700\", \"Cinzel\"];\n      fontsToAdd.forEach(function (f) {\n        if (fonts.indexOf(f) === -1) fonts.push(f);\n      });\n      updateFontOptions();\n    }\n  }\n\n  function fetchFonts(url) {\n    return new Promise(function (resolve, reject) {\n      if (url === \"\") {\n        tip(\"Use a direct link to any @font-face declaration or just font name to fetch from Google Fonts\");\n        return;\n      }\n\n      if (url.indexOf(\"http\") === -1) {\n        url = url.replace(url.charAt(0), url.charAt(0).toUpperCase()).split(\" \").join(\"+\");\n        url = \"https://fonts.googleapis.com/css?family=\" + url;\n      }\n\n      var fetched = addFonts(url).then(function (fetched) {\n        if (fetched === undefined) {\n          tip(\"Cannot fetch font for this value!\");\n          return;\n        }\n\n        if (fetched === 0) {\n          tip(\"Already in the fonts list!\");\n          return;\n        }\n\n        updateFontOptions();\n\n        if (fetched === 1) {\n          tip(\"Font \" + fonts[fonts.length - 1] + \" is fetched\");\n        } else if (fetched > 1) {\n          tip(fetched + \" fonts are added to the list\");\n        }\n\n        resolve(fetched);\n      });\n    });\n  }\n\n  function addFonts(url) {\n    $(\"head\").append('<link rel=\"stylesheet\" type=\"text/css\" href=\"' + url + '\">');\n    return fetch(url).then(function (resp) {\n      return resp.text();\n    }).then(function (text) {\n      var s = document.createElement('style');\n      s.innerHTML = text;\n      document.head.appendChild(s);\n      var styleSheet = Array.prototype.filter.call(document.styleSheets, function (sS) {\n        return sS.ownerNode === s;\n      })[0];\n\n      var FontRule = function FontRule(rule) {\n        var family = rule.style.getPropertyValue('font-family');\n        var font = family.replace(/['\"]+/g, '').replace(/ /g, \"+\");\n        var weight = rule.style.getPropertyValue('font-weight');\n        if (weight !== \"400\") font += \":\" + weight;\n\n        if (fonts.indexOf(font) == -1) {\n          fonts.push(font);\n          fetched++;\n        }\n      };\n\n      var fetched = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = styleSheet.cssRules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var r = _step.value;\n          FontRule(r);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      document.head.removeChild(s);\n      return fetched;\n    }).catch(function () {});\n  } // Update font list for Label and Burg Editors\n\n\n  function updateFontOptions() {\n    labelFontSelect.innerHTML = \"\";\n\n    for (var i = 0; i < fonts.length; i++) {\n      var opt = document.createElement('option');\n      opt.value = i;\n      var font = fonts[i].split(':')[0].replace(/\\+/g, \" \");\n      opt.style.fontFamily = opt.innerHTML = font;\n      labelFontSelect.add(opt);\n    }\n\n    burgSelectDefaultFont.innerHTML = labelFontSelect.innerHTML;\n  } // convert RGB color string to HEX without #\n\n\n  function toHEX(rgb) {\n    if (rgb.charAt(0) === \"#\") {\n      return rgb;\n    }\n\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgb && rgb.length === 4 ? \"#\" + (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n  } // random number in a range\n\n\n  function rand(min, max) {\n    if (min === undefined && !max === undefined) return Math.random();\n\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  } // round value to d decimals\n\n\n  function rn(v, d) {\n    var d = d || 0;\n    var m = Math.pow(10, d);\n    return Math.round(v * m) / m;\n  } // round string to d decimals\n\n\n  function round(s, d) {\n    var d = d || 1;\n    return s.replace(/[\\d\\.-][\\d\\.e-]*/g, function (n) {\n      return rn(n, d);\n    });\n  } // corvent number to short string with SI postfix\n\n\n  function si(n) {\n    if (n >= 1e9) {\n      return rn(n / 1e9, 1) + \"B\";\n    }\n\n    if (n >= 1e8) {\n      return rn(n / 1e6) + \"M\";\n    }\n\n    if (n >= 1e6) {\n      return rn(n / 1e6, 1) + \"M\";\n    }\n\n    if (n >= 1e4) {\n      return rn(n / 1e3) + \"K\";\n    }\n\n    if (n >= 1e3) {\n      return rn(n / 1e3, 1) + \"K\";\n    }\n\n    return rn(n);\n  } // getInteger number from user input data\n\n\n  function getInteger(value) {\n    var metric = value.slice(-1);\n\n    if (metric === \"K\") {\n      return parseInt(value.slice(0, -1) * 1e3);\n    }\n\n    if (metric === \"M\") {\n      return parseInt(value.slice(0, -1) * 1e6);\n    }\n\n    if (metric === \"B\") {\n      return parseInt(value.slice(0, -1) * 1e9);\n    }\n\n    return parseInt(value);\n  } // downalod map as SVG or PNG file\n\n\n  function saveAsImage(type) {\n    console.time(\"saveAsImage\");\n    var webSafe = [\"Georgia\", \"Times+New+Roman\", \"Comic+Sans+MS\", \"Lucida+Sans+Unicode\", \"Courier+New\", \"Verdana\", \"Arial\", \"Impact\"]; // get non-standard fonts used for labels to fetch them from web\n\n    var fontsInUse = []; // to store fonts currently in use\n\n    labels.selectAll(\"g\").each(function (d) {\n      var font = d3.select(this).attr(\"data-font\");\n      if (!font) return;\n      if (webSafe.indexOf(font) !== -1) return; // do not fetch web-safe fonts\n\n      if (fontsInUse.indexOf(font) === -1) fontsInUse.push(font);\n    });\n    var fontsToLoad = \"https://fonts.googleapis.com/css?family=\" + fontsInUse.join(\"|\"); // clone svg\n\n    var cloneEl = document.getElementsByTagName(\"svg\")[0].cloneNode(true);\n    cloneEl.id = \"fantasyMap\";\n    document.getElementsByTagName(\"body\")[0].appendChild(cloneEl);\n    var clone = d3.select(\"#fantasyMap\"); // rteset transform for svg\n\n    if (type === \"svg\") {\n      clone.attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n      clone.select(\"#viewbox\").attr(\"transform\", null);\n\n      if (svgWidth !== graphWidth || svgHeight !== graphHeight) {\n        // move scale bar to right bottom corner\n        var el = clone.select(\"#scaleBar\");\n        if (!el.size()) return;\n        var bbox = el.select(\"rect\").node().getBBox();\n        var tr = [graphWidth - bbox.width, graphHeight - (bbox.height - 10)];\n        el.attr(\"transform\", \"translate(\" + rn(tr[0]) + \",\" + rn(tr[1]) + \")\");\n      } // to fix use elements sizing\n\n\n      clone.selectAll(\"use\").each(function () {\n        var size = this.parentNode.getAttribute(\"size\") || 1;\n        this.setAttribute(\"width\", size + \"px\");\n        this.setAttribute(\"height\", size + \"px\");\n      }); // clean attributes\n      //clone.selectAll(\"*\").each(function() {\n      //  const attributes = this.attributes;\n      //  for (let i = 0; i < attributes.length; i++) {\n      //    const attr = attributes[i];\n      //    if (attr.value === \"\" || attr.name.includes(\"data\")) {\n      //      this.removeAttribute(attr.name);\n      //    }\n      //  }\n      //});\n    } // for each g element get inline style\n\n\n    var emptyG = clone.append(\"g\").node();\n    var defaultStyles = window.getComputedStyle(emptyG); // show hidden labels but in reduced size\n\n    clone.select(\"#labels\").selectAll(\".hidden\").each(function (e) {\n      var size = d3.select(this).attr(\"font-size\");\n      d3.select(this).classed(\"hidden\", false).attr(\"font-size\", rn(size * 0.4, 2));\n    }); // save group css to style attribute\n\n    clone.selectAll(\"g, #ruler > g > *, #scaleBar > text\").each(function (d) {\n      var compStyle = window.getComputedStyle(this);\n      var style = \"\";\n\n      for (var i = 0; i < compStyle.length; i++) {\n        var key = compStyle[i];\n        var value = compStyle.getPropertyValue(key); // Firefox mask hack\n\n        if (key === \"mask-image\" && value !== defaultStyles.getPropertyValue(key)) {\n          style += \"mask-image: url('#shape');\";\n          continue;\n        }\n\n        if (key === \"cursor\") continue; // cursor should be default\n\n        if (this.hasAttribute(key)) continue; // don't add style if there is the same attribute\n\n        if (value === defaultStyles.getPropertyValue(key)) continue;\n        style += key + ':' + value + ';';\n      }\n\n      if (style != \"\") this.setAttribute('style', style);\n    });\n    emptyG.remove(); // load fonts as dataURI so they will be available in downloaded svg/png\n\n    GFontToDataURI(fontsToLoad).then(function (cssRules) {\n      clone.select(\"defs\").append(\"style\").text(cssRules.join('\\n'));\n      var svg_xml = new XMLSerializer().serializeToString(clone.node());\n      clone.remove();\n      var blob = new Blob([svg_xml], {\n        type: 'image/svg+xml;charset=utf-8'\n      });\n      var url = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.target = \"_blank\";\n\n      if (type === \"png\") {\n        var ratio = svgHeight / svgWidth;\n        canvas.width = svgWidth * pngResolutionInput.value;\n        canvas.height = svgHeight * pngResolutionInput.value;\n        var img = new Image();\n        img.src = url;\n\n        img.onload = function () {\n          window.URL.revokeObjectURL(url);\n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n          link.download = \"fantasy_map_\" + Date.now() + \".png\";\n          canvas.toBlob(function (blob) {\n            link.href = window.URL.createObjectURL(blob);\n            document.body.appendChild(link);\n            link.click();\n            window.setTimeout(function () {\n              window.URL.revokeObjectURL(link.href);\n            }, 5000);\n          });\n          canvas.style.opacity = 0;\n          canvas.width = svgWidth;\n          canvas.height = svgHeight;\n        };\n      } else {\n        link.download = \"fantasy_map_\" + Date.now() + \".svg\";\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n      }\n\n      console.timeEnd(\"saveAsImage\");\n      window.setTimeout(function () {\n        window.URL.revokeObjectURL(url);\n      }, 5000);\n    });\n  } // Code from Kaiido's answer:\n  // https://stackoverflow.com/questions/42402584/how-to-use-google-fonts-in-canvas-when-drawing-dom-objects-in-svg\n\n\n  function GFontToDataURI(url) {\n    return fetch(url) // first fecth the embed stylesheet page\n    .then(function (resp) {\n      return resp.text();\n    }) // we only need the text of it\n    .then(function (text) {\n      var s = document.createElement('style');\n      s.innerHTML = text;\n      document.head.appendChild(s);\n      var styleSheet = Array.prototype.filter.call(document.styleSheets, function (sS) {\n        return sS.ownerNode === s;\n      })[0];\n\n      var FontRule = function FontRule(rule) {\n        var src = rule.style.getPropertyValue('src');\n        var family = rule.style.getPropertyValue('font-family');\n        var url = src.split('url(')[1].split(')')[0];\n        return {\n          rule: rule,\n          src: src,\n          url: url.substring(url.length - 1, 1)\n        };\n      };\n\n      var fontRules = [],\n          fontProms = [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        var _loop28 = function _loop28() {\n          var r = _step2.value;\n          var fR = FontRule(r);\n          fontRules.push(fR);\n          fontProms.push(fetch(fR.url) // fetch the actual font-file (.woff)\n          .then(function (resp) {\n            return resp.blob();\n          }).then(function (blob) {\n            return new Promise(function (resolve) {\n              var f = new FileReader();\n\n              f.onload = function (e) {\n                return resolve(f.result);\n              };\n\n              f.readAsDataURL(blob);\n            });\n          }).then(function (dataURL) {\n            return fR.rule.cssText.replace(fR.url, dataURL);\n          }));\n        };\n\n        for (var _iterator2 = styleSheet.cssRules[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          _loop28();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      document.head.removeChild(s); // clean up\n\n      return Promise.all(fontProms); // wait for all this has been done\n    });\n  } // Save in .map format, based on FileSystem API\n\n\n  function saveMap() {\n    console.time(\"saveMap\"); // data convention: 0 - params; 1 - all points; 2 - cells; 3 - manors; 4 - states;\n    // 5 - svg; 6 - options (see below); 7 - cultures;\n    // 8 - empty (former nameBase); 9 - empty (former nameBases); 10 - heights; 11 - notes;\n    // size stats: points = 6%, cells = 36%, manors and states = 2%, svg = 56%;\n\n    var date = new Date();\n    var dateString = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n    var license = \"File can be loaded in azgaar.github.io/Fantasy-Map-Generator\";\n    var params = version + \"|\" + license + \"|\" + dateString + \"|\" + seed;\n    var options = customization + \"|\" + distanceUnit.value + \"|\" + distanceScale.value + \"|\" + areaUnit.value + \"|\" + barSize.value + \"|\" + barLabel.value + \"|\" + barBackOpacity.value + \"|\" + barBackColor.value + \"|\" + populationRate.value + \"|\" + urbanization.value; // set zoom / transform values to default\n\n    svg.attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n    var transform = d3.zoomTransform(svg.node());\n    viewbox.attr(\"transform\", null);\n    var oceanBack = ocean.select(\"rect\");\n    var oceanShift = [oceanBack.attr(\"x\"), oceanBack.attr(\"y\"), oceanBack.attr(\"width\"), oceanBack.attr(\"height\")];\n    oceanBack.attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n    var svg_xml = new XMLSerializer().serializeToString(svg.node());\n    var line = \"\\r\\n\";\n    var data = params + line + JSON.stringify(points) + line + JSON.stringify(cells) + line;\n    data += JSON.stringify(manors) + line + JSON.stringify(states) + line + svg_xml + line + options + line;\n    data += JSON.stringify(cultures) + line + \"\" + line + \"\" + line + heights + line + JSON.stringify(notes) + line;\n    var dataBlob = new Blob([data], {\n      type: \"text/plain\"\n    });\n    var dataURL = window.URL.createObjectURL(dataBlob);\n    var link = document.createElement(\"a\");\n    link.download = \"fantasy_map_\" + Date.now() + \".map\";\n    link.href = dataURL;\n    document.body.appendChild(link);\n    link.click(); // restore initial values\n\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    zoom.transform(svg, transform);\n    oceanBack.attr(\"x\", oceanShift[0]).attr(\"y\", oceanShift[1]).attr(\"width\", oceanShift[2]).attr(\"height\", oceanShift[3]);\n    console.timeEnd(\"saveMap\");\n    window.setTimeout(function () {\n      window.URL.revokeObjectURL(dataURL);\n    }, 4000);\n  } // Map Loader based on FileSystem API\n\n\n  $(\"#mapToLoad\").change(function () {\n    console.time(\"loadMap\");\n    closeDialogs();\n    var fileToLoad = this.files[0];\n    this.value = \"\";\n    uploadFile(fileToLoad);\n  });\n\n  function uploadFile(file, callback) {\n    console.time(\"loadMap\");\n    var fileReader = new FileReader();\n\n    fileReader.onload = function (fileLoadedEvent) {\n      var dataLoaded = fileLoadedEvent.target.result;\n      var data = dataLoaded.split(\"\\r\\n\"); // data convention: 0 - params; 1 - all points; 2 - cells; 3 - manors; 4 - states;\n      // 5 - svg; 6 - options; 7 - cultures; 8 - none; 9 - none; 10 - heights; 11 - notes;\n\n      var params = data[0].split(\"|\");\n      var mapVersion = params[0] || data[0];\n\n      if (mapVersion !== version) {\n        var message = \"The Map version \"; // mapVersion reference was not added to downloaded map before v. 0.52b, so I cannot support really old files\n\n        if (mapVersion.length <= 10) {\n          message += \"(\".concat(mapVersion, \") does not match the Generator version (\").concat(version, \"). The map will be auto-updated.\\n                      In case of critical issues you may send the .map file\\n                      <a href=\\\"mailto:maxganiev@yandex.ru?Subject=Map%20update%20request\\\" target=\\\"_blank\\\">to me</a>\\n                      or just keep using\\n                      <a href=\\\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog\\\" target=\\\"_blank\\\">an appropriate version</a>\\n                      of the Generator\");\n        } else if (!mapVersion || parseFloat(mapVersion) < 0.54) {\n          message += \"you are trying to load is too old and cannot be updated. Please re-create the map or just keep using\\n                      <a href=\\\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog\\\" target=\\\"_blank\\\">an archived version</a>\\n                      of the Generator. Please note the Generator is still on demo and a lot of changes are being made every month\";\n        }\n\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({\n          title: \"Warning\",\n          buttons: {\n            OK: function OK() {\n              loadDataFromMap(data);\n            }\n          }\n        });\n      } else {\n        loadDataFromMap(data);\n      }\n\n      if (mapVersion.length > 10) {\n        console.error(\"Cannot load map\");\n      }\n    };\n\n    fileReader.readAsText(file, \"UTF-8\");\n\n    if (callback) {\n      callback();\n    }\n  }\n\n  function loadDataFromMap(data) {\n    closeDialogs(); // update seed\n\n    var params = data[0].split(\"|\");\n\n    if (params[3]) {\n      seed = params[3];\n      optionsSeed.value = seed;\n    } // get options\n\n\n    if (data[0] === \"0.52b\" || data[0] === \"0.53b\") {\n      customization = 0;\n    } else if (data[6]) {\n      var options = data[6].split(\"|\");\n      customization = +options[0] || 0;\n      if (options[1]) distanceUnit.value = options[1];\n      if (options[2]) distanceScale.value = options[2];\n      if (options[3]) areaUnit.value = options[3];\n      if (options[4]) barSize.value = options[4];\n      if (options[5]) barLabel.value = options[5];\n      if (options[6]) barBackOpacity.value = options[6];\n      if (options[7]) barBackColor.value = options[7];\n      if (options[8]) populationRate.value = options[8];\n      if (options[9]) urbanization.value = options[9];\n    } // replace old svg\n\n\n    svg.remove();\n\n    if (data[0] === \"0.52b\" || data[0] === \"0.53b\") {\n      states = []; // no states data in old maps\n\n      document.body.insertAdjacentHTML(\"afterbegin\", data[4]);\n    } else {\n      states = JSON.parse(data[4]);\n      document.body.insertAdjacentHTML(\"afterbegin\", data[5]);\n    }\n\n    svg = d3.select(\"svg\"); // always change graph size to the size of loaded map\n\n    var nWidth = +svg.attr(\"width\"),\n        nHeight = +svg.attr(\"height\");\n    graphWidth = nWidth;\n    graphHeight = nHeight;\n    voronoi = d3.voronoi().extent([[-1, -1], [graphWidth + 1, graphHeight + 1]]);\n    zoom.translateExtent([[0, 0], [graphWidth, graphHeight]]).scaleExtent([1, 20]).scaleTo(svg, 1);\n    viewbox.attr(\"transform\", null); // temporary fit loaded svg element to current canvas size\n\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n\n    if (nWidth !== svgWidth || nHeight !== svgHeight) {\n      alertMessage.innerHTML = \"The loaded map has size \".concat(nWidth, \" x \").concat(nHeight, \" pixels, while the current canvas size is \").concat(svgWidth, \" x \").concat(svgHeight, \" pixels.\\n                                Click \\\"Rescale\\\" to fit the map to the current canvas size. Click \\\"OK\\\" to browse the map without rescaling\");\n      $(\"#alert\").dialog({\n        title: \"Map size conflict\",\n        buttons: {\n          Rescale: function Rescale() {\n            applyLoadedData(data); // rescale loaded map\n\n            var xRatio = svgWidth / nWidth;\n            var yRatio = svgHeight / nHeight;\n            var scaleTo = rn(Math.min(xRatio, yRatio), 4); // calculate frames to scretch ocean background\n\n            var extent = 100 / scaleTo + \"%\";\n            var xShift = (nWidth * scaleTo - svgWidth) / 2 / scaleTo;\n            var yShift = (nHeight * scaleTo - svgHeight) / 2 / scaleTo;\n            svg.select(\"#ocean\").selectAll(\"rect\").attr(\"x\", xShift).attr(\"y\", yShift).attr(\"width\", extent).attr(\"height\", extent);\n            zoom.translateExtent([[0, 0], [nWidth, nHeight]]).scaleExtent([scaleTo, 20]).scaleTo(svg, scaleTo);\n            $(this).dialog(\"close\");\n          },\n          OK: function OK() {\n            changeMapSize();\n            applyLoadedData(data);\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    } else {\n      applyLoadedData(data);\n    }\n  }\n\n  function applyLoadedData(data) {\n    // redefine variables\n    defs = svg.select(\"#deftemp\");\n    viewbox = svg.select(\"#viewbox\");\n    ocean = viewbox.select(\"#ocean\");\n    oceanLayers = ocean.select(\"#oceanLayers\");\n    oceanPattern = ocean.select(\"#oceanPattern\");\n    landmass = viewbox.select(\"#landmass\");\n    grid = viewbox.select(\"#grid\");\n    overlay = viewbox.select(\"#overlay\");\n    terrs = viewbox.select(\"#terrs\");\n    cults = viewbox.select(\"#cults\");\n    routes = viewbox.select(\"#routes\");\n    roads = routes.select(\"#roads\");\n    trails = routes.select(\"#trails\");\n    rivers = viewbox.select(\"#rivers\");\n    terrain = viewbox.select(\"#terrain\");\n    regions = viewbox.select(\"#regions\");\n    borders = viewbox.select(\"#borders\");\n    stateBorders = borders.select(\"#stateBorders\");\n    neutralBorders = borders.select(\"#neutralBorders\");\n    coastline = viewbox.select(\"#coastline\");\n    lakes = viewbox.select(\"#lakes\");\n    searoutes = routes.select(\"#searoutes\");\n    labels = viewbox.select(\"#labels\");\n    icons = viewbox.select(\"#icons\");\n    markers = viewbox.select(\"#markers\");\n    ruler = viewbox.select(\"#ruler\");\n    debug = viewbox.select(\"#debug\");\n\n    if (!d3.select(\"#defs-markers\").size()) {\n      var symbol = '<g id=\"defs-markers\"><symbol id=\"marker0\" viewBox=\"0 0 30 30\"><path d=\"M6,19 l9,10 L24,19\" fill=\"#000000\" stroke=\"none\"></path><circle cx=\"15\" cy=\"15\" r=\"10\" stroke-width=\"1\" stroke=\"#000000\" fill=\"#ffffff\"></circle><text x=\"50%\" y=\"50%\" fill=\"#000000\" stroke-width=\"0\" stroke=\"#000000\" font-size=\"22px\" dominant-baseline=\"central\">?</text></symbol></g>';\n      var cont = document.getElementsByTagName(\"defs\");\n      cont[0].insertAdjacentHTML(\"afterbegin\", symbol);\n      markers = viewbox.append(\"g\").attr(\"id\", \"markers\");\n    } // version control: ensure required groups are created with correct data\n\n\n    if (!labels.select(\"#burgLabels\").size()) {\n      labels.append(\"g\").attr(\"id\", \"burgLabels\");\n      $(\"#labels #capitals, #labels #towns\").detach().appendTo($(\"#burgLabels\"));\n    }\n\n    if (!icons.select(\"#burgIcons\").size()) {\n      icons.append(\"g\").attr(\"id\", \"burgIcons\");\n      $(\"#icons #capitals, #icons #towns\").detach().appendTo($(\"#burgIcons\"));\n      icons.select(\"#burgIcons\").select(\"#capitals\").attr(\"size\", 1).attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1);\n      icons.select(\"#burgIcons\").select(\"#towns\").attr(\"size\", .5).attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1);\n    }\n\n    icons.selectAll(\"g\").each(function () {\n      var size = this.getAttribute(\"font-size\");\n      if (size === null || size === undefined) return;\n      this.removeAttribute(\"font-size\");\n      this.setAttribute(\"size\", size);\n    });\n    icons.select(\"#burgIcons\").selectAll(\"circle\").each(function () {\n      this.setAttribute(\"r\", this.parentNode.getAttribute(\"size\"));\n    });\n    icons.selectAll(\"use\").each(function () {\n      var size = this.parentNode.getAttribute(\"size\");\n      if (size === null || size === undefined) return;\n      this.setAttribute(\"width\", size);\n      this.setAttribute(\"height\", size);\n    });\n\n    if (!labels.select(\"#countries\").size()) {\n      labels.append(\"g\").attr(\"id\", \"countries\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", 14).attr(\"data-size\", 14);\n    }\n\n    burgLabels = labels.select(\"#burgLabels\");\n    burgIcons = icons.select(\"#burgIcons\"); // restore events\n\n    svg.call(zoom);\n    restoreDefaultEvents();\n    viewbox.on(\"touchmove mousemove\", moved);\n    overlay.selectAll(\"*\").call(d3.drag().on(\"start\", elementDrag));\n    terrain.selectAll(\"g\").selectAll(\"g\").on(\"click\", editReliefIcon);\n    labels.selectAll(\"text\").on(\"click\", editLabel);\n    icons.selectAll(\"circle, path, use\").on(\"click\", editIcon);\n    burgLabels.selectAll(\"text\").on(\"click\", editBurg);\n    burgIcons.selectAll(\"circle, path, use\").on(\"click\", editBurg);\n    rivers.selectAll(\"path\").on(\"click\", editRiver);\n    routes.selectAll(\"path\").on(\"click\", editRoute);\n    markers.selectAll(\"use\").on(\"click\", editMarker);\n    svg.select(\"#scaleBar\").call(d3.drag().on(\"start\", elementDrag)).on(\"click\", editScale);\n    ruler.selectAll(\"g\").call(d3.drag().on(\"start\", elementDrag));\n    ruler.selectAll(\"g\").selectAll(\"text\").on(\"click\", removeParent);\n    ruler.selectAll(\".opisometer\").selectAll(\"circle\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n    ruler.selectAll(\".linear\").selectAll(\"circle:not(.center)\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    ruler.selectAll(\".linear\").selectAll(\"circle.center\").call(d3.drag().on(\"drag\", rulerCenterDrag)); // update data\n\n    var newPoints = [];\n    riversData = [], queue = [], elSelected = \"\";\n    points = JSON.parse(data[1]);\n    cells = JSON.parse(data[2]);\n    manors = JSON.parse(data[3]);\n    if (data[7]) cultures = JSON.parse(data[7]);\n    if (data[7] === undefined) generateCultures();\n    if (data[11]) notes = JSON.parse(data[11]); // place random point\n\n    function placePoint() {\n      var x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      var y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      return [x, y];\n    } // ensure each culure has a valid namesbase assigned, if not assign first base\n\n\n    if (!nameBase[0]) applyDefaultNamesData();\n    cultures.forEach(function (c) {\n      var b = c.base;\n      if (b === undefined) c.base = 0;\n      if (!nameBase[b] || !nameBases[b]) c.base = 0;\n      if (c.center === undefined) c.center = placePoint();\n    });\n    var graphSizeAdj = 90 / Math.sqrt(cells.length, 2); // adjust to different graphSize\n    // cells validations\n\n    cells.forEach(function (c, d) {\n      // collect points\n      newPoints.push(c.data); // update old 0-1 height range to a new 0-100 range\n\n      if (c.height < 1) c.height = Math.trunc(c.height * 100);\n      if (c.height === 1 && c.region !== undefined && c.flux !== undefined) c.height = 100; // check if there are any unavailable cultures\n\n      if (c.culture > cultures.length - 1) {\n        var center = [c.data[0], c.data[1]];\n        var cult = {\n          name: \"AUTO_\" + c.culture,\n          color: \"#ff0000\",\n          base: 0,\n          center: center\n        };\n        cultures.push(cult);\n      }\n\n      if (c.height >= 20) {\n        if (!polygons[d] || !polygons[d].length) return; // calculate area\n\n        if (c.area === undefined || isNaN(c.area)) {\n          var area = d3.polygonArea(polygons[d]);\n          c.area = rn(Math.abs(area), 2);\n        } // calculate population\n\n\n        if (c.pop === undefined || isNaN(c.pop)) {\n          var population = 0;\n          var elevationFactor = Math.pow((100 - c.height) / 100, 3);\n          population = elevationFactor * c.area * graphSizeAdj;\n          if (c.region === \"neutral\") population *= 0.5;\n          c.pop = rn(population, 1);\n        } // if culture is undefined, set to 0\n\n\n        if (c.culture === undefined || isNaN(c.culture)) c.culture = 0;\n      }\n    });\n    land = $.grep(cells, function (e) {\n      return e.height >= 20;\n    });\n    calculateVoronoi(newPoints); // get heights Uint8Array\n\n    if (data[10]) {\n      heights = new Uint8Array(data[10].split(\",\"));\n    } else {\n      heights = new Uint8Array(points.length);\n\n      for (var i = 0; i < points.length; i++) {\n        var cell = diagram.find(points[i][0], points[i][1]).index;\n        heights[i] = cells[cell].height;\n      }\n    } // restore Heightmap customization mode\n\n\n    if (customization === 1) {\n      optionsTrigger.click();\n      $(\"#customizeHeightmap, #customizationMenu\").slideDown();\n      $(\"#openEditor\").slideUp();\n      updateHistory();\n      customizeTab.click();\n      paintBrushes.click();\n      tip(\"The map is in Heightmap customization mode. Please finalize the Heightmap\", true);\n    } // restore Country Edition mode\n\n\n    if (customization === 2 || customization === 3) tip(\"The map is in Country Edition mode. Please complete the assignment\", true); // restore layers state\n\n    d3.select(\"#toggleCultures\").classed(\"buttonoff\", !cults.selectAll(\"path\").size());\n    d3.select(\"#toggleHeight\").classed(\"buttonoff\", !terrs.selectAll(\"path\").size());\n    d3.select(\"#toggleCountries\").classed(\"buttonoff\", regions.style(\"display\") === \"none\");\n    d3.select(\"#toggleRivers\").classed(\"buttonoff\", rivers.style(\"display\") === \"none\");\n    d3.select(\"#toggleOcean\").classed(\"buttonoff\", oceanPattern.style(\"display\") === \"none\");\n    d3.select(\"#toggleRelief\").classed(\"buttonoff\", terrain.style(\"display\") === \"none\");\n    d3.select(\"#toggleBorders\").classed(\"buttonoff\", borders.style(\"display\") === \"none\");\n    d3.select(\"#toggleIcons\").classed(\"buttonoff\", icons.style(\"display\") === \"none\");\n    d3.select(\"#toggleLabels\").classed(\"buttonoff\", labels.style(\"display\") === \"none\");\n    d3.select(\"#toggleRoutes\").classed(\"buttonoff\", routes.style(\"display\") === \"none\");\n    d3.select(\"#toggleGrid\").classed(\"buttonoff\", grid.style(\"display\") === \"none\"); // update map to support some old versions and fetch fonts\n\n    labels.selectAll(\"g\").each(function (d) {\n      var el = d3.select(this);\n      if (el.attr(\"id\") === \"burgLabels\") return;\n      var font = el.attr(\"data-font\");\n      if (font && fonts.indexOf(font) === -1) addFonts(\"https://fonts.googleapis.com/css?family=\" + font);\n      if (!el.attr(\"data-size\")) el.attr(\"data-size\", +el.attr(\"font-size\"));\n      if (el.style(\"display\") === \"none\") el.node().style.display = null;\n    });\n    invokeActiveZooming();\n    console.timeEnd(\"loadMap\");\n  } // get square grid with some jirrering\n\n\n  function getJitteredGrid() {\n    var sizeMod = rn((graphWidth + graphHeight) / 1500, 2); // screen size modifier\n\n    spacing = rn(7.5 * sizeMod / graphSize, 2); // space between points before jirrering\n\n    var radius = spacing / 2; // square radius\n\n    var jittering = radius * 0.9; // max deviation\n\n    var jitter = function jitter() {\n      return Math.random() * 2 * jittering - jittering;\n    };\n\n    var points = [];\n\n    for (var y = radius; y < graphHeight; y += spacing) {\n      for (var x = radius; x < graphWidth; x += spacing) {\n        var xj = rn(x + jitter(), 2);\n        var yj = rn(y + jitter(), 2);\n        points.push([xj, yj]);\n      }\n    }\n\n    return points;\n  } // Hotkeys, see github.com/Azgaar/Fantasy-Map-Generator/wiki/Hotkeys\n\n\n  d3.select(\"body\").on(\"keydown\", function () {\n    var active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n    var key = d3.event.keyCode;\n    var ctrl = d3.event.ctrlKey;\n    var p = d3.mouse(this);\n    if (key === 117) $(\"#randomMap\").click(); // \"F6\" for new map\n    else if (key === 27) closeDialogs(); // Escape to close all dialogs\n      else if (key === 79) optionsTrigger.click(); // \"O\" to toggle options\n        else if (key === 80) saveAsImage(\"png\"); // \"P\" to save as PNG\n          else if (key === 83) saveAsImage(\"svg\"); // \"S\" to save as SVG\n            else if (key === 77) saveMap(); // \"M\" to save MAP file\n              else if (key === 76) mapToLoad.click(); // \"L\" to load MAP\n                else if (key === 32) console.table(cells[diagram.find(p[0], p[1]).index]); // Space to log focused cell data\n                  else if (key === 192) console.log(cells); // \"`\" to log cells data\n                    else if (key === 66) console.table(manors); // \"B\" to log burgs data\n                      else if (key === 67) console.table(states); // \"C\" to log countries data\n                        else if (key === 70) console.table(features); // \"F\" to log features data\n                          else if (key === 37) zoom.translateBy(svg, 10, 0); // Left to scroll map left\n                            else if (key === 39) zoom.translateBy(svg, -10, 0); // Right to scroll map right\n                              else if (key === 38) zoom.translateBy(svg, 0, 10); // Up to scroll map up\n                                else if (key === 40) zoom.translateBy(svg, 0, -10); // Up to scroll map up\n                                  else if (key === 107) zoom.scaleBy(svg, 1.2); // Plus to zoom map up\n                                    else if (key === 109) zoom.scaleBy(svg, 0.8); // Minus to zoom map out\n                                      else if (key === 48 || key === 96) resetZoom(); // 0 to reset zoom\n                                        else if (key === 49 || key === 97) zoom.scaleTo(svg, 1); // 1 to zoom to 1\n                                          else if (key === 50 || key === 98) zoom.scaleTo(svg, 2); // 2 to zoom to 2\n                                            else if (key === 51 || key === 99) zoom.scaleTo(svg, 3); // 3 to zoom to 3\n                                              else if (key === 52 || key === 100) zoom.scaleTo(svg, 4); // 4 to zoom to 4\n                                                else if (key === 53 || key === 101) zoom.scaleTo(svg, 5); // 5 to zoom to 5\n                                                  else if (key === 54 || key === 102) zoom.scaleTo(svg, 6); // 6 to zoom to 6\n                                                    else if (key === 55 || key === 103) zoom.scaleTo(svg, 7); // 7 to zoom to 7\n                                                      else if (key === 56 || key === 104) zoom.scaleTo(svg, 8); // 8 to zoom to 8\n                                                        else if (key === 57 || key === 105) zoom.scaleTo(svg, 9); // 9 to zoom to 9\n                                                          else if (key === 9) $(\"#updateFullscreen\").click(); // Tab to fit map to fullscreen\n                                                            else if (ctrl && key === 90) undo.click(); // Ctrl + \"Z\" to toggle undo\n                                                              else if (ctrl && key === 89) redo.click(); // Ctrl + \"Y\" to toggle undo\n  }); // Show help\n\n  function showHelp() {\n    $(\"#help\").dialog({\n      title: \"About Fantasy Map Generator\",\n      minHeight: 30,\n      width: \"auto\",\n      maxWidth: 275,\n      resizable: false,\n      position: {\n        my: \"center top+10\",\n        at: \"bottom\",\n        of: this\n      },\n      close: unselect\n    });\n  } // Toggle Options pane\n\n\n  $(\"#optionsTrigger\").on(\"click\", function () {\n    if (tooltip.getAttribute(\"data-main\") === \"Сlick the arrow button to open options\") {\n      tooltip.setAttribute(\"data-main\", \"\");\n      tooltip.innerHTML = \"\";\n      localStorage.setItem(\"disable_click_arrow_tooltip\", true);\n    }\n\n    if ($(\"#options\").css(\"display\") === \"none\") {\n      $(\"#regenerate\").hide();\n      $(\"#options\").fadeIn();\n      $(\"#layoutTab\").click();\n      $(\"#optionsTrigger\").removeClass(\"icon-right-open glow\").addClass(\"icon-left-open\");\n    } else {\n      $(\"#options\").fadeOut();\n      $(\"#optionsTrigger\").removeClass(\"icon-left-open\").addClass(\"icon-right-open\");\n    }\n  });\n  $(\"#collapsible\").hover(function () {\n    if ($(\"#optionsTrigger\").hasClass(\"glow\")) return;\n\n    if ($(\"#options\").css(\"display\") === \"none\") {\n      $(\"#regenerate\").show();\n      $(\"#optionsTrigger\").removeClass(\"glow\");\n    }\n  }, function () {\n    $(\"#regenerate\").hide();\n  }); // move layers on mapLayers dragging (jquery sortable)\n\n  function moveLayer(event, ui) {\n    var el = getLayer(ui.item.attr(\"id\"));\n\n    if (el) {\n      var prev = getLayer(ui.item.prev().attr(\"id\"));\n      var next = getLayer(ui.item.next().attr(\"id\"));\n\n      if (prev) {\n        el.insertAfter(prev);\n      } else if (next) {\n        el.insertBefore(next);\n      }\n    }\n  } // define connection between option layer buttons and actual svg groups\n\n\n  function getLayer(id) {\n    if (id === \"toggleGrid\") {\n      return $(\"#grid\");\n    }\n\n    if (id === \"toggleOverlay\") {\n      return $(\"#overlay\");\n    }\n\n    if (id === \"toggleHeight\") {\n      return $(\"#terrs\");\n    }\n\n    if (id === \"toggleCultures\") {\n      return $(\"#cults\");\n    }\n\n    if (id === \"toggleRoutes\") {\n      return $(\"#routes\");\n    }\n\n    if (id === \"toggleRivers\") {\n      return $(\"#rivers\");\n    }\n\n    if (id === \"toggleCountries\") {\n      return $(\"#regions\");\n    }\n\n    if (id === \"toggleBorders\") {\n      return $(\"#borders\");\n    }\n\n    if (id === \"toggleRelief\") {\n      return $(\"#terrain\");\n    }\n\n    if (id === \"toggleLabels\") {\n      return $(\"#labels\");\n    }\n\n    if (id === \"toggleIcons\") {\n      return $(\"#icons\");\n    }\n  } // UI Button handlers\n\n\n  $(\"button, a, li, i\").on(\"click\", function () {\n    var id = this.id;\n    var parent = this.parentNode.id;\n\n    if (debug.selectAll(\".tag\").size()) {\n      debug.selectAll(\".tag, .line\").remove();\n    }\n\n    if (id === \"toggleHeight\") {\n      toggleHeight();\n    }\n\n    if (id === \"toggleCountries\") {\n      $('#regions').fadeToggle();\n    }\n\n    if (id === \"toggleCultures\") {\n      toggleCultures();\n    }\n\n    if (id === \"toggleOverlay\") {\n      toggleOverlay();\n    }\n\n    if (id === \"toggleFlux\") {\n      toggleFlux();\n    }\n\n    if (parent === \"mapLayers\" || parent === \"styleContent\") {\n      $(this).toggleClass(\"buttonoff\");\n    }\n\n    if (id === \"randomMap\" || id === \"regenerate\") {\n      changeSeed();\n      exitCustomization();\n      undraw();\n      resetZoom(1000);\n      generate();\n      return;\n    }\n\n    if (id === \"editCountries\") editCountries();\n    if (id === \"editCultures\") editCultures();\n    if (id === \"editScale\" || id === \"editScaleCountries\" || id === \"editScaleBurgs\") editScale();\n\n    if (id === \"countriesManually\") {\n      customization = 2;\n      tip(\"Click to select a country, drag the circle to re-assign\", true);\n      mockRegions();\n      var temp = regions.append(\"g\").attr(\"id\", \"temp\");\n      $(\"#countriesBottom\").children().hide();\n      $(\"#countriesManuallyButtons\").show(); // highlight capital cells as it's not allowed to change capital's state that way\n\n      states.map(function (s) {\n        if (s.capital === \"neutral\" || s.capital === \"select\") return;\n        var capital = s.capital;\n        var index = manors[capital].cell;\n        temp.append(\"path\").attr(\"data-cell\", index).attr(\"data-state\", s.i).attr(\"d\", \"M\" + polygons[index].join(\"L\") + \"Z\").attr(\"fill\", s.color).attr(\"stroke\", \"red\").attr(\"stroke-width\", .7);\n      });\n      viewbox.style(\"cursor\", \"crosshair\").call(drag).on(\"click\", changeSelectedOnClick);\n    }\n\n    if (id === \"countriesRegenerate\") {\n      customization = 3;\n      tip(\"Manually change \\\"Expansion\\\" value for a country or click on \\\"Randomize\\\" button\", true);\n      mockRegions();\n      regions.append(\"g\").attr(\"id\", \"temp\");\n      $(\"#countriesBottom\").children().hide();\n      $(\"#countriesRegenerateButtons\").show();\n      $(\".statePower, .icon-resize-full, .stateCells, .icon-check-empty\").toggleClass(\"hidden\");\n      $(\"div[data-sortby='expansion'],div[data-sortby='cells']\").toggleClass(\"hidden\");\n    }\n\n    if (id === \"countriesManuallyComplete\") {\n      debug.selectAll(\".circle\").remove();\n      var changedCells = regions.select(\"#temp\").selectAll(\"path\");\n      var changedStates = [];\n      changedCells.each(function () {\n        var el = d3.select(this);\n        var cell = +el.attr(\"data-cell\");\n        var stateOld = cells[cell].region;\n\n        if (stateOld === \"neutral\") {\n          stateOld = states.length - 1;\n        }\n\n        var stateNew = +el.attr(\"data-state\");\n        var region = states[stateNew].color === \"neutral\" ? \"neutral\" : stateNew;\n        cells[cell].region = region;\n\n        if (cells[cell].manor !== undefined) {\n          manors[cells[cell].manor].region = region;\n        }\n\n        changedStates.push(stateNew, stateOld);\n      });\n      changedStates = _toConsumableArray(new Set(changedStates));\n      changedStates.map(function (s) {\n        recalculateStateData(s);\n      });\n      var last = states.length - 1;\n\n      if (states[last].capital === \"neutral\" && states[last].cells === 0) {\n        $(\"#state\" + last).remove();\n        states.splice(-1);\n      }\n\n      $(\"#countriesManuallyCancel\").click();\n\n      if (changedStates.length) {\n        editCountries();\n      }\n    }\n\n    if (id === \"countriesManuallyCancel\") {\n      redrawRegions();\n      debug.selectAll(\".circle\").remove();\n\n      if (grid.style(\"display\") === \"inline\") {\n        toggleGrid.click();\n      }\n\n      if (labels.style(\"display\") === \"none\") {\n        toggleLabels.click();\n      }\n\n      $(\"#countriesBottom\").children().show();\n      $(\"#countriesManuallyButtons, #countriesRegenerateButtons\").hide();\n      $(\".selected\").removeClass(\"selected\");\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").addClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").removeClass(\"hidden\");\n      customization = 0;\n      restoreDefaultEvents();\n    }\n\n    if (id === \"countriesApply\") {\n      $(\"#countriesManuallyCancel\").click();\n    }\n\n    if (id === \"countriesRandomize\") {\n      var _mod = +powerInput.value * 2;\n\n      $(\".statePower\").each(function (e, i) {\n        var state = +this.parentNode.id.slice(5);\n        if (states[state].capital === \"neutral\") return;\n        var power = rn(Math.random() * _mod / 2 + 1, 1);\n        $(this).val(power);\n        $(this).parent().attr(\"data-expansion\", power);\n        states[state].power = power;\n      });\n      regenerateCountries();\n    }\n\n    if (id === \"countriesAddM\" || id === \"countriesAddR\" || id === \"countriesAddG\") {\n      var i = states.length; // move neutrals to the last line\n\n      if (states[i - 1].capital === \"neutral\") {\n        states[i - 1].i = i;\n        i -= 1;\n      }\n\n      var name = generateStateName(0);\n\n      var _color = colors20(i);\n\n      states.push({\n        i: i,\n        color: _color,\n        name: name,\n        capital: \"select\",\n        cells: 0,\n        burgs: 0,\n        urbanPopulation: 0,\n        ruralPopulation: 0,\n        area: 0,\n        power: 1\n      });\n      states.sort(function (a, b) {\n        return a.i - b.i;\n      });\n      editCountries();\n    }\n\n    if (id === \"countriesRegenerateNames\") {\n      var editor = d3.select(\"#countriesBody\");\n      states.forEach(function (s) {\n        if (s.capital === \"neutral\") return;\n        s.name = generateStateName(s.i);\n        labels.select(\"#regionLabel\" + s.i).text(s.name);\n        editor.select(\"#state\" + s.i).select(\".stateName\").attr(\"value\", s.name);\n      });\n    }\n\n    if (id === \"countriesPercentage\") {\n      var el = $(\"#countriesEditor\");\n\n      if (el.attr(\"data-type\") === \"absolute\") {\n        el.attr(\"data-type\", \"percentage\");\n        var totalCells = land.length;\n        var totalBurgs = +countriesFooterBurgs.innerHTML;\n        var totalArea = countriesFooterArea.innerHTML;\n        totalArea = getInteger(totalArea.split(\" \")[0]);\n        var totalPopulation = getInteger(countriesFooterPopulation.innerHTML);\n        $(\"#countriesBody > .states\").each(function () {\n          var cells = rn($(this).attr(\"data-cells\") / totalCells * 100);\n          var burgs = rn($(this).attr(\"data-burgs\") / totalBurgs * 100);\n          var area = rn($(this).attr(\"data-area\") / totalArea * 100);\n          var population = rn($(this).attr(\"data-population\") / totalPopulation * 100);\n          $(this).children().filter(\".stateCells\").text(cells + \"%\");\n          $(this).children().filter(\".stateBurgs\").text(burgs + \"%\");\n          $(this).children().filter(\".stateArea\").text(area + \"%\");\n          $(this).children().filter(\".statePopulation\").val(population + \"%\");\n        });\n      } else {\n        el.attr(\"data-type\", \"absolute\");\n        editCountries();\n      }\n    }\n\n    if (id === \"countriesExport\") {\n      if ($(\".statePower\").length === 0) {\n        return;\n      }\n\n      var unit = areaUnit.value === \"square\" ? distanceUnit.value + \"2\" : areaUnit.value;\n      var data = \"Country,Capital,Cells,Burgs,Area (\" + unit + \"),Population\\n\"; // countries headers\n\n      $(\"#countriesBody > .states\").each(function () {\n        var country = $(this).attr(\"data-country\");\n\n        if (country === \"bottom\") {\n          data += \"neutral,\";\n        } else {\n          data += country + \",\";\n        }\n\n        var capital = $(this).attr(\"data-capital\");\n\n        if (capital === \"bottom\" || capital === \"select\") {\n          data += \",\";\n        } else {\n          data += capital + \",\";\n        }\n\n        data += $(this).attr(\"data-cells\") + \",\";\n        data += $(this).attr(\"data-burgs\") + \",\";\n        data += $(this).attr(\"data-area\") + \",\";\n        var population = +$(this).attr(\"data-population\");\n        data += population + \"\\n\";\n      });\n      data += \"\\nBurg,Country,Culture,Population\\n\"; // burgs headers\n\n      manors.map(function (m) {\n        if (m.region === \"removed\") return; // skip removed burgs\n\n        data += m.name + \",\";\n        var country = m.region === \"neutral\" ? \"neutral\" : states[m.region].name;\n        data += country + \",\";\n        data += cultures[m.culture].name + \",\";\n        var population = m.population * urbanization.value * populationRate.value * 1000;\n        data += population + \"\\n\";\n      });\n      var dataBlob = new Blob([data], {\n        type: \"text/plain\"\n      });\n      var url = window.URL.createObjectURL(dataBlob);\n      var link = document.createElement(\"a\");\n      document.body.appendChild(link);\n      link.download = \"countries_data\" + Date.now() + \".csv\";\n      link.href = url;\n      link.click();\n      window.setTimeout(function () {\n        window.URL.revokeObjectURL(url);\n      }, 2000);\n    }\n\n    if (id === \"burgNamesImport\") burgsListToLoad.click();\n\n    if (id === \"removeCountries\") {\n      alertMessage.innerHTML = \"Are you sure you want remove all countries?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove countries\",\n        buttons: {\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          },\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            $(\"#countriesBody\").empty();\n            manors.map(function (m) {\n              m.region = \"neutral\";\n            });\n            land.map(function (l) {\n              l.region = \"neutral\";\n            });\n            states.map(function (s) {\n              var c = +s.capital;\n              if (isNaN(c)) return;\n              moveBurgToGroup(c, \"towns\");\n            });\n            removeAllLabelsInGroup(\"countries\");\n            regions.selectAll(\"path\").remove();\n            states = [];\n            states.push({\n              i: 0,\n              color: \"neutral\",\n              capital: \"neutral\",\n              name: \"Neutrals\"\n            });\n            recalculateStateData(0);\n\n            if ($(\"#burgsEditor\").is(\":visible\")) {\n              $(\"#burgsEditor\").dialog(\"close\");\n            }\n\n            editCountries();\n          }\n        }\n      });\n    }\n\n    if (id === \"removeBurgs\") {\n      alertMessage.innerHTML = \"Are you sure you want to remove all burgs associated with the country?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove associated burgs\",\n        buttons: {\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          },\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            var state = +$(\"#burgsEditor\").attr(\"data-state\");\n            var region = states[state].capital === \"neutral\" ? \"neutral\" : state;\n            $(\"#burgsBody\").empty();\n            manors.map(function (m) {\n              if (m.region !== region) {\n                return;\n              }\n\n              m.region = \"removed\";\n              cells[m.cell].manor = undefined;\n              labels.select(\"[data-id='\" + m.i + \"']\").remove();\n              icons.selectAll(\"[data-id='\" + m.i + \"']\").remove();\n            });\n            states[state].urbanPopulation = 0;\n            states[state].burgs = 0;\n            states[state].capital = \"select\";\n\n            if ($(\"#countriesEditor\").is(\":visible\")) {\n              editCountries();\n              $(\"#burgsEditor\").dialog(\"moveToTop\");\n            }\n\n            burgsFooterBurgs.innerHTML = 0;\n            burgsFooterPopulation.value = 0;\n          }\n        }\n      });\n    }\n\n    if (id === \"changeCapital\") {\n      if ($(this).hasClass(\"pressed\")) {\n        $(this).removeClass(\"pressed\");\n      } else {\n        $(\".pressed\").removeClass(\"pressed\");\n        $(this).addClass(\"pressed\");\n      }\n    }\n\n    if (id === \"regenerateBurgNames\") {\n      var s = +$(\"#burgsEditor\").attr(\"data-state\");\n      $(\".burgName\").each(function (e, i) {\n        var b = +this.parentNode.id.slice(5);\n        var name = generateName(manors[b].culture);\n        $(this).val(name);\n        $(this).parent().attr(\"data-burg\", name);\n        manors[b].name = name;\n        labels.select(\"[data-id='\" + b + \"']\").text(name);\n      });\n\n      if ($(\"#countriesEditor\").is(\":visible\")) {\n        if (states[s].capital === \"neutral\") {\n          return;\n        }\n\n        var c = states[s].capital;\n        $(\"#state\" + s).attr(\"data-capital\", manors[c].name);\n        $(\"#state\" + s + \" > .stateCapital\").val(manors[c].name);\n      }\n    }\n\n    if (id === \"burgAdd\") {\n      var state = +$(\"#burgsEditor\").attr(\"data-state\");\n      clickToAdd(); // to load on click event function\n\n      $(\"#addBurg\").click().attr(\"data-state\", state);\n    }\n\n    if (id === \"toggleScaleBar\") {\n      $(\"#scaleBar\").toggleClass(\"hidden\");\n    }\n\n    if (id === \"addRuler\") {\n      $(\"#ruler\").show();\n      var rulerNew = ruler.append(\"g\").attr(\"class\", \"linear\").call(d3.drag().on(\"start\", elementDrag));\n      var factor = rn(1 / Math.pow(scale, 0.3), 1);\n      var y = Math.floor(Math.random() * graphHeight * 0.5 + graphHeight * 0.25);\n      var x1 = graphWidth * 0.2,\n          x2 = graphWidth * 0.8;\n      var dash = rn(30 / distanceScale.value, 2);\n      rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y).attr(\"class\", \"white\").attr(\"stroke-width\", factor);\n      rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y).attr(\"class\", \"gray\").attr(\"stroke-width\", factor).attr(\"stroke-dasharray\", dash);\n      rulerNew.append(\"circle\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"cx\", x1).attr(\"cy\", y).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"cx\", x2).attr(\"cy\", y).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"cx\", graphWidth / 2).attr(\"cy\", y).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n      var dist = rn(x2 - x1);\n      var label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      rulerNew.append(\"text\").attr(\"x\", graphWidth / 2).attr(\"y\", y).attr(\"dy\", -1).attr(\"data-dist\", dist).text(label).text(label).on(\"click\", removeParent).attr(\"font-size\", 10 * factor);\n      return;\n    }\n\n    if (id === \"addOpisometer\" || id === \"addPlanimeter\") {\n      if ($(this).hasClass(\"pressed\")) {\n        restoreDefaultEvents();\n        $(this).removeClass(\"pressed\");\n      } else {\n        $(this).addClass(\"pressed\");\n        viewbox.style(\"cursor\", \"crosshair\").call(drag);\n      }\n\n      return;\n    }\n\n    if (id === \"removeAllRulers\") {\n      if ($(\"#ruler > g\").length < 1) {\n        return;\n      }\n\n      alertMessage.innerHTML = \"Are you sure you want to remove all placed rulers?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove all rulers\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            $(\"#ruler > g\").remove();\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n      return;\n    }\n\n    if (id === \"editHeightmap\") {\n      $(\"#customizeHeightmap\").slideToggle();\n    }\n\n    if (id === \"fromScratch\") {\n      alertMessage.innerHTML = \"Are you sure you want to clear the map? All progress will be lost\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Clear map\",\n        buttons: {\n          Clear: function Clear() {\n            closeDialogs();\n            undraw();\n            placePoints();\n            calculateVoronoi(points);\n            detectNeighbors(\"grid\");\n            drawScaleBar();\n            customizeHeightmap();\n            openBrushesPanel();\n            $(this).dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    }\n\n    if (id === \"fromHeightmap\") {\n      var _message = \"Hightmap is a basic element on which secondary data (rivers, burgs, countries etc) is based.\\n      If you want to significantly change the hightmap, it may be better to clean up all the secondary data\\n      and let the system to re-generate it based on the updated hightmap. In case of minor changes, you can keep the data.\\n      Newly added lands will be considered as neutral. Burgs located on a removed land cells will be deleted.\\n      Rivers and small lakes will be re-gerenated based on updated heightmap. Routes won't be regenerated.\";\n      alertMessage.innerHTML = _message;\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Edit Heightmap\",\n        buttons: {\n          \"Clean up\": function CleanUp() {\n            editHeightmap(\"clean\");\n            $(this).dialog(\"close\");\n          },\n          Keep: function Keep() {\n            $(this).dialog(\"close\");\n            editHeightmap(\"keep\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n      return;\n    } // heightmap customization buttons\n\n\n    if (customization === 1) {\n      if (id === \"paintBrushes\") {\n        openBrushesPanel();\n      }\n\n      if (id === \"rescaleExecute\") {\n        var subject = rescaleLower.value + \"-\" + rescaleHigher.value;\n        var sign = conditionSign.value;\n        var modifier = rescaleModifier.value;\n\n        if (sign === \"×\") {\n          modifyHeights(subject, 0, +modifier);\n        }\n\n        if (sign === \"÷\") {\n          modifyHeights(subject, 0, 1 / modifier);\n        }\n\n        if (sign === \"+\") {\n          modifyHeights(subject, +modifier, 1);\n        }\n\n        if (sign === \"-\") {\n          modifyHeights(subject, -1 * modifier, 1);\n        }\n\n        if (sign === \"^\") {\n          modifyHeights(subject, 0, \"^\" + modifier);\n        }\n\n        updateHeightmap();\n        updateHistory();\n      }\n\n      if (id === \"rescaleButton\") {\n        $(\"#modifyButtons\").children().not(\"#rescaleButton, .condition\").toggle();\n      }\n\n      if (id === \"rescaleCondButton\") {\n        $(\"#modifyButtons\").children().not(\"#rescaleCondButton, #rescaler\").toggle();\n      }\n\n      if (id === \"undo\" || id === \"templateUndo\") {\n        restoreHistory(historyStage - 1);\n      }\n\n      if (id === \"redo\" || id === \"templateRedo\") {\n        restoreHistory(historyStage + 1);\n      }\n\n      if (id === \"smoothHeights\") {\n        smoothHeights(4);\n        updateHeightmap();\n        updateHistory();\n      }\n\n      if (id === \"disruptHeights\") {\n        disruptHeights();\n        updateHeightmap();\n        updateHistory();\n      }\n\n      if (id === \"getMap\") getMap();\n\n      if (id === \"applyTemplate\") {\n        if ($(\"#templateEditor\").is(\":visible\")) {\n          return;\n        }\n\n        $(\"#templateEditor\").dialog({\n          title: \"Template Editor\",\n          minHeight: \"auto\",\n          width: \"auto\",\n          resizable: false,\n          position: {\n            my: \"right top\",\n            at: \"right-10 top+10\",\n            of: \"svg\"\n          }\n        });\n      }\n\n      if (id === \"convertImage\") {\n        convertImage();\n      }\n\n      if (id === \"convertImageGrid\") {\n        $(\"#grid\").fadeToggle();\n      }\n\n      if (id === \"convertImageHeights\") {\n        $(\"#landmass\").fadeToggle();\n      }\n\n      if (id === \"perspectiveView\") {\n        if ($(\"#perspectivePanel\").is(\":visible\")) return;\n        $(\"#perspectivePanel\").dialog({\n          title: \"Perspective View\",\n          width: 520,\n          height: 190,\n          position: {\n            my: \"center center\",\n            at: \"center center\",\n            of: \"svg\"\n          }\n        });\n        drawPerspective();\n        return;\n      }\n    }\n\n    if (id === \"restoreStyle\") {\n      alertMessage.innerHTML = \"Are you sure you want to restore default style?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Restore style\",\n        buttons: {\n          Restore: function Restore() {\n            applyDefaultStyle();\n            $(this).dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    }\n\n    if (parent === \"mapFilters\") {\n      $(\"svg\").attr(\"filter\", \"\");\n\n      if ($(this).hasClass('pressed')) {\n        $(\"#mapFilters .pressed\").removeClass('pressed');\n      } else {\n        $(\"#mapFilters .pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        $(\"svg\").attr(\"filter\", \"url(#filter-\" + id + \")\");\n      }\n\n      return;\n    }\n\n    if (id === \"updateFullscreen\") {\n      mapWidthInput.value = window.innerWidth;\n      mapHeightInput.value = window.innerHeight;\n      localStorage.removeItem(\"mapHeight\");\n      localStorage.removeItem(\"mapWidth\");\n      changeMapSize();\n    }\n\n    if (id === \"zoomExtentDefault\") {\n      zoomExtentMin.value = 1;\n      zoomExtentMax.value = 20;\n      zoom.scaleExtent([1, 20]).scaleTo(svg, 1);\n    }\n\n    if (id === \"saveButton\") {\n      $(\"#saveDropdown\").slideToggle();\n    }\n\n    if (id === \"loadMap\") {\n      mapToLoad.click();\n    }\n\n    if (id === \"zoomReset\") {\n      resetZoom(1000);\n    }\n\n    if (id === \"zoomPlus\") {\n      scale += 1;\n\n      if (scale > 40) {\n        scale = 40;\n      }\n\n      invokeActiveZooming();\n    }\n\n    if (id === \"zoomMinus\") {\n      scale -= 1;\n\n      if (scale <= 1) {\n        scale = 1;\n        viewX = 0;\n        viewY = 0;\n      }\n\n      invokeActiveZooming();\n    }\n\n    if (id === \"styleFontPlus\" || id === \"styleFontMinus\") {\n      var el = viewbox.select(\"#\" + styleElementSelect.value);\n      var mod = id === \"styleFontPlus\" ? 1.1 : 0.9;\n      el.selectAll(\"g\").each(function () {\n        var el = d3.select(this);\n        var size = rn(el.attr(\"data-size\") * mod, 2);\n\n        if (size < 2) {\n          size = 2;\n        }\n\n        el.attr(\"data-size\", size).attr(\"font-size\", rn((size + size / scale) / 2, 2));\n      });\n      invokeActiveZooming();\n      return;\n    }\n\n    if (id === \"brushClear\") {\n      if (customization === 1) {\n        var message = \"Are you sure you want to clear the map?\";\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({\n          resizable: false,\n          title: \"Clear map\",\n          buttons: {\n            Clear: function Clear() {\n              $(this).dialog(\"close\");\n              viewbox.style(\"cursor\", \"crosshair\").call(drag);\n              landmassCounter.innerHTML = \"0\";\n              $(\"#landmass\").empty();\n              heights = new Uint8Array(heights.length); // clear history\n\n              history = [];\n              historyStage = 0;\n              updateHistory();\n              redo.disabled = templateRedo.disabled = true;\n              undo.disabled = templateUndo.disabled = true;\n            },\n            Cancel: function Cancel() {\n              $(this).dialog(\"close\");\n            }\n          }\n        });\n      } else {\n        start.click();\n      }\n    }\n\n    if (id === \"templateComplete\") getMap();\n\n    if (id === \"convertColorsMinus\") {\n      var current = +convertColors.value - 1;\n\n      if (current < 4) {\n        current = 3;\n      }\n\n      convertColors.value = current;\n      heightsFromImage(current);\n    }\n\n    if (id === \"convertColorsPlus\") {\n      var current = +convertColors.value + 1;\n\n      if (current > 255) {\n        current = 256;\n      }\n\n      convertColors.value = current;\n      heightsFromImage(current);\n    }\n\n    if (id === \"convertOverlayButton\") {\n      $(\"#convertImageButtons\").children().not(this).not(\"#convertColors\").toggle();\n    }\n\n    if (id === \"convertAutoLum\") {\n      autoAssing(\"lum\");\n    }\n\n    if (id === \"convertAutoHue\") {\n      autoAssing(\"hue\");\n    }\n\n    if (id === \"convertComplete\") {\n      completeConvertion();\n    }\n  }); // support save options\n\n  $(\"#saveDropdown > div\").click(function () {\n    var id = this.id;\n    var dns_allow_popup_message = localStorage.getItem(\"dns_allow_popup_message\");\n\n    if (!dns_allow_popup_message) {\n      localStorage.clear();\n      var message = \"Generator uses pop-up window to download files. \";\n      message += \"Please ensure your browser does not block popups. \";\n      message += \"Please check browser settings and turn off adBlocker if it is enabled\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        title: \"File saver. Please enable popups!\",\n        buttons: {\n          \"Don't show again\": function DonTShowAgain() {\n            localStorage.setItem(\"dns_allow_popup_message\", true);\n            $(this).dialog(\"close\");\n          },\n          Close: function Close() {\n            $(this).dialog(\"close\");\n          }\n        },\n        position: {\n          my: \"center\",\n          at: \"center\",\n          of: \"svg\"\n        }\n      });\n    }\n\n    if (id === \"saveMap\") {\n      saveMap();\n    }\n\n    if (id === \"saveSVG\") {\n      saveAsImage(\"svg\");\n    }\n\n    if (id === \"savePNG\") {\n      saveAsImage(\"png\");\n    }\n\n    $(\"#saveDropdown\").slideUp(\"fast\");\n  }); // lock / unlock option randomization\n\n  $(\"#options i[class^='icon-lock']\").click(function () {\n    $(this).toggleClass(\"icon-lock icon-lock-open\");\n    var locked = +$(this).hasClass(\"icon-lock\");\n    $(this).attr(\"data-locked\", locked);\n    var option = this.id.slice(4, -5).toLowerCase();\n    var value = $(\"#\" + option + \"Input\").val();\n\n    if (locked) {\n      localStorage.setItem(option, value);\n    } else {\n      localStorage.removeItem(option);\n    }\n  });\n\n  function editHeightmap(type) {\n    closeDialogs();\n    var regionData = [],\n        cultureData = [];\n\n    if (type !== \"clean\") {\n      for (var i = 0; i < points.length; i++) {\n        var cell = diagram.find(points[i][0], points[i][1]).index; // if closest cell is a small lake, try to find a land neighbor\n\n        if (cells[cell].lake === 2) cells[cell].neighbors.forEach(function (n) {\n          if (cells[n].height >= 20) {\n            cell = n;\n          }\n        });\n        var region = cells[cell].region;\n        if (region === undefined) region = -1;\n        regionData.push(region);\n        var culture = cells[cell].culture;\n        if (culture === undefined) culture = -1;\n        cultureData.push(culture);\n      }\n    } else {\n      undraw();\n    }\n\n    calculateVoronoi(points);\n    detectNeighbors(\"grid\");\n    drawScaleBar();\n\n    if (type === \"keep\") {\n      svg.selectAll(\"#lakes, #coastline, #terrain, #rivers, #grid, #terrs, #landmass, #ocean, #regions\").selectAll(\"path, circle, line\").remove();\n      svg.select(\"#shape\").remove();\n\n      for (var _i3 = 0; _i3 < points.length; _i3++) {\n        if (regionData[_i3] !== -1) cells[_i3].region = regionData[_i3];\n        if (cultureData[_i3] !== -1) cells[_i3].culture = cultureData[_i3];\n      }\n    }\n\n    mockHeightmap();\n    customizeHeightmap();\n    openBrushesPanel();\n  }\n\n  function openBrushesPanel() {\n    if ($(\"#brushesPanel\").is(\":visible\")) {\n      return;\n    }\n\n    $(\"#brushesPanel\").dialog({\n      title: \"Paint Brushes\",\n      minHeight: 40,\n      width: \"auto\",\n      maxWidth: 200,\n      resizable: false,\n      position: {\n        my: \"right top\",\n        at: \"right-10 top+10\",\n        of: \"svg\"\n      }\n    }).on('dialogclose', function () {\n      restoreDefaultEvents();\n      $(\"#brushesButtons > .pressed\").removeClass('pressed');\n    });\n    if (modules.openBrushesPanel) return;\n    modules.openBrushesPanel = true;\n    $(\"#brushesButtons > button\").on(\"click\", function () {\n      var rSlider = $(\"#brushRadiusLabel, #brushRadius\");\n      debug.selectAll(\".circle, .tag, .line\").remove();\n\n      if ($(this).hasClass('pressed')) {\n        $(this).removeClass('pressed');\n        restoreDefaultEvents();\n        rSlider.attr(\"disabled\", true).addClass(\"disabled\");\n      } else {\n        $(\"#brushesButtons > .pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\");\n        var id = this.id;\n\n        if (id === \"brushRange\" || id === \"brushTrough\") {\n          viewbox.on(\"click\", placeLinearFeature);\n        } // on click brushes\n        else {\n            viewbox.call(drag).on(\"click\", null);\n          } // on drag brushes\n\n\n        if ($(this).hasClass(\"feature\")) {\n          rSlider.attr(\"disabled\", true).addClass(\"disabled\");\n        } else {\n          rSlider.attr(\"disabled\", false).removeClass(\"disabled\");\n        }\n      }\n    });\n  }\n\n  function drawPerspective() {\n    console.time(\"drawPerspective\");\n    var width = 320,\n        height = 180;\n    var wRatio = graphWidth / width,\n        hRatio = graphHeight / height;\n    var lineCount = 320,\n        lineGranularity = 90;\n    var perspective = document.getElementById(\"perspective\");\n    var pContext = perspective.getContext(\"2d\");\n    var lines = [];\n    var i = lineCount;\n\n    while (i--) {\n      var x = i / lineCount * width | 0;\n      var canvasPoints = [];\n      lines.push(canvasPoints);\n      var j = Math.floor(lineGranularity);\n\n      while (j--) {\n        var y = j / lineGranularity * height | 0;\n        var index = getCellIndex(x * wRatio, y * hRatio);\n        var h = heights[index] - 20;\n        if (h < 1) h = 0;\n        canvasPoints.push([x, y, h]);\n      }\n    }\n\n    pContext.clearRect(0, 0, perspective.width, perspective.height);\n\n    for (var _i4 = 0; _i4 < lines.length; _i4++) {\n      var _canvasPoints = lines[_i4];\n\n      for (var _i5 = 0; _i5 < _canvasPoints.length - 1; _i5++) {\n        var pt1 = _canvasPoints[_i5];\n        var pt2 = _canvasPoints[_i5 + 1];\n        var avHeight = (pt1[2] + pt2[2]) / 200;\n        pContext.beginPath();\n        pContext.moveTo.apply(pContext, _toConsumableArray(transformPt(pt1)));\n        pContext.lineTo.apply(pContext, _toConsumableArray(transformPt(pt2)));\n        var clr = \"rgb(81, 103, 169)\"; // water\n\n        if (avHeight !== 0) {\n          clr = color(1 - avHeight - 0.2);\n        }\n\n        pContext.strokeStyle = clr;\n        pContext.stroke();\n      }\n\n      for (var _i6 = 0; _i6 < _canvasPoints.length - 1; _i6++) {}\n    }\n\n    console.timeEnd(\"drawPerspective\");\n  } // get square grid cell index based on coords\n\n\n  function getCellIndex(x, y) {\n    var index = diagram.find(x, y).index; // let cellsX = Math.round(graphWidth / spacing);\n    // let index = Math.ceil(y / spacing) * cellsX + Math.round(x / spacing);\n\n    return index;\n  }\n\n  function transformPt(pt) {\n    var width = 320,\n        maxHeight = 0.2;\n\n    var _projectIsometric = projectIsometric(pt[0], pt[1]),\n        _projectIsometric2 = _slicedToArray(_projectIsometric, 2),\n        x = _projectIsometric2[0],\n        y = _projectIsometric2[1];\n\n    return [x + width / 2 + 10, y + 10 - pt[2] * maxHeight];\n  }\n\n  function projectIsometric(x, y) {\n    var scale = 1,\n        yProj = 4;\n    return [(x - y) * scale, (x + y) / yProj * scale];\n  } // templateEditor Button handlers\n\n\n  $(\"#templateTools > button\").on(\"click\", function () {\n    var id = this.id;\n    id = id.replace(\"template\", \"\");\n\n    if (id === \"Mountain\") {\n      var steps = $(\"#templateBody > div\").length;\n      if (steps > 0) return;\n    }\n\n    $(\"#templateBody\").attr(\"data-changed\", 1);\n    $(\"#templateBody\").append('<div data-type=\"' + id + '\">' + id + '</div>');\n    var el = $(\"#templateBody div:last-child\");\n\n    if (id === \"Hill\" || id === \"Pit\" || id === \"Range\" || id === \"Trough\") {\n      var count = '<label>count:<input class=\"templateElCount\" onmouseover=\"tip(\\'Blobs to add\\')\" type=\"number\" value=\"1\" min=\"1\" max=\"99\"></label>';\n    }\n\n    if (id === \"Hill\") {\n      var dist = '<label>distribution:<input class=\"templateElDist\" onmouseover=\"tip(\\'Set blobs distribution. 0.5 - map center; 0 - any place\\')\" type=\"number\" value=\"0.25\" min=\"0\" max=\"0.5\" step=\"0.01\"></label>';\n    }\n\n    if (id === \"Add\" || id === \"Multiply\") {\n      var dist = '<label>to:<select class=\"templateElDist\" onmouseover=\"tip(\\'Change only land or all cells\\')\"><option value=\"all\" selected>all cells</option><option value=\"land\">land only</option><option value=\"interval\">interval</option></select></label>';\n    }\n\n    if (id === \"Add\") {\n      var count = '<label>value:<input class=\"templateElCount\" onmouseover=\"tip(\\'Add value to height of all cells (negative values are allowed)\\')\" type=\"number\" value=\"-10\" min=\"-100\" max=\"100\" step=\"1\"></label>';\n    }\n\n    if (id === \"Multiply\") {\n      var count = '<label>by value:<input class=\"templateElCount\" onmouseover=\"tip(\\'Multiply all cells Height by the value\\')\" type=\"number\" value=\"1.1\" min=\"0\" max=\"10\" step=\"0.1\"></label>';\n    }\n\n    if (id === \"Smooth\") {\n      var count = '<label>fraction:<input class=\"templateElCount\" onmouseover=\"tip(\\'Set smooth fraction. 1 - full smooth, 2 - half-smooth, etc.\\')\" type=\"number\" min=\"1\" max=\"10\" value=\"2\"></label>';\n    }\n\n    if (id === \"Strait\") {\n      var count = '<label>width:<input class=\"templateElCount\" onmouseover=\"tip(\\'Set strait width\\')\" value=\"1-7\"></label>';\n    }\n\n    el.append('<span onmouseover=\"tip(\\'Remove step\\')\" class=\"icon-trash-empty\"></span>');\n    $(\"#templateBody .icon-trash-empty\").on(\"click\", function () {\n      $(this).parent().remove();\n    });\n    if (dist) el.append(dist);\n    if (count) el.append(count);\n    el.find(\"select.templateElDist\").on(\"input\", fireTemplateElDist);\n    $(\"#templateBody\").attr(\"data-changed\", 1);\n  }); // fireTemplateElDist selector handlers\n\n  function fireTemplateElDist() {\n    if (this.value === \"interval\") {\n      var interval = prompt(\"Populate a height interval (e.g. from 17 to 20), without space, but with hyphen\", \"17-20\");\n\n      if (interval) {\n        var option = '<option value=\"' + interval + '\">' + interval + '</option>';\n        $(this).append(option).val(interval);\n      }\n    }\n  } // templateSelect on change listener\n\n\n  $(\"#templateSelect\").on(\"input\", function () {\n    var steps = $(\"#templateBody > div\").length;\n    var changed = +$(\"#templateBody\").attr(\"data-changed\");\n    var template = this.value;\n\n    if (steps && changed === 1) {\n      alertMessage.innerHTML = \"Are you sure you want to change the base template? All the changes will be lost.\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Change Template\",\n        buttons: {\n          Change: function Change() {\n            changeTemplate(template);\n            $(this).dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            var prev = $(\"#templateSelect\").attr(\"data-prev\");\n            $(\"#templateSelect\").val(prev);\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    }\n\n    if (steps === 0 || changed === 0) changeTemplate(template);\n  });\n\n  function changeTemplate(template) {\n    $(\"#templateBody\").empty();\n    $(\"#templateSelect\").attr(\"data-prev\", template);\n\n    if (template === \"templateVolcano\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 5, 0.35);\n      addStep(\"Range\", 3);\n      addStep(\"Trough\", -4);\n    }\n\n    if (template === \"templateHighIsland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Range\", 6);\n      addStep(\"Hill\", 12, 0.25);\n      addStep(\"Trough\", 3);\n      addStep(\"Multiply\", 0.75, \"land\");\n      addStep(\"Pit\", 1);\n      addStep(\"Hill\", 3, 0.15);\n    }\n\n    if (template === \"templateLowIsland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Smooth\", 2);\n      addStep(\"Range\", 2);\n      addStep(\"Hill\", 4, 0.4);\n      addStep(\"Hill\", 12, 0.2);\n      addStep(\"Trough\", 8);\n      addStep(\"Multiply\", 0.35, \"land\");\n    }\n\n    if (template === \"templateContinents\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 30, 0.25);\n      addStep(\"Strait\", \"4-7\");\n      addStep(\"Pit\", 10);\n      addStep(\"Trough\", 10);\n      addStep(\"Multiply\", 0.6, \"land\");\n      addStep(\"Smooth\", 2);\n      addStep(\"Range\", 3);\n    }\n\n    if (template === \"templateArchipelago\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 12, 0.15);\n      addStep(\"Range\", 8);\n      addStep(\"Strait\", \"2-3\");\n      addStep(\"Trough\", 15);\n      addStep(\"Pit\", 10);\n      addStep(\"Add\", -5, \"land\");\n      addStep(\"Multiply\", 0.7, \"land\");\n      addStep(\"Smooth\", 3);\n    }\n\n    if (template === \"templateAtoll\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10, \"all\");\n      addStep(\"Hill\", 2, 0.35);\n      addStep(\"Range\", 2);\n      addStep(\"Smooth\", 1);\n      addStep(\"Multiply\", 0.1, \"27-100\");\n    }\n\n    if (template === \"templateMainland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10, \"all\");\n      addStep(\"Hill\", 30, 0.2);\n      addStep(\"Range\", 10);\n      addStep(\"Pit\", 20);\n      addStep(\"Hill\", 10, 0.15);\n      addStep(\"Trough\", 10);\n      addStep(\"Multiply\", 0.4, \"land\");\n      addStep(\"Range\", 10);\n      addStep(\"Smooth\", 3);\n    }\n\n    if (template === \"templatePeninsulas\") {\n      addStep(\"Add\", 15);\n      addStep(\"Hill\", 30, 0);\n      addStep(\"Range\", 5);\n      addStep(\"Pit\", 15);\n      addStep(\"Strait\", \"15-20\");\n    }\n\n    $(\"#templateBody\").attr(\"data-changed\", 0);\n  } // interprete template function\n\n\n  function addStep(feature, count, dist) {\n    if (!feature) return;\n    if (feature === \"Mountain\") templateMountain.click();\n    if (feature === \"Hill\") templateHill.click();\n    if (feature === \"Pit\") templatePit.click();\n    if (feature === \"Range\") templateRange.click();\n    if (feature === \"Trough\") templateTrough.click();\n    if (feature === \"Strait\") templateStrait.click();\n    if (feature === \"Add\") templateAdd.click();\n    if (feature === \"Multiply\") templateMultiply.click();\n    if (feature === \"Smooth\") templateSmooth.click();\n\n    if (count) {\n      $(\"#templateBody div:last-child .templateElCount\").val(count);\n    }\n\n    if (dist !== undefined) {\n      if (dist !== \"land\") {\n        var option = '<option value=\"' + dist + '\">' + dist + '</option>';\n        $(\"#templateBody div:last-child .templateElDist\").append(option);\n      }\n\n      $(\"#templateBody div:last-child .templateElDist\").val(dist);\n    }\n  } // Execute custom template\n\n\n  $(\"#templateRun\").on(\"click\", function () {\n    if (customization !== 1) return;\n    var steps = $(\"#templateBody > div\").length;\n    if (!steps) return;\n    heights = new Uint8Array(heights.length); // clean all heights\n\n    for (var step = 1; step <= steps; step++) {\n      var type = $(\"#templateBody div:nth-child(\" + step + \")\").attr(\"data-type\");\n\n      if (type === \"Mountain\") {\n        addMountain();\n        continue;\n      }\n\n      var count = $(\"#templateBody div:nth-child(\" + step + \") .templateElCount\").val();\n      var dist = $(\"#templateBody div:nth-child(\" + step + \") .templateElDist\").val();\n\n      if (count) {\n        if (count[0] !== \"-\" && count.includes(\"-\")) {\n          var lim = count.split(\"-\");\n          count = Math.floor(Math.random() * (+lim[1] - +lim[0] + 1) + +lim[0]);\n        } else {\n          count = +count; // parse string\n        }\n      }\n\n      if (type === \"Hill\") {\n        addHill(count, +dist);\n      }\n\n      if (type === \"Pit\") {\n        addPit(count);\n      }\n\n      if (type === \"Range\") {\n        addRange(count);\n      }\n\n      if (type === \"Trough\") {\n        addRange(-1 * count);\n      }\n\n      if (type === \"Strait\") {\n        addStrait(count);\n      }\n\n      if (type === \"Add\") {\n        modifyHeights(dist, count, 1);\n      }\n\n      if (type === \"Multiply\") {\n        modifyHeights(dist, 0, count);\n      }\n\n      if (type === \"Smooth\") {\n        smoothHeights(count);\n      }\n    }\n\n    mockHeightmap();\n    updateHistory();\n  }); // Save custom template as text file\n\n  $(\"#templateSave\").on(\"click\", function () {\n    var steps = $(\"#templateBody > div\").length;\n    var stepsData = \"\";\n\n    for (var step = 1; step <= steps; step++) {\n      var element = $(\"#templateBody div:nth-child(\" + step + \")\");\n      var type = element.attr(\"data-type\");\n      var count = $(\"#templateBody div:nth-child(\" + step + \") .templateElCount\").val();\n      var dist = $(\"#templateBody div:nth-child(\" + step + \") .templateElDist\").val();\n\n      if (!count) {\n        count = \"0\";\n      }\n\n      if (!dist) {\n        dist = \"0\";\n      }\n\n      stepsData += type + \" \" + count + \" \" + dist + \"\\r\\n\";\n    }\n\n    var dataBlob = new Blob([stepsData], {\n      type: \"text/plain\"\n    });\n    var url = window.URL.createObjectURL(dataBlob);\n    var link = document.createElement(\"a\");\n    link.download = \"template_\" + Date.now() + \".txt\";\n    link.href = url;\n    link.click();\n    $(\"#templateBody\").attr(\"data-changed\", 0);\n  }); // Load custom template as text file\n\n  $(\"#templateLoad\").on(\"click\", function () {\n    templateToLoad.click();\n  });\n  $(\"#templateToLoad\").change(function () {\n    var fileToLoad = this.files[0];\n    this.value = \"\";\n    var fileReader = new FileReader();\n\n    fileReader.onload = function (fileLoadedEvent) {\n      var dataLoaded = fileLoadedEvent.target.result;\n      var data = dataLoaded.split(\"\\r\\n\");\n      $(\"#templateBody\").empty();\n\n      if (data.length > 0) {\n        $(\"#templateBody\").attr(\"data-changed\", 1);\n        $(\"#templateSelect\").attr(\"data-prev\", \"templateCustom\").val(\"templateCustom\");\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var line = data[i].split(\" \");\n        addStep(line[0], line[1], line[2]);\n      }\n    };\n\n    fileReader.readAsText(fileToLoad, \"UTF-8\");\n  }); // Image to Heightmap Converter dialog\n\n  function convertImage() {\n    canvas.width = svgWidth;\n    canvas.height = svgHeight; // turn off paint brushes drag and cursor\n\n    $(\".pressed\").removeClass('pressed');\n    restoreDefaultEvents();\n    var div = d3.select(\"#colorScheme\");\n\n    if (div.selectAll(\"*\").size() === 0) {\n      for (var i = 0; i <= 100; i++) {\n        var width = i < 20 || i > 70 ? \"1px\" : \"3px\";\n        if (i === 0) width = \"4px\";\n        var clr = color(1 - i / 100);\n        var style = \"background-color: \" + clr + \"; width: \" + width;\n        div.append(\"div\").attr(\"data-color\", i).attr(\"style\", style);\n      }\n\n      div.selectAll(\"*\").on(\"touchmove mousemove\", showHeight).on(\"click\", assignHeight);\n    }\n\n    if ($(\"#imageConverter\").is(\":visible\")) {\n      return;\n    }\n\n    $(\"#imageConverter\").dialog({\n      title: \"Image to Heightmap Converter\",\n      minHeight: 30,\n      width: 260,\n      resizable: false,\n      position: {\n        my: \"right top\",\n        at: \"right-10 top+10\",\n        of: \"svg\"\n      }\n    }).on('dialogclose', function () {\n      completeConvertion();\n    });\n  } // Load image to convert\n\n\n  $(\"#convertImageLoad\").on(\"click\", function () {\n    imageToLoad.click();\n  });\n  $(\"#imageToLoad\").change(function () {\n    console.time(\"loadImage\"); // set style\n\n    resetZoom();\n    grid.attr(\"stroke-width\", .2); // load image\n\n    var file = this.files[0];\n    this.value = \"\"; // reset input value to get triggered if the same file is uploaded\n\n    var reader = new FileReader();\n    var img = new Image(); // draw image\n\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0, svgWidth, svgHeight);\n      heightsFromImage(+convertColors.value);\n      console.timeEnd(\"loadImage\");\n    };\n\n    reader.onloadend = function () {\n      img.src = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  });\n\n  function heightsFromImage(count) {\n    var imageData = ctx.getImageData(0, 0, svgWidth, svgHeight);\n    var data = imageData.data;\n    $(\"#landmass > path, .color-div\").remove();\n    $(\"#landmass, #colorsUnassigned\").fadeIn();\n    $(\"#colorsAssigned\").fadeOut();\n    var colors = [],\n        palette = [];\n    points.map(function (i) {\n      var x = rn(i[0]),\n          y = rn(i[1]);\n\n      if (y == svgHeight) {\n        y--;\n      }\n\n      if (x == svgWidth) {\n        x--;\n      }\n\n      var p = (x + y * svgWidth) * 4;\n      var r = data[p],\n          g = data[p + 1],\n          b = data[p + 2];\n      colors.push([r, g, b]);\n    });\n    var cmap = MMCQ.quantize(colors, count);\n    heights = new Uint8Array(points.length);\n    polygons.map(function (i, d) {\n      var nearest = cmap.nearest(colors[d]);\n      var rgb = \"rgb(\" + nearest[0] + \", \" + nearest[1] + \", \" + nearest[2] + \")\";\n      var hex = toHEX(rgb);\n\n      if (palette.indexOf(hex) === -1) {\n        palette.push(hex);\n      }\n\n      landmass.append(\"path\").attr(\"d\", \"M\" + i.join(\"L\") + \"Z\").attr(\"data-i\", d).attr(\"fill\", hex).attr(\"stroke\", hex);\n    });\n    landmass.selectAll(\"path\").on(\"click\", landmassClicked);\n    palette.sort(function (a, b) {\n      return d3.lab(a).b - d3.lab(b).b;\n    }).map(function (i) {\n      $(\"#colorsUnassigned\").append('<div class=\"color-div\" id=\"' + i.substr(1) + '\" style=\"background-color: ' + i + ';\"/>');\n    });\n    $(\".color-div\").click(selectColor);\n  }\n\n  function landmassClicked() {\n    var color = d3.select(this).attr(\"fill\");\n    $(\"#\" + color.slice(1)).click();\n  }\n\n  function selectColor() {\n    landmass.selectAll(\".selectedCell\").classed(\"selectedCell\", 0);\n    var el = d3.select(this);\n\n    if (el.classed(\"selectedColor\")) {\n      el.classed(\"selectedColor\", 0);\n    } else {\n      $(\".selectedColor\").removeClass(\"selectedColor\");\n      el.classed(\"selectedColor\", 1);\n      $(\"#colorScheme .hoveredColor\").removeClass(\"hoveredColor\");\n      $(\"#colorsSelectValue\").text(0);\n\n      if (el.attr(\"data-height\")) {\n        var height = el.attr(\"data-height\");\n        $(\"#colorScheme div[data-color='\" + height + \"']\").addClass(\"hoveredColor\");\n        $(\"#colorsSelectValue\").text(height);\n      }\n\n      var _color2 = \"#\" + d3.select(this).attr(\"id\");\n\n      landmass.selectAll(\"path\").classed(\"selectedCell\", 0);\n      landmass.selectAll(\"path[fill='\" + _color2 + \"']\").classed(\"selectedCell\", 1);\n    }\n  }\n\n  function showHeight() {\n    var el = d3.select(this);\n    var height = el.attr(\"data-color\");\n    $(\"#colorsSelectValue\").text(height);\n    $(\"#colorScheme .hoveredColor\").removeClass(\"hoveredColor\");\n    el.classed(\"hoveredColor\", 1);\n  }\n\n  function assignHeight() {\n    var sel = $(\".selectedColor\")[0];\n    var height = +d3.select(this).attr(\"data-color\");\n    var rgb = color(1 - height / 100);\n    var hex = toHEX(rgb);\n    sel.style.backgroundColor = rgb;\n    sel.setAttribute(\"data-height\", height);\n    var cur = \"#\" + sel.id;\n    sel.id = hex.substr(1);\n    landmass.selectAll(\".selectedCell\").each(function () {\n      d3.select(this).attr(\"fill\", hex).attr(\"stroke\", hex);\n      var i = +d3.select(this).attr(\"data-i\");\n      heights[i] = height;\n    });\n    var parent = sel.parentNode;\n\n    if (parent.id === \"colorsUnassigned\") {\n      colorsAssigned.appendChild(sel);\n      $(\"#colorsAssigned\").fadeIn();\n\n      if ($(\"#colorsUnassigned .color-div\").length < 1) {\n        $(\"#colorsUnassigned\").fadeOut();\n      }\n    }\n\n    if ($(\"#colorsAssigned .color-div\").length > 1) {\n      sortAssignedColors();\n    }\n  } // sort colors based on assigned height\n\n\n  function sortAssignedColors() {\n    var data = [];\n    var colors = d3.select(\"#colorsAssigned\").selectAll(\".color-div\");\n    colors.each(function (d) {\n      var id = d3.select(this).attr(\"id\");\n      var height = +d3.select(this).attr(\"data-height\");\n      data.push({\n        id: id,\n        height: height\n      });\n    });\n    data.sort(function (a, b) {\n      return a.height - b.height;\n    }).map(function (i) {\n      $(\"#colorsAssigned\").append($(\"#\" + i.id));\n    });\n  } // auto assign color based on luminosity or hue\n\n\n  function autoAssing(type) {\n    var imageData = ctx.getImageData(0, 0, svgWidth, svgHeight);\n    var data = imageData.data;\n    $(\"#landmass > path, .color-div\").remove();\n    $(\"#colorsAssigned\").fadeIn();\n    $(\"#colorsUnassigned\").fadeOut();\n    polygons.forEach(function (i, d) {\n      var x = rn(i.data[0]),\n          y = rn(i.data[1]);\n      if (y == svgHeight) y--;\n      if (x == svgWidth) x--;\n      var p = (x + y * svgWidth) * 4;\n      var r = data[p],\n          g = data[p + 1],\n          b = data[p + 2];\n      var lab = d3.lab(\"rgb(\" + r + \", \" + g + \", \" + b + \")\");\n\n      if (type === \"hue\") {\n        var normalized = rn(normalize(lab.b + lab.a / 2, -50, 200), 2);\n      } else {\n        var normalized = rn(normalize(lab.l, 0, 100), 2);\n      }\n\n      var rgb = color(1 - normalized);\n      var hex = toHEX(rgb);\n      heights[d] = normalized * 100;\n      landmass.append(\"path\").attr(\"d\", \"M\" + i.join(\"L\") + \"Z\").attr(\"data-i\", d).attr(\"fill\", hex).attr(\"stroke\", hex);\n    });\n\n    var unique = _toConsumableArray(new Set(heights)).sort();\n\n    unique.forEach(function (h) {\n      var rgb = color(1 - h / 100);\n      var hex = toHEX(rgb);\n      $(\"#colorsAssigned\").append('<div class=\"color-div\" id=\"' + hex.substr(1) + '\" data-height=\"' + h + '\" style=\"background-color: ' + hex + ';\"/>');\n    });\n    $(\".color-div\").click(selectColor);\n  }\n\n  function normalize(val, min, max) {\n    var normalized = (val - min) / (max - min);\n\n    if (normalized < 0) {\n      normalized = 0;\n    }\n\n    if (normalized > 1) {\n      normalized = 1;\n    }\n\n    return normalized;\n  }\n\n  function completeConvertion() {\n    mockHeightmap();\n    restartHistory();\n    $(\".color-div\").remove();\n    $(\"#colorsAssigned, #colorsUnassigned\").fadeOut();\n    grid.attr(\"stroke-width\", .1);\n    canvas.style.opacity = convertOverlay.value = convertOverlayValue.innerHTML = 0; // turn on paint brushes drag and cursor\n\n    viewbox.style(\"cursor\", \"crosshair\").call(drag);\n    $(\"#imageConverter\").dialog('close');\n  } // Clear the map\n\n\n  function undraw() {\n    viewbox.selectAll(\"path, circle, line, text, use, #ruler > g\").remove();\n    defs.selectAll(\"*\").remove();\n    landmass.select(\"rect\").remove();\n    cells = [], land = [], riversData = [], manors = [], states = [], features = [], queue = [];\n  } // Enter Heightmap Customization mode\n\n\n  function customizeHeightmap() {\n    customization = 1;\n    tip('Heightmap customization mode is active. Click on \"Complete\" to finalize the Heightmap', true);\n    $(\"#getMap\").removeClass(\"buttonoff\").addClass(\"glow\");\n    resetZoom();\n    landmassCounter.innerHTML = \"0\";\n    $('#grid').fadeIn();\n    $('#toggleGrid').removeClass(\"buttonoff\");\n    restartHistory();\n    $(\"#customizationMenu\").slideDown();\n    $(\"#openEditor\").slideUp();\n  } // Remove all customization related styles, reset values\n\n\n  function exitCustomization() {\n    customization = 0;\n    tip(\"\", true);\n    canvas.style.opacity = 0;\n    $(\"#customizationMenu\").slideUp();\n    $(\"#getMap\").addClass(\"buttonoff\").removeClass(\"glow\");\n    $(\"#landmass\").empty();\n    $('#grid').empty().fadeOut();\n    $('#toggleGrid').addClass(\"buttonoff\");\n    restoreDefaultEvents();\n\n    if (!$(\"#toggleHeight\").hasClass(\"buttonoff\")) {\n      toggleHeight();\n    }\n\n    closeDialogs();\n    history = [];\n    historyStage = 0;\n    $(\"#customizeHeightmap\").slideUp();\n    $(\"#openEditor\").slideDown();\n    debug.selectAll(\".circle, .tag, .line\").remove();\n  } // open editCountries dialog\n\n\n  function editCountries() {\n    if (cults.selectAll(\"path\").size()) $(\"#toggleCultures\").click();\n    if (regions.style(\"display\") === \"none\") $(\"#toggleCountries\").click();\n    layoutPreset.value = \"layoutPolitical\";\n    $(\"#countriesBody\").empty();\n    $(\"#countriesHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    var totalArea = 0,\n        totalBurgs = 0,\n        unit,\n        areaConv;\n\n    if (areaUnit.value === \"square\") {\n      unit = \" \" + distanceUnit.value + \"²\";\n    } else {\n      unit = \" \" + areaUnit.value;\n    }\n\n    var totalPopulation = 0;\n\n    for (var s = 0; s < states.length; s++) {\n      $(\"#countriesBody\").append('<div class=\"states\" id=\"state' + s + '\"></div>');\n      var el = $(\"#countriesBody div:last-child\");\n      var burgsCount = states[s].burgs;\n      totalBurgs += burgsCount; // calculate user-friendly area and population\n\n      var area = rn(states[s].area * Math.pow(distanceScale.value, 2));\n      totalArea += area;\n      areaConv = si(area) + unit;\n      var urban = rn(states[s].urbanPopulation * urbanization.value * populationRate.value);\n      var rural = rn(states[s].ruralPopulation * populationRate.value);\n      var population = (urban + rural) * 1000;\n      totalPopulation += population;\n      var populationConv = si(population);\n      var title = '\\'Total population: ' + populationConv + '; Rural population: ' + rural + 'K; Urban population: ' + urban + 'K\\'';\n      var neutral = states[s].color === \"neutral\" || states[s].capital === \"neutral\"; // append elements to countriesBody\n\n      if (!neutral) {\n        el.append('<input onmouseover=\"tip(\\'Country color. Click to change\\')\" class=\"stateColor\" type=\"color\" value=\"' + states[s].color + '\"/>');\n        el.append('<input onmouseover=\"tip(\\'Country name. Click and type to change\\')\" class=\"stateName\" value=\"' + states[s].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        var capital = states[s].capital !== \"select\" ? manors[states[s].capital].name : \"select\";\n\n        if (capital === \"select\") {\n          el.append('<button onmouseover=\"tip(\\'Click on map to select a capital or to create a new capital\\')\" class=\"selectCapital\" id=\"selectCapital' + s + '\">★ select</button>');\n        } else {\n          el.append('<span onmouseover=\"tip(\\'Country capital. Click to enlange\\')\" class=\"icon-star-empty enlange\"></span>');\n          el.append('<input onmouseover=\"tip(\\'Capital name. Click and type to rename\\')\" class=\"stateCapital\" value=\"' + capital + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        }\n\n        el.append('<span onmouseover=\"tip(\\'Country expansionism (defines competitive size)\\')\" class=\"icon-resize-full hidden\"></span>');\n        el.append('<input onmouseover=\"tip(\\'Capital expansionism (defines competitive size)\\')\" class=\"statePower hidden\" type=\"number\" min=\"0\" max=\"99\" step=\"0.1\" value=\"' + states[s].power + '\"/>');\n      } else {\n        el.append('<input class=\"stateColor placeholder\" disabled type=\"color\"/>');\n        el.append('<input onmouseover=\"tip(\\'Neutral burgs are united into this group. Click to change the group name\\')\" class=\"stateName italic\" id=\"stateName' + s + '\" value=\"' + states[s].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        el.append('<span class=\"icon-star-empty placeholder\"></span>');\n        el.append('<input class=\"stateCapital placeholder\"/>');\n        el.append('<span class=\"icon-resize-full hidden placeholder\"></span>');\n        el.append('<input class=\"statePower hidden placeholder\" value=\"0.0\"/>');\n      }\n\n      el.append('<span onmouseover=\"tip(\\'Cells count\\')\" class=\"icon-check-empty\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Cells count\\')\" class=\"stateCells\">' + states[s].cells + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Burgs count. Click to see a full list\\')\" style=\"padding-right: 1px\" class=\"stateBIcon icon-dot-circled\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Burgs count. Click to see a full list\\')\" class=\"stateBurgs\">' + burgsCount + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Country area: ' + (area + unit) + '\\')\" style=\"padding-right: 4px\" class=\"icon-map-o\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Country area: ' + (area + unit) + '\\')\" class=\"stateArea\">' + areaConv + '</div>');\n      el.append('<span onmouseover=\"tip(' + title + ')\" class=\"icon-male\"></span>');\n      el.append('<input onmouseover=\"tip(' + title + ')\" class=\"statePopulation\" value=\"' + populationConv + '\">');\n\n      if (!neutral) {\n        el.append('<span onmouseover=\"tip(\\'Remove country, all assigned cells will become Neutral\\')\" class=\"icon-trash-empty\"></span>');\n        el.attr(\"data-country\", states[s].name).attr(\"data-capital\", capital).attr(\"data-expansion\", states[s].power).attr(\"data-cells\", states[s].cells).attr(\"data-burgs\", states[s].burgs).attr(\"data-area\", area).attr(\"data-population\", population);\n      } else {\n        el.attr(\"data-country\", \"bottom\").attr(\"data-capital\", \"bottom\").attr(\"data-expansion\", \"bottom\").attr(\"data-cells\", states[s].cells).attr(\"data-burgs\", states[s].burgs).attr(\"data-area\", area).attr(\"data-population\", population);\n      }\n    } // initialize jQuery dialog\n\n\n    if (!$(\"#countriesEditor\").is(\":visible\")) {\n      $(\"#countriesEditor\").dialog({\n        title: \"Countries Editor\",\n        minHeight: \"auto\",\n        minWidth: Math.min(svgWidth, 390),\n        position: {\n          my: \"right top\",\n          at: \"right-10 top+10\",\n          of: \"svg\"\n        }\n      }).on(\"dialogclose\", function () {\n        if (customization === 2 || customization === 3) {\n          $(\"#countriesManuallyCancel\").click();\n        }\n      });\n    } // restore customization Editor version\n\n\n    if (customization === 3) {\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").removeClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").addClass(\"hidden\");\n    } else {\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").addClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").removeClass(\"hidden\");\n    } // populate total line on footer\n\n\n    countriesFooterCountries.innerHTML = states.length;\n\n    if (states[states.length - 1].capital === \"neutral\") {\n      countriesFooterCountries.innerHTML = states.length - 1;\n    }\n\n    countriesFooterBurgs.innerHTML = totalBurgs;\n    countriesFooterArea.innerHTML = si(totalArea) + unit;\n    countriesFooterPopulation.innerHTML = si(totalPopulation); // handle events\n\n    $(\"#countriesBody .states\").hover(focusOnState, unfocusState);\n    $(\".enlange\").click(function () {\n      var s = +this.parentNode.id.slice(5);\n      var capital = states[s].capital;\n      var l = labels.select(\"[data-id='\" + capital + \"']\");\n      var x = +l.attr(\"x\"),\n          y = +l.attr(\"y\");\n      zoomTo(x, y, 8, 1600);\n    });\n    $(\".stateName\").on(\"input\", function () {\n      var s = +this.parentNode.id.slice(5);\n      states[s].name = this.value;\n      labels.select(\"#regionLabel\" + s).text(this.value);\n\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          var _color3 = '<input title=\"Country color. Click to change\" type=\"color\" class=\"stateColor\" value=\"' + states[s].color + '\"/>';\n\n          $(\"div[aria-describedby='burgsEditor'] .ui-dialog-title\").text(\"Burgs of \" + this.value).prepend(_color3);\n        }\n      }\n    });\n    $(\".states > .stateColor\").on(\"change\", function () {\n      var s = +this.parentNode.id.slice(5);\n      states[s].color = this.value;\n      regions.selectAll(\".region\" + s).attr(\"fill\", this.value).attr(\"stroke\", this.value);\n\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          $(\".ui-dialog-title > .stateColor\").val(this.value);\n        }\n      }\n    });\n    $(\".stateCapital\").on(\"input\", function () {\n      var s = +this.parentNode.id.slice(5);\n      var capital = states[s].capital;\n      manors[capital].name = this.value;\n      labels.select(\"[data-id='\" + capital + \"']\").text(this.value);\n\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          $(\"#burgs\" + capital + \" > .burgName\").val(this.value);\n        }\n      }\n    }).hover(focusCapital, unfocus);\n    $(\".stateBurgs, .stateBIcon\").on(\"click\", editBurgs).hover(focusBurgs, unfocus);\n    $(\"#countriesBody > .states\").on(\"click\", function () {\n      if (customization === 2) {\n        $(\".selected\").removeClass(\"selected\");\n        $(this).addClass(\"selected\");\n        var state = +$(this).attr(\"id\").slice(5);\n        var _color4 = states[state].color;\n\n        if (_color4 === \"neutral\") {\n          _color4 = \"white\";\n        }\n\n        if (debug.selectAll(\".circle\").size()) debug.selectAll(\".circle\").attr(\"stroke\", _color4);\n      }\n    });\n    $(\".selectCapital\").on(\"click\", function () {\n      if ($(this).hasClass(\"pressed\")) {\n        $(this).removeClass(\"pressed\");\n        tooltip.setAttribute(\"data-main\", \"\");\n        restoreDefaultEvents();\n      } else {\n        $(this).addClass(\"pressed\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", selectCapital);\n        tip(\"Click on the map to select or create a new capital\", true);\n      }\n    });\n\n    function selectCapital() {\n      var point = d3.mouse(this);\n      var index = getIndex(point);\n      var x = rn(point[0], 2),\n          y = rn(point[1], 2);\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place capital on the water! Select a land cell\");\n        return;\n      }\n\n      var state = +$(\".selectCapital.pressed\").attr(\"id\").replace(\"selectCapital\", \"\");\n      var oldState = cells[index].region;\n\n      if (oldState === \"neutral\") {\n        oldState = states.length - 1;\n      }\n\n      if (cells[index].manor !== undefined) {\n        // cell has burg\n        var burg = cells[index].manor;\n\n        if (states[oldState].capital === burg) {\n          tip(\"Existing capital cannot be selected as a new state capital! Select other cell\");\n          return;\n        } else {\n          // make this burg a new capital\n          var urbanFactor = 0.9; // for old neutrals\n\n          manors[burg].region = state;\n\n          if (oldState === \"neutral\") {\n            manors[burg].population *= 1 / urbanFactor;\n          }\n\n          manors[burg].population *= 2; // give capital x2 population bonus\n\n          states[state].capital = burg;\n          moveBurgToGroup(burg, \"capitals\");\n        }\n      } else {\n        // free cell -> create new burg for a capital\n        var closest = cultureTree.find(x, y);\n        var culture = cultureTree.data().indexOf(closest) || 0;\n        var name = generateName(culture);\n        var i = manors.length;\n        cells[index].manor = i;\n        states[state].capital = i;\n        var score = cells[index].score;\n\n        if (score <= 0) {\n          score = rn(Math.random(), 2);\n        }\n\n        if (cells[index].crossroad) {\n          score += cells[index].crossroad;\n        } // crossroads\n\n\n        if (cells[index].confluence) {\n          score += Math.pow(cells[index].confluence, 0.3);\n        } // confluences\n\n\n        if (cells[index].port !== undefined) {\n          score *= 3;\n        } // port-capital\n\n\n        var _population = rn(score, 1);\n\n        manors.push({\n          i: i,\n          cell: index,\n          x: x,\n          y: y,\n          region: state,\n          culture: culture,\n          name: name,\n          population: _population\n        });\n        burgIcons.select(\"#capitals\").append(\"circle\").attr(\"id\", \"burg\" + i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 1).on(\"click\", editBurg);\n        burgLabels.select(\"#capitals\").append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n      }\n\n      cells[index].region = state;\n      cells[index].neighbors.map(function (n) {\n        if (cells[n].height < 20) {\n          return;\n        }\n\n        if (cells[n].manor !== undefined) {\n          return;\n        }\n\n        cells[n].region = state;\n      });\n      redrawRegions();\n      recalculateStateData(oldState); // re-calc old state data\n\n      recalculateStateData(state); // calc new state data\n\n      editCountries();\n      restoreDefaultEvents();\n    }\n\n    $(\".statePower\").on(\"input\", function () {\n      var s = +this.parentNode.id.slice(5);\n      states[s].power = +this.value;\n      regenerateCountries();\n    });\n    $(\".statePopulation\").on(\"change\", function () {\n      var s = +this.parentNode.id.slice(5);\n      var popOr = +$(this).parent().attr(\"data-population\");\n      var popNew = getInteger(this.value);\n\n      if (!Number.isInteger(popNew) || popNew < 1000) {\n        this.value = si(popOr);\n        return;\n      }\n\n      var change = popNew / popOr;\n      states[s].urbanPopulation = rn(states[s].urbanPopulation * change, 2);\n      states[s].ruralPopulation = rn(states[s].ruralPopulation * change, 2);\n      var urban = rn(states[s].urbanPopulation * urbanization.value * populationRate.value);\n      var rural = rn(states[s].ruralPopulation * populationRate.value);\n      var population = (urban + rural) * 1000;\n      $(this).parent().attr(\"data-population\", population);\n      this.value = si(population);\n      var total = 0;\n      $(\"#countriesBody > div\").each(function (e, i) {\n        total += +$(this).attr(\"data-population\");\n      });\n      countriesFooterPopulation.innerHTML = si(total);\n\n      if (states[s].capital === \"neutral\") {\n        s = \"neutral\";\n      }\n\n      manors.map(function (m) {\n        if (m.region !== s) {\n          return;\n        }\n\n        m.population = rn(m.population * change, 2);\n      });\n    }); // fully remove country\n\n    $(\"#countriesBody .icon-trash-empty\").on(\"click\", function () {\n      var s = +this.parentNode.id.slice(5);\n      alertMessage.innerHTML = \"Are you sure you want to remove the country? All lands and burgs will become neutral\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove country\",\n        buttons: {\n          Remove: function Remove() {\n            removeCountry(s);\n            $(this).dialog(\"close\");\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n\n    function removeCountry(s) {\n      var cellsCount = states[s].cells;\n      var capital = +states[s].capital;\n      if (!isNaN(capital)) moveBurgToGroup(capital, \"towns\");\n      states.splice(s, 1);\n      states.map(function (s, i) {\n        s.i = i;\n      });\n      land.map(function (c) {\n        if (c.region === s) c.region = \"neutral\";else if (c.region > s) c.region -= 1;\n      }); // do only if removed state had cells\n\n      if (cellsCount) {\n        manors.map(function (b) {\n          if (b.region === s) b.region = \"neutral\";\n        }); // re-calculate neutral data\n\n        var i = states.length;\n\n        if (states[i - 1].capital !== \"neutral\") {\n          states.push({\n            i: i,\n            color: \"neutral\",\n            name: \"Neutrals\",\n            capital: \"neutral\"\n          });\n        }\n\n        recalculateStateData(i - 1); // re-calc data for neutrals\n\n        redrawRegions();\n      }\n\n      editCountries();\n    }\n\n    $(\"#countriesNeutral, #countriesNeutralNumber\").on(\"change\", regenerateCountries);\n  } // burgs list + editor\n\n\n  function editBurgs(context, s) {\n    if (s === undefined) {\n      s = +this.parentNode.id.slice(5);\n    }\n\n    $(\"#burgsEditor\").attr(\"data-state\", s);\n    $(\"#burgsBody\").empty();\n    $(\"#burgsHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    var region = states[s].capital === \"neutral\" ? \"neutral\" : s;\n    var burgs = $.grep(manors, function (e) {\n      return e.region === region;\n    });\n    var populationArray = [];\n    burgs.map(function (b) {\n      $(\"#burgsBody\").append('<div class=\"states\" id=\"burgs' + b.i + '\"></div>');\n      var el = $(\"#burgsBody div:last-child\");\n      el.append('<span title=\"Click to enlarge the burg\" style=\"padding-right: 2px\" class=\"enlarge icon-globe\"></span>');\n      el.append('<input title=\"Burg name. Click and type to change\" class=\"burgName\" value=\"' + b.name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n      el.append('<span title=\"Burg culture\" class=\"icon-book\" style=\"padding-right: 2px\"></span>');\n      el.append('<div title=\"Burg culture\" class=\"burgCulture\">' + cultures[b.culture].name + '</div>');\n      var population = b.population * urbanization.value * populationRate.value * 1000;\n      populationArray.push(population);\n      population = population > 1e4 ? si(population) : rn(population, -1);\n      el.append('<span title=\"Population\" class=\"icon-male\"></span>');\n      el.append('<input title=\"Population. Input to change\" class=\"burgPopulation\" value=\"' + population + '\"/>');\n      var capital = states[s].capital;\n      var type = \"z-burg\"; // usual burg by default\n\n      if (b.i === capital) {\n        el.append('<span title=\"Capital\" class=\"icon-star-empty\"></span>');\n        type = \"c-capital\";\n      } else {\n        el.append('<span class=\"icon-star-empty placeholder\"></span>');\n      }\n\n      if (cells[b.cell].port !== undefined) {\n        el.append('<span title=\"Port\" class=\"icon-anchor small\"></span>');\n\n        if (type === \"c-capital\") {\n          type = \"a-capital-port\";\n        } else {\n          type = \"p-port\";\n        }\n      } else {\n        el.append('<span class=\"icon-anchor placeholder\"></span>');\n      }\n\n      if (b.i !== capital) {\n        el.append('<span title=\"Remove burg\" class=\"icon-trash-empty\"></span>');\n      }\n\n      el.attr(\"data-burg\", b.name).attr(\"data-culture\", cultures[b.culture].name).attr(\"data-population\", b.population).attr(\"data-type\", type);\n    });\n\n    if (!$(\"#burgsEditor\").is(\":visible\")) {\n      $(\"#burgsEditor\").dialog({\n        title: \"Burgs of \" + states[s].name,\n        minHeight: \"auto\",\n        width: \"auto\",\n        position: {\n          my: \"right bottom\",\n          at: \"right-10 bottom-10\",\n          of: \"svg\"\n        }\n      });\n\n      var _color5 = '<input title=\"Country color. Click to change\" type=\"color\" class=\"stateColor\" value=\"' + states[s].color + '\"/>';\n\n      if (region !== \"neutral\") {\n        $(\"div[aria-describedby='burgsEditor'] .ui-dialog-title\").prepend(_color5);\n      }\n    } // populate total line on footer\n\n\n    burgsFooterBurgs.innerHTML = burgs.length;\n    burgsFooterCulture.innerHTML = $(\"#burgsBody div:first-child .burgCulture\").text();\n    var avPop = rn(d3.mean(populationArray), -1);\n    burgsFooterPopulation.value = avPop;\n    $(\".enlarge\").click(function () {\n      var b = +this.parentNode.id.slice(5);\n      var l = labels.select(\"[data-id='\" + b + \"']\");\n      var x = +l.attr(\"x\"),\n          y = +l.attr(\"y\");\n      zoomTo(x, y, 8, 1600);\n    });\n    $(\"#burgsBody > div\").hover(focusBurg, unfocus);\n    $(\"#burgsBody > div\").click(function () {\n      if (!$(\"#changeCapital\").hasClass(\"pressed\")) return;\n      var s = +$(\"#burgsEditor\").attr(\"data-state\");\n      var newCap = +$(this).attr(\"id\").slice(5);\n      var oldCap = +states[s].capital;\n\n      if (newCap === oldCap) {\n        tip(\"This burg is already a capital! Please select a different burg\", null, \"error\");\n        return;\n      }\n\n      $(\"#changeCapital\").removeClass(\"pressed\");\n      states[s].capital = newCap;\n      if (!isNaN(oldCap)) moveBurgToGroup(oldCap, \"towns\");\n      recalculateStateData(s);\n      moveBurgToGroup(newCap, \"capitals\");\n    });\n    $(\".burgName\").on(\"input\", function () {\n      var b = +this.parentNode.id.slice(5);\n      manors[b].name = this.value;\n      labels.select(\"[data-id='\" + b + \"']\").text(this.value);\n\n      if (b === s && $(\"#countriesEditor\").is(\":visible\")) {\n        $(\"#state\" + s + \" > .stateCapital\").val(this.value);\n      }\n    });\n    $(\".ui-dialog-title > .stateColor\").on(\"change\", function () {\n      states[s].color = this.value;\n      regions.selectAll(\".region\" + s).attr(\"fill\", this.value).attr(\"stroke\", this.value);\n\n      if ($(\"#countriesEditor\").is(\":visible\")) {\n        $(\"#state\" + s + \" > .stateColor\").val(this.value);\n      }\n    });\n    $(\".burgPopulation\").on(\"change\", function () {\n      var b = +this.parentNode.id.slice(5);\n      var pop = getInteger(this.value);\n\n      if (!Number.isInteger(pop) || pop < 10) {\n        var orig = rn(manors[b].population * urbanization.value * populationRate.value * 1000, 2);\n        this.value = si(orig);\n        return;\n      }\n\n      populationRaw = rn(pop / urbanization.value / populationRate.value / 1000, 2);\n      var change = populationRaw - manors[b].population;\n      manors[b].population = populationRaw;\n      $(this).parent().attr(\"data-population\", populationRaw);\n      this.value = si(pop);\n      var state = manors[b].region;\n\n      if (state === \"neutral\") {\n        state = states.length - 1;\n      }\n\n      states[state].urbanPopulation += change;\n      updateCountryPopulationUI(state);\n      var average = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n      burgsFooterPopulation.value = rn(average, -1);\n    });\n    $(\"#burgsFooterPopulation\").on(\"change\", function () {\n      var state = +$(\"#burgsEditor\").attr(\"data-state\");\n      var newPop = +this.value;\n      var avPop = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n\n      if (!Number.isInteger(newPop) || newPop < 10) {\n        this.value = rn(avPop, -1);\n        return;\n      }\n\n      var change = +this.value / avPop;\n      $(\"#burgsBody > div\").each(function (e, i) {\n        var b = +this.id.slice(5);\n        var pop = rn(manors[b].population * change, 2);\n        manors[b].population = pop;\n        $(this).attr(\"data-population\", pop);\n        var popUI = pop * urbanization.value * populationRate.value * 1000;\n        popUI = popUI > 1e4 ? si(popUI) : rn(popUI, -1);\n        $(this).children().filter(\".burgPopulation\").val(popUI);\n      });\n      states[state].urbanPopulation = rn(states[state].urbanPopulation * change, 2);\n      updateCountryPopulationUI(state);\n    });\n    $(\"#burgsBody .icon-trash-empty\").on(\"click\", function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the burg?\";\n      var b = +this.parentNode.id.slice(5);\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove burg\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            var state = +$(\"#burgsEditor\").attr(\"data-state\");\n            $(\"#burgs\" + b).remove();\n            var cell = manors[b].cell;\n            manors[b].region = \"removed\";\n            cells[cell].manor = undefined;\n            states[state].burgs = states[state].burgs - 1;\n            burgsFooterBurgs.innerHTML = states[state].burgs;\n            countriesFooterBurgs.innerHTML = +countriesFooterBurgs.innerHTML - 1;\n            states[state].urbanPopulation = states[state].urbanPopulation - manors[b].population;\n            var avPop = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n            burgsFooterPopulation.value = rn(avPop, -1);\n\n            if ($(\"#countriesEditor\").is(\":visible\")) {\n              $(\"#state\" + state + \" > .stateBurgs\").text(states[state].burgs);\n            }\n\n            labels.select(\"[data-id='\" + b + \"']\").remove();\n            icons.select(\"[data-id='\" + b + \"']\").remove();\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n  } // onhover style functions\n\n\n  function focusOnState() {\n    var s = +this.id.slice(5);\n    labels.select(\"#regionLabel\" + s).classed(\"drag\", true);\n    document.getElementsByClassName(\"region\" + s)[0].style.stroke = \"red\";\n    document.getElementsByClassName(\"region\" + s)[0].setAttribute(\"filter\", \"url(#blur1)\");\n  }\n\n  function unfocusState() {\n    var s = +this.id.slice(5);\n    labels.select(\"#regionLabel\" + s).classed(\"drag\", false);\n    document.getElementsByClassName(\"region\" + s)[0].style.stroke = \"none\";\n    document.getElementsByClassName(\"region\" + s)[0].setAttribute(\"filter\", null);\n  }\n\n  function focusCapital() {\n    var s = +this.parentNode.id.slice(5);\n    var capital = states[s].capital;\n    labels.select(\"[data-id='\" + capital + \"']\").classed(\"drag\", true);\n    icons.select(\"[data-id='\" + capital + \"']\").classed(\"drag\", true);\n  }\n\n  function focusBurgs() {\n    var s = +this.parentNode.id.slice(5);\n    var stateManors = $.grep(manors, function (e) {\n      return e.region === s;\n    });\n    stateManors.map(function (m) {\n      labels.select(\"[data-id='\" + m.i + \"']\").classed(\"drag\", true);\n      icons.select(\"[data-id='\" + m.i + \"']\").classed(\"drag\", true);\n    });\n  }\n\n  function focusBurg() {\n    var b = +this.id.slice(5);\n    var l = labels.select(\"[data-id='\" + b + \"']\");\n    l.classed(\"drag\", true);\n  }\n\n  function unfocus() {\n    $(\".drag\").removeClass(\"drag\");\n  } // save dialog position if \"stable\" dialog window is dragged\n\n\n  $(\".stable\").on(\"dialogdragstop\", function (event, ui) {\n    sessionStorage.setItem(this.id, [ui.offset.left, ui.offset.top]);\n  }); // restore saved dialog position on \"stable\" dialog window open\n\n  $(\".stable\").on(\"dialogopen\", function (event, ui) {\n    var pos = sessionStorage.getItem(this.id);\n\n    if (!pos) {\n      return;\n    }\n\n    pos = pos.split(\",\");\n\n    if (pos[0] > $(window).width() - 100 || pos[1] > $(window).width() - 40) {\n      return;\n    } // prevent showing out of screen\n\n\n    var at = \"left+\".concat(pos[0], \" top+\").concat(pos[1]);\n    $(this).dialog(\"option\", \"position\", {\n      my: \"left top\",\n      at: at,\n      of: \"svg\"\n    });\n  }); // open editCultures dialog\n\n  function editCultures() {\n    if (!cults.selectAll(\"path\").size()) $(\"#toggleCultures\").click();\n    if (regions.style(\"display\") !== \"none\") $(\"#toggleCountries\").click();\n    layoutPreset.value = \"layoutCultural\";\n    $(\"#culturesBody\").empty();\n    $(\"#culturesHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\"); // collect data\n\n    var cellsC = [],\n        areas = [],\n        rurPops = [],\n        urbPops = [];\n    var unit = areaUnit.value === \"square\" ? \" \" + distanceUnit.value + \"²\" : \" \" + areaUnit.value;\n    land.map(function (l) {\n      var c = l.culture;\n      if (c === undefined) return;\n      cellsC[c] = cellsC[c] ? cellsC[c] + 1 : 1;\n      areas[c] = areas[c] ? areas[c] + l.area : l.area;\n      rurPops[c] = rurPops[c] ? rurPops[c] + l.pop : l.pop;\n    });\n    manors.map(function (m) {\n      var c = m.culture;\n      if (isNaN(c)) return;\n      urbPops[c] = urbPops[c] ? urbPops[c] + m.population : m.population;\n    });\n    if (!nameBases[0]) applyDefaultNamesData();\n\n    for (var c = 0; c < cultures.length; c++) {\n      $(\"#culturesBody\").append('<div class=\"states cultures\" id=\"culture' + c + '\"></div>');\n\n      if (cellsC[c] === undefined) {\n        cellsC[c] = 0;\n        areas[c] = 0;\n        rurPops[c] = 0;\n      }\n\n      if (urbPops[c] === undefined) urbPops[c] = 0;\n      var area = rn(areas[c] * Math.pow(distanceScale.value, 2));\n      var areaConv = si(area) + unit;\n      var urban = rn(urbPops[c] * +urbanization.value * populationRate.value);\n      var rural = rn(rurPops[c] * populationRate.value);\n      var population = (urban + rural) * 1000;\n      var populationConv = si(population);\n      var title = '\\'Total population: ' + populationConv + '; Rural population: ' + rural + 'K; Urban population: ' + urban + 'K\\'';\n      var b = cultures[c].base;\n      if (b >= nameBases.length) b = 0;\n      var base = nameBases[b].name;\n      var el = $(\"#culturesBody div:last-child\");\n      el.append('<input onmouseover=\"tip(\\'Culture color. Click to change\\')\" class=\"stateColor\" type=\"color\" value=\"' + cultures[c].color + '\"/>');\n      el.append('<input onmouseover=\"tip(\\'Culture name. Click and type to change\\')\" class=\"cultureName\" value=\"' + cultures[c].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n      el.append('<span onmouseover=\"tip(\\'Culture cells count\\')\" class=\"icon-check-empty\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Culture cells count\\')\" class=\"stateCells\">' + cellsC[c] + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Culture area: ' + areaConv + '\\')\" style=\"padding-right: 4px\" class=\"icon-map-o\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Culture area: ' + areaConv + '\\')\" class=\"stateArea\">' + areaConv + '</div>');\n      el.append('<span onmouseover=\"tip(' + title + ')\" class=\"icon-male\"></span>');\n      el.append('<div onmouseover=\"tip(' + title + ')\" class=\"culturePopulation\">' + populationConv + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Click to re-generate names for burgs with this culture assigned\\')\" class=\"icon-arrows-cw\"></span>');\n      el.append('<select onmouseover=\"tip(\\'Culture namesbase. Click to change\\')\" class=\"cultureBase\"></select>');\n\n      if (cultures.length > 1) {\n        el.append('<span onmouseover=\"tip(\\'Remove culture. Remaining cultures will be recalculated\\')\" class=\"icon-trash-empty\"></span>');\n      }\n\n      el.attr(\"data-color\", cultures[c].color).attr(\"data-culture\", cultures[c].name).attr(\"data-cells\", cellsC[c]).attr(\"data-area\", area).attr(\"data-population\", population).attr(\"data-base\", base);\n    }\n\n    addCultureBaseOptions();\n    drawCultureCenters();\n    var activeCultures = cellsC.reduce(function (s, v) {\n      if (v) {\n        return s + 1;\n      } else {\n        return s;\n      }\n    }, 0);\n    culturesFooterCultures.innerHTML = activeCultures + \"/\" + cultures.length;\n    culturesFooterCells.innerHTML = land.length;\n    var totalArea = areas.reduce(function (s, v) {\n      return s + v;\n    });\n    totalArea = rn(totalArea * Math.pow(distanceScale.value, 2));\n    culturesFooterArea.innerHTML = si(totalArea) + unit;\n    var totalPopulation = rurPops.reduce(function (s, v) {\n      return s + v;\n    }) * urbanization.value;\n    totalPopulation += urbPops.reduce(function (s, v) {\n      return s + v;\n    });\n    culturesFooterPopulation.innerHTML = si(totalPopulation * 1000 * populationRate.value); // initialize jQuery dialog\n\n    if (!$(\"#culturesEditor\").is(\":visible\")) {\n      $(\"#culturesEditor\").dialog({\n        title: \"Cultures Editor\",\n        minHeight: \"auto\",\n        minWidth: Math.min(svgWidth, 336),\n        position: {\n          my: \"right top\",\n          at: \"right-10 top+10\",\n          of: \"svg\"\n        },\n        close: function close() {\n          debug.select(\"#cultureCenters\").selectAll(\"*\").remove();\n          exitCulturesManualAssignment();\n        }\n      });\n    }\n\n    $(\".cultures\").hover(function () {\n      var c = +this.id.slice(7);\n      debug.select(\"#cultureCenter\" + c).attr(\"stroke\", \"#000000e6\");\n    }, function () {\n      var c = +this.id.slice(7);\n      debug.select(\"#cultureCenter\" + c).attr(\"stroke\", \"#00000080\");\n    });\n    $(\".cultures\").on(\"click\", function () {\n      if (customization !== 4) return;\n      var c = +this.id.slice(7);\n      $(\".selected\").removeClass(\"selected\");\n      $(this).addClass(\"selected\");\n      var color = cultures[c].color;\n      debug.selectAll(\".circle\").attr(\"stroke\", color);\n    });\n    $(\".cultures .stateColor\").on(\"input\", function () {\n      var c = +this.parentNode.id.slice(7);\n      var old = cultures[c].color;\n      cultures[c].color = this.value;\n      debug.select(\"#cultureCenter\" + c).attr(\"fill\", this.value);\n      cults.selectAll('[fill=\"' + old + '\"]').attr(\"fill\", this.value).attr(\"stroke\", this.value);\n    });\n    $(\".cultures .cultureName\").on(\"input\", function () {\n      var c = +this.parentNode.id.slice(7);\n      cultures[c].name = this.value;\n    });\n    $(\".cultures .icon-arrows-cw\").on(\"click\", function () {\n      var c = +this.parentNode.id.slice(7);\n      manors.forEach(function (m) {\n        if (m.region === \"removed\") return;\n        if (m.culture !== c) return;\n        m.name = generateName(c);\n        labels.select(\"[data-id='\" + m.i + \"']\").text(m.name);\n      });\n    });\n    $(\"#culturesBody .icon-trash-empty\").on(\"click\", function () {\n      var c = +this.parentNode.id.slice(7);\n      cultures.splice(c, 1);\n      var centers = cultures.map(function (c) {\n        return c.center;\n      });\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures(\"fullRedraw\");\n      editCultures();\n    });\n    if (modules.editCultures) return;\n    modules.editCultures = true;\n\n    function addCultureBaseOptions() {\n      $(\".cultureBase\").each(function () {\n        var c = +this.parentNode.id.slice(7);\n\n        for (var i = 0; i < nameBases.length; i++) {\n          this.options.add(new Option(nameBases[i].name, i));\n        }\n\n        this.value = cultures[c].base;\n        this.addEventListener(\"change\", function () {\n          cultures[c].base = +this.value;\n        });\n      });\n    }\n\n    function drawCultureCenters() {\n      var cultureCenters = debug.select(\"#cultureCenters\");\n\n      if (cultureCenters.size()) {\n        cultureCenters.selectAll(\"*\").remove();\n      } else {\n        cultureCenters = debug.append(\"g\").attr(\"id\", \"cultureCenters\");\n      }\n\n      for (var _c5 = 0; _c5 < cultures.length; _c5++) {\n        cultureCenters.append(\"circle\").attr(\"id\", \"cultureCenter\" + _c5).attr(\"cx\", cultures[_c5].center[0]).attr(\"cy\", cultures[_c5].center[1]).attr(\"r\", 6).attr(\"stroke-width\", 2).attr(\"stroke\", \"#00000080\").attr(\"fill\", cultures[_c5].color).on(\"mousemove\", cultureCenterTip).on(\"mouseleave\", function () {\n          tip(\"\", true);\n        }).call(d3.drag().on(\"start\", cultureCenterDrag));\n      }\n    }\n\n    function cultureCenterTip() {\n      tip('Drag to move culture center and re-calculate cultures', true);\n    }\n\n    function cultureCenterDrag() {\n      var el = d3.select(this);\n      var c = +this.id.slice(13);\n      d3.event.on(\"drag\", function () {\n        var x = d3.event.x,\n            y = d3.event.y;\n        el.attr(\"cx\", x).attr(\"cy\", y);\n        cultures[c].center = [x, y];\n        var centers = cultures.map(function (c) {\n          return c.center;\n        });\n        cultureTree = d3.quadtree(centers);\n        recalculateCultures();\n      });\n    }\n\n    $(\"#culturesPercentage\").on(\"click\", function () {\n      var el = $(\"#culturesEditor\");\n\n      if (el.attr(\"data-type\") === \"absolute\") {\n        el.attr(\"data-type\", \"percentage\");\n        var totalCells = land.length;\n        var _totalArea = culturesFooterArea.innerHTML;\n        _totalArea = getInteger(_totalArea.split(\" \")[0]);\n\n        var _totalPopulation = getInteger(culturesFooterPopulation.innerHTML);\n\n        $(\"#culturesBody > .cultures\").each(function () {\n          var cells = rn($(this).attr(\"data-cells\") / totalCells * 100);\n          var area = rn($(this).attr(\"data-area\") / _totalArea * 100);\n          var population = rn($(this).attr(\"data-population\") / _totalPopulation * 100);\n          $(this).children().filter(\".stateCells\").text(cells + \"%\");\n          $(this).children().filter(\".stateArea\").text(area + \"%\");\n          $(this).children().filter(\".culturePopulation\").text(population + \"%\");\n        });\n      } else {\n        el.attr(\"data-type\", \"absolute\");\n        editCultures();\n      }\n    });\n    $(\"#culturesManually\").on(\"click\", function () {\n      customization = 4;\n      tip(\"Click to select a culture, drag the circle to re-assign\", true);\n      $(\"#culturesBottom\").children().hide();\n      $(\"#culturesManuallyButtons\").show();\n      viewbox.style(\"cursor\", \"crosshair\").call(drag).on(\"click\", changeSelectedOnClick);\n      debug.select(\"#cultureCenters\").selectAll(\"*\").remove();\n    });\n    $(\"#culturesManuallyComplete\").on(\"click\", function () {\n      var changed = cults.selectAll(\"[data-culture]\");\n      changed.each(function () {\n        var i = +this.id.slice(4);\n        var c = +this.getAttribute(\"data-culture\");\n        this.removeAttribute(\"data-culture\");\n        cells[i].culture = c;\n        var manor = cells[i].manor;\n        if (manor !== undefined) manors[manor].culture = c;\n      });\n      exitCulturesManualAssignment();\n      if (changed.size()) editCultures();\n    });\n    $(\"#culturesManuallyCancel\").on(\"click\", function () {\n      cults.selectAll(\"[data-culture]\").each(function () {\n        var i = +this.id.slice(4);\n        var c = cells[i].culture;\n        this.removeAttribute(\"data-culture\");\n        var color = cultures[c].color;\n        this.setAttribute(\"fill\", color);\n        this.setAttribute(\"stroke\", color);\n      });\n      exitCulturesManualAssignment();\n      drawCultureCenters();\n    });\n\n    function exitCulturesManualAssignment() {\n      debug.selectAll(\".circle\").remove();\n      $(\"#culturesBottom\").children().show();\n      $(\"#culturesManuallyButtons\").hide();\n      $(\".selected\").removeClass(\"selected\");\n      customization = 0;\n      restoreDefaultEvents();\n    }\n\n    $(\"#culturesRandomize\").on(\"click\", function () {\n      var centers = cultures.map(function (c) {\n        var x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n        var y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n        var center = [x, y];\n        c.center = center;\n        return center;\n      });\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures();\n      drawCultureCenters();\n      editCultures();\n    });\n    $(\"#culturesExport\").on(\"click\", function () {\n      var unit = areaUnit.value === \"square\" ? distanceUnit.value + \"2\" : areaUnit.value;\n      var data = \"Culture,Cells,Area (\" + unit + \"),Population,Namesbase\\n\"; // headers\n\n      $(\"#culturesBody > .cultures\").each(function () {\n        data += $(this).attr(\"data-culture\") + \",\";\n        data += $(this).attr(\"data-cells\") + \",\";\n        data += $(this).attr(\"data-area\") + \",\";\n        data += $(this).attr(\"data-population\") + \",\";\n        data += $(this).attr(\"data-base\") + \"\\n\";\n      });\n      var dataBlob = new Blob([data], {\n        type: \"text/plain\"\n      });\n      var url = window.URL.createObjectURL(dataBlob);\n      var link = document.createElement(\"a\");\n      document.body.appendChild(link);\n      link.download = \"cultures_data\" + Date.now() + \".csv\";\n      link.href = url;\n      link.click();\n      window.setTimeout(function () {\n        window.URL.revokeObjectURL(url);\n      }, 2000);\n    });\n    $(\"#culturesRegenerateNames\").on(\"click\", function () {\n      manors.forEach(function (m) {\n        if (m.region === \"removed\") return;\n        var culture = m.culture;\n        m.name = generateName(culture);\n        labels.select(\"[data-id='\" + m.i + \"']\").text(m.name);\n      });\n    });\n    $(\"#culturesEditNamesBase\").on(\"click\", editNamesbase);\n    $(\"#culturesAdd\").on(\"click\", function () {\n      var x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      var y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      var center = [x, y];\n      var culture, base, name, color;\n\n      if (cultures.length < defaultCultures.length) {\n        // add one of the default cultures\n        culture = cultures.length;\n        base = defaultCultures[culture].base;\n        color = defaultCultures[culture].color;\n        name = defaultCultures[culture].name;\n      } else {\n        // add random culture besed on one of the current ones\n        culture = rand(cultures.length - 1);\n        name = generateName(culture);\n        color = colors20(cultures.length % 20);\n        base = cultures[culture].base;\n      }\n\n      cultures.push({\n        name: name,\n        color: color,\n        base: base,\n        center: center\n      });\n      var centers = cultures.map(function (c) {\n        return c.center;\n      });\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures();\n      editCultures();\n    });\n  } // open editNamesbase dialog\n\n\n  function editNamesbase() {\n    // update list of bases\n    var select = document.getElementById(\"namesbaseSelect\");\n\n    for (var i = select.options.length; i < nameBases.length; i++) {\n      var option = new Option(nameBases[i].name, i);\n      select.options.add(option);\n    } // restore previous state\n\n\n    var textarea = document.getElementById(\"namesbaseTextarea\");\n    var selected = +textarea.getAttribute(\"data-base\");\n    if (selected >= nameBases.length) selected = 0;\n    select.value = selected;\n    if (textarea.value === \"\") namesbaseUpdateInputs(selected);\n    var examples = document.getElementById(\"namesbaseExamples\");\n    if (examples.innerHTML === \"\") namesbaseUpdateExamples(selected); // open a dialog\n\n    $(\"#namesbaseEditor\").dialog({\n      title: \"Namesbase Editor\",\n      minHeight: \"auto\",\n      minWidth: Math.min(svgWidth, 400),\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: \"svg\"\n      }\n    });\n    if (modules.editNamesbase) return;\n    modules.editNamesbase = true;\n\n    function namesbaseUpdateInputs(selected) {\n      var textarea = document.getElementById(\"namesbaseTextarea\");\n      textarea.value = nameBase[selected].join(\", \");\n      textarea.setAttribute(\"data-base\", selected);\n      var name = document.getElementById(\"namesbaseName\");\n      var method = document.getElementById(\"namesbaseMethod\");\n      var min = document.getElementById(\"namesbaseMin\");\n      var max = document.getElementById(\"namesbaseMax\");\n      var dublication = document.getElementById(\"namesbaseDouble\");\n      name.value = nameBases[selected].name;\n      method.value = nameBases[selected].method;\n      min.value = nameBases[selected].min;\n      max.value = nameBases[selected].max;\n      dublication.value = nameBases[selected].d;\n    }\n\n    function namesbaseUpdateExamples(selected) {\n      var examples = document.getElementById(\"namesbaseExamples\");\n      var text = \"\";\n\n      for (var _i7 = 0; _i7 < 10; _i7++) {\n        var name = generateName(false, selected);\n\n        if (name === undefined) {\n          text = \"Cannot generate examples. Please verify the data\";\n          break;\n        }\n\n        if (_i7 !== 0) text += \", \";\n        text += name;\n      }\n\n      examples.innerHTML = text;\n    }\n\n    $(\"#namesbaseSelect\").on(\"change\", function () {\n      var selected = +this.value;\n      namesbaseUpdateInputs(selected);\n      namesbaseUpdateExamples(selected);\n    });\n    $(\"#namesbaseName\").on(\"input\", function () {\n      var base = +textarea.getAttribute(\"data-base\");\n      var select = document.getElementById(\"namesbaseSelect\");\n      select.options[base].innerHTML = this.value;\n      nameBases[base].name = this.value;\n    });\n    $(\"#namesbaseTextarea\").on(\"input\", function () {\n      var base = +this.getAttribute(\"data-base\");\n      var data = textarea.value.replace(/ /g, \"\").split(\",\");\n      nameBase[base] = data;\n\n      if (data.length < 3) {\n        chain[base] = [];\n\n        var _examples = document.getElementById(\"namesbaseExamples\");\n\n        _examples.innerHTML = \"Please provide a correct source data\";\n        return;\n      }\n\n      var method = document.getElementById(\"namesbaseMethod\").value;\n      if (method !== \"selection\") chain[base] = calculateChain(base);\n    });\n    $(\"#namesbaseMethod\").on(\"change\", function () {\n      var base = +textarea.getAttribute(\"data-base\");\n      nameBases[base].method = this.value;\n      if (this.value !== \"selection\") chain[base] = calculateChain(base);\n    });\n    $(\"#namesbaseMin\").on(\"change\", function () {\n      var base = +textarea.getAttribute(\"data-base\");\n\n      if (+this.value > nameBases[base].max) {\n        tip(\"Minimal length cannot be greated that maximal\");\n      } else {\n        nameBases[base].min = +this.value;\n      }\n    });\n    $(\"#namesbaseMax\").on(\"change\", function () {\n      var base = +textarea.getAttribute(\"data-base\");\n\n      if (+this.value < nameBases[base].min) {\n        tip(\"Maximal length cannot be less than minimal\");\n      } else {\n        nameBases[base].max = +this.value;\n      }\n    });\n    $(\"#namesbaseDouble\").on(\"change\", function () {\n      var base = +textarea.getAttribute(\"data-base\");\n      nameBases[base].d = this.value;\n    });\n    $(\"#namesbaseDefault\").on(\"click\", function () {\n      alertMessage.innerHTML = \"Are you sure you want to restore the default namesbase?\\n        All custom bases will be removed and default ones will be assigned to existing cultures.\\n        Meanwhile existing names will not be changed.\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Restore default data\",\n        buttons: {\n          Restore: function Restore() {\n            $(this).dialog(\"close\");\n            $(\"#namesbaseEditor\").dialog(\"close\");\n            var select = document.getElementById(\"namesbaseSelect\");\n            select.options.length = 0;\n            document.getElementById(\"namesbaseTextarea\").value = \"\";\n            document.getElementById(\"namesbaseTextarea\").setAttribute(\"data-base\", 0);\n            document.getElementById(\"namesbaseExamples\").innerHTML === \"\";\n            applyDefaultNamesData();\n            var baseMax = nameBases.length - 1;\n            cultures.forEach(function (c) {\n              if (c.base > baseMax) c.base = baseMax;\n            });\n            chains = {};\n            calculateChains();\n            editCultures();\n            editNamesbase();\n          },\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n    $(\"#namesbaseAdd\").on(\"click\", function () {\n      var base = nameBases.length;\n      var name = \"Base\" + base;\n      var method = document.getElementById(\"namesbaseMethod\").value;\n      var select = document.getElementById(\"namesbaseSelect\");\n      select.options.add(new Option(name, base));\n      select.value = base;\n      nameBases.push({\n        name: name,\n        method: method,\n        min: 4,\n        max: 10,\n        d: \"\",\n        m: 1\n      });\n      nameBase.push([]);\n      document.getElementById(\"namesbaseName\").value = name;\n      var textarea = document.getElementById(\"namesbaseTextarea\");\n      textarea.value = \"\";\n      textarea.setAttribute(\"data-base\", base);\n      document.getElementById(\"namesbaseExamples\").innerHTML = \"\";\n      chain[base] = [];\n      editCultures();\n    });\n    $(\"#namesbaseExamples, #namesbaseUpdateExamples\").on(\"click\", function () {\n      var select = document.getElementById(\"namesbaseSelect\");\n      namesbaseUpdateExamples(+select.value);\n    });\n    $(\"#namesbaseDownload\").on(\"click\", function () {\n      var nameBaseString = JSON.stringify(nameBase) + \"\\r\\n\";\n      var nameBasesString = JSON.stringify(nameBases);\n      var dataBlob = new Blob([nameBaseString + nameBasesString], {\n        type: \"text/plain\"\n      });\n      var url = window.URL.createObjectURL(dataBlob);\n      var link = document.createElement(\"a\");\n      link.download = \"namebase\" + Date.now() + \".txt\";\n      link.href = url;\n      link.click();\n    });\n    $(\"#namesbaseUpload\").on(\"click\", function () {\n      namesbaseToLoad.click();\n    });\n    $(\"#namesbaseToLoad\").change(function () {\n      var fileToLoad = this.files[0];\n      this.value = \"\";\n      var fileReader = new FileReader();\n\n      fileReader.onload = function (fileLoadedEvent) {\n        var dataLoaded = fileLoadedEvent.target.result;\n        var data = dataLoaded.split(\"\\r\\n\");\n\n        if (data[0] && data[1]) {\n          nameBase = JSON.parse(data[0]);\n          nameBases = JSON.parse(data[1]);\n\n          var _select = document.getElementById(\"namesbaseSelect\");\n\n          _select.options.length = 0;\n          document.getElementById(\"namesbaseTextarea\").value = \"\";\n          document.getElementById(\"namesbaseTextarea\").setAttribute(\"data-base\", 0);\n          document.getElementById(\"namesbaseExamples\").innerHTML === \"\";\n          var baseMax = nameBases.length - 1;\n          cultures.forEach(function (c) {\n            if (c.base > baseMax) c.base = baseMax;\n          });\n          chains = {};\n          calculateChains();\n          editCultures();\n          editNamesbase();\n        } else {\n          tip(\"Cannot load a namesbase. Please check the data format\");\n        }\n      };\n\n      fileReader.readAsText(fileToLoad, \"UTF-8\");\n    });\n  } // open editLegends dialog\n\n\n  function editLegends(id, name) {\n    // update list of objects\n    var select = document.getElementById(\"legendSelect\");\n\n    for (var i = select.options.length; i < notes.length; i++) {\n      var option = new Option(notes[i].id, notes[i].id);\n      select.options.add(option);\n    } // select an object\n\n\n    if (id) {\n      var note = notes.find(function (note) {\n        return note.id === id;\n      });\n\n      if (note === undefined) {\n        if (!name) name = id;\n        note = {\n          id: id,\n          name: name,\n          legend: \"\"\n        };\n        notes.push(note);\n\n        var _option = new Option(id, id);\n\n        select.options.add(_option);\n      }\n\n      select.value = id;\n      legendName.value = note.name;\n      legendText.value = note.legend;\n    } // open a dialog\n\n\n    $(\"#legendEditor\").dialog({\n      title: \"Legends Editor\",\n      minHeight: \"auto\",\n      minWidth: Math.min(svgWidth, 400),\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: \"svg\"\n      }\n    });\n    if (modules.editLegends) return;\n    modules.editLegends = true; // select another object\n\n    document.getElementById(\"legendSelect\").addEventListener(\"change\", function () {\n      var _this = this;\n\n      var note = notes.find(function (note) {\n        return note.id === _this.value;\n      });\n      legendName.value = note.name;\n      legendText.value = note.legend;\n    }); // change note name on input\n\n    document.getElementById(\"legendName\").addEventListener(\"input\", function () {\n      var select = document.getElementById(\"legendSelect\");\n      var id = select.value;\n      var note = notes.find(function (note) {\n        return note.id === id;\n      });\n      note.name = this.value;\n    }); // change note text on input\n\n    document.getElementById(\"legendText\").addEventListener(\"input\", function () {\n      var select = document.getElementById(\"legendSelect\");\n      var id = select.value;\n      var note = notes.find(function (note) {\n        return note.id === id;\n      });\n      note.legend = this.value;\n    }); // hightlight DOM element\n\n    document.getElementById(\"legendFocus\").addEventListener(\"click\", function () {\n      var select = document.getElementById(\"legendSelect\");\n      var element = document.getElementById(select.value); // if element is not found\n\n      if (element === null) {\n        var message = \"Related element is not found. Would you like to remove the note (legend item)?\";\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({\n          resizable: false,\n          title: \"Element not found\",\n          buttons: {\n            Remove: function Remove() {\n              $(this).dialog(\"close\");\n              removeLegend();\n            },\n            Keep: function Keep() {\n              $(this).dialog(\"close\");\n            }\n          }\n        });\n        return;\n      } // if element is found\n\n\n      highlightElement(element);\n    });\n\n    function highlightElement(element) {\n      if (debug.select(\".highlighted\").size()) return; // allow only 1 highlight element simultaniosly\n\n      var box = element.getBBox();\n      var transform = element.getAttribute(\"transform\") || null;\n      var t = d3.transition().duration(1000).ease(d3.easeBounceOut);\n      var r = d3.transition().duration(500).ease(d3.easeLinear);\n      var highlight = debug.append(\"rect\").attr(\"x\", box.x).attr(\"y\", box.y).attr(\"width\", box.width).attr(\"height\", box.height).attr(\"transform\", transform);\n      highlight.classed(\"highlighted\", 1).transition(t).style(\"outline-offset\", \"0px\").transition(r).style(\"outline-color\", \"transparent\").remove();\n      var tr = parseTransform(transform);\n      var x = box.x + box.width / 2;\n      if (tr[0]) x += tr[0];\n      var y = box.y + box.height / 2;\n      if (tr[1]) y += tr[1];\n      if (scale >= 2) zoomTo(x, y, scale, 1600);\n    } // download legends object as text file\n\n\n    document.getElementById(\"legendDownload\").addEventListener(\"click\", function () {\n      var legendString = JSON.stringify(notes);\n      var dataBlob = new Blob([legendString], {\n        type: \"text/plain\"\n      });\n      var url = window.URL.createObjectURL(dataBlob);\n      var link = document.createElement(\"a\");\n      link.download = \"legends\" + Date.now() + \".txt\";\n      link.href = url;\n      link.click();\n    }); // upload legends object as text file and parse to json\n\n    document.getElementById(\"legendUpload\").addEventListener(\"click\", function () {\n      document.getElementById(\"lagendsToLoad\").click();\n    });\n    document.getElementById(\"lagendsToLoad\").addEventListener(\"change\", function () {\n      var fileToLoad = this.files[0];\n      this.value = \"\";\n      var fileReader = new FileReader();\n\n      fileReader.onload = function (fileLoadedEvent) {\n        var dataLoaded = fileLoadedEvent.target.result;\n\n        if (dataLoaded) {\n          notes = JSON.parse(dataLoaded);\n\n          var _select2 = document.getElementById(\"legendSelect\");\n\n          _select2.options.length = 0;\n          editLegends(notes[0].id, notes[0].name);\n        } else {\n          tip(\"Cannot load a file. Please check the data format\");\n        }\n      };\n\n      fileReader.readAsText(fileToLoad, \"UTF-8\");\n    }); // remove the legend item\n\n    document.getElementById(\"legendRemove\").addEventListener(\"click\", function () {\n      alertMessage.innerHTML = \"Are you sure you want to remove the selected legend?\";\n      $(\"#alert\").dialog({\n        resizable: false,\n        title: \"Remove legend element\",\n        buttons: {\n          Remove: function Remove() {\n            $(this).dialog(\"close\");\n            removeLegend();\n          },\n          Keep: function Keep() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    });\n\n    function removeLegend() {\n      var select = document.getElementById(\"legendSelect\");\n      var index = notes.findIndex(function (n) {\n        return n.id === select.value;\n      });\n      notes.splice(index, 1);\n      select.options.length = 0;\n\n      if (notes.length === 0) {\n        $(\"#legendEditor\").dialog(\"close\");\n        return;\n      }\n\n      editLegends(notes[0].id, notes[0].name);\n    }\n  } // Map scale and measurements editor\n\n\n  function editScale() {\n    $(\"#ruler\").fadeIn();\n    $(\"#scaleEditor\").dialog({\n      title: \"Scale Editor\",\n      minHeight: \"auto\",\n      width: \"auto\",\n      resizable: false,\n      position: {\n        my: \"center bottom\",\n        at: \"center bottom-10\",\n        of: \"svg\"\n      }\n    });\n  } // update only UI and sorting value in countryEditor screen\n\n\n  function updateCountryPopulationUI(s) {\n    if ($(\"#countriesEditor\").is(\":visible\")) {\n      var urban = rn(states[s].urbanPopulation * +urbanization.value * populationRate.value);\n      var rural = rn(states[s].ruralPopulation * populationRate.value);\n      var population = (urban + rural) * 1000;\n      $(\"#state\" + s).attr(\"data-population\", population);\n      $(\"#state\" + s).children().filter(\".statePopulation\").val(si(population));\n    }\n  } // update dialogs if measurements are changed\n\n\n  function updateCountryEditors() {\n    if ($(\"#countriesEditor\").is(\":visible\")) {\n      editCountries();\n    }\n\n    if ($(\"#burgsEditor\").is(\":visible\")) {\n      var s = +$(\"#burgsEditor\").attr(\"data-state\");\n      editBurgs(this, s);\n    }\n  } // remove drawn regions and draw all regions again\n\n\n  function redrawRegions() {\n    regions.selectAll(\"*\").remove();\n    borders.selectAll(\"path\").remove();\n    removeAllLabelsInGroup(\"countries\");\n    drawRegions();\n  } // remove all labels in group including textPaths\n\n\n  function removeAllLabelsInGroup(group) {\n    labels.select(\"#\" + group).selectAll(\"text\").each(function () {\n      defs.select(\"#textPath_\" + this.id).remove();\n      this.remove();\n    });\n\n    if (group !== \"countries\") {\n      labels.select(\"#\" + group).remove();\n      updateLabelGroups();\n    }\n  } // restore keeped region / burgs / cultures data on edit heightmap completion\n\n\n  function restoreRegions() {\n    borders.selectAll(\"path\").remove();\n    removeAllLabelsInGroup(\"countries\");\n    manors.map(function (m) {\n      var cell = diagram.find(m.x, m.y).index;\n\n      if (cells[cell].height < 20) {\n        // remove manor in ocean\n        m.region = \"removed\";\n        m.cell = cell;\n        d3.selectAll(\"[data-id='\" + m.i + \"']\").remove();\n      } else {\n        m.cell = cell;\n        cells[cell].manor = m.i;\n      }\n    });\n    cells.map(function (c) {\n      if (c.height < 20) {\n        // no longer a land cell\n        delete c.region;\n        delete c.culture;\n        return;\n      }\n\n      if (c.region === undefined) {\n        c.region = \"neutral\";\n\n        if (states[states.length - 1].capital !== \"neutral\") {\n          states.push({\n            i: states.length,\n            color: \"neutral\",\n            capital: \"neutral\",\n            name: \"Neutrals\"\n          });\n        }\n      }\n\n      if (c.culture === undefined) {\n        var closest = cultureTree.find(c.data[0], c.data[1]);\n        c.culture = cultureTree.data().indexOf(closest);\n      }\n    });\n    states.map(function (s) {\n      recalculateStateData(s.i);\n    });\n    drawRegions();\n  }\n\n  function regenerateCountries() {\n    regions.selectAll(\"*\").remove();\n    var neutral = neutralInput.value = +countriesNeutral.value;\n    manors.forEach(function (m) {\n      if (m.region === \"removed\") return;\n      var state = \"neutral\",\n          closest = neutral;\n      states.map(function (s) {\n        if (s.capital === \"neutral\" || s.capital === \"select\") return;\n        var c = manors[s.capital];\n        var dist = Math.hypot(c.x - m.x, c.y - m.y) / s.power;\n        if (cells[m.cell].fn !== cells[c.cell].fn) dist *= 3;\n\n        if (dist < closest) {\n          state = s.i;\n          closest = dist;\n        }\n      });\n      m.region = state;\n      cells[m.cell].region = state;\n    });\n    defineRegions();\n    var temp = regions.append(\"g\").attr(\"id\", \"temp\");\n    land.forEach(function (l) {\n      if (l.region === undefined) return;\n      if (l.region === \"neutral\") return;\n      var color = states[l.region].color;\n      temp.append(\"path\").attr(\"data-cell\", l.index).attr(\"data-state\", l.region).attr(\"d\", \"M\" + polygons[l.index].join(\"L\") + \"Z\").attr(\"fill\", color).attr(\"stroke\", color);\n    });\n    var neutralCells = $.grep(cells, function (e) {\n      return e.region === \"neutral\";\n    });\n    var last = states.length - 1;\n    var type = states[last].color;\n\n    if (type === \"neutral\" && !neutralCells.length) {\n      // remove neutral line\n      $(\"#state\" + last).remove();\n      states.splice(-1);\n    } // recalculate data for all countries\n\n\n    states.map(function (s) {\n      recalculateStateData(s.i);\n      $(\"#state\" + s.i + \" > .stateCells\").text(s.cells);\n      $(\"#state\" + s.i + \" > .stateBurgs\").text(s.burgs);\n      var area = rn(s.area * Math.pow(distanceScale.value, 2));\n      var unit = areaUnit.value === \"square\" ? \" \" + distanceUnit.value + \"²\" : \" \" + areaUnit.value;\n      $(\"#state\" + s.i + \" > .stateArea\").text(si(area) + unit);\n      var urban = rn(s.urbanPopulation * urbanization.value * populationRate.value);\n      var rural = rn(s.ruralPopulation * populationRate.value);\n      var population = (urban + rural) * 1000;\n      $(\"#state\" + s.i + \" > .statePopulation\").val(si(population));\n      $(\"#state\" + s.i).attr(\"data-cells\", s.cells).attr(\"data-burgs\", s.burgs).attr(\"data-area\", area).attr(\"data-population\", population);\n    });\n\n    if (type !== \"neutral\" && neutralCells.length) {\n      // add neutral line\n      states.push({\n        i: states.length,\n        color: \"neutral\",\n        capital: \"neutral\",\n        name: \"Neutrals\"\n      });\n      recalculateStateData(states.length - 1);\n      editCountries();\n    }\n  } // enter state edit mode\n\n\n  function mockRegions() {\n    if (grid.style(\"display\") !== \"inline\") {\n      toggleGrid.click();\n    }\n\n    if (labels.style(\"display\") !== \"none\") {\n      toggleLabels.click();\n    }\n\n    stateBorders.selectAll(\"*\").remove();\n    neutralBorders.selectAll(\"*\").remove();\n  } // handle DOM elements sorting on header click\n\n\n  $(\".sortable\").on(\"click\", function () {\n    var el = $(this); // remove sorting for all siglings except of clicked element\n\n    el.siblings().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    var type = el.hasClass(\"alphabetically\") ? \"name\" : \"number\";\n    var state = \"no\";\n\n    if (el.is(\"[class*='down']\")) {\n      state = \"asc\";\n    }\n\n    if (el.is(\"[class*='up']\")) {\n      state = \"desc\";\n    }\n\n    var sortby = el.attr(\"data-sortby\");\n    var list = el.parent().next(); // get list container element (e.g. \"countriesBody\")\n\n    var lines = list.children(\"div\"); // get list elements\n\n    if (state === \"no\" || state === \"asc\") {\n      // sort desc\n      el.removeClass(\"icon-sort-\" + type + \"-down\");\n      el.addClass(\"icon-sort-\" + type + \"-up\");\n      lines.sort(function (a, b) {\n        var an = a.getAttribute(\"data-\" + sortby);\n\n        if (an === \"bottom\") {\n          return 1;\n        }\n\n        var bn = b.getAttribute(\"data-\" + sortby);\n\n        if (bn === \"bottom\") {\n          return -1;\n        }\n\n        if (type === \"number\") {\n          an = +an;\n          bn = +bn;\n        }\n\n        if (an > bn) {\n          return 1;\n        }\n\n        if (an < bn) {\n          return -1;\n        }\n\n        return 0;\n      });\n    }\n\n    if (state === \"desc\") {\n      // sort asc\n      el.removeClass(\"icon-sort-\" + type + \"-up\");\n      el.addClass(\"icon-sort-\" + type + \"-down\");\n      lines.sort(function (a, b) {\n        var an = a.getAttribute(\"data-\" + sortby);\n\n        if (an === \"bottom\") {\n          return 1;\n        }\n\n        var bn = b.getAttribute(\"data-\" + sortby);\n\n        if (bn === \"bottom\") {\n          return -1;\n        }\n\n        if (type === \"number\") {\n          an = +an;\n          bn = +bn;\n        }\n\n        if (an < bn) {\n          return 1;\n        }\n\n        if (an > bn) {\n          return -1;\n        }\n\n        return 0;\n      });\n    }\n\n    lines.detach().appendTo(list);\n  }); // load text file with new burg names\n\n  $(\"#burgsListToLoad\").change(function () {\n    var fileToLoad = this.files[0];\n    this.value = \"\";\n    var fileReader = new FileReader();\n\n    fileReader.onload = function (fileLoadedEvent) {\n      var dataLoaded = fileLoadedEvent.target.result;\n      var data = dataLoaded.split(\"\\r\\n\");\n\n      if (data.length === 0) {\n        return;\n      }\n\n      var change = [];\n      var message = \"Burgs will be renamed as below. Please confirm\";\n      message += \"<div class=\\\"overflow-div\\\"><table class=\\\"overflow-table\\\"><tr><th>Id</th><th>Current name</th><th>New Name</th></tr>\";\n\n      for (var i = 0; i < data.length && i < manors.length; i++) {\n        var v = data[i];\n\n        if (v === \"\" || v === undefined) {\n          continue;\n        }\n\n        if (v === manors[i].name) {\n          continue;\n        }\n\n        change.push({\n          i: i,\n          name: v\n        });\n        message += \"<tr><td style=\\\"width:20%\\\">\".concat(i, \"</td><td style=\\\"width:40%\\\">\").concat(manors[i].name, \"</td><td style=\\\"width:40%\\\">\").concat(v, \"</td></tr>\");\n      }\n\n      message += \"</tr></table></div>\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({\n        title: \"Burgs bulk renaming\",\n        position: {\n          my: \"center\",\n          at: \"center\",\n          of: \"svg\"\n        },\n        buttons: {\n          Cancel: function Cancel() {\n            $(this).dialog(\"close\");\n          },\n          Confirm: function Confirm() {\n            for (var _i8 = 0; _i8 < change.length; _i8++) {\n              var id = change[_i8].i;\n              manors[id].name = change[_i8].name;\n              labels.select(\"[data-id='\" + id + \"']\").text(change[_i8].name);\n            }\n\n            $(this).dialog(\"close\");\n            updateCountryEditors();\n          }\n        }\n      });\n    };\n\n    fileReader.readAsText(fileToLoad, \"UTF-8\");\n  }); // just apply map size that was already set, apply graph size!\n\n  function applyMapSize() {\n    svgWidth = graphWidth = +mapWidthInput.value;\n    svgHeight = graphHeight = +mapHeightInput.value;\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight); // set extent to map borders + 100px to get infinity world reception\n\n    voronoi = d3.voronoi().extent([[-1, -1], [graphWidth + 1, graphHeight + 1]]);\n    zoom.translateExtent([[0, 0], [graphWidth, graphHeight]]).scaleExtent([1, 20]).scaleTo(svg, 1);\n    viewbox.attr(\"transform\", null);\n    ocean.selectAll(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n  } // change svg size on manual size change or window resize, do not change graph size\n\n\n  function changeMapSize() {\n    fitScaleBar();\n    svgWidth = +mapWidthInput.value;\n    svgHeight = +mapHeightInput.value;\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    var width = Math.max(svgWidth, graphWidth);\n    var height = Math.max(svgHeight, graphHeight);\n    zoom.translateExtent([[0, 0], [width, height]]);\n    svg.select(\"#ocean\").selectAll(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", width).attr(\"height\", height);\n  } // fit full-screen map if window is resized\n\n\n  $(window).resize(function (e) {\n    // trick to prevent resize on download bar opening\n    if (autoResize === false) return;\n    mapWidthInput.value = window.innerWidth;\n    mapHeightInput.value = window.innerHeight;\n    changeMapSize();\n  }); // fit ScaleBar to map size\n\n  function fitScaleBar() {\n    var el = d3.select(\"#scaleBar\");\n    if (!el.select(\"rect\").size()) return;\n    var bbox = el.select(\"rect\").node().getBBox();\n    var tr = [svgWidth - bbox.width, svgHeight - (bbox.height - 10)];\n\n    if (sessionStorage.getItem(\"scaleBar\")) {\n      var scalePos = sessionStorage.getItem(\"scaleBar\").split(\",\");\n      tr = [+scalePos[0] - bbox.width, +scalePos[1] - bbox.height];\n    }\n\n    el.attr(\"transform\", \"translate(\" + rn(tr[0]) + \",\" + rn(tr[1]) + \")\");\n  } // restore initial style\n\n\n  function applyDefaultStyle() {\n    viewbox.on(\"touchmove mousemove\", moved);\n    landmass.attr(\"opacity\", 1).attr(\"fill\", \"#eef6fb\");\n    coastline.attr(\"opacity\", .5).attr(\"stroke\", \"#1f3846\").attr(\"stroke-width\", .7).attr(\"filter\", \"url(#dropShadow)\");\n    regions.attr(\"opacity\", .4);\n    stateBorders.attr(\"opacity\", .8).attr(\"stroke\", \"#56566d\").attr(\"stroke-width\", .7).attr(\"stroke-dasharray\", \"1.2 1.5\").attr(\"stroke-linecap\", \"butt\");\n    neutralBorders.attr(\"opacity\", .8).attr(\"stroke\", \"#56566d\").attr(\"stroke-width\", .5).attr(\"stroke-dasharray\", \"1 1.5\").attr(\"stroke-linecap\", \"butt\");\n    cults.attr(\"opacity\", .6);\n    rivers.attr(\"opacity\", 1).attr(\"fill\", \"#5d97bb\");\n    lakes.attr(\"opacity\", .5).attr(\"fill\", \"#a6c1fd\").attr(\"stroke\", \"#5f799d\").attr(\"stroke-width\", .7);\n    icons.selectAll(\"g\").attr(\"opacity\", 1).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\");\n    roads.attr(\"opacity\", .9).attr(\"stroke\", \"#d06324\").attr(\"stroke-width\", .35).attr(\"stroke-dasharray\", \"1.5\").attr(\"stroke-linecap\", \"butt\");\n    trails.attr(\"opacity\", .9).attr(\"stroke\", \"#d06324\").attr(\"stroke-width\", .15).attr(\"stroke-dasharray\", \".8 1.6\").attr(\"stroke-linecap\", \"butt\");\n    searoutes.attr(\"opacity\", .8).attr(\"stroke\", \"#ffffff\").attr(\"stroke-width\", .35).attr(\"stroke-dasharray\", \"1 2\").attr(\"stroke-linecap\", \"round\");\n    grid.attr(\"opacity\", 1).attr(\"stroke\", \"#808080\").attr(\"stroke-width\", .1);\n    ruler.attr(\"opacity\", 1).style(\"display\", \"none\").attr(\"filter\", \"url(#dropShadow)\");\n    overlay.attr(\"opacity\", .8).attr(\"stroke\", \"#808080\").attr(\"stroke-width\", .5);\n    markers.attr(\"filter\", \"url(#dropShadow01)\"); // ocean style\n\n    svg.style(\"background-color\", \"#000000\");\n    ocean.attr(\"opacity\", 1);\n    oceanLayers.select(\"rect\").attr(\"fill\", \"#53679f\");\n    oceanLayers.attr(\"filter\", \"\");\n    oceanPattern.attr(\"opacity\", 1);\n    oceanLayers.selectAll(\"path\").attr(\"display\", null);\n    styleOceanPattern.checked = true;\n    styleOceanLayers.checked = true;\n    labels.attr(\"opacity\", 1).attr(\"stroke\", \"#3a3a3a\").attr(\"stroke-width\", 0);\n    var size = rn(8 - regionsInput.value / 20);\n    if (size < 3) size = 3;\n    burgLabels.select(\"#capitals\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", size).attr(\"data-size\", size);\n    burgLabels.select(\"#towns\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", 3).attr(\"data-size\", 4);\n    burgIcons.select(\"#capitals\").attr(\"size\", 1).attr(\"stroke-width\", .24).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1).attr(\"opacity\", 1);\n    burgIcons.select(\"#towns\").attr(\"size\", .5).attr(\"stroke-width\", .12).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1).attr(\"opacity\", 1);\n    size = rn(16 - regionsInput.value / 6);\n    if (size < 6) size = 6;\n    labels.select(\"#countries\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", size).attr(\"data-size\", size);\n    icons.select(\"#capital-anchors\").attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"stroke-width\", 1.2).attr(\"size\", 2);\n    icons.select(\"#town-anchors\").attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"stroke-width\", 1.2).attr(\"size\", 1);\n  } // Style options\n\n\n  $(\"#styleElementSelect\").on(\"change\", function () {\n    var sel = this.value;\n    var el = viewbox.select(\"#\" + sel);\n    if (sel == \"ocean\") el = oceanLayers.select(\"rect\");\n    $(\"#styleInputs > div\").hide(); // opacity\n\n    $(\"#styleOpacity, #styleFilter\").css(\"display\", \"block\");\n    var opacity = el.attr(\"opacity\") || 1;\n    styleOpacityInput.value = styleOpacityOutput.value = opacity; // filter\n\n    if (sel == \"ocean\") el = oceanLayers;\n    styleFilterInput.value = el.attr(\"filter\") || \"\";\n\n    if (sel === \"rivers\" || sel === \"lakes\" || sel === \"landmass\") {\n      $(\"#styleFill\").css(\"display\", \"inline-block\");\n      styleFillInput.value = styleFillOutput.value = el.attr(\"fill\");\n    }\n\n    if (sel === \"roads\" || sel === \"trails\" || sel === \"searoutes\" || sel === \"lakes\" || sel === \"stateBorders\" || sel === \"neutralBorders\" || sel === \"grid\" || sel === \"overlay\" || sel === \"coastline\") {\n      $(\"#styleStroke\").css(\"display\", \"inline-block\");\n      styleStrokeInput.value = styleStrokeOutput.value = el.attr(\"stroke\");\n      $(\"#styleStrokeWidth\").css(\"display\", \"block\");\n      var width = el.attr(\"stroke-width\") || \"\";\n      styleStrokeWidthInput.value = styleStrokeWidthOutput.value = width;\n    }\n\n    if (sel === \"roads\" || sel === \"trails\" || sel === \"searoutes\" || sel === \"stateBorders\" || sel === \"neutralBorders\" || sel === \"overlay\") {\n      $(\"#styleStrokeDasharray, #styleStrokeLinecap\").css(\"display\", \"block\");\n      styleStrokeDasharrayInput.value = el.attr(\"stroke-dasharray\") || \"\";\n      styleStrokeLinecapInput.value = el.attr(\"stroke-linecap\") || \"inherit\";\n    }\n\n    if (sel === \"terrs\") $(\"#styleScheme\").css(\"display\", \"block\");\n    if (sel === \"heightmap\") $(\"#styleScheme\").css(\"display\", \"block\");\n    if (sel === \"overlay\") $(\"#styleOverlay\").css(\"display\", \"block\");\n\n    if (sel === \"labels\") {\n      $(\"#styleFill, #styleStroke, #styleStrokeWidth, #styleFontSize\").css(\"display\", \"inline-block\");\n      styleFillInput.value = styleFillOutput.value = el.select(\"g\").attr(\"fill\") || \"#3e3e4b\";\n      styleStrokeInput.value = styleStrokeOutput.value = el.select(\"g\").attr(\"stroke\") || \"#3a3a3a\";\n      styleStrokeWidthInput.value = styleStrokeWidthOutput.value = el.attr(\"stroke-width\") || 0;\n      $(\"#styleLabelGroups\").css(\"display\", \"inline-block\");\n      updateLabelGroups();\n    }\n\n    if (sel === \"ocean\") {\n      $(\"#styleOcean\").css(\"display\", \"block\");\n      styleOceanBack.value = styleOceanBackOutput.value = svg.style(\"background-color\");\n      styleOceanFore.value = styleOceanForeOutput.value = oceanLayers.select(\"rect\").attr(\"fill\");\n    }\n  }); // update Label Groups displayed on Style tab\n\n  function updateLabelGroups() {\n    if (styleElementSelect.value !== \"labels\") return;\n    var cont = d3.select(\"#styleLabelGroupItems\");\n    cont.selectAll(\"button\").remove();\n    labels.selectAll(\"g\").each(function () {\n      var el = d3.select(this);\n      var id = el.attr(\"id\");\n      var name = id.charAt(0).toUpperCase() + id.substr(1);\n      var state = el.classed(\"hidden\");\n      if (id === \"burgLabels\") return;\n      cont.append(\"button\").attr(\"id\", id).text(name).classed(\"buttonoff\", state).on(\"click\", function () {\n        // toggle label group on click\n        if (hideLabels.checked) hideLabels.click();\n        var el = d3.select(\"#\" + this.id);\n        var state = !el.classed(\"hidden\");\n        el.classed(\"hidden\", state);\n        d3.select(this).classed(\"buttonoff\", state);\n      });\n    });\n  }\n\n  $(\"#styleFillInput\").on(\"input\", function () {\n    styleFillOutput.value = this.value;\n    var el = svg.select(\"#\" + styleElementSelect.value);\n\n    if (styleElementSelect.value !== \"labels\") {\n      el.attr('fill', this.value);\n    } else {\n      el.selectAll(\"g\").attr('fill', this.value);\n    }\n  });\n  $(\"#styleStrokeInput\").on(\"input\", function () {\n    styleStrokeOutput.value = this.value;\n    var el = svg.select(\"#\" + styleElementSelect.value);\n    el.attr('stroke', this.value);\n  });\n  $(\"#styleStrokeWidthInput\").on(\"input\", function () {\n    styleStrokeWidthOutput.value = this.value;\n    var el = svg.select(\"#\" + styleElementSelect.value);\n    el.attr('stroke-width', +this.value);\n  });\n  $(\"#styleStrokeDasharrayInput\").on(\"input\", function () {\n    var sel = styleElementSelect.value;\n    svg.select(\"#\" + sel).attr('stroke-dasharray', this.value);\n  });\n  $(\"#styleStrokeLinecapInput\").on(\"change\", function () {\n    var sel = styleElementSelect.value;\n    svg.select(\"#\" + sel).attr('stroke-linecap', this.value);\n  });\n  $(\"#styleOpacityInput\").on(\"input\", function () {\n    styleOpacityOutput.value = this.value;\n    var sel = styleElementSelect.value;\n    svg.select(\"#\" + sel).attr('opacity', this.value);\n  });\n  $(\"#styleFilterInput\").on(\"change\", function () {\n    var sel = styleElementSelect.value;\n    if (sel == \"ocean\") sel = \"oceanLayers\";\n    var el = svg.select(\"#\" + sel);\n    el.attr('filter', this.value);\n    zoom.scaleBy(svg, 1.00001); // enforce browser re-draw\n  });\n  $(\"#styleSchemeInput\").on(\"change\", function () {\n    terrs.selectAll(\"path\").remove();\n    toggleHeight();\n  });\n  $(\"#styleOverlayType\").on(\"change\", function () {\n    overlay.selectAll(\"*\").remove();\n    if (!$(\"#toggleOverlay\").hasClass(\"buttonoff\")) toggleOverlay();\n  });\n  $(\"#styleOverlaySize\").on(\"change\", function () {\n    overlay.selectAll(\"*\").remove();\n    if (!$(\"#toggleOverlay\").hasClass(\"buttonoff\")) toggleOverlay();\n    styleOverlaySizeOutput.value = this.value;\n  });\n\n  function calculateFriendlyOverlaySize() {\n    var size = styleOverlaySize.value;\n\n    if (styleOverlayType.value === \"windrose\") {\n      styleOverlaySizeFriendly.innerHTML = \"\";\n      return;\n    }\n\n    if (styleOverlayType.value === \"pointyHex\" || styleOverlayType.value === \"flatHex\") size *= Math.cos(30 * Math.PI / 180) * 2;\n    var friendly = \"(\" + rn(size * distanceScale.value) + \" \" + distanceUnit.value + \")\";\n    styleOverlaySizeFriendly.value = friendly;\n  }\n\n  $(\"#styleOceanBack\").on(\"input\", function () {\n    svg.style(\"background-color\", this.value);\n    styleOceanBackOutput.value = this.value;\n  });\n  $(\"#styleOceanFore\").on(\"input\", function () {\n    oceanLayers.select(\"rect\").attr(\"fill\", this.value);\n    styleOceanForeOutput.value = this.value;\n  });\n  $(\"#styleOceanPattern\").on(\"click\", function () {\n    oceanPattern.attr(\"opacity\", +this.checked);\n  });\n  $(\"#styleOceanLayers\").on(\"click\", function () {\n    var display = this.checked ? \"block\" : \"none\";\n    oceanLayers.selectAll(\"path\").attr(\"display\", display);\n  }); // Other Options handlers\n\n  $(\"input, select\").on(\"input change\", function () {\n    var id = this.id;\n    if (id === \"hideLabels\") invokeActiveZooming();\n\n    if (id === \"mapWidthInput\" || id === \"mapHeightInput\") {\n      changeMapSize();\n      autoResize = false;\n      localStorage.setItem(\"mapWidth\", mapWidthInput.value);\n      localStorage.setItem(\"mapHeight\", mapHeightInput.value);\n    }\n\n    if (id === \"sizeInput\") {\n      graphSize = sizeOutput.value = +this.value;\n\n      if (graphSize === 3) {\n        sizeOutput.style.color = \"red\";\n      }\n\n      if (graphSize === 2) {\n        sizeOutput.style.color = \"yellow\";\n      }\n\n      if (graphSize === 1) {\n        sizeOutput.style.color = \"green\";\n      } // localStorage.setItem(\"graphSize\", this.value); - temp off to always start with size 1\n\n    }\n\n    if (id === \"templateInput\") {\n      localStorage.setItem(\"template\", this.value);\n    }\n\n    if (id === \"manorsInput\") {\n      manorsOutput.value = this.value;\n      localStorage.setItem(\"manors\", this.value);\n    }\n\n    if (id === \"regionsInput\") {\n      regionsOutput.value = this.value;\n      var size = rn(6 - this.value / 20);\n\n      if (size < 3) {\n        size = 3;\n      }\n\n      burgLabels.select(\"#capitals\").attr(\"data-size\", size);\n      size = rn(18 - this.value / 6);\n\n      if (size < 4) {\n        size = 4;\n      }\n\n      labels.select(\"#countries\").attr(\"data-size\", size);\n      localStorage.setItem(\"regions\", this.value);\n    }\n\n    if (id === \"powerInput\") {\n      powerOutput.value = this.value;\n      localStorage.setItem(\"power\", this.value);\n    }\n\n    if (id === \"neutralInput\") {\n      neutralOutput.value = countriesNeutral.value = this.value;\n      localStorage.setItem(\"neutal\", this.value);\n    }\n\n    if (id === \"culturesInput\") {\n      culturesOutput.value = this.value;\n      localStorage.setItem(\"cultures\", this.value);\n    }\n\n    if (id === \"precInput\") {\n      precOutput.value = +precInput.value;\n      localStorage.setItem(\"prec\", this.value);\n    }\n\n    if (id === \"swampinessInput\") {\n      swampinessOutput.value = this.value;\n      localStorage.setItem(\"swampiness\", this.value);\n    }\n\n    if (id === \"outlineLayersInput\") localStorage.setItem(\"outlineLayers\", this.value);\n    if (id === \"transparencyInput\") changeDialogsTransparency(this.value);\n    if (id === \"pngResolutionInput\") localStorage.setItem(\"pngResolution\", this.value);\n\n    if (id === \"zoomExtentMin\" || id === \"zoomExtentMax\") {\n      zoom.scaleExtent([+zoomExtentMin.value, +zoomExtentMax.value]);\n      zoom.scaleTo(svg, +this.value);\n    }\n\n    if (id === \"convertOverlay\") {\n      canvas.style.opacity = convertOverlayValue.innerHTML = +this.value;\n    }\n\n    if (id === \"populationRate\") {\n      populationRateOutput.value = si(+populationRate.value * 1000);\n      updateCountryEditors();\n    }\n\n    if (id === \"urbanization\") {\n      urbanizationOutput.value = this.value;\n      updateCountryEditors();\n    }\n\n    if (id === \"distanceUnit\" || id === \"distanceScale\" || id === \"areaUnit\") {\n      var dUnit = distanceUnit.value;\n\n      if (id === \"distanceUnit\" && dUnit === \"custom_name\") {\n        var custom = prompt(\"Provide a custom name for distance unit\");\n\n        if (custom) {\n          var opt = document.createElement(\"option\");\n          opt.value = opt.innerHTML = custom;\n          distanceUnit.add(opt);\n          distanceUnit.value = custom;\n        } else {\n          this.value = \"km\";\n          return;\n        }\n      }\n\n      var _scale = distanceScale.value;\n      scaleOutput.value = _scale + \" \" + dUnit;\n      ruler.selectAll(\"g\").each(function () {\n        var label;\n        var g = d3.select(this);\n        var area = +g.select(\"text\").attr(\"data-area\");\n\n        if (area) {\n          var areaConv = area * Math.pow(_scale, 2); // convert area to distanceScale\n\n          var unit = areaUnit.value;\n\n          if (unit === \"square\") {\n            unit = dUnit + \"²\";\n          } else {\n            unit = areaUnit.value;\n          }\n\n          label = si(areaConv) + \" \" + unit;\n        } else {\n          var dist = +g.select(\"text\").attr(\"data-dist\");\n          label = rn(dist * _scale) + \" \" + dUnit;\n        }\n\n        g.select(\"text\").text(label);\n      });\n      ruler.selectAll(\".gray\").attr(\"stroke-dasharray\", rn(30 / _scale, 2));\n      drawScaleBar();\n      updateCountryEditors();\n    }\n\n    if (id === \"barSize\") {\n      barSizeOutput.innerHTML = this.value;\n      $(\"#scaleBar\").removeClass(\"hidden\");\n      drawScaleBar();\n    }\n\n    if (id === \"barLabel\") {\n      $(\"#scaleBar\").removeClass(\"hidden\");\n      drawScaleBar();\n    }\n\n    if (id === \"barBackOpacity\" || id === \"barBackColor\") {\n      d3.select(\"#scaleBar > rect\").attr(\"opacity\", +barBackOpacity.value).attr(\"fill\", barBackColor.value);\n      $(\"#scaleBar\").removeClass(\"hidden\");\n    }\n  });\n  $(\"#scaleOutput\").change(function () {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0.01 || this.value > 10) {\n      tip(\"Manually entered distance scale should be a number in a [0.01; 10] range\");\n      this.value = distanceScale.value + \" \" + distanceUnit.value;\n      return;\n    }\n\n    distanceScale.value = +this.value;\n    scaleOutput.value = this.value + \" \" + distanceUnit.value;\n    updateCountryEditors();\n  });\n  $(\"#populationRateOutput\").change(function () {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0.001 || this.value > 10) {\n      tip(\"Manually entered population rate should be a number in a [0.001; 10] range\");\n      this.value = si(populationRate.value * 1000);\n      return;\n    }\n\n    populationRate.value = +this.value;\n    populationRateOutput.value = si(this.value * 1000);\n    updateCountryEditors();\n  });\n  $(\"#urbanizationOutput\").change(function () {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0 || this.value > 10) {\n      tip(\"Manually entered urbanization rate should be a number in a [0; 10] range\");\n      this.value = urbanization.value;\n      return;\n    }\n\n    var val = parseFloat(+this.value);\n    if (val > 2) urbanization.setAttribute(\"max\", val);\n    urbanization.value = urbanizationOutput.value = val;\n    updateCountryEditors();\n  }); // lock manually changed option to restrict it randomization\n\n  $(\"#optionsContent input, #optionsContent select\").change(function () {\n    var icon = \"lock\" + this.id.charAt(0).toUpperCase() + this.id.slice(1);\n    var el = document.getElementById(icon);\n    if (!el) return;\n    el.setAttribute(\"data-locked\", 1);\n    el.className = \"icon-lock\";\n  });\n  $(\"#optionsReset\").click(restoreDefaultOptions);\n  $(\"#rescaler\").change(function () {\n    var change = rn(+this.value - 5, 2);\n    modifyHeights(\"all\", change, 1);\n    updateHeightmap();\n    updateHistory();\n    rescaler.value = 5;\n  });\n  $(\"#layoutPreset\").on(\"change\", function () {\n    var preset = this.value;\n    $(\"#mapLayers li\").not(\"#toggleOcean\").addClass(\"buttonoff\");\n    $(\"#toggleOcean\").removeClass(\"buttonoff\");\n    $(\"#oceanPattern\").fadeIn();\n    $(\"#rivers, #terrain, #borders, #regions, #icons, #labels, #routes, #grid, #markers\").fadeOut();\n    cults.selectAll(\"path\").remove();\n    terrs.selectAll(\"path\").remove();\n\n    if (preset === \"layoutPolitical\") {\n      toggleRivers.click();\n      toggleRelief.click();\n      toggleBorders.click();\n      toggleCountries.click();\n      toggleIcons.click();\n      toggleLabels.click();\n      toggleRoutes.click();\n      toggleMarkers.click();\n    }\n\n    if (preset === \"layoutCultural\") {\n      toggleRivers.click();\n      toggleRelief.click();\n      toggleBorders.click();\n      $(\"#toggleCultures\").click();\n      toggleIcons.click();\n      toggleLabels.click();\n      toggleMarkers.click();\n    }\n\n    if (preset === \"layoutHeightmap\") {\n      $(\"#toggleHeight\").click();\n      toggleRivers.click();\n    }\n  }); // UI Button handlers\n\n  $(\".tab > button\").on(\"click\", function () {\n    $(\".tabcontent\").hide();\n    $(\".tab > button\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n    var id = this.id;\n\n    if (id === \"layoutTab\") {\n      $(\"#layoutContent\").show();\n    }\n\n    if (id === \"styleTab\") {\n      $(\"#styleContent\").show();\n    }\n\n    if (id === \"optionsTab\") {\n      $(\"#optionsContent\").show();\n    }\n\n    if (id === \"customizeTab\") {\n      $(\"#customizeContent\").show();\n    }\n\n    if (id === \"aboutTab\") {\n      $(\"#aboutContent\").show();\n    }\n  }); // re-load page with provided seed\n\n  $(\"#optionsSeedGenerate\").on(\"click\", function () {\n    if (optionsSeed.value == seed) return;\n    seed = optionsSeed.value;\n    var url = new URL(window.location.href);\n    window.location.href = url.pathname + \"?seed=\" + seed;\n  }); // Pull request from @evyatron\n  // https://github.com/Azgaar/Fantasy-Map-Generator/pull/49\n\n  function addDragToUpload() {\n    document.addEventListener('dragover', function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $('#map-dragged').show();\n    });\n    document.addEventListener('dragleave', function (e) {\n      $('#map-dragged').hide();\n    });\n    document.addEventListener('drop', function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $('#map-dragged').hide(); // no files or more than one\n\n      if (e.dataTransfer.items == null || e.dataTransfer.items.length != 1) {\n        return;\n      }\n\n      var file = e.dataTransfer.items[0].getAsFile(); // not a .map file\n\n      if (file.name.indexOf('.map') == -1) {\n        alertMessage.innerHTML = 'Please upload a <b>.map</b> file you have previously downloaded';\n        $(\"#alert\").dialog({\n          resizable: false,\n          title: \"Invalid file format\",\n          width: 400,\n          buttons: {\n            Close: function Close() {\n              $(this).dialog(\"close\");\n            }\n          },\n          position: {\n            my: \"center\",\n            at: \"center\",\n            of: \"svg\"\n          }\n        });\n        return;\n      } // all good - show uploading text and load the map\n\n\n      $(\"#map-dragged > p\").text(\"Uploading<span>.</span><span>.</span><span>.</span>\");\n      uploadFile(file, function onUploadFinish() {\n        $(\"#map-dragged > p\").text(\"Drop to upload\");\n      });\n    });\n  }\n}\n\nfunction tip(tip, main, error) {\n  var tooltip = d3.select(\"#tooltip\");\n  var reg = \"linear-gradient(0.1turn, #ffffff00, #5e5c5c4d, #ffffff00)\";\n  var red = \"linear-gradient(0.1turn, #ffffff00, #c71d1d66, #ffffff00)\";\n  tooltip.text(tip).style(\"background\", error ? red : reg);\n  if (main) tooltip.attr(\"data-main\", tip);\n}\n\nwindow.tip = tip;\n$(\"#optionsContainer *\").on(\"mouseout\", function () {\n  tooltip.innerHTML = tooltip.getAttribute(\"data-main\");\n});",{"version":3,"sources":["FantasyMapGenerator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,WAAA,EAAA,SAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,OAAA,EAAA,OAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,aAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,EAAA,WAAA,EAAA,UAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,SAAA,EAAA,WAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,OAAA,CAZA,EAaA,CAAA,SAAA,EAAA,MAAA,EAAA,cAAA,EAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,eAAA,EAAA,UAAA,EAAA,aAAA,EAAA,MAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,cAAA,EAAA,UAAA,EAAA,QAAA,EAAA,WAAA,EAAA,SAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,YAAA,EAAA,UAAA,EAAA,WAAA,EAAA,WAAA,EAAA,SAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,YAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,eAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,EAAA,UAAA,EAAA,aAAA,EAAA,MAAA,EAAA,YAAA,EAAA,YAAA,EAAA,cAAA,EAAA,WAAA,EAAA,SAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,cAAA,EAAA,cAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,aAAA,EAAA,QAAA,EAAA,UAAA,EAAA,OAAA,EAAA,OAAA,EAAA,UAAA,EAAA,WAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,KAAA,EAAA,SAAA,EAAA,SAAA,EAAA,aAAA,EAAA,SAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,OAAA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,WAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,EAAA,WAAA,EAAA,WAAA,EAAA,UAAA,EAAA,cAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,UAAA,EAAA,YAAA,EAAA,WAAA,EAAA,SAAA,EAAA,UAAA,EAAA,OAAA,EAAA,WAAA,EAAA,SAAA,EAAA,YAAA,EAAA,QAAA,EAAA,YAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,OAAA,EAAA,WAAA,EAAA,aAAA,EAAA,UAAA,EAAA,OAAA,EAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,YAAA,EAAA,WAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,KAAA,EAAA,eAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,YAAA,EAAA,cAAA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,eAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,aAAA,EAAA,OAAA,EAAA,QAAA,EAAA,KAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,WAAA,EAAA,OAAA,EAAA,IAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,YAAA,EAAA,UAAA,EAAA,WAAA,EAAA,OAAA,EAAA,WAAA,EAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,UAAA,EAAA,YAAA,EAAA,SAAA,EAAA,QAAA,EAAA,YAAA,EAAA,WAAA,EAAA,QAAA,EAAA,YAAA,EAAA,WAAA,EAAA,SAAA,EAAA,SAAA,EAAA,UAAA,EAAA,YAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,KAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,SAAA,EAAA,OAAA,EAAA,WAAA,EAAA,OAAA,EAAA,KAAA,EAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,YAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,YAAA,EAAA,MAAA,EAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,EAAA,YAAA,EAAA,SAAA,EAAA,iBAAA,EAAA,UAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,KAAA,EAAA,KAAA,EAAA,SAAA,EAAA,UAAA,EAAA,OAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,SAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,WAAA,EAAA,QAAA,EAAA,YAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,WAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,WAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,IAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,KAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,SAAA,EAAA,UAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,UAAA,EAAA,SAAA,EAAA,MAAA,EAAA,SAAA,EAAA,OAAA,EAAA,eAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,IAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,OAAA,EAAA,cAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,MAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,OAAA,EAAA,YAAA,EAAA,SAAA,EAAA,QAAA,EAAA,OAAA,EAAA,WAAA,EAAA,MAAA,EAAA,OAAA,EAAA,YAAA,EAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,KAAA,EAAA,OAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,YAAA,EAAA,QAAA,EAAA,WAAA,EAAA,WAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,WAAA,EAAA,OAAA,EAAA,SAAA,EAAA,WAAA,EAAA,MAAA,EAAA,MAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,YAAA,EAAA,aAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,EAAA,UAAA,EAAA,KAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,UAAA,EAAA,KAAA,EAAA,QAAA,EAAA,WAAA,EAAA,QAAA,EAAA,MAAA,EAAA,SAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,YAAA,EAAA,UAAA,EAAA,SAAA,EAAA,KAAA,EAAA,OAAA,EAAA,OAAA,EAAA,SAAA,EAAA,OAAA,EAAA,WAAA,EAAA,WAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,MAAA,EAAA,OAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,QAAA,EAAA,YAAA,EAAA,WAAA,EAAA,WAAA,EAAA,QAAA,EAAA,eAAA,EAAA,OAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,SAAA,EAAA,SAAA,EAAA,KAAA,EAAA,cAAA,EAAA,YAAA,EAAA,MAAA,EAAA,WAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,OAAA,EAAA,OAAA,EAAA,QAAA,EAAA,MAAA,EAAA,eAAA,EAAA,QAAA,EAAA,eAAA,EAAA,MAAA,EAAA,cAAA,EAAA,WAAA,EAAA,MAAA,EAAA,YAAA,EAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,UAAA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,EAAA,QAAA,EAAA,OAAA,EAAA,YAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,SAAA,EAAA,gBAAA,EAAA,SAAA,EAAA,YAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,SAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,UAAA,EAAA,WAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,SAAA,EAAA,OAAA,EAAA,MAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,OAAA,EAAA,MAAA,EAAA,KAAA,EAAA,YAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,UAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,KAAA,EAAA,UAAA,EAAA,OAAA,EAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,KAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,OAAA,EAAA,UAAA,EAAA,KAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,SAAA,EAAA,aAAA,EAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,eAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,MAAA,EAAA,cAAA,EAAA,QAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAAA,EAAA,KAAA,EAAA,QAAA,EAAA,aAAA,EAAA,OAAA,EAAA,UAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,QAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,QAAA,EAAA,UAAA,EAAA,UAAA,EAAA,KAAA,EAAA,UAAA,EAAA,UAAA,EAAA,MAAA,EAAA,YAAA,EAAA,OAAA,EAAA,UAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,OAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,OAAA,EAAA,aAAA,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,EAAA,WAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,aAAA,EAAA,OAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA,EAAA,OAAA,EAAA,QAAA,EAAA,KAAA,EAAA,QAAA,EAAA,QAAA,EAAA,WAAA,EAAA,UAAA,EAAA,SAAA,EAAA,UAAA,EAAA,OAAA,EAAA,UAAA,EAAA,UAAA,CAbA,CAAA;AAeA,GA1bA,CA4bA;;;AACA,WAAA,gBAAA,GAAA;AACA,QAAA,MAAA,GAAA,CAAA,aAAA,WAAA,IAAA,IAAA,EAAA,CAAA,CAAA,CADA,CACA;;AACA,QAAA,iBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,aAAA,KAAA,GAAA,cAAA,KAAA,GAAA,KAAA,CAAA,EAAA,EAAA,CAAA;;AACA,QAAA,gBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA;AACA,UAAA,UAAA,aAAA,KAAA,GAAA,EAAA,GAAA,KAAA,MAAA,GAAA,CAAA;;AACA,kBAAA,KAAA,GAAA,aAAA,SAAA,GAAA,OAAA;AACA;;AACA,QAAA,eAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,WAAA,KAAA,GAAA,YAAA,KAAA,GAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,iBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,aAAA,KAAA,GAAA,cAAA,KAAA,GAAA,KAAA,GAAA,EAAA,GAAA,CAAA;AACA,QAAA,eAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,WAAA,KAAA,GAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,kBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,cAAA,KAAA,GAAA,eAAA,KAAA,GAAA,KAAA,CAAA,EAAA,EAAA,CAAA;AACA,QAAA,cAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,UAAA,KAAA,GAAA,WAAA,KAAA,GAAA,KAAA,CAAA,EAAA,EAAA,CAAA;AACA,QAAA,oBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA,gBAAA,KAAA,GAAA,iBAAA,KAAA,GAAA,KAAA,GAAA,CAAA;AACA,GA1cA,CA4cA;;;AACA,WAAA,WAAA,GAAA;AACA,YAAA,IAAA,CAAA,aAAA;AACA,aAAA,EAAA;AACA,aAAA,iBAAA;AACA,cAAA,IAAA,UAAA,CAAA,OAAA,MAAA,CAAA;AACA,YAAA,OAAA,CAAA,aAAA;AACA,GAndA,CAqdA;;;AACA,WAAA,gBAAA,CAAA,MAAA,EAAA;AACA,YAAA,IAAA,CAAA,kBAAA;AACA,cAAA,QAAA,MAAA,CAAA,CAFA,CAGA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,EAAA,CAAA,IAAA,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,CAAA,EAAA,CAAA,IAAA,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,CAAA,EAAA,CAAA,IAAA,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,CAAA,EAAA,CAAA,IAAA,GAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,KALA;AAMA,eAAA,QAAA,QAAA,EAAA;AACA,YAAA,GAAA,CAAA,aAAA,OAAA,MAAA;AACA,YAAA,OAAA,CAAA,kBAAA;AACA,GAneA,CAqeA;;;AACA,WAAA,KAAA,GAAA;AACA,QAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAFA,CAIA;;AACA,QAAA,CAAA,EAAA;AACA,UAAA,IAAA,MAAA,CAAA,CAAA,CADA,CACA;;AACA,YAAA,SAAA,GAAA,GAAA,MAAA,CAAA,CAAA,CAAA;AACA,YAAA,SAAA,GAAA,GAAA,MAAA,CAAA,CAAA,CAAA;AACA,eAAA,SAAA,GAAA,CAAA;AACA,eAAA,SAAA,GAAA,UAAA,EAAA,IAAA,EAAA,KAAA,EAAA,CAAA,CAAA;;AACA,UAAA,kBAAA,CAAA,EAAA;AAAA,mBAAA,SAAA,GAAA,kBAAA,QAAA,CAAA,CAAA,CAAA;AAAA,OAAA,MACA;AAAA,mBAAA,SAAA,GAAA,kBAAA,EAAA,MAAA,CAAA;AAAA;;AACA,eAAA,SAAA,GAAA,UAAA,EAAA,IAAA,EAAA,KAAA,EAAA,CAAA,CAAA;AACA,UAAA,UAAA,EAAA,MAAA,KAAA,SAAA,GAAA,KAAA,GAAA,EAAA,MAAA,KAAA,SAAA,GAAA,SAAA,GAAA,OAAA,EAAA,MAAA,EAAA,IAAA,GAAA,IAAA,GAAA,EAAA,MAAA,GAAA,GAAA;AACA,kBAAA,SAAA,GAAA,OAAA;AACA,UAAA,UAAA,UAAA,EAAA,OAAA,MAAA,IAAA,GAAA,SAAA,EAAA,OAAA,EAAA,IAAA,GAAA,IAAA,GAAA,EAAA,OAAA,GAAA,GAAA,GAAA,KAAA;AACA,kBAAA,SAAA,GAAA,OAAA;AACA,qBAAA,SAAA,GAAA,UAAA,EAAA,GAAA,EAAA,KAAA,EAAA,CAAA,CAAA;AACA,eAAA,SAAA,GAAA,UAAA,EAAA,KAAA,MAAA,IAAA,GAAA,OAAA,EAAA,KAAA,EAAA,IAAA,GAAA,IAAA,GAAA,EAAA,KAAA,GAAA,GAAA,GAAA,IAAA;AACA,UAAA,UAAA,SAAA,EAAA,EAAA,CAAA;;AACA,UAAA,YAAA,SAAA,EAAA;AACA,YAAA,QAAA,QAAA,IAAA,GAAA,QAAA,GAAA,QAAA,MAAA,GAAA,OAAA,GAAA,MAAA;AACA,oBAAA,SAAA,GAAA,QAAA,IAAA,GAAA,EAAA,EAAA,GAAA,GAAA;AACA,OAHA,MAGA;AACA,oBAAA,SAAA,GAAA,KAAA;AACA;AACA,KA3BA,CA6BA;;;AACA,QAAA,eAAA,OAAA,EAAA;AACA,cAAA,SAAA,GAAA,QAAA,YAAA,CAAA,WAAA,CAAA;AACA,UAAA,MAAA,MAAA,MAAA,CAAA,OAAA;AACA,UAAA,OAAA,MAAA,YAAA,EAAA;AACA,UAAA,QAAA,KAAA,KAAA,MAAA,GAAA,CAAA,EAAA,EAAA;AACA,UAAA,WAAA,KAAA,KAAA,MAAA,GAAA,CAAA,EAAA,EAAA;AACA,UAAA,UAAA,QAAA,EAAA,IAAA,4BAAA;AACA,UAAA,UAAA,QAAA,EAAA,IAAA,4BAAA;AACA,UAAA,UAAA,SAAA,EAAA,IAAA,kCAAA;AACA,UAAA,UAAA,QAAA,EAAA,IAAA,4BAAA;AACA,UAAA,UAAA,OAAA,EAAA,IAAA,2BAAA;AACA,UAAA,UAAA,SAAA,EAAA,IAAA,6BAAA;;AACA,UAAA,UAAA,OAAA,EAAA;AACA,YAAA,QAAA,MAAA,IAAA,QAAA,MAAA,EAAA,IAAA,2BAAA;AACA,YAAA,QAAA,MAAA,EAAA,IAAA,8BAAA;AACA,YAAA,QAAA,QAAA,EAAA,IAAA,6BAAA;AACA;;AACA,UAAA,aAAA,WAAA,EAAA,IAAA,2BAAA;AACA,UAAA,aAAA,YAAA,EAAA,IAAA,2BAAA,EAlBA,CAoBA;;AACA,UAAA,KAAA,MAAA,MAAA,CAAA,EAAA;AACA,UAAA,OAAA,EAAA,EAAA,KAAA,MAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,aAAA,YAAA,EAAA,KAAA,SAAA,MAAA,MAAA,CAAA,YAAA,CAAA,SAAA,CAAA;AAEA,UAAA,OAAA,MAAA,IAAA,CAAA;AAAA,eAAA,KAAA,EAAA,KAAA,EAAA;AAAA,OAAA,CAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,QAAA,CAAA;AACA,UAAA,eAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,aAAA,SAAA,cAAA,CAAA,YAAA,CAAA;;AACA,UAAA,SAAA,SAAA,IAAA,KAAA,MAAA,KAAA,EAAA,EAAA;AACA,eAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,qBAAA,SAAA,GAAA,KAAA,IAAA;AACA,mBAAA,SAAA,GAAA,KAAA,MAAA;AACA,OAJA,MAIA;AACA,eAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,qBAAA,SAAA,GAAA,EAAA;AACA,mBAAA,SAAA,GAAA,EAAA;AACA;AACA,KApEA,CAsEA;;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,UAAA,OAAA,MAAA,SAAA,CAAA,OAAA,CAAA;;AACA,UAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,OAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,MAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA;;AACA,YAAA,KAAA,IAAA,EAAA,EAAA;AAAA,eAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,MAAA,CAAA,CAAA;AAAA,SAAA,MACA;AAAA,gBAAA,MAAA,CAAA,MAAA,EAAA,cAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EACA,IADA,CACA,IADA,EACA,CADA,EACA,IADA,CACA,IADA,EACA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA;AACA;AACA,OANA,MAMA;AACA,aAAA,MAAA;AACA;AACA,KAlFA,CAoFA;;;AACA,QAAA,gBAAA,CAAA,EAAA;AACA,UAAA,QAAA,EAAA,4BAAA,CAAA;AACA,UAAA,UAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,YAAA,YAAA,IAAA,YAAA,aAAA,EAAA;AACA,UAAA,kBAAA,CAAA,IAAA,CAAA,MAAA,MAAA,IAAA,CAAA,EAAA,cAAA,EAAA,MAAA,EAAA;AACA,UAAA,SAAA,CAAA;;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,iBAAA,YAAA,KAAA;;AACA,YAAA,YAAA,WAAA,IAAA,YAAA,UAAA,EAAA;AACA,mBAAA,KAAA,GAAA,CAAA,WAAA,KAAA,GAAA,CAAA,EAAA,EAAA,CAAA;AACA;AACA,OALA,MAMA,IAAA,kBAAA,CAAA,EAAA,SAAA,uBAAA,KAAA,CAAA,KACA,IAAA,kBAAA,CAAA,EAAA,SAAA,sBAAA,KAAA,CAAA,KACA,IAAA,kBAAA,CAAA,EAAA,SAAA,uBAAA,KAAA;;AAEA,UAAA,IAAA,GAAA,IAAA,SAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,UAAA,MAAA,SAAA;;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,OAAA,KAAA,EAAA,KAAA,KAAA,SAAA,GAAA,OAAA,GAAA,OAAA,KAAA,EAAA,KAAA;AACA;;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,YAAA,WAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;;AACA,cAAA,SAAA,QAAA,EAAA,KAAA;AACA;;AACA,iBAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA;AACA;AACA,GAvlBA,CAylBA;AACA;;;AACA,WAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,MAAA,IAAA,IAAA,MAAA,SAAA,EAAA,OAAA,KAAA,IAAA;AACA,QAAA,CAAA,EAAA,OAAA,EAAA,OAAA,CAAA,CAAA,CAAA;AACA,WAAA,CAAA;AACA,GA/lBA,CAimBA;;;AACA,WAAA,iBAAA,CAAA,CAAA,EAAA;AACA,QAAA,WAAA,CAAA,eAAA,KAAA;AACA,QAAA,OAAA,WAAA,KAAA;AACA,QAAA,YAAA,CAAA,CAHA,CAGA;;AACA,QAAA,SAAA,IAAA,EAAA,YAAA,IAAA,CAJA,CAIA;;AACA,QAAA,SAAA,GAAA,EAAA,YAAA,MAAA,CALA,CAKA;;AACA,QAAA,SAAA,CAAA,GAAA;AACA,QAAA,KAAA,EAAA,EAAA,SAAA,KAAA,GAAA,CAAA,IAAA,EAAA,EAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,IAAA,IAAA,CAAA,EAAA,SAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA;AACA,WAAA,IAAA,IAAA,GAAA,GAAA,SAAA,SAAA,CAAA,GAAA,GAAA,GAAA,IAAA,GAAA,GAAA;AACA,GA5mBA,CA8mBA;;;AACA,WAAA,UAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,SAAA,MAAA,SAAA,CAAA,SAAA,CAAA;AACA,QAAA,CAAA,OAAA,IAAA,EAAA,EAAA,SAAA,MAAA,MAAA,CAAA,QAAA,EAAA,cAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,CAAA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,QAAA,CAAA,EAAA,OAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,QAAA,CAAA,EAAA,OAAA,IAAA,CAAA,QAAA,EAAA,CAAA;AACA,GArnBA,CAunBA;;;AACA,WAAA,WAAA,GAAA;AACA,QAAA,KAAA,GAAA,KAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,KAAA,CAAA,CAAA;AAAA,QACA,KAAA,QAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KADA;AAEA,QAAA,KAAA,EAAA;AACA,QAAA,EAAA,EAAA,EAAA;AACA,QAAA,aAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,SAAA,CAAA;AACA,QAAA,aAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,SAAA,CAAA;AACA,QAAA,SAAA,GAAA,IAAA,KAAA,GAAA,CAAA,KAAA,EAAA,GAAA,CAAA,EAAA,CAAA,CAAA;;AAEA,QAAA,cAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,IAAA;AACA,UAAA,OAAA,aAAA,YAAA,GAAA,YAAA;AACA,UAAA,WAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,CAAA;AACA,UAAA,SAAA,CAAA;AAAA,aAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AAAA,aAAA,GAAA,EAAA,EAAA,CAAA;AAAA,OAAA,CAAA;;AACA,UAAA,UAAA,EAAA;AACA,YAAA,QAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,kBAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,CAAA;AACA,YAAA,OAAA,GAAA,KAAA,cAAA,KAAA,EAAA,CAAA,CAAA;AACA,YAAA,YAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,iBAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,CAAA;AACA,OAJA,MAIA;AACA,YAAA,QAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,YAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,CAAA;AACA;;AACA,UAAA,OAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,MAAA,CAAA;AACA;;AAEA,OAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,WAAA,GAAA,KAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,CAAA,CAAA;AACA,UAAA,KAAA,QAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KAAA,CAFA,CAIA;;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,YAAA,OAAA,EAAA,IAAA,OAAA,EAAA,IAAA,OAAA,EAAA,EAAA;AACA,aAAA,EAAA;AACA,YAAA,QAAA,EAAA,4BAAA,CAAA;AACA,YAAA,KAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,QAAA,CAAA,WAAA,KAAA;;AACA,YAAA,OAAA,WAAA,EAAA;AAAA,cAAA,EAAA,EAAA,MAAA,EAAA,KAAA;AAAA;AAAA;;AACA,YAAA,OAAA,UAAA,EAAA;AAAA,iBAAA,CAAA,EAAA,KAAA,EAAA,EAAA;AAAA;AAAA;;AACA,YAAA,OAAA,YAAA,IAAA,OAAA,aAAA,EAAA;AACA;AACA,qBAAA,EAAA,EAAA,EAAA;AACA,8BAAA,EAAA,EAAA,EAAA;AACA;AACA,OAlBA,CAoBA;;;AACA,UAAA,kBAAA,CAAA,IAAA,kBAAA,CAAA,EAAA;AACA,YAAA,EAAA,cAAA,EAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,OAAA,EAAA,EAAA;AACA,aAAA,EAAA;AACA,YAAA,SAAA,kBAAA,CAAA,GAAA,CAAA,uBAAA,KAAA,GAAA,CAAA,sBAAA,KAAA;AACA,YAAA,IAAA,GAAA,IAAA,SAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,mBAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,YAAA,qBAAA,EAAA,EAAA,MAAA,CAAA;;AACA,YAAA,SAAA,EAAA;AACA,cAAA,kBAAA,CAAA,EAAA,wBAAA,SAAA;AACA,cAAA,kBAAA,CAAA,EAAA,0BAAA,SAAA;AACA;AACA;;AAEA,UAAA,cAAA,UAAA,EAAA;AACA,YAAA,IAAA,OAAA,OAAA,MAAA,GAAA,CAAA,CAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,EAAA,GAAA,GAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA;;AACA,YAAA,OAAA,CAAA,EAAA;AAAA,iBAAA,IAAA,CAAA;AAAA,iBAAA,EAAA;AAAA,iBAAA;AAAA,WAAA;AAAA;;AACA,YAAA,UAAA,EAAA;AACA,kBAAA,KAAA,CAAA,GAAA,UAAA;AACA,cAAA,IAAA,MAAA,QAAA,MAAA,CAAA,CAAA;AACA,gBAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,oBAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,cAAA,OAAA,GAAA,MAAA,IAAA,GAAA,cAAA,EAAA,CAAA;AACA,cAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,eAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA,EAAA,EAAA,IAAA,CAAA,KAAA;AACA,SARA,MAQA;AACA,kBAAA,KAAA,CAAA,GAAA,gBAAA;AACA,cAAA,IAAA,MAAA,QAAA,MAAA,CAAA,CAAA;AACA,gBAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA;AACA;AACA,KArDA;AAuDA,OAAA,KAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA;AACA,UAAA,kBAAA,CAAA,EAAA;;AACA,UAAA,cAAA,UAAA,EAAA;AACA,UAAA,gCAAA,EAAA,WAAA,CAAA,SAAA;AACA;;AACA,YAAA,UAAA,EAAA;AACA,cAAA,OAAA,GAAA,MAAA,IAAA,GAAA,cAAA,EAAA,CAAA;AACA,cAAA,IAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,OAAA,CAAA,CAAA;AACA,cAAA,IAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,cAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,cAAA,OAAA,EAAA,CAAA,GAAA,EAAA,CAAA,GAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,cAAA,QAAA,GAAA,OAAA,GAAA,GAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AACA,cAAA,KAAA,YAAA,KAAA,GAAA,GAAA,GAAA,EAAA,CAAA,GAAA,GAAA,GAAA,EAAA,CAAA,GAAA,GAAA;AACA,eAAA,IAAA,CAAA,aAAA,EAAA,KAAA,SAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EACA,IADA,CACA,WADA,EACA,OADA,EACA,IADA,CACA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,kBAAA,CADA;AAEA,mBAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,OAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,OAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EACA,IADA,CACA,WADA,EACA,KADA,EACA,IADA,CACA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,kBAAA,CADA;AAEA,SAbA,MAaA;AACA,cAAA,WAAA,OAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,mBAAA,CAAA,EAAA,GAAA,EAAA,EAAA,GAAA,CAAA;AACA,WAFA,CAAA;AAGA,cAAA,OAAA,GAAA,KAAA,GAAA,CAAA,GAAA,WAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAJA,CAIA;;AACA,cAAA,WAAA,OAAA,KAAA,GAAA,CAAA,cAAA,KAAA,EAAA,CAAA,CAAA,CALA,CAKA;;AACA,qBAAA,GAAA,QAAA,CAAA;;AACA,cAAA,SAAA,KAAA,KAAA,QAAA,EAAA;AAAA,wBAAA,MAAA,aAAA,KAAA,GAAA,GAAA;AAAA,WAAA,MAAA;AAAA,wBAAA,MAAA,SAAA,KAAA;AAAA;;AACA,cAAA,IAAA,UAAA,CAAA,QAAA,CAAA,EAAA,GAAA,CAAA,CARA,CAQA;;AACA,eAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA;AACA;AACA,KA9BA;AA+BA,GAtuBA,CAwuBA;;;AACA,WAAA,oBAAA,GAAA;AACA,YAAA,KAAA,CAAA,QAAA,EAAA,SAAA,EAAA,EAAA,CAAA,OAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,IAAA;AACA,GA3uBA,CA6uBA;;;AACA,WAAA,YAAA,GAAA;AACA,MAAA,KAAA,UAAA,EAAA,MAAA;AACA,GAhvBA,CAkvBA;;;AACA,WAAA,oBAAA,CAAA,MAAA,EAAA,CAAA,EAAA;AACA,QAAA,SAAA,CAAA;AACA,QAAA,YAAA,CAAA,MAAA,CAAA;AACA,QAAA,SAAA,CAAA,EAAA,YAAA,UAAA,MAAA,CAAA,MAAA,MAAA,EAAA,SAAA,CAAA;AACA,gBAAA,EAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA;AAAA,KAAA,CAAA;AACA,QAAA,WAAA,CAAA,EAAA,OAAA,SAAA;AACA,QAAA,WAAA,MAAA,MAAA,EAAA,SAAA;;AACA,WAAA,SAAA,CAAA,EAAA;AACA,UAAA,QAAA,SAAA,KAAA,EAAA;AACA,iBAAA,EAAA;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,UAAA,OAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,OADA,CAEA;;AACA,oBAAA,IAAA,CAAA,CAAA;AACA,mBAAA,IAAA,CAAA,CAAA;AACA,SALA;AAMA,OAPA;AAQA;AACA;;AACA,gBAAA,EAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA;AAAA,KAAA,CAAA;AACA,WAAA,SAAA;AACA,GAzwBA,CA2wBA;;;AACA,WAAA,uBAAA,CAAA,SAAA,EAAA;AACA,QAAA,UAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,OAAA,QAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,WAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,QAAA,OAAA,QAAA,EAAA,KAAA,KAAA,SAAA,GAAA,OAAA,GAAA,OAAA,QAAA,EAAA,KAAA;AACA,cAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA;AACA,UAAA,SAAA,KAAA,MAAA,CAAA,qBAAA,KAAA,GAAA,IAAA,CAAA;AACA,UAAA,SAAA,MAAA,KAAA,EAAA,MAAA,KAAA,SAAA,GAAA,OAAA,MAAA,GAAA,CAAA,GAAA,MAAA,KAAA,EAAA,MAAA;AACA,UAAA,WAAA,OAAA,IAAA,KAAA,CAAA,OAAA,IAAA,CAAA,YAAA,CAAA,GAAA,MAAA;AACA,UAAA,aAAA,QAAA,EAAA;AACA,UAAA,OAAA,QAAA,EAAA,OAAA,KAAA,MAAA,KAAA,EAAA,KAAA,EAAA,OANA,CAMA;AACA;;AACA,UAAA,OAAA,IAAA,EAAA,EAAA;AACA,eAAA,IAAA,CAAA,YAAA,EAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,QAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,KAFA,EAEA,IAFA,CAEA,QAFA,EAEA,KAFA;AAGA;AACA,KAfA;AAgBA,GAjyBA,CAmyBA;;;AACA,WAAA,yBAAA,CAAA,SAAA,EAAA;AACA,QAAA,UAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,aAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,SAAA,UAAA,EAAA,KAAA;AACA,cAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,MAAA,MAAA,CAAA,UAAA,KAAA,CAAA;AACA,UAAA,aAAA,KAAA,IAAA,CAAA,cAAA,MAAA,IAAA,GACA,CAAA,KAAA,IAAA,CAAA,cAAA,CADA,GAEA,MAAA,KAAA,EAAA,OAFA;AAGA,UAAA,eAAA,UAAA,EAAA;AACA,WAAA,IAAA,CAAA,cAAA,EAAA,UAAA,EAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AACA,KAPA;AAQA,GAhzBA,CAkzBA;;;AACA,WAAA,mBAAA,CAAA,IAAA,EAAA,MAAA,EAAA;AACA,QAAA,QAAA,CAAA,WAAA,KAAA;AACA,QAAA,SAAA,CAAA,YAAA,KAAA;AACA,QAAA,QAAA,EAAA,4BAAA,EAAA,IAAA,CAAA,IAAA,CAAA;;AACA,QAAA,EAAA,4BAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AAAA;AAAA,KAJA,CAKA;;;AACA,QAAA,YAAA,CAAA,IAAA,CAAA;AACA,QAAA,SAAA,CAAA,EAAA,YAAA,UAAA,MAAA,CAAA,MAAA,IAAA,EAAA,SAAA,CAAA;;AACA,QAAA,SAAA,CAAA,EAAA;AAAA;AACA,YAAA,WAAA,MAAA,IAAA,EAAA,SAAA;;AACA,eAAA,SAAA,CAAA,EAAA;AACA,cAAA,QAAA,SAAA,KAAA,EAAA;AACA,qBAAA,EAAA;AACA,gBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,UAAA,OAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA;AAAA;AAAA;;AACA,wBAAA,IAAA,CAAA,CAAA;AACA,uBAAA,IAAA,CAAA,CAAA;AACA,aAJA;AAKA,WANA;AAOA;AACA;AAbA;AAcA,KAtBA,CAuBA;;;AACA,QAAA,eAAA,QAAA,MAAA,CAAA;AACA,cAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,UAAA,UAAA,cAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,EAAA,EAAA;AAAA,kBAAA,CAAA,IAAA,EAAA;AAAA,SAAA,MACA;AAAA,kBAAA,CAAA,KAAA,KAAA;AAAA;;AACA,YAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,GAAA;AACA;;AACA,UAAA,UAAA,cAAA,EAAA;AACA,gBAAA,CAAA,KAAA,KAAA;AACA,YAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AACA;;AACA,UAAA,UAAA,YAAA,EAAA;AAAA,gBAAA,CAAA,IAAA,YAAA;AAAA;;AACA,UAAA,UAAA,aAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,aAAA,IAAA,CAAA,QAAA,CAAA,CAAA;AAAA,SAAA;AACA,gBAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA;AACA;AACA,KAjBA;AAkBA,6BAAA,SAAA;AACA,GA/1BA,CAi2BA;;;AACA,WAAA,kBAAA,GAAA;AACA,QAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,SAAA,KAAA,CAAA;AACA,QAAA,MAAA,MAAA,SAAA,CAAA,MAAA,CAAA;;AACA,QAAA,CAAA,IAAA,IAAA,EAAA,EAAA;AACA,YAAA,MAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,EAAA,IAAA,CAAA,OAAA,EAAA,KAAA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,CAAA;AAEA,KAHA,MAGA;AACA,UAAA,OAAA,CAAA,IAAA,IAAA,CAAA,WAAA,CAAA;AACA,YAAA,SAAA,CAAA,aAAA,EAAA,MAAA;AACA,UAAA,QAAA,CAAA,WAAA,KAAA;AACA,UAAA,MAAA,EAAA,4BAAA,EAAA,IAAA,CAAA,IAAA,MAAA,YAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,YAAA,SAAA,GAAA,EAAA,KAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA,+BAAA,SAAA;AACA;AACA,GAj3BA,CAm3BA;;;AACA,WAAA,eAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA,iBAAA;AACA,QAAA,WAAA,EAAA,CAFA,CAEA;;AACA,YAAA,EAAA;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,YAAA,EAAA;AACA,UAAA,IAAA,CAFA,CAEA;;AACA,UAAA,QAAA,EAAA;AAAA,oBAAA,MAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAAA;AAAA,OAHA,CAGA;;;AACA,cAAA,KAAA,CAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,QAAA,KAAA,CAAA,CAAA,CAAA;;AACA,YAAA,KAAA,IAAA,IAAA,KAAA,KAAA,EAAA;AACA,cAAA,KAAA,KAAA,IAAA,CAAA,KAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA,oBAAA,IAAA,CAAA,EAAA;AACA,SAHA,MAGA;AACA,iBAAA,QAAA,CADA,CACA;AACA;AACA,OARA;AASA,YAAA,IAAA,CAAA;AAAA,eAAA,CAAA;AAAA,cAAA,EAAA,IAAA;AAAA,gBAAA,CAAA;AAAA,kBAAA;AAAA;AAAA,OAAA;AACA,KAdA;;AAeA,QAAA,QAAA,EAAA;AAAA,WAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,QAAA,EAAA,CAAA,CAAA;AAAA;;AACA,YAAA,OAAA,CAAA,iBAAA;AACA,GAz4BA,CA24BA;;;AACA,WAAA,eAAA,GAAA;AACA,YAAA,IAAA,CAAA,iBAAA;;AACA,QAAA,kBAAA,YAAA,CAAA,aAAA,KAAA,CAAA,EAAA;AACA,UAAA,MAAA,KAAA,MAAA,EAAA;;AACA,UAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,SAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,aAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,YAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,YAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,aAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,UAAA;AAAA,OAAA,MACA,IAAA,MAAA,IAAA,EAAA;AAAA,sBAAA,KAAA,GAAA,YAAA;AAAA,OAAA,MACA;AAAA,sBAAA,KAAA,GAAA,OAAA;AAAA;AACA;;AACA,QAAA,cAAA,cAAA,KAAA;AACA,QAAA,gBAAA,SAAA,EAAA;AACA,QAAA,gBAAA,aAAA,EAAA;AACA,QAAA,gBAAA,YAAA,EAAA;AACA,QAAA,gBAAA,YAAA,EAAA;AACA,QAAA,gBAAA,aAAA,EAAA;AACA,QAAA,gBAAA,OAAA,EAAA;AACA,QAAA,gBAAA,UAAA,EAAA;AACA,QAAA,gBAAA,YAAA,EAAA;AACA,YAAA,GAAA,CAAA,gBAAA,WAAA;AACA,YAAA,OAAA,CAAA,iBAAA;AACA,GAp6BA,CAs6BA;;;AACA,WAAA,eAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,CAAA,EAAA,IAAA;AACA,aAAA,CAAA;AACA,aAAA,CAAA,CAAA;AACA,GA76BA,CA+6BA;;;AACA,WAAA,kBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,aAAA,CAAA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,aAAA,CAAA,CAAA;AACA,kBAAA,MAAA,EAAA,CAAA,EAAA,IAAA;AACA,WAAA,CAAA;AACA,YAAA,CAAA,EAAA,IAAA;AACA,GAz7BA,CA27BA;;;AACA,WAAA,iBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,kBAAA,CAAA;AACA,aAAA,CAAA;AACA,YAAA,CAAA,EAAA,GAAA;AACA,YAAA,EAAA,EAAA,GAAA;AACA,aAAA,CAAA,CAAA;AACA,kBAAA,MAAA,EAAA,CAAA,EAAA,IAAA;AACA,GAr8BA,CAu8BA;;;AACA,WAAA,kBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,QAAA,QAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AACA,cAAA,KAAA;AACA,WAAA,EAAA;AACA,aAAA,CAAA,EAAA;AACA,kBAAA,MAAA,EAAA,CAAA,EAAA,GAAA;AACA,kBAAA,CAAA;AACA,aAAA,CAAA;AACA,GAn9BA,CAq9BA;;;AACA,WAAA,mBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,aAAA,CAAA;AACA,QAAA,QAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AACA,cAAA,KAAA;AACA,aAAA,CAAA,EAAA;AACA,WAAA,EAAA;AACA,kBAAA,MAAA,EAAA,CAAA,CAAA,EAAA,GAAA;AACA,kBAAA,CAAA;AACA,GAj+BA,CAm+BA;;;AACA,WAAA,aAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,CAAA,EAAA,IAAA;AACA,aAAA,CAAA;AACA,kBAAA,CAAA;AACA,kBAAA,QAAA,EAAA,CAAA,EAAA,GAAA;AACA,GA3+BA,CA6+BA;;;AACA,WAAA,gBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,EAAA,EAAA,GAAA;AACA,aAAA,EAAA;AACA,WAAA,EAAA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,aAAA,CAAA,EAAA;AACA,kBAAA,MAAA,EAAA,CAAA,EAAA,GAAA;AACA,aAAA,EAAA;AACA,kBAAA,CAAA;AACA,GAz/BA,CA2/BA;;;AACA,WAAA,kBAAA,CAAA,GAAA,EAAA;AACA;AACA,kBAAA,KAAA,EAAA,EAAA,EAAA,CAAA;AACA,YAAA,EAAA,EAAA,CAAA;AACA,aAAA,CAAA;AACA,WAAA,EAAA;AACA,QAAA,QAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,CAAA,GAAA,EAAA,CAAA;AACA,cAAA,KAAA;AACA;;AAEA,WAAA,WAAA,GAAA;AACA,QAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,CAAA,GAAA,aAAA,CAAA,CAAA;AACA,QAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,GAAA,CAAA;AACA,QAAA,OAAA,QAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA;AACA,QAAA,SAAA,KAAA,MAAA,KAAA,EAAA,GAAA,EAAA,CAJA,CAIA;;AACA,QAAA,IAAA,EAAA,UAAA,EAAA,MAAA;AACA,GA5gCA,CA8gCA;;;AACA,WAAA,OAAA,CAAA,KAAA,EAAA,KAAA,EAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA;AAAA,UAAA,aAAA;AAAA,UAAA,eAAA;;AACA,SAAA;AACA,iBAAA,KAAA,MAAA,KAAA,EAAA,GAAA,EAAA,CADA,CACA;;AACA,YAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,IAAA,IAAA,QAAA,CAAA,IAAA,aAAA,KAAA,CAAA;AACA,YAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,IAAA,IAAA,QAAA,CAAA,IAAA,cAAA,KAAA,CAAA;AACA,eAAA,QAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA;AACA;AACA,OANA,QAMA,QAAA,IAAA,IAAA,MAAA,GAAA,EAAA,IAAA,QAAA,GANA;;AAOA,UAAA,IAAA,EAAA,MAAA,EAAA,MAAA;AACA;AACA;;AAEA,WAAA,GAAA,CAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAAA;AACA,QAAA,UAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,QAAA,MAAA;AACA,QAAA,OAAA;AACA,QAAA,OAAA;;AACA,YAAA,CAAA,SAAA;AACA,WAAA,CAAA;AAAA,kBAAA,KAAA;AAAA,kBAAA,IAAA;AAAA;;AACA,WAAA,CAAA;AAAA,kBAAA,MAAA;AAAA,kBAAA,KAAA;AAAA;;AACA,WAAA,CAAA;AAAA,kBAAA,KAAA;AAAA,kBAAA,KAAA;AAAA;;AACA,WAAA,CAAA;AAAA,kBAAA,MAAA;AAAA,kBAAA,IAAA;AAAA;AAJA;;AAMA,aAAA,SAAA,UAAA,GAAA,OAAA,GAAA,OAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA;AACA,QAAA,SAAA,UAAA,EAAA,QAAA,KAAA,IAAA,MAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,IAAA,UAAA,CAAA,EAAA,GAAA,EAAA;AACA,UAAA,SAAA,UAAA,EAAA;AAAA,iBAAA,QAAA,MAAA,CAAA,CAAA,IAAA,MAAA,GAAA,SAAA,GAAA;AAAA,OAAA,MACA;AAAA,kBAAA,MAAA;AAAA;;AACA,YAAA,MAAA,CAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA,YAAA,MAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA,CAFA,CAEA;;AACA,gBAAA,CAAA,KAAA,SAAA,GAAA;AACA,YAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,GAAA;AACA,cAAA,CAAA,EAAA,IAAA,GAAA,OAAA;AACA,cAAA,IAAA,CAAA,CAAA;AACA,OAPA;AAQA;AACA;;AAEA,WAAA,QAAA,CAAA,GAAA,EAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA;AACA,QAAA,UAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,MAAA,CAAA;AACA,QAAA,QAAA,KAAA,GAAA,CAAA,GAAA,CAAA;AACA,QAAA,QAAA,EAAA;;AAHA,+BAIA,CAJA;AAKA,cAAA,EAAA;AACA,UAAA,OAAA,CAAA;AAAA,UAAA,QAAA,IAAA;AAAA,UAAA,MAAA,EAAA;;AACA,UAAA,CAAA,KAAA,IAAA,CAAA,GAAA,EAAA;AACA,WAAA;AACA,cAAA,KAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,aAAA,GAAA,CAAA,IAAA,aAAA,IAAA;AACA,cAAA,KAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,cAAA,GAAA,CAAA,IAAA,cAAA,GAAA;AACA,kBAAA,QAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KAAA;AACA,cAAA,KAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,aAAA,GAAA,CAAA,IAAA,aAAA,IAAA;AACA,cAAA,KAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,cAAA,GAAA,CAAA,IAAA,cAAA,GAAA;AACA,gBAAA,QAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KAAA;AACA,iBAAA,KAAA,KAAA,CAAA,KAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACA,SARA,QAQA,OAAA,MAAA,SAAA,IAAA,OAAA,MAAA,SARA;AASA;;AACA,UAAA,SAAA,GAAA,EAAA;AAAA,qCACA,CADA;AAEA,cAAA,MAAA,KAAA;AACA,gBAAA,KAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,mBAAA,KAAA,KAAA,CAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,gBAAA,KAAA,MAAA,KAAA,GAAA,EAAA,OAAA,OAAA,CAAA;;AACA,gBAAA,OAAA,GAAA,EAAA;AAAA,oBAAA,IAAA,EAAA,QAAA,CAAA;AAAA;AACA,WAJA;AAKA,gBAAA,IAAA,CAAA,KAAA;AARA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,SAAA,GAAA,IAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AAAA,iBAAA,CAAA;AAQA;AACA;;AACA,UAAA,SAAA,SAAA,MAAA,GAAA,KAAA,MAAA,KAAA,EAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,YAAA,MAAA,CAAA,EAAA,QAAA,CAAA,KAAA,SAAA,GAAA,CAAA,KACA,IAAA,QAAA,CAAA,KAAA,EAAA,EAAA;AAAA,kBAAA,CAAA,KAAA,SAAA,GAAA;AAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA,gBAAA,CAAA,EAAA,IAAA,GAAA,OAAA;AACA,gBAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,cAAA,KAAA,SAAA,CAAA,GAAA,GAAA;;AACA,cAAA,MAAA,CAAA,EAAA;AAAA,oBAAA,CAAA,KAAA,EAAA;AAAA,WAAA,MAAA,IAAA,QAAA,CAAA,KAAA,EAAA,EAAA;AAAA,oBAAA,CAAA,KAAA,EAAA;AAAA;;AACA,cAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,MAAA,CAAA,GAAA,GAAA,GAAA,CAAA;AACA,SAPA;AAQA,YAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,MAAA,CAAA,GAAA,GAAA,GAAA,CAAA;AACA,OAbA;AA9BA;;AAIA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AAAA,YAAA,CAAA;AAwCA;;AACA,WAAA,KAAA;AACA;;AAEA,WAAA,SAAA,CAAA,KAAA,EAAA;AACA,QAAA,UAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,MAAA,CAAA;AACA,QAAA,MAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,IAAA,GAAA,aAAA,GAAA,CAAA;AACA,QAAA,SAAA,KAAA,KAAA,CAAA,aAAA,GAAA,GAAA,aAAA,GAAA,GAAA,KAAA,MAAA,KAAA,UAAA,GAAA,GAAA,CAAA;AACA,QAAA,QAAA,QAAA,IAAA,CAAA,GAAA,EAAA,cAAA,GAAA,EAAA,KAAA;AACA,QAAA,MAAA,QAAA,IAAA,CAAA,MAAA,EAAA,cAAA,GAAA,EAAA,KAAA;AACA,QAAA,QAAA,EAAA;;AANA,iCAOA,CAPA;AAQA,UAAA,MAAA,KAAA,CARA,CAQA;;AACA,YAAA,KAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;;AACA,YAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AAAA,iBAAA,OAAA,CAAA;AAAA;;AACA,YAAA,OAAA,GAAA,EAAA;AAAA,gBAAA,IAAA;AAAA,kBAAA,CAAA;AAAA;AACA,OAJA;AAKA,YAAA,IAAA,CAAA,KAAA;AAdA;;AAOA,SAAA,IAAA,IAAA,CAAA,EAAA,UAAA,GAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA;AAAA,aAAA,CAAA;AAQA;;AACA,QAAA,QAAA,EAAA;;AACA,WAAA,QAAA,CAAA,EAAA,OAAA,EAAA;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AAAA;AAAA;;AACA,gBAAA,CAAA,EAAA,IAAA,GAAA,OAAA;AACA,gBAAA,IAAA,CAAA,CAAA;AACA,kBAAA,CAAA,KAAA,IAAA;AACA,cAAA,QAAA,CAAA,IAAA,GAAA,IAAA,QAAA,CAAA,IAAA,CAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AACA,SANA;AAOA,gBAAA,MAAA,KAAA,EAAA;AACA,OATA;AAUA;AACA;;AAEA,WAAA,MAAA,CAAA,KAAA,EAAA,MAAA,EAAA,IAAA,EAAA;AACA,QAAA,UAAA,KAAA,IAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;;AADA,iCAEA,CAFA;AAGA,UAAA,SAAA,SAAA,SAAA,EAAA,GAAA,KAAA,MAAA,KAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,IAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AACA,YAAA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,QAAA,EAAA,KAAA,KAAA,EAAA;AAAA,SAAA,CAAA;AACA,YAAA,CAAA,SAAA,MAAA,EAAA;AAAA;AAAA;AACA,YAAA,MAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,SAAA,MAAA,CAAA;AACA,gBAAA,SAAA,GAAA,EAAA,KAAA;AACA;;AACA,UAAA,QAAA,CAAA,KAAA,CAAA;AAAA,UAAA,WAAA,EAAA,CAXA,CAYA;;AACA,cAAA,KAAA,KAAA,MAAA;AACA,UAAA,QAAA,KAAA,IAAA,CAAA,IAAA,QAAA,KAAA,IAAA,GAAA,EAAA,QAAA,KAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,IAAA,GAAA,OAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;;AACA,kBAAA,IAAA,GAAA,GAAA,IAAA;AACA,YAAA,SAAA,CAAA,EAAA;AACA,cAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,EAAA,IAAA,KAAA,OAAA,EAAA;AACA,kBAAA,CAAA,EAAA,IAAA,GAAA,OAAA;AACA,gBAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,qBAAA,IAAA,CAAA,CAAA;AACA,oBAAA,CAAA,KAAA,MAAA;AACA,gBAAA,QAAA,CAAA,IAAA,CAAA,IAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AACA,WAPA;AAQA,SATA;AAUA,gBAAA,SAAA,KAAA,EAAA;AACA,mBAAA,EAAA;AACA;AAhCA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AAAA,wBAAA,CAAA;;AAAA;AA+BA;AACA,GA1qCA,CA4qCA;;;AACA,WAAA,aAAA,CAAA,KAAA,EAAA,GAAA,EAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,CAAA,EAAA;AACA,UAAA,GAAA,EAAA,KAAA,GAAA;;AACA,UAAA,SAAA,CAAA,EAAA;AACA,YAAA,SAAA,IAAA,EAAA,OAAA,CAAA,IAAA,EAAA,IAAA,GAAA;AACA,YAAA,SAAA,IAAA,EAAA,OAAA,CAAA,IAAA,EAAA,KAAA,IAAA,EAAA,CAAA,GAAA,GAAA;;AACA,YAAA,UAAA,MAAA,EAAA;AAAA,cAAA,KAAA,CAAA,IAAA,EAAA,IAAA,IAAA;AAAA,SAAA,MACA;AAAA,eAAA,IAAA;AAAA;AACA;;AACA,UAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,UAAA,IAAA,GAAA,EAAA,IAAA,GAAA;AACA,aAAA,CAAA;AACA;;AACA,QAAA,SAAA,UAAA,MAAA,GAAA,EAAA,GAAA,UAAA,KAAA,GAAA,CAAA,GAAA,CAAA,MAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,QAAA,SAAA,UAAA,MAAA,IAAA,UAAA,KAAA,GAAA,GAAA,GAAA,CAAA,MAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,MAAA,IAAA,QAAA,CAAA,IAAA,MAAA,EAAA;AACA,cAAA,CAAA,IAAA,OAAA,QAAA,CAAA,CAAA,CAAA;AACA;AACA,GAjsCA,CAmsCA;;;AACA,WAAA,aAAA,CAAA,QAAA,EAAA;AACA,QAAA,KAAA,YAAA,CAAA;;AADA,iCAEA,CAFA;AAGA,UAAA,WAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,YAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,IAAA,CAAA,QAAA,CAAA,CAAA;AAAA,OAAA;AACA,cAAA,CAAA,IAAA,CAAA,QAAA,CAAA,KAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAAA,QAAA,CAAA,IAAA,EAAA;AALA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AAAA,aAAA,CAAA;AAIA;AACA,GA3sCA,CA6sCA;;;AACA,WAAA,cAAA,GAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,EAAA,EAAA;AACA,UAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,cAAA,CAAA,KAAA,IAAA,KAAA,MAAA,KAAA,CAAA;AACA;AACA,GAptCA,CAstCA;;;AACA,WAAA,YAAA,GAAA;AACA,YAAA,IAAA,CAAA,cAAA;AACA,SAAA,UAAA,CAAA,IAAA,EAFA,CAEA;;AAFA,iCAGA,CAHA,EAGA,MAHA;AAIA,UAAA,OAAA,MAAA,OAAA,CAAA,CAAA,CAAA;AACA,WAAA,EAAA,GAAA,CAAA,CALA,CAKA;;AACA,UAAA,OAAA,QAAA,OAAA,CAAA,CAAA,KAAA,EAAA;AACA,UAAA,SAAA,KAAA,IAAA,KAAA,QAAA;AACA,UAAA,UAAA,IAAA,EAAA,KAAA,KAAA,GAAA,CAAA;;AARA;AAWA,YAAA,IAAA,OAAA,GAAA,EAAA;;AACA,YAAA,MAAA,CAAA,EAAA,IAAA,KAAA,QAAA,EAAA;AACA,mBAAA,IAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA;AACA;;AAEA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,QAAA,QAAA,CAAA,KAAA,EAAA;;AACA,cAAA,SAAA,KAAA,IAAA,MAAA,CAAA,EAAA,EAAA,KAAA,SAAA,EAAA;AACA,kBAAA,CAAA,EAAA,EAAA,GAAA,CAAA;;AACA,mBAAA,IAAA,CAAA,CAAA;AACA;;AACA,cAAA,QAAA,CAAA,KAAA,EAAA;AACA,kBAAA,CAAA,EAAA,KAAA,GAAA,CAAA;AACA,kBAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,kBAAA,CAAA,EAAA,MAAA,GAAA,MAAA,CAAA,EAAA,MAAA,GAAA,MAAA,CAAA,EAAA,MAAA,GAAA,CAAA,GAAA,CAAA;AACA;AACA,SAXA;AAjBA;;AAUA,aAAA,OAAA,MAAA,EAAA;AAAA;AAmBA;;AACA,eAAA,IAAA,CAAA;AAAA,YAAA;AAAA,kBAAA;AAAA;AAAA,OAAA,EA9BA,CAgCA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,EAAA,KAAA,SAAA,EAAA;AACA,iBAAA,CAAA,IAAA,CAAA;AACA;AACA;AACA;AAtCA;;AAGA,SAAA,IAAA,IAAA,CAAA,EAAA,SAAA,CAAA,CAAA,CAAA,EAAA,OAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA;AAAA,aAAA,CAAA,EAAA,MAAA;AAoCA;;AACA,YAAA,OAAA,CAAA,cAAA;AACA,GAhwCA,CAkwCA;;;AACA,WAAA,iBAAA,GAAA;AACA,YAAA,IAAA,CAAA,mBAAA;AACA,QAAA,KAAA,KAAA,KAAA,CAAA,KAAA,SAAA,CAAA,QAAA,CAAA,CAAA;AACA,QAAA,YAAA,WAAA,SAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,aAAA,CAAA,EAAA,IAAA,IAAA,CAAA,EAAA,MAAA,GAAA,IAAA,CAAA,GAAA,CAAA;AACA,KAFA,EAEA,CAFA,CAAA;;AAIA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,IAAA,WAAA,CAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,EAAA,EAAA,SADA,CACA;;AACA,UAAA,MAAA,CAAA,EAAA,KAAA,KAAA,CAAA,EAAA,SAFA,CAEA;;AACA,UAAA,SAAA,IAAA;AAAA,UAAA,OAAA,IAAA,CAHA,CAIA;;AACA,YAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,KAAA,EAAA,EAAA;AACA,YAAA,KAAA,MAAA,CAAA,EAAA,EAAA;AACA,YAAA,SAAA,EAAA,EAAA,MAAA,KAAA,KAAA,EAAA,SAAA,EAAA;AACA,YAAA,GAAA,EAAA,EAAA,MAAA,KAAA,KAAA,EAAA,OAAA,EAAA;AACA,OALA,EALA,CAWA;;AACA,UAAA,WAAA,IAAA,IAAA,SAAA,IAAA,EAAA;AACA;AACA;AACA,WAAA,IAAA,EAAA,MAAA,GAAA,MAAA;AACA,gBAAA,CAAA,IAAA,EAAA;AACA,cAAA,CAAA,EAAA,EAAA,GAAA,MAAA;AACA,cAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,cAAA,QAAA,CAAA,KAAA,EAAA,EAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA;AAAA,SAAA;AACA;AACA;;AAEA,QAAA,cAAA,QAAA,EAAA,OA9BA,CA8BA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,KAAA,EAAA,EAAA,SADA,CACA;;AACA,UAAA,KAAA,MAAA,CAAA,EAAA,EAAA;;AACA,UAAA,GAAA,EAAA,EAAA,MAAA,KAAA,SAAA,EAAA,EAAA,MAAA,EAAA;AACA,cAAA,CAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,CADA,CAEA;AACA;AACA;;AACA,YAAA,OAAA,CAAA,mBAAA;AACA;;AAEA,WAAA,SAAA,GAAA;AACA,YAAA,IAAA,CAAA,WAAA;AACA,QAAA,SAAA,EAAA;AACA,QAAA,MAAA,GAAA,CAHA,CAGA;AACA;;AACA,QAAA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,KAAA,KAAA,CAAA,CAAA;AAAA,KAAA,CAAA;;AACA,QAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AAAA,aAAA,IAAA,CAAA,CAAA,CAAA;AAAA,YAAA,GAAA;AAAA;;AANA,iCAOA,CAPA;AAQA,UAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AAAA,eAAA,OAAA,CAAA,CAAA;AAAA,cAAA,GAAA;AAAA,OAAA,MAAA;AAAA,eAAA,GAAA;AAAA;;AACA,eAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,MAAA,CAAA,EAAA,KAAA,EAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA;AACA,SAFA;AAGA,OAJA;AAKA,iBAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,KAAA,KAAA,CAAA;AAAA,OAAA,CAAA;AAdA;;AAOA,SAAA,IAAA,IAAA,CAAA,CAAA,EAAA,SAAA,MAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,aAAA,CAAA;AAQA;;AACA,QAAA,mBAAA,KAAA,KAAA,MAAA,EAAA;AACA,QAAA,mBAAA,KAAA,KAAA,QAAA,EAAA,SAAA,mBAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAjBA,CAkBA;;AACA,QAAA,UAAA,GAAA,MAAA,OAAA,MAAA,EAAA,CAAA,CAAA;;AAnBA,iCAoBA,CApBA;AAqBA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,CAAA;;AAtBA,qCAuBA,CAvBA;AAwBA,YAAA,MAAA,CAAA,EAAA,KAAA,GAAA,GAAA,IAAA,MAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,KAAA,GAAA,GAAA,IAAA,MAAA,CAAA,EAAA,IAAA,KAAA,QAAA,EAAA;AACA,YAAA,OAAA,QAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,OAAA,QAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,QAAA,KAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,cAAA,MAAA,KAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;;AACA,cAAA,KAAA,IAAA,IAAA,KAAA,KAAA,EAAA;AACA,gBAAA,KAAA,KAAA,IAAA,CAAA,KAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA,gBAAA,MAAA,EAAA,EAAA,KAAA,GAAA,GAAA,EAAA,MAAA,IAAA,CAAA;AAAA,0BAAA;AAAA;AAAA,aAAA;AACA,WAHA,MAGA;AACA,kBAAA,IAAA,CAAA;AAAA,0BAAA;AAAA;AAAA,aAAA;AACA;AACA,SAVA;AA3BA;;AAuBA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AAAA,4BAAA,CAAA;;AAAA,kCAEA;AAaA;;AACA,cAAA,KAAA,CAAA,GAAA,UAAA;AACA,UAAA,QAAA,MAAA,IAAA,EAAA;AACA,UAAA,QAAA,GAAA,EAAA,QAAA,GAAA;AACA,UAAA,OAAA,kBAAA,KAAA,EAAA,CAAA,EAAA,KAAA,CAAA;AACA,kBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,KAAA,CAAA,SAAA,EAAA,OAAA;AA3CA;;AAoBA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AAAA,aAAA,CAAA;AAwBA;;AACA,YAAA,OAAA,CAAA,WAAA;AACA,GA31CA,CA61CA;;;AACA,WAAA,OAAA,GAAA;AACA,YAAA,IAAA,CAAA,SAAA;AACA,QAAA,YAAA,EAAA;AAAA,QAAA,YAAA,EAAA,CAFA,CAEA;AACA;;AACA,QAAA,SAAA,UAAA,KAAA,GAAA,IAAA;AACA,QAAA,gBAAA,GAAA;AACA,QAAA,aAAA,CAAA;AACA,QAAA,cAAA,CAAA;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,SAAA,EAAA,MAAA,IAAA,QAAA,CAAA,CAAA;AACA,UAAA,SAAA,GAAA,EAAA,SAAA,GAAA;AACA,UAAA,MAAA,EAAA,GAAA;AACA,UAAA,QAAA,EAAA,KAAA;AACA,UAAA,UAAA,CAAA,CAAA,IAAA,UAAA,CAAA,CAAA,IAAA,SAAA,EAAA,EAAA,OALA,CAKA;;AACA,UAAA,IAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,KAAA,EAAA,EAAA;AACA,UAAA,SAAA,EAAA,MAAA;AACA,UAAA,OAAA,EAAA,IAAA,CATA,CAUA;;AACA,UAAA,aAAA,aAAA,IAAA,CAAA,IAAA,IAAA,MAAA,WAAA,IAAA,UAAA,CAAA,EAAA;AACA,eAAA,CAAA;AACA;AACA;;AACA,UAAA,SAAA,EAAA,MAAA,CAfA,CAeA;;AACA,UAAA,UAAA,EAAA,OAAA,CAhBA,CAgBA;;AACA,UAAA,OAAA,EAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,CAAA,KAAA,CAAA,IAAA,EAAA,CAAA,KAAA,CAAA;AAAA,OAAA,CAAA;;AACA,UAAA,CAAA,KAAA,MAAA,EAAA;AACA,kBAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,IAAA,CAAA;AAAA,iBAAA,UAAA,MAAA;AAAA,gBAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,wBAAA;AAAA,kBAAA;AAAA,sBAAA;AAAA,gBAAA;AAAA,wBAAA;AAAA,oBAAA;AAAA,wBAAA;AAAA;AAAA,SAAA;AACA,OArBA,CAsBA;;;AACA,UAAA,UAAA,CAAA,IAAA,UAAA,CAAA,CAAA,EAAA;AACA,YAAA,EAAA,IAAA,KAAA,QAAA,EAAA;AACA,YAAA,CAAA,SAAA,EAAA,EAAA,IAAA,IAAA,CAAA,SAAA,EAAA,EAAA,MAAA,EAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,KAAA,KAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,gBAAA,KAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,iBAAA,GAAA,EAAA,EAAA,CAAA,CAAA,EAAA,KAAA,GAAA,EAAA,EAAA,CAAA,CAAA;AACA,mBAAA,EAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,qBAAA,EAAA,CAAA,MAAA,EAAA,IAAA,EAAA,CAAA,MAAA,EAAA;AAAA,aAAA,CAAA;AACA,gBAAA,KAAA,MAAA,EAAA;AACA,sBAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AACA,sBAAA,IAAA,CAAA;AAAA,qBAAA,UAAA,MAAA;AAAA,oBAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AAAA,4BAAA;AAAA,sBAAA;AAAA,0BAAA;AAAA,oBAAA;AAAA,4BAAA;AAAA,wBAAA;AAAA,4BAAA;AAAA;AAAA,aAAA;AACA;AACA,SAVA;AAWA;;AACA,UAAA,SAAA,CAAA,EAAA;AAAA;AACA,iBAAA,EAAA,KAAA,EAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,cAAA,MAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,cAAA,KAAA,GAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,KAAA,IAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,gBAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,cAAA,KAAA,GAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,KAAA,IAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,iBAAA,EAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,mBAAA,OAAA,EAAA,CAAA,CAAA,IAAA,OAAA,EAAA,CAAA,CAAA;AAAA,WAAA,CAAA;AACA,cAAA,KAAA,MAAA,EAAA;AACA,oBAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AACA,oBAAA,IAAA,CAAA;AAAA,mBAAA,UAAA,MAAA;AAAA,kBAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AAAA,0BAAA;AAAA,oBAAA;AAAA,wBAAA;AAAA,kBAAA;AAAA,0BAAA;AAAA;AAAA,WAAA;AACA,SAVA;AAWA;AACA,KAnDA;AAoDA,YAAA,GAAA,CAAA,6BAAA,UAAA;AACA,YAAA,SAAA,CA7DA,CA6DA;;AACA,qBAAA,SAAA,EA9DA,CA8DA;;AACA,QAAA,WAAA,EAAA,CA/DA,CA+DA;;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,IAAA,EAAA,EAAA;AACA;AACA,UAAA,IAAA,GAAA,GAAA,KAAA,GAAA,CAAA,GAAA,WAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,OAAA,GAAA,SAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,GAAA,IAAA;AACA;;AACA,UAAA,YAAA,EAAA,CAPA,CAOA;;AACA,cAAA,KAAA,CAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,QAAA,KAAA,CAAA,CAAA,CAAA;;AACA,YAAA,KAAA,IAAA,KAAA,SAAA,IAAA,KAAA,KAAA,KAAA,SAAA,EAAA;AACA,cAAA,EAAA,MAAA,IAAA,EAAA,EAAA,EAAA,KAAA,GAAA,EAAA,CADA,CACA;;AACA;AACA;;AACA,YAAA,KAAA,KAAA,IAAA,CAAA,KAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA,kBAAA,IAAA,CAAA,EAAA;;AACA,YAAA,IAAA,EAAA,IAAA,EAAA,MAAA,IAAA,EAAA,IAAA,EAAA,IAAA,KAAA,CAAA,IAAA,MAAA,EAAA,EAAA,MAAA,IAAA,EAAA,IAAA,MAAA,EAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,sBAAA,MAAA,KAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,KAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,KAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA,OAXA;AAYA,QAAA,SAAA,GAAA,SAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA,OAAA,EAAA,MAAA;AACA,UAAA,EAAA,OAAA,KAAA,SAAA,EAAA,OAAA,EAAA,OAAA;AACA,KAvBA;AAwBA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA,YAAA,OAAA,CAAA,SAAA;AACA,GAx7CA,CA07CA;;;AACA,WAAA,aAAA,GAAA;AACA,QAAA,YAAA,CAAA;AACA,MAAA,WAAA,EAAA,KAAA;AACA,QAAA,QAAA,YAAA,OAAA,GAAA,CAAA,GAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,KAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,GAAA;AACA,UAAA,MAAA,MAAA,IAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,GAFA,EAEA,IAFA,CAEA,QAFA,EAEA,GAFA;AAGA;AACA;;AAEA,IAAA,cAAA,EAAA,KAAA,CAAA,aAAA,EAz8CA,CA28CA;;AACA,WAAA,eAAA,GAAA;AACA,QAAA,QAAA,YAAA,OAAA,GAAA,CAAA,GAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,GAAA;AACA,UAAA,OAAA,SAAA,MAAA,CAAA,UAAA,CAAA,CAAA;AACA,UAAA,MAAA,MAAA,IAAA,QAAA,CAAA,IAAA,GAAA,CAAA;;AACA,UAAA,KAAA,IAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,EAAA;AAAA,eAAA,MAAA;AAAA,SAAA,MACA;AAAA,eAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AAAA;AACA,OAHA,MAGA,IAAA,QAAA,CAAA,KAAA,KAAA,EAAA;AACA,eAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,GAFA,EAEA,IAFA,CAEA,QAFA,EAEA,GAFA,CAAA;AAGA;AACA;AACA,GA39CA,CA69CA;;;AACA,WAAA,wBAAA,CAAA,SAAA,EAAA;AACA,QAAA,cAAA,SAAA,EAAA;AACA,QAAA,QAAA,YAAA,OAAA,GAAA,CAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,CAAA,IAAA,GAAA,EAAA,QAAA,CAAA,IAAA,GAAA;AACA,UAAA,OAAA,SAAA,MAAA,CAAA,UAAA,CAAA,CAAA;AACA,UAAA,MAAA,MAAA,IAAA,QAAA,CAAA,IAAA,GAAA,CAAA;;AACA,UAAA,KAAA,IAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,KAAA,EAAA;AAAA,eAAA,MAAA;AAAA,SAAA,MACA;AAAA,eAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AAAA;AACA,OAHA,MAGA,IAAA,QAAA,CAAA,KAAA,KAAA,EAAA;AACA,eAAA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,GAFA,EAEA,IAFA,CAEA,QAFA,EAEA,GAFA,CAAA;AAGA;AACA,KAZA;AAaA;;AAEA,WAAA,aAAA,GAAA;AACA,QAAA,YAAA,CAAA,CADA,CACA;;AACA,QAAA,YAAA,OAAA,EAAA;AACA,kBAAA,QAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,YAAA,KAAA,EAAA,EAAA;AAAA,iBAAA,IAAA,CAAA;AAAA,SAAA,MAAA;AAAA,iBAAA,CAAA;AAAA;AAAA,OAAA,EAAA,CAAA,CAAA;AACA,KAFA,MAEA;AACA,kBAAA,SAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA;;AACA,cAAA,QAAA,KAAA,CAAA,CAAA,EAAA,YAAA,CAAA;AACA,YAAA,YAAA,IAAA,QAAA,KAAA,EAAA;AACA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,gBAAA,CAAA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,IAAA;AACA,QAAA,WAAA,KAAA,KAAA,CAAA,GAAA,IAAA,CAAA,OAAA,CAAA,CAAA;AACA,QAAA,YAAA,GAAA,YAAA,QAAA,MAAA,GAAA,GAAA,CAAA;AACA,oBAAA,SAAA,GAAA,SAAA;AACA,kBAAA,SAAA,GAAA,SAAA;AACA,oBAAA,SAAA,GAAA,QAAA,CAhBA,CAiBA;;AACA,QAAA,EAAA,mBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,GAngDA,CAqgDA;;;AACA,WAAA,cAAA,CAAA,IAAA,EAAA;AACA,mBAAA,IAAA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,gBAAA,QAAA,MAAA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,gBAAA,CAAA;AACA,QAAA,QAAA,eAAA,CAAA,MAAA,SAAA,EAAA;AACA,cAAA,QAAA,eAAA,CAAA,EAAA,KAAA,EAAA;AACA;AACA,GA7gDA,CA+gDA;;;AACA,WAAA,cAAA,GAAA;AACA,cAAA,EAAA;AACA,mBAAA,CAAA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,IAAA;AACA,SAAA,QAAA,GAAA,aAAA,QAAA,GAAA,IAAA;AACA;AACA,GAthDA,CAwhDA;;;AACA,WAAA,aAAA,GAAA;AACA,YAAA,IAAA,CAAA,eAAA;AACA,SAAA,UAAA,CAAA,IAAA,EAFA,CAEA;;AACA,QAAA,QAAA,KAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA,CAAA;AACA,MAAA,WAAA,EAAA,KAAA;AACA,QAAA,OAAA,UAAA;AAAA,QAAA,OAAA,CAAA,CALA,CAKA;;AACA,QAAA,QAAA,EAAA,QAAA,CANA,CAMA;;AACA,QAAA,aAAA,EAAA;AAAA,QAAA,YAAA,EAAA;;AAPA,mCAQA,CARA;AASA,UAAA,KAAA,KAAA,CAAA,EAAA,KAAA;AAAA,UAAA,OAAA,QAAA,KAAA,CAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA,EAAA;AACA,WAAA,CAAA,EAAA,MAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,MAAA,CAAA;;AACA,UAAA,CAAA,WAAA,CAAA,CAAA,EAAA;AAAA,mBAAA,CAAA,IAAA,EAAA;AAAA,kBAAA,CAAA,IAAA,EAAA;AAAA;;AACA,WAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,QAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,QAAA,KAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,YAAA,MAAA,KAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;;AACA,YAAA,KAAA,IAAA,IAAA,KAAA,KAAA,EAAA;AACA,cAAA,KAAA,KAAA,IAAA,CAAA,KAAA,KAAA,EAAA,GAAA,KAAA,KAAA,CAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA;AACA,gBAAA,EAAA,EAAA,MAAA,GAAA,KAAA,KAAA,CAAA,MAAA,EAAA,EAAA,MAAA,CAAA;;AACA,cAAA,MAAA,EAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,kBAAA,EAAA,EAAA,KAAA,GAAA,CAAA,CAAA;;AACA,gBAAA,KAAA,CAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,mBAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CADA,CACA;AACA;;AACA,kBAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,mBAAA,CAAA,EAAA,KAAA,GAAA,EAAA,CALA,CAKA;;AACA,mBAAA,CAAA,EAAA,MAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,CAAA;AACA,mBAAA,CAAA,EAAA,MAAA,GAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,CAAA;AACA,mBAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,CAAA;AACA,mBAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,CAAA;AACA;;AACA,gBAAA,SAAA,MAAA,EAAA,EAAA,EAAA,EAAA,MAAA,EAAA;AACA,yBAAA,CAAA,EAAA,IAAA,CAAA;AAAA,4BAAA;AAAA;AAAA,eAAA,EADA,CAEA;;AACA,kBAAA,KAAA,CAAA,EAAA,CAAA,IAAA,IAAA,EAAA;AAAA,uBAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAAA,2BAAA,KAAA,CAAA,CAAA;AAAA;;AACA,kBAAA,KAAA,CAAA,EAAA,CAAA,IAAA,IAAA,EAAA;AAAA,uBAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAAA,2BAAA,KAAA,CAAA,CAAA;AAAA;;AACA,kBAAA,KAAA,CAAA,EAAA,CAAA,IAAA,IAAA,EAAA;AAAA,uBAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAAA,2BAAA,KAAA,CAAA,CAAA;AAAA;;AACA,kBAAA,KAAA,CAAA,EAAA,CAAA,IAAA,IAAA,EAAA;AAAA,uBAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAAA,2BAAA,KAAA,CAAA,CAAA;AAAA;AACA,aAPA,MAOA;AACA,kBAAA,IAAA,MAAA,EAAA,EAAA,EAAA;AACA,kBAAA,CAAA,UAAA,CAAA,EAAA,CAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,IAAA,EAAA;AACA,wBAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA;AAAA,4BAAA;AAAA;AAAA,eAAA;AACA;AACA;AACA,SA7BA,MA6BA;AACA,qBAAA,CAAA,EAAA,IAAA,CAAA;AAAA,wBAAA;AAAA;AAAA,WAAA;AACA;AACA,OApCA;AAbA;;AAQA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AAAA,cAAA,CAAA;AA0CA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,CAAA,WAAA,CAAA,CAAA,EAAA;;AACA,UAAA,CAAA,WAAA,CAAA,EAAA,MAAA,IAAA,UAAA,CAAA,EAAA,MAAA,EAAA;AACA,YAAA,IAAA,UAAA,CAAA,EAAA,OAAA,CAAA,GAAA,GAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CAAA;AACA,mBAAA,CAAA,IAAA,UAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,CAAA,EAAA,CAAA,IAAA,EAAA;AACA;;AACA,cAAA,KAAA,CAAA,GAAA,qBAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,iBAAA,kBAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;AACA,UAAA,cAAA,EAAA;AACA,cAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,cAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EADA,CACA;;AACA,kBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,cAAA,EAFA,CAEA;AACA;;AACA,cAAA,KAAA,CAAA,GAAA,gBAAA;AACA,gBAAA,CAAA,EAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,gBAAA,kBAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;AACA,YAAA,aAAA,EAAA;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,aAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EADA,CACA;;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,aAAA,EAFA,CAEA;AACA;AACA,OANA;AAOA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,UAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA,EA1EA,CA0EA;;AACA,qBAAA,QAAA,EAAA,QAAA;AACA,YAAA,OAAA,CAAA,eAAA;AACA,GAtmDA,CAwmDA;;;AACA,WAAA,YAAA,GAAA;AACA,QAAA,EAAA,WAAA,EAAA,QAAA,CAAA,QAAA,CAAA,EAAA,OADA,CACA;;AACA,QAAA,MAAA,CAAA,WAAA,EAAA,MAAA,GAFA,CAEA;AACA;;AACA,QAAA,OAAA,CAAA,QAAA,KAAA;AACA,QAAA,SAAA,cAAA,KAAA;AACA,QAAA,OAAA,aAAA,KAAA;AACA,QAAA,WAAA,IAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EACA,EADA,CACA,OADA,EACA,SADA,EAEA,EAFA,CAEA,WAFA,EAEA,YAAA;AACA,UAAA,0CAAA;AACA,KAJA,EAKA,IALA,CAKA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CALA,CAAA;AAMA,QAAA,OAAA,GAAA,CAbA,CAaA;;AACA,QAAA,MAAA,OAAA,IAAA,GAAA,MAAA,GAAA,KAAA,CAdA,CAcA;;AACA,QAAA,MAAA,GAAA,EAAA;AAAA,YAAA,GAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AAAA,KAAA,CAAA;AAAA,SACA,IAAA,MAAA,EAAA,EAAA;AAAA,cAAA,GAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AAAA,WACA,IAAA,MAAA,CAAA,EAAA;AAAA,gBAAA,GAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AAAA,SAAA,CAAA;AAAA,aACA;AAAA,kBAAA,GAAA,GAAA,CAAA;AAAA,WAlBA,CAkBA;;;AACA,QAAA,IAAA,MAAA,KAAA,GAAA,MAAA,CAnBA,CAmBA;;AACA,QAAA,IAAA,CAAA;AAAA,QAAA,IAAA,CAAA,CApBA,CAoBA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,cAAA,EAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,OAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,IAAA,EAAA,IAAA,CAAA,cAAA,EAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,QAAA,OAAA,OAAA,GAAA,GAAA,GAAA,IAAA,CAAA,GAAA,IAAA,EAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EACA,IADA,CACA,cADA,EACA,GAAA,OAAA,CAAA,EAAA,CAAA,CADA,EACA,IADA,CACA,kBADA,EACA,IADA,EACA,IADA,CACA,QADA,EACA,SADA,EAxBA,CA0BA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,MAAA,GAAA,KAAA,CAAA;;AACA,UAAA,MAAA,CAAA,EAAA;AACA,iBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,KAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,IAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,GAAA,IAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,GAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,iBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,KAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,IAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,GAAA,IAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,KAAA;AACA;AACA;;AACA,QAAA,SAAA,KAAA,KAAA,EAAA,EAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,IAAA,IAAA,EACA,IADA,CACA,mBADA,EACA,kBADA,EAEA,IAFA,CAEA,WAFA,EAEA,GAAA,IAAA,IAAA,EAAA,CAAA,CAFA,EAEA,IAFA,CAEA,SAAA,KAFA;AAGA;;AACA,QAAA,OAAA,SAAA,IAAA,GAAA,OAAA,EAAA,CAzCA,CA0CA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,cAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,IAAA,CAAA,OAAA,EAAA,KAAA,KAAA,GAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,MAAA,GAAA,EAAA,EACA,IADA,CACA,cADA,EACA,IADA,EACA,IADA,CACA,QADA,EACA,MADA,EACA,IADA,CACA,QADA,EACA,aADA,EAEA,IAFA,CAEA,MAFA,EAEA,aAAA,KAFA,EAEA,IAFA,CAEA,SAFA,EAEA,CAAA,eAAA,KAFA;AAGA;AACA,GAxpDA,CA0pDA;;;AACA,WAAA,gBAAA,CAAA,QAAA,EAAA,QAAA,EAAA;AACA,QAAA,WAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,CAAA;AACA,QAAA,CAAA,QAAA,EAAA,WAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,QAAA,CAAA,QAAA,EAAA,WAAA,CAAA,QAAA,EAAA,SAAA,CAAA;AACA,QAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,OAAA,EAAA,OAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,aAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,QAAA,KAAA,GAAA,CAAA,KAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,CAAA,KAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,eAAA,CAAA;AACA,QAAA,QAAA,KAAA,KAAA,CAAA,KAAA,EAAA,EAAA,KAAA,EAAA,IAAA,GAAA,GAAA,KAAA,EAAA;AACA,QAAA,KAAA,YAAA,KAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA;AACA,QAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,EAAA,EAAA,KAAA,EAAA,CAAA,CAAA;AACA,QAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA;AACA,GA3qDA,CA6qDA;;;AACA,WAAA,WAAA,GAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,eAAA,GAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,GAAA,KAAA,CAAA,CAAA;AAAA,QAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,GAAA,KAAA,CAAA,CAAA;AAEA,OAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,UAAA,gCAAA,KAAA,CAAA,cAAA,KAAA,CAAA,sBAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,MAAA;AACA,SAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,UAAA,KAAA,KAAA,UAAA,CAAA,UAAA,CAAA,EAAA;;AACA,UAAA,OAAA,WAAA,IAAA,OAAA,YAAA,EAAA;AACA,YAAA,2FAAA;AACA;;AACA,UAAA,OAAA,QAAA,EAAA;AACA;AACA,cAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA;AACA,KAZA;AAcA,OAAA,KAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA;AACA;AACA,UAAA,GAAA,IAAA,CAAA,IAAA,MAAA,UAAA,EAAA;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,CAAA;AAAA,YAAA,OAAA,GAAA,KAAA,CAAA,CAAA;AACA,YAAA,OAAA,KAAA,GAAA,CAAA,KAAA,IAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,CAAA;;AACA,YAAA,OAAA,CAAA,EAAA;AACA,cAAA,OAAA,GAAA,IAAA,GAAA,qBAAA,EAAA;AACA,yBAAA,OAAA,CAAA,UAAA,EAAA,CAAA,KAAA,KAAA,EAAA,KAAA,MAAA,CAAA;AACA;AACA;AACA,KAVA;AAWA,GA5sDA,CA8sDA;;;AACA,WAAA,aAAA,GAAA;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,KAAA,UAAA,CAAA;AACA,QAAA,OAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,WAAA,CAAA;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,QAAA,EAAA,EAAA,EAAA;AACA,OAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,QAAA,OAAA,MAAA,SAAA,CAAA,MAAA,CAAA;;AACA,QAAA,SAAA,MAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,WAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AACA,KAHA,MAGA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,WAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,EAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AACA;;AACA,QAAA,KAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,KAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,MAAA,CAAA,SAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA;AACA,QAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,QAAA,OAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,IAAA,EAAA,EAAA,IAAA,EAAA,CAAA;AACA,QAAA,QAAA,GAAA,OAAA,GAAA,GAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AACA,QAAA,KAAA,YAAA,KAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA;AACA,UAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,KAAA;AACA,GAruDA,CAuuDA;;;AACA,WAAA,eAAA,GAAA;AACA,QAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,KAAA,UAAA,CAAA,CAFA,CAEA;;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA,CAHA,CAGA;;AACA,QAAA,OAAA,MAAA,SAAA,CAAA,MAAA,CAAA,CAJA,CAIA;;AACA,QAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,CALA,CAKA;;AACA,QAAA,WAAA,MAAA,MAAA,CAAA,GAAA,EAAA,cAAA,CAAA;AACA,aAAA,IAAA,CAAA,WAAA,EAAA,MAAA,IAAA,CAAA,WAAA,CAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA;AACA,QAAA,SAAA,GAAA,IAAA,KAAA,GAAA,CAAA,KAAA,EAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,OAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA;AACA,QAAA,OAAA,CAAA,MAAA,MAAA,CAAA,OAAA,EAAA,IAAA,CAAA,kBAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA;AAEA,OAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,UAAA,GAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAFA,CAGA;;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,UAAA,OAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,IAAA,EAAA,EAAA,IAAA,EAAA,CAAA;AACA,YAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,KAAA,YAAA,GAAA,OAAA,GAAA,GAAA,KAAA,EAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAVA,CAWA;;AACA,aAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,aAAA,KAAA,CAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,IAAA,EAAA,EAAA,IAAA,EAAA,CAAA;AACA,YAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,GAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,WAAA,YAAA,GAAA,OAAA,GAAA,GAAA,KAAA,EAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA;AACA,eAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,KAAA;AACA,KAnBA;AAqBA,OAAA,KAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA;AACA;AACA,YAAA,SAAA,CAAA,QAAA,EAAA,MAAA;AACA,YAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,YAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,YAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,eAAA,CAAA,EALA,CAMA;;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,eAAA,CAAA;AACA,KAVA;AAWA;;AAEA,WAAA,kBAAA,GAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,KAAA,UAAA,CAAA;AACA,QAAA,QAAA,MAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,YAAA,MAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,OAAA,MAAA,MAAA,CAAA,MAAA,CAAA;AACA,QAAA,SAAA,KAAA,KAAA,CAAA,KAAA,IAAA,CAAA,aAAA,CAAA,CAAA;;AACA,QAAA,OAAA,OAAA,CAAA,EAAA,GAAA,IAAA,OAAA,OAAA,CAAA,EAAA,GAAA,EAAA;AAAA,aAAA,OAAA;AAAA;;AAEA,OAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,SAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,UAAA,IAAA,OAAA,OAAA,MAAA,GAAA,CAAA,CAAA;AACA,UAAA,OAAA,KAAA,KAAA,CAAA,EAAA,GAAA,GAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAA;;AACA,UAAA,OAAA,CAAA,EAAA;AAAA,eAAA,IAAA,CAAA;AAAA,eAAA,CAAA;AAAA,eAAA;AAAA,SAAA;AAAA,OAAA,MAAA;AAAA;AAAA;;AACA,cAAA,KAAA,CAAA,GAAA,UAAA;AACA,UAAA,IAAA,MAAA,QAAA,MAAA,CAAA,CAAA;AACA,YAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,gBAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,UAAA,OAAA,GAAA,MAAA,IAAA,GAAA,cAAA,EAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,WAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,KAAA;AACA,KAbA;AAeA,OAAA,KAAA,CAAA,EAAA,CAAA,KAAA,EAAA,YAAA;AACA,UAAA,OAAA,GAAA,MAAA,IAAA,GAAA,cAAA,EAAA,CAAA;AACA,UAAA,IAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,OAAA,CAAA,CAAA;AACA,UAAA,IAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,UAAA,OAAA,EAAA,CAAA,GAAA,EAAA,CAAA,GAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAAA,GAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,GAAA,GAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AACA,UAAA,KAAA,YAAA,KAAA,GAAA,GAAA,GAAA,EAAA,CAAA,GAAA,GAAA,GAAA,EAAA,CAAA,GAAA,GAAA;AACA,WAAA,IAAA,CAAA,aAAA,EAAA,KAAA,SAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA,EAAA,IAAA,CAAA,KAAA;AACA,KATA;AAUA;;AAEA,WAAA,iBAAA,CAAA,KAAA,EAAA,SAAA,EAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,QAAA,MAAA,MAAA,GAAA,CAAA,EAAA,OAAA,EAAA;;AACA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,eAAA,EAAA,CADA,CACA;;AACA,UAAA,SAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,MAAA,CAAA,EAAA,GAAA;AACA,YAAA,KAAA;;AACA,UAAA,MAAA,OAAA,KAAA,CAAA,GAAA,CAAA;;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,CAAA,IAAA,CAAA,CAAA;AAAA,aAAA,CAAA,IAAA,CAAA;AAAA,OAAA;AACA,YAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,CAAA,IAAA,CAAA,CAAA;AAAA,aAAA,CAAA,IAAA,CAAA;AAAA,OAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA;AAAA,UAAA,KAAA,CAAA,IAAA,CAAA,CAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,QAAA,MAAA,IAAA,IAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,IAAA;AAAA,YAAA,QAAA,IAAA;;AACA,aAAA,IAAA,KAAA,CAAA,EAAA,KAAA,MAAA,MAAA,EAAA,IAAA,EAAA;AACA,cAAA,OAAA,MAAA,EAAA,CAAA;;AACA,cAAA,KAAA,KAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,GAAA,EAAA;AACA,mBAAA,IAAA;AACA,kBAAA,KAAA,KAAA,IAAA,GAAA,GAAA,KAAA,GAAA,GAAA,KAAA,KAAA;AACA,oBAAA,EAAA;AACA;AACA;AACA;;AACA,YAAA,CAAA,IAAA,EAAA;AACA,kBAAA,KAAA,CAAA,wBAAA;AACA,iBAAA,EAAA;AACA;;AACA,cAAA,IAAA,KAAA,CAAA,GAAA,CAAA;;AACA,YAAA,aAAA,KAAA,EAAA;AACA,cAAA,OAAA,KAAA,KAAA,CAAA,CAAA,IAAA,CAAA,CAAA,GAAA,EAAA,EAAA,CAAA,IAAA,CAAA,CAAA,GAAA,EAAA,CAAA;;AACA,cAAA,QAAA,SAAA,IAAA,KAAA,MAAA,KAAA,KAAA,EAAA;AACA,yBAAA,IAAA,CAAA;AAAA,mBAAA,CAAA,IAAA,CAAA,CAAA;AAAA,mBAAA,CAAA,IAAA,CAAA;AAAA,aAAA;AACA,iBAAA,CAAA,IAAA,CAAA,CAAA,EAAA,KAAA,CAAA,IAAA,CAAA,CAAA;AACA;AACA,SANA,MAMA;AACA,uBAAA,IAAA,CAAA;AAAA,iBAAA,CAAA,IAAA,CAAA,CAAA;AAAA,iBAAA,CAAA,IAAA,CAAA;AAAA,WAAA;AACA;;AACA,cAAA,MAAA,CAAA,KAAA,EAAA,CAAA;;AACA,YAAA,MAAA,SAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,+BAAA;AACA;AACA;AACA;;AACA,cAAA,QAAA,YAAA,CAAA;AACA;;AACA,WAAA,MAAA,IAAA,EAAA,CAAA,CAAA;AACA,GA52DA,CA82DA;;;AACA,WAAA,YAAA,GAAA;AACA,YAAA,IAAA,CAAA,cAAA;AACA,QAAA,QAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,QAAA,CAAA,IAAA,EAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,MAAA;AAAA,KAAA,CAAA;AACA,UAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,QAAA,EAAA,KAAA,IAAA,QAAA,EAAA,KAAA,CAAA;AAAA,KAAA;;AAHA,mCAIA,CAJA;AAKA,UAAA,KAAA,EAAA;AAAA,UAAA,KAAA,MAAA,CAAA,EAAA,KAAA;AACA,YAAA,EAAA,EAAA,MAAA,GAAA,QAAA,EAAA,CAAA,CANA,CAMA;;AACA,YAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,UAAA,MAAA,CAAA,EAAA,MAAA,IAAA,QAAA,CAAA,CAAA;AACA,YAAA,WAAA,EAAA,EAAA,GAAA,IAAA,CAAA,OAAA;AACA,OAHA;AAIA,UAAA,GAAA,MAAA,EAAA,MAAA,EAAA,EAAA,MAAA,GAAA,GAAA,GAAA,CAAA,EAAA,IAAA,CAAA;AACA,UAAA,MAAA,EAAA,EAAA,MAAA,GAAA,EAAA,EAAA,MAAA,EAAA,EAAA,MAAA,GAAA,EAAA;AACA,YAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AAbA;;AAIA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AAAA,cAAA,CAAA;AAUA;;AACA,YAAA,OAAA,CAAA,cAAA;AACA,GA/3DA,CAi4DA;;;AACA,WAAA,yBAAA,GAAA;AACA,YAAA,IAAA,CAAA,2BAAA;AACA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,CAAA,EAAA,MAAA,EAAA,EAAA,MAAA,GAAA,QAAA,CAAA,CAAA,CADA,CACA;;AACA,aAAA,EAAA,MAAA,IAAA,EAAA;AACA,KAHA,CAAA;AAIA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,KAAA;AACA,QAAA,QAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,aAAA,CAAA,EAAA,aAAA,CAAA,IAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AACA,mBAAA,CAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,KAAA,KAAA,CAAA,EAAA,KAAA;AACA,YAAA,KAAA,CAAA,EAAA,IAAA,KAAA,QAAA,EAAA;AACA,YAAA,KAAA,KAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,MAAA,CAAA,EAAA,MAAA;AAAA,SAAA,CAAA;AACA,YAAA,UAAA,GAAA,GAAA,CAAA,EAAA,CAAA;;AACA,YAAA,MAAA,EAAA,EAAA,MAAA,IAAA,OAAA,EAAA;AACA;AACA,eAAA,CAAA,EAAA,GAAA,GAAA,KAAA,CAAA,EAAA,GAAA,GAAA,KAAA,CAAA,EAAA,GAAA,GAAA,CAAA,GAAA,CAAA;AACA,gBAAA,EAAA,EAAA,MAAA,GAAA,UAAA,CAAA;AACA;AACA;;AACA,UAAA,MAAA,CAAA,EAAA,QAAA,GAAA,CAAA,wBAAA,UAAA;AACA;;AACA,YAAA,OAAA,CAAA,2BAAA;AACA,GA15DA,CA45DA;;;AACA,WAAA,2BAAA,GAAA;AACA,YAAA,IAAA,CAAA,6BAAA;AACA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,IAAA,EAAA;AAAA,KAAA,CAAA;AACA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,KAAA;AACA,QAAA,QAAA,GAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,aAAA,CAAA,EAAA,aAAA,CAAA,IAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AACA,mBAAA,CAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,KAAA,EAAA,EAAA;AACA,YAAA,WAAA,KAAA,CAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,MAAA,CAAA,EAAA,MAAA;AAAA,SAAA,CAAA;AACA,YAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA;;AACA,YAAA,KAAA,CAAA,EAAA,MAAA,IAAA,OAAA,EAAA;AACA;AACA,eAAA,CAAA,EAAA,GAAA,GAAA,KAAA,CAAA,EAAA,GAAA,GAAA,KAAA,CAAA,EAAA,GAAA,GAAA,CAAA,GAAA,CAAA;AACA,eAAA,CAAA,EAAA,MAAA,GAAA,KAAA,KAAA,CAAA,UAAA,CAAA,CAAA;AACA;AACA;;AACA,UAAA,MAAA,CAAA,EAAA,QAAA,GAAA,CAAA,6BAAA,UAAA;AACA,UAAA,MAAA,QAAA,CAAA,EAAA,QAAA,KAAA,CAAA,2CAAA;AACA;;AACA,YAAA,OAAA,CAAA,6BAAA;AACA,GAl7DA,CAo7DA;;;AACA,WAAA,oBAAA,GAAA;AACA,SAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,CAAA,EAAA,GAAA,EAAA;AACA,QAAA,MAAA,GAAA,KAAA,KAAA,CAAA,EAAA,MAAA,GAAA,EAAA,GAAA,GAAA,CAAA,CAAA;AACA,UAAA,EAAA,MAAA,GAAA,EAAA,EAAA,EAAA,MAAA,GAAA,EAAA;AACA,KAJA;AAKA;;AAEA,WAAA,IAAA,GAAA;AACA,YAAA,IAAA,CAAA,MAAA;AACA,iBAAA,EAAA;AACA,QAAA,YAAA,CAAA;AACA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,KAAA;;AAJA,mCAKA,CALA;AAMA,UAAA,KAAA,KAAA,CAAA,EAAA,KAAA;AACA,UAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,KAAA,CAAA,EAAA,EAAA;;AACA,UAAA,KAAA,CAAA,EAAA,KAAA,KAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,cAAA,CAAA,EAAA,CAAA;;AACA,cAAA,OAAA,KAAA,GAAA,CAAA,EAAA,EAAA,cAAA,EAAA,EAAA,EAAA,EAAA,aAAA,EAAA,CAAA;;AACA,cAAA,SAAA,EAAA,EAAA;AAAA,gBAAA,EAAA;AAAA,gBAAA,CAAA;AAAA;;AACA,cAAA,SAAA,cAAA,EAAA,EAAA;AAAA,gBAAA,EAAA;AAAA,gBAAA,WAAA;AAAA;;AACA,cAAA,SAAA,EAAA,EAAA;AAAA,gBAAA,CAAA;AAAA,gBAAA,EAAA;AAAA;;AACA,cAAA,SAAA,aAAA,EAAA,EAAA;AAAA,gBAAA,UAAA;AAAA,gBAAA,EAAA;AAAA;;AACA,qBAAA,IAAA,CAAA;AAAA,mBAAA,KAAA,CAAA,EAAA,KAAA;AAAA,kBAAA,EAAA;AAAA,gBAAA;AAAA;AAAA,WAAA;AACA;;AACA;AACA;;AACA,UAAA,SAAA,EAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA,EAAA,KAAA,EAAA;AACA,eAAA,CAAA,EAAA,KAAA,GAAA,SAAA;AACA,eAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AACA;AACA;;AACA,UAAA,YAAA,IAAA;AAAA,UAAA,YAAA;AACA,WAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,MAAA,GAAA,SAAA,EAAA;AACA,sBAAA,MAAA,CAAA,EAAA,MAAA;AACA,gBAAA,CAAA;AACA;AACA,OALA,EA7BA,CAmCA;;AACA,UAAA,QAAA,SAAA,IAAA,KAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA;AACA,eAAA,CAAA,EAAA,KAAA,GAAA,SAAA;AACA,qBAAA,IAAA,CAAA;AAAA,mBAAA,SAAA;AAAA,kBAAA,EAAA;AAAA,eAAA,EAAA;AAAA,eAAA;AAAA,WAAA;AACA,uBAAA,CAAA;AACA,SANA,CAOA;;;AACA,YAAA,MAAA,GAAA,EAAA,KAAA,IAAA,SAAA,EAAA;AACA,gBAAA,GAAA,EAAA,KAAA,GAAA,KAAA,CAAA,EAAA,KAAA;AACA,SAFA,MAEA;AACA,cAAA,UAAA,MAAA,GAAA,EAAA,KAAA;AACA,cAAA,SAAA,EAAA,IAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,mBAAA,EAAA,KAAA,IAAA,KAAA,CAAA,EAAA,KAAA;AACA,WAFA,CAAA;AAGA,cAAA,WAAA,EAAA,IAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,mBAAA,EAAA,KAAA,IAAA,OAAA;AACA,WAFA,CAAA;AAGA,cAAA,UAAA,OAAA,MAAA;AACA,cAAA,YAAA,SAAA,MAAA,CATA,CAUA;;AACA,cAAA,WAAA,SAAA,EAAA;AACA,kBAAA,GAAA,EAAA,KAAA,GAAA,KAAA,CAAA,EAAA,KAAA;AACA,uBAAA,CAAA;AACA,yBAAA,CAAA;AACA,WAfA,CAgBA;;;AACA,cAAA,MAAA,GAAA,EAAA,MAAA,IAAA,EAAA,IAAA,UAAA,CAAA,IAAA,YAAA,CAAA,EAAA;AACA,gBAAA,CAAA,MAAA,GAAA,EAAA,UAAA,EAAA;AACA,oBAAA,GAAA,EAAA,UAAA,GAAA,YAAA,CAAA;AACA,aAFA,MAEA;AACA,oBAAA,GAAA,EAAA,UAAA,IAAA,YAAA,CAAA;AACA;AACA;AACA;AACA;;AACA,UAAA,MAAA,GAAA,EAAA,IAAA,EAAA,MAAA,GAAA,EAAA,IAAA,IAAA,KAAA,CAAA,EAAA,IAAA;;AACA,UAAA,KAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,YAAA,KAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA;;AACA,YAAA,MAAA,GAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA;AACA,cAAA,KAAA,CAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,KAAA,EAAA,IAAA,EAAA;;AACA,cAAA,KAAA,CAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,KAAA,EAAA,IAAA,EAAA;;AACA,qBAAA,IAAA,CAAA;AAAA,mBAAA,KAAA,CAAA,EAAA,KAAA;AAAA,kBAAA,EAAA;AAAA,iBAAA;AAAA;AAAA,WAAA;AACA,SALA,MAKA;AACA,cAAA,MAAA,GAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,iBAAA,MAAA,GAAA,EAAA,EAAA;AACA,gBAAA,SAAA,EAAA,EAAA,KAAA,KAAA,SAAA,EAAA,SAAA,EAAA,EAAA,KAAA,GAAA,KAAA,CAAA,EAAA,KAAA;AACA,WAJA,CAKA;;;AACA,qBAAA,IAAA,CAAA;AAAA,mBAAA,KAAA,CAAA,EAAA,KAAA;AAAA,kBAAA,GAAA;AAAA,eAAA,EAAA;AAAA,eAAA;AAAA,WAAA;AACA;AACA;AAzFA;;AAKA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AAAA,0BAAA,CAAA;;AAAA,gCAeA;AAsEA;;AACA,YAAA,OAAA,CAAA,MAAA;AACA,mBAAA,SAAA;AACA;;AAEA,WAAA,cAAA,CAAA,SAAA,EAAA;AACA,YAAA,IAAA,CAAA,gBAAA;;AADA,mCAEA,CAFA;AAGA,UAAA,YAAA,EAAA,IAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,KAAA,CAAA;AACA,OAFA,CAAA;;AAGA,UAAA,UAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,eAAA,WAAA,SAAA,EAAA,CAAA,CAAA;AACA,YAAA,QAAA,GAAA,MAAA,KAAA,MAAA,KAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,YAAA,GAAA,MAAA,KAAA,MAAA,KAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,IAAA,UAAA,YAAA,EAAA,KAAA,EAAA,SAAA,CAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,SAAA;AACA;AAZA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,EAAA,GAAA,EAAA;AAAA,cAAA,CAAA;AAWA;;AACA,WAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,YAAA,OAAA,CAAA,gBAAA;AACA,GA5iEA,CA8iEA;;;AACA,WAAA,UAAA,CAAA,SAAA,EAAA,SAAA,EAAA;AACA,QAAA,eAAA,EAAA;AACA,QAAA,OAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,UAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,KAAA,UAAA,CAAA,EAAA,CAAA;AACA,UAAA,KAAA,UAAA,CAAA,EAAA,CAAA;AACA,UAAA,OAAA,UAAA,CAAA,EAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA,EAAA,UAAA,IAAA,CAAA;AACA,mBAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,EAAA,CAAA,CAAA;;AACA,UAAA,IAAA,CAAA,GAAA,UAAA,MAAA,EAAA;AACA,YAAA,KAAA,UAAA,IAAA,CAAA,EAAA,CAAA;AACA,YAAA,KAAA,UAAA,IAAA,CAAA,EAAA,CAAA;AACA,YAAA,QAAA,KAAA,KAAA,CAAA,KAAA,EAAA,EAAA,KAAA,EAAA,CAAA;AACA,YAAA,aAAA,KAAA,IAAA,CAAA,CAAA;AACA,YAAA,SAAA,aAAA,GAAA,GAAA,KAAA,MAAA,KAAA,GAAA,GAAA,SAAA;;AACA,YAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,CAAA,CAAA;AACA;;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,KAAA,EAAA,EAAA,KAAA,EAAA,CAAA,CATA,CAUA;;AACA,YAAA,OAAA,CAAA,IAAA,OAAA,CAAA,IAAA,UAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA;AACA,cAAA,MAAA,CAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA;AACA,cAAA,MAAA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,MAAA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA;AACA,iBAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,GAAA,IAAA;AACA,iBAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,GAAA,IAAA;;AACA,cAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,oBAAA,CAAA,CAAA;AACA;;AACA,iBAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,GAAA,IAAA;AACA,iBAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,GAAA,IAAA;AACA,uBAAA,IAAA,CAAA,CAAA,GAAA,EAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA,GAAA,CAAA,EAZA,CAaA;AACA,SAdA,MAcA,IAAA,OAAA,CAAA,IAAA,UAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA;AACA,cAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA;AACA,iBAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,GAAA,IAAA;AACA,iBAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,GAAA,IAAA;AACA,uBAAA,IAAA,CAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA;AACA;AACA;;AACA,WAAA,YAAA;AACA,GA3lEA,CA6lEA;;;AACA,WAAA,SAAA,CAAA,MAAA,EAAA,KAAA,EAAA,SAAA,EAAA;AACA,YAAA,KAAA,CAAA,GAAA,eAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,QAAA,cAAA,IAAA,CAFA,CAEA;;AACA,YAAA,SAAA,CAAA,CAHA,CAGA;;AACA,gBAAA,aAAA,CAAA,CAJA,CAIA;;AACA,QAAA,cAAA,CAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,EAAA;AAAA,eAAA,CAAA;AAAA;;AACA,qBAAA,KAAA,KAAA,CAAA,EAAA,CAAA,IAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,IAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,QAAA,WAAA,GAAA,CAAA,OAAA,cAAA,EAAA,IAAA,SAAA,CAAA;AACA,QAAA,kBAAA,EAAA;AAAA,QAAA,mBAAA,EAAA;AACA,QAAA,OAAA,OAAA,MAAA,GAAA,CAAA;AACA,QAAA,SAAA,cAAA,OAAA,MAAA,CAbA,CAeA;;AACA,QAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA;AAAA,QAAA,CAAA;AACA,QAAA,QAAA,KAAA,KAAA,CAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,QAAA,QAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,WAAA;AAAA,QAAA,QAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,WAAA;AACA,oBAAA,IAAA,CAAA;AAAA,WAAA,KAAA;AAAA,WAAA;AAAA,KAAA;AACA,QAAA,SAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,WAAA;AAAA,QAAA,SAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,WAAA;AACA,qBAAA,OAAA,CAAA;AAAA,WAAA,MAAA;AAAA,WAAA;AAAA,KAAA,EArBA,CAuBA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,IAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA;;AACA,UAAA,CAAA,EAAA;AAAA,uBAAA,KAAA,IAAA,CAAA,IAAA,EAAA,GAAA,QAAA,CAAA;AAAA,OAFA,CAEA;;;AACA,UAAA,QAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,QAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,QAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,QAAA,OAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,cAAA,KAAA,KAAA,CAAA,QAAA,KAAA,EAAA,QAAA,KAAA,CAAA;AACA,UAAA,SAAA,KAAA,IAAA,CAAA,KAAA,GAAA,CAAA,IAAA,MAAA,EAAA,CAAA,IAAA,QAAA,IAAA,CAAA,GAAA,KAAA,GAAA,WAAA;AACA,cAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,EAAA,QAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,sBAAA,IAAA,CAAA;AAAA,aAAA,KAAA;AAAA,aAAA;AAAA,OAAA;AACA,eAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,EAAA,SAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,uBAAA,OAAA,CAAA;AAAA,aAAA,MAAA;AAAA,aAAA;AAAA,OAAA;AACA,KAnCA,CAqCA;;;AACA,QAAA,OAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA;;AACA,QAAA,CAAA,EAAA;AAAA,qBAAA,KAAA,IAAA,CAAA,IAAA,EAAA,GAAA,QAAA,CAAA;AAAA,KAvCA,CAuCA;;;AACA,YAAA,KAAA,KAAA,CAAA,OAAA,OAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,OAAA,OAAA,CAAA,EAAA,CAAA,IAAA,CAAA,CAAA;AACA,YAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,EAAA,QAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,oBAAA,IAAA,CAAA;AAAA,WAAA,KAAA;AAAA,WAAA;AAAA,KAAA;AACA,aAAA,IAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,EAAA,SAAA,IAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,qBAAA,OAAA,CAAA;AAAA,WAAA,MAAA;AAAA,WAAA;AAAA,KAAA,EA5CA,CA8CA;;AACA,QAAA,QAAA,QAAA,gBAAA,CAAA;AACA,QAAA,OAAA,QAAA,eAAA,CAAA;AACA,WAAA,KAAA,SAAA,CAAA,KAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,WAAA,MAAA,QAAA,IAAA,EAAA,CAAA,CAAA;AACA,GAjpEA,CAmpEA;;;AACA,WAAA,aAAA,CAAA,MAAA,EAAA,KAAA,EAAA,SAAA,EAAA;AACA,YAAA,KAAA,CAAA,GAAA,eAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,YAAA,SAAA,CAAA;AACA,QAAA,cAAA,OAAA,KAAA;AACA,gBAAA,aAAA,CAAA;AACA,QAAA,cAAA,OAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA;AAAA,aAAA,EAAA,CAAA,CAAA;AAAA,aAAA,EAAA,CAAA;AAAA,OAAA;AACA,KAFA,CAAA;AAGA,QAAA,QAAA,KAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,QAAA,WAAA,CAAA,CAAA;AACA,QAAA,cAAA,MAAA,IAAA,GAAA,cAAA,EAAA;AACA,QAAA,WAAA,GAAA,CAAA,OAAA,cAAA,EAAA,IAAA,SAAA,CAAA;AACA,QAAA,kBAAA,EAAA;AAAA,QAAA,mBAAA,EAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,WAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,CAAA,CAAA;AACA,UAAA,OAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,IAAA,GAAA,CAAA;AACA,UAAA,KAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,IAAA,GAAA,CAAA;AACA,UAAA,QAAA,KAAA,KAAA,CAAA,KAAA,CAAA,GAAA,GAAA,CAAA,EAAA,KAAA,CAAA,GAAA,GAAA,CAAA,CAAA;AACA,UAAA,SAAA,KAAA,IAAA,CAAA,KAAA,GAAA,CAAA,CAAA,EAAA,CAAA,IAAA,QAAA,IAAA,CAAA,GAAA,KAAA,GAAA,WAAA;AACA,UAAA,QAAA,MAAA,CAAA,GAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,UAAA,QAAA,MAAA,CAAA,GAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,sBAAA,IAAA,CAAA;AAAA,aAAA,KAAA;AAAA,aAAA;AAAA,OAAA;AACA,UAAA,SAAA,MAAA,CAAA,GAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,UAAA,SAAA,MAAA,CAAA,GAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,uBAAA,OAAA,CAAA;AAAA,aAAA,MAAA;AAAA,aAAA;AAAA,OAAA;AACA;;AAEA,QAAA,QAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,WAAA,CAAA;AACA,QAAA,OAAA,MAAA,IAAA,GAAA,gBAAA,CAAA,cAAA,GAAA,CAAA;AACA,QAAA,QAAA,KAAA,KAAA,CAAA,KAAA,CAAA,GAAA,MAAA,CAAA,EAAA,KAAA,CAAA,GAAA,MAAA,CAAA,CAAA;AACA,QAAA,SAAA,KAAA,IAAA,CAAA,KAAA,GAAA,CAAA,WAAA,EAAA,CAAA,IAAA,QAAA,IAAA,CAAA,GAAA,KAAA,GAAA,WAAA;AACA,QAAA,QAAA,MAAA,CAAA,GAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,QAAA,QAAA,MAAA,CAAA,GAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,oBAAA,IAAA,CAAA;AAAA,WAAA,KAAA;AAAA,WAAA;AAAA,KAAA;AACA,QAAA,SAAA,MAAA,CAAA,GAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AACA,QAAA,SAAA,MAAA,CAAA,GAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA;AACA,qBAAA,OAAA,CAAA;AAAA,WAAA,MAAA;AAAA,WAAA;AAAA,KAAA;AAEA,UAAA,MAAA,GAtCA,CAuCA;;AACA,QAAA,QAAA,QAAA,gBAAA,CAAA;AACA,QAAA,OAAA,QAAA,eAAA,CAAA;AACA,WAAA,KAAA,SAAA,CAAA,KAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,WAAA,MAAA,QAAA,IAAA,EAAA,CAAA,CAAA;AACA,GAhsEA,CAksEA;;;AACA,WAAA,QAAA,GAAA;AACA,YAAA,IAAA,CAAA,UAAA;AACA,QAAA,aAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,CAAA,EAAA,MAAA,GAAA,EAAA;AACA,aAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,OALA,CAMA;;;AACA,UAAA,KAAA,CAAA,EAAA,IAAA,KAAA,CAAA,IAAA,aAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,eAAA,CAAA,EAAA,MAAA,GAAA,EAAA;AACA,eAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,eAAA,CAAA,EAAA,EAAA,GAAA,CAAA,CAAA;AACA;AACA,SALA,MAKA;AACA,eAAA,CAAA,EAAA,IAAA,GAAA,SAAA;AACA,eAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,EAAA,IAAA,KAAA,CAAA,IAAA,MAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,oBAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AACA,oBAAA,CAAA,EAAA,MAAA,GAAA,EAAA;AACA,oBAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,oBAAA,CAAA,EAAA,EAAA,GAAA,CAAA,CAAA;AACA;AACA,aANA,MAMA,IAAA,MAAA,CAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,oBAAA,CAAA,EAAA,IAAA,GAAA,SAAA;AACA;AACA,WAVA;AAWA;AACA;AACA;;AACA,YAAA,GAAA,CAAA,kBAAA,UAAA,EAhCA,CAkCA;;AACA,QAAA,WAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,EAAA,KAAA,CAAA,CAAA;AAAA,KAAA,CAAA;;AAnCA;AAqCA,UAAA,KAAA,CAAA,CAAA;AAAA,UAAA,QAAA,CAAA,SAAA,CAAA,EAAA,KAAA,CAAA;AAAA,UAAA,YAAA,EAAA;AACA,eAAA,CAAA,EAAA,OAAA,GAAA,UAAA;;AACA,aAAA,MAAA,MAAA,EAAA;AACA,YAAA,IAAA,MAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,EAAA,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,EAAA,EAAA;AACA,cAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,IAAA,MAAA,CAAA,EAAA,OAAA,KAAA,UAAA,EAAA;AACA,kBAAA,CAAA,EAAA,OAAA,GAAA,UAAA;AACA,kBAAA,IAAA,CAAA,CAAA;AACA;AACA,SALA;AAMA;;AACA,UAAA,OAAA,CAAA,CAAA,EAAA;AACA,aAAA,SAAA,MAAA;AACA,iBAAA,IAAA,CAAA;AAAA,aAAA,EAAA;AAAA,gBAAA,KAAA;AAAA,kBAAA;AAAA,SAAA;AACA;;AACA,gBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,cAAA,CAAA,EAAA,EAAA,GAAA,EAAA;AAAA,OAAA;AACA,iBAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,EAAA,KAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AAvDA;;AAoCA,WAAA,SAAA,MAAA,EAAA;AAAA;AAoBA;;AAEA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,IAAA,EAAA;AAAA,KAAA,CAAA;AACA,YAAA,OAAA,CAAA,UAAA;AACA;;AAEA,WAAA,SAAA,GAAA;AACA,QAAA,aAAA,EAAA;AAEA;AACA,iBAAA,uBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA,CALA,CAOA;;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,KAAA,UAAA,CAAA;AACA;AACA,qBAAA,KAAA,GAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,oBAAA,KAAA,GAAA,MAAA,OAAA,CAAA,MAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,cAAA,KAAA,GAAA,MAAA,IAAA,CAAA,WAAA,CAAA;AACA,eAAA,KAAA,GAAA,MAAA,MAAA,IAAA,CAAA,MAAA,CAAA,CAAA;AACA,iBAAA,KAAA,GAAA,MAAA,IAAA,CAAA,SAAA,CAAA;AACA,cAAA,KAAA,GAAA,WAAA,IAAA,EAAA;AACA,QAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,eAAA,KAAA,GAAA,GAAA,CAAA,CAAA;AACA,oBAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CAAA,IAAA,GAAA;AAEA,MAAA,cAAA,EAAA,MAAA,CAAA;AACA,aAAA,iBAAA,UAAA,KADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,gBAAA,GAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,QAAA;AAAA,YAAA;AAAA,OAHA;AAIA,aAAA;AAJA,KAAA;AAOA,QAAA,QAAA,SAAA,EAAA;AACA,YAAA,SAAA,GAAA,IAAA;AAEA;;AAEA,aAAA,kBAAA,GAAA;AACA,uBAAA,SAAA,GAAA,EAAA;AACA,aAAA,SAAA,CAAA,oBAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,UAAA,CAAA,EAAA,KAAA,YAAA,EAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,SAAA,GAAA,EAAA;AACA,yBAAA,GAAA,CAAA,GAAA;AACA,OANA;AAOA;;AAEA,MAAA,mBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,uBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,oBAAA,EAAA,MAAA;AACA,KAHA,EA3CA,CAgDA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,eAAA,cAAA,CAAA,KAAA,KAAA,EAAA,WAAA,CAAA,WAAA,MAAA,GAAA,IAAA,EAAA;AACA,KAFA,EAjDA,CAqDA;;AACA,aAAA,cAAA,CAAA,eAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,EAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA,wBAAA,KAAA;AACA,OAJA,MAIA;AACA,UAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,KATA,EAtDA,CAiEA;;AACA,aAAA,cAAA,CAAA,mBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,EAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,UAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA,uBAAA,KAAA;AACA,OAJA,MAIA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,KATA,EAlEA,CA6EA;;AACA,aAAA,cAAA,CAAA,iBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,YAAA,mCAAA;AACA;AACA;;AACA,UAAA,QAAA,KAAA,KAAA,CAAA,WAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,EAAA,OAAA,CAAA,WAAA,EAAA,EAAA,CAAA;AACA,UAAA,OAAA,QAAA,CAAA,CAAA,MAAA,MAAA,CAAA,CAAA,CAAA,CAAA,EAAA,QAAA,MAAA,KAAA,CANA,CAOA;;AACA,aAAA,OAAA,SAAA,CAAA,MAAA,KAAA,EAAA,IAAA,EAAA,EAAA;AAAA,iBAAA,MAAA;AAAA;;AACA,0BAAA,KAAA;AACA,KAVA;;AAYA,aAAA,mBAAA,CAAA,CAAA,EAAA;AACA,UAAA,QAAA,WAAA,IAAA,GAAA,UAAA,CAAA,SAAA,CAAA,KAAA,CAAA;AACA,UAAA,WAAA,OAAA,MAAA,CAAA;AAAA,eAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AACA,eAAA,MAAA,CAAA;AAAA,eAAA,WAAA,MAAA,GAAA,IAAA,EAAA;AAAA,OAAA;AACA;AACA,QAAA,qCAAA,EAAA,MAAA;AACA,sBAAA,KAAA,GAAA,EAAA;AACA,uBAAA,KAAA,GAAA,CAAA;AACA;AACA,KAnGA,CAqGA;;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,CAHA,CAIA;;AACA,UAAA,QAAA,CAAA,EAAA;AACA,+BAAA,EAAA;AACA,UAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA;AACA;;AACA,mBAAA,SAAA,GAAA,iDAAA,KAAA,GAAA,kBAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,oBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,mCAAA,EAAA;AACA,cAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KArBA;AAuBA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,uBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,mBAAA,EAAA,MAAA;AACA,KAHA,EA7HA,CAkIA;;AACA,aAAA,cAAA,CAAA,WAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,YAAA,2FAAA;AACA;AACA,OAJA,CAKA;;;AACA,UAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,EAAA,EAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,KAAA,KAAA,EAAA,KACA,WAAA,IAAA,CAAA,KAAA,KAAA;AACA,QAAA,sDAAA,EAAA,IAAA,CAAA,iBAAA,KAAA,KAAA,EARA,CASA;;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,KAAA,EAAA;;AACA,UAAA,GAAA,QAAA,CAAA,aAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,WAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,EAAA,CAAA;AACA,eAAA,KAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA;AACA,KAfA,EAnIA,CAoJA;;AACA,aAAA,cAAA,CAAA,iBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,KAAA,EAAA;;AACA,UAAA,GAAA,QAAA,CAAA,aAAA,CAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,WAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,EAAA,CAAA;AACA,eAAA,kBAAA,MAAA,CAAA,CAAA;AACA,eAAA,KAAA,EAAA,IAAA,GAAA,IAAA;AACA,OALA,MAKA;AACA;AACA,YAAA,IAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,YAAA,UAAA,YAAA,IAAA,CAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,CAAA;AACA,YAAA,UAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,SAAA,MAAA,CAAA;AACA,eAAA,aAAA,OAAA,CAAA;AACA;;AACA,gBAAA,KAAA,GAAA,IAAA;AACA,QAAA,sDAAA,EAAA,IAAA,CAAA,iBAAA,IAAA,EAhBA,CAiBA;;AACA,UAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,EAAA,EAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KACA,WAAA,IAAA,CAAA,IAAA;AACA,KApBA;AAsBA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,uBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,mBAAA,EAAA,MAAA;AACA,KAHA,EA3KA,CAgLA;;AACA,aAAA,cAAA,CAAA,iBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,QAAA,WAAA,IAAA,GAAA,UAAA;AACA,UAAA,OAAA,MAAA,KAAA,KAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA,YAAA,YAAA,CAAA,aAAA,EAAA,IAAA;AACA,YAAA,YAAA,CAAA,WAAA,EAAA,MAAA,KAAA,KAAA,CAAA;AACA,KALA,EAjLA,CAwLA;;AACA,aAAA,cAAA,CAAA,gBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,iBAAA,KAAA,KAAA,EAAA,IAAA,CAAA,mBAAA;AACA,YAAA,CAAA,OAAA,EAAA;AACA,0BAAA,KAAA;AACA,uBAAA,KAAA,GAAA,EAAA;AACA,YAAA,YAAA,CAAA,EAAA,EAAA,kBAAA,EAAA,GAAA,CAAA,MAAA,MAAA,GAAA,CAAA,EAAA,MAAA;AACA,OALA;AAMA,KAPA,EAzLA,CAkMA;;AACA,aAAA,cAAA,CAAA,WAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,QAAA,WAAA,IAAA,GAAA,UAAA;AACA,UAAA,OAAA,CAAA,KAAA,KAAA;AACA,YAAA,YAAA,CAAA,WAAA,EAAA,IAAA;AACA,YAAA,YAAA,CAAA,WAAA,EAAA,GAAA,CAAA,OAAA,OAAA,KAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,KALA;AAOA,MAAA,mBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,uBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,oBAAA,EAAA,MAAA;AACA,KAHA,EA1MA,CA+MA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,QAAA,WAAA,IAAA,GAAA,UAAA;AACA,YAAA,YAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAHA,EAhNA,CAqNA;;AACA,aAAA,cAAA,CAAA,cAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,QAAA,WAAA,IAAA,GAAA,UAAA;AACA,YAAA,YAAA,CAAA,SAAA,EAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,mBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,uBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,oBAAA,EAAA,MAAA;AACA,KAHA,EA3NA,CAgOA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,sBAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,KAAA,KAAA,IAAA,GAAA;AACA,UAAA,IAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,QAAA,CAAA,KAAA,KAAA;AACA,UAAA,gCAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,sBAAA,KAAA,cAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,cAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,MAAA;AACA,iBAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,KAPA,EAjOA,CA0OA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,KAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA;AAAA,UAAA,KAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA;;AAEA,UAAA,CAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,SAAA,eAAA,EAAA;AACA,YAAA,kBAAA,KAAA,EAAA,KAAA,cAAA,EAAA,eAAA,EAAA,KAAA,gBAAA,EAAA,KAAA,GAAA,CAAA,OAAA;AACA,YAAA,OAAA,WAAA,IAAA,EAAA;AAAA,YAAA,IAAA,WAAA,IAAA,CAAA,GAAA,CAAA;AAAA,YAAA,IAAA,WAAA,IAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,cAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA;AACA,mBAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,CAAA,aAAA,EAAA,KAAA,EAAA,IAAA,CAAA,IAAA;AACA;;AAEA,UAAA,CAAA,MAAA,MAAA,CAAA,QAAA,EAAA,IAAA,EAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,iBAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EACA,IADA,CACA,IADA,EACA,EADA,EACA,IADA,CACA,IADA,EACA,EADA,EACA,IADA,CACA,WADA,EACA,WAAA,IAAA,CAAA,WAAA,KAAA,IADA,EAEA,IAFA,CAEA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,mBAAA,CAFA;AAGA;AACA,KAnBA,EA3OA,CAgQA;;AACA,aAAA,mBAAA,GAAA;AACA,UAAA,WAAA,KAAA,MAAA,CAAA,eAAA,WAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,OAAA,SAAA,IAAA,CAAA,GAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA,CAJA,CAIA;;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAEA,SAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,CAAA,GAAA,CAAA;AACA,YAAA,QAAA,CAAA,EAAA,CAAA,CAAA,GAAA,KAAA,CAAA;AACA,WAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,KAAA,CAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,YAAA,EAAA,CAAA,CAAA,cAAA,CAAA,EAAA,CAAA,CAAA,GAAA,EAAA,cAAA,EAAA,CAAA,CAAA,cAAA,KAAA,cAAA,KAAA,CAAA,CAAA;AACA,OALA;AAMA,KA9QA,CAgRA;;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,CAAA,WAAA,MAAA,CAAA,UAAA,EAAA,IAAA,EAAA,EAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA;AAAA,UAAA,IAAA,WAAA,IAAA,CAAA,QAAA,CAAA;AAAA,UAAA,IAAA,WAAA,IAAA,CAAA,QAAA,CAAA;AACA,iBAAA,IAAA;AACA,iBAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA,eAAA,WAAA,IAAA,CAAA,IAAA,CAAA,EAAA,MAAA;AACA,YAAA,MAAA,CAAA,QAAA,EAAA,MAAA;AACA,KAPA,EAjRA,CA0RA;;AACA,aAAA,cAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA;AACA,kBAAA,EAAA,EAAA,IAAA;AACA,KAJA,EA3RA,CAiSA;;AACA,aAAA,cAAA,CAAA,WAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,aAAA,MAAA,MAAA,CAAA;AAAA,eAAA,WAAA,IAAA,GAAA,SAAA,CAAA,IAAA,CAAA;AAAA,OAAA,CAAA;AACA,UAAA,KAAA,UAAA,KAAA,GAAA,GAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,UAAA,QAAA,CAAA,MAAA,IAAA,CAAA,WAAA,CAAA,GAAA,CAAA;;AACA,UAAA,KAAA,MAAA,CAAA,UAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,OAAA,KAAA,MAAA,CAAA,eAAA,WAAA,IAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,YAAA,WAAA,KAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,cAAA,EAAA,CAAA;AACA,aAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,MAAA,EAAA,eAAA,EAAA;AACA,YAAA,YAAA,KAAA,KAAA,CAAA,GAAA,CAAA;AACA,YAAA,IAAA,CAAA,UAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,CAAA,UAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,aAAA,IAAA,KAAA,cAAA,IAAA,KAAA,cAAA,UAAA,CAAA,CAAA,cAAA,UAAA,CAAA,CAAA;AAAA;AACA,OARA,MAQA;AACA,YAAA,MAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,GAAA,KAAA;;AACA,eAAA,MAAA,SAAA,CAAA,aAAA,GAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;AAAA,iBAAA,KAAA;AAAA,iBAAA,KAAA;AAAA;;AACA,aAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA;AACA;AACA,KApBA,EAlSA,CAwTA;;AACA,aAAA,cAAA,CAAA,mBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,SAAA,GAAA,4CAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,cAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,uBAAA,MAAA;AACA,iBAAA,MAAA,CAAA,eAAA,WAAA,IAAA,CAAA,IAAA,CAAA,EAAA,MAAA;AACA,cAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA,WANA;AAOA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAPA;AADA,OAAA;AAWA,KAbA;AAcA;;AAEA,WAAA,SAAA,GAAA;AACA,QAAA,aAAA,EAAA;;AACA,QAAA,UAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,MAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;;AACA,UAAA,WAAA,IAAA,CAAA,YAAA,MAAA,KAAA,EAAA;AACA,sBAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA,OAJA,MAIA,IAAA,IAAA,EAAA;AACA,6BAAA,KAAA;AACA;AACA;AACA;;AAEA;AACA,iBAAA,uBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA;AAEA,QAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,eAAA,KAAA,GAAA,GAAA,CAAA,CAAA;AACA,oBAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CAAA,IAAA,GAAA;AACA,eAAA,KAAA,GAAA,GAAA,CAAA,CAAA;AACA,oBAAA,KAAA,GAAA,CAAA,WAAA,IAAA,CAAA,YAAA,CAAA;AACA,mBAAA,KAAA,GAAA,CAAA,WAAA,IAAA,CAAA,gBAAA,CAAA;AAEA,MAAA,cAAA,EAAA,MAAA,CAAA;AACA,aAAA,YADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,KAAA;AAAA,YAAA,GAAA;AAAA,OAHA;AAIA,aAAA,iBAAA;AACA,YAAA,EAAA,WAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA;AACA;AAPA,KAAA;AAUA,QAAA,CAAA,MAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,EAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,eAAA;AACA;;AAEA,QAAA,QAAA,SAAA,EAAA;AAAA;AAAA;;AACA,YAAA,SAAA,GAAA,IAAA;;AAEA,aAAA,oBAAA,CAAA,KAAA,EAAA;AACA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA;AACA,OAJA;AAKA,UAAA,QAAA,MAAA,MAAA;;AACA,UAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,SAAA,MAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,iBAAA,IAAA,CAAA;AAAA,SAAA,CAAA;AACA,YAAA,UAAA,MAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,MAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA;;AACA,YAAA,WAAA,IAAA,EAAA;AAAA,kBAAA,UAAA,CAAA;AAAA,SAAA,MAAA;AAAA,kBAAA,OAAA,CAAA;AAAA;AACA;;AACA,UAAA,SAAA,iBAAA,QAAA,CAAA,IAAA,GAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,MAAA,CAAA,QAAA,EAAA,MAAA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,GADA,EACA,IADA,EAEA,IAFA,CAEA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,cAAA,CAFA,EAGA,EAHA,CAGA,OAHA,EAGA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,MAAA;AACA;AACA,OANA;AAOA;AACA;;AAEA,aAAA,eAAA,GAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA,CADA,CAEA;;AACA,UAAA,IAAA,KAAA,cAAA,KAAA,CAAA;AACA,UAAA,QAAA,IAAA,CAAA,IAAA,CAAA,CAJA,CAIA;;AACA,UAAA,MAAA,IAAA,KAAA,CALA,CAKA;;AACA,UAAA,QAAA,QAAA,EAAA;AAAA,cAAA,CAAA;AAAA,OANA,CAMA;AACA;;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,KAAA,GAAA,EAAA,KAAA,GAAA,EAAA;AACA,YAAA,KAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,CAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA;AACA,sBAAA,EAAA;AACA,OAbA,CAcA;;;AACA,UAAA,MAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,KAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,IAAA,CAAA,CAAA,IAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CAAA,IAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,oBAAA,CAAA;AACA;;AAEA,aAAA,aAAA,CAAA,KAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,MAAA,CAAA,QAAA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,GADA,EACA,IADA,EAEA,IAFA,CAEA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,cAAA,CAFA,EAGA,EAHA,CAGA,OAHA,EAGA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,MAAA;AACA;AACA,OANA;AAOA;;AAEA,aAAA,cAAA,GAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,KAAA,CAAA,CAAA;AACA;AACA;;AAEA,aAAA,SAAA,GAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,UAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,SAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,YAAA,KAAA,GAAA,KAAA,CAAA,CAAA;AAAA,YAAA,KAAA,GAAA,KAAA,CAAA,CAAA;AACA,YAAA,gCAAA,CAAA,GAAA,CAAA,CAAA,GAAA,EAAA,GAAA,CAAA,cAAA,CAAA,GAAA,CAAA,CAAA,GAAA,EAAA,GAAA,CAAA,sBAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,qBAAA,GAAA,CAAA,CAAA,MAAA;AACA,mBAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,cAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,OALA;AAMA;;AAEA,aAAA,WAAA,GAAA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,OAHA;AAIA,UAAA,QAAA,CAAA,gBAAA,KAAA;AACA,UAAA,YAAA,CAAA,eAAA,KAAA;AACA,UAAA,IAAA,cAAA,MAAA,EAAA,KAAA,EAAA,SAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA;;AAEA,MAAA,mCAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,QAAA,CAAA,gBAAA,KAAA;AACA,UAAA,YAAA,CAAA,eAAA,KAAA;AACA,iBAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,SAAA;AACA;AACA,KALA;AAOA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,SAAA,EAAA;AAAA,UAAA,UAAA,EAAA;AAAA,UAAA,CAAA;AAAA,UAAA,CAAA;AAAA,UAAA,EAAA;AAAA,UAAA,EAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,cAAA,KAAA,CAAA;AACA,UAAA,QAAA,IAAA,CAAA,IAAA,CAAA,CAJA,CAIA;;AACA,UAAA,MAAA,IAAA,KAAA,CALA,CAKA;;AACA,UAAA,QAAA,QAAA,EAAA;AAAA,cAAA,CAAA;AAAA,OANA,CAMA;;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,EAAA,KAAA,GAAA,EAAA,OAAA,GAAA,EAAA;AACA,aAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,aAAA,KAAA,gBAAA,CAAA,GAAA,CAAA;AACA,YAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,OAZA,CAaA;;;AACA,WAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAAA,CAAA,IAAA,CAAA;AACA,aAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAjBA,CAkBA;;AACA,UAAA,YAAA,MAAA,KAAA,MAAA,KAAA,GAAA,CAnBA,CAmBA;;AACA,WAAA,IAAA,KAAA,CAAA,EAAA,KAAA,OAAA,MAAA,EAAA,IAAA,EAAA;AACA,YAAA,OAAA,EAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,EAAA,EAAA,CAAA,CAAA;AACA,gBAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAFA,CAGA;;AACA,YAAA,KAAA,CAAA,GAAA,OAAA,MAAA,EAAA;AACA,cAAA,KAAA,OAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AAAA,cAAA,KAAA,OAAA,KAAA,CAAA,EAAA,CAAA,CAAA;AACA,cAAA,OAAA,KAAA,MAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AACA,cAAA,QAAA,KAAA,KAAA,CAAA,KAAA,CAAA,EAAA,KAAA,CAAA,CAAA;AACA,cAAA,aAAA,KAAA,KAAA,CAAA,CAAA;AACA,cAAA,SAAA,aAAA,GAAA,GAAA,KAAA,MAAA,KAAA,SAAA;AACA,cAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA,eAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MAAA,GAAA,IAAA;AACA,eAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA,GAAA,IAAA;AACA,kBAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA;;AACA,UAAA,QAAA,CAAA,gBAAA,KAAA,GAAA,GAAA,GAAA,KAAA,MAAA,EAAA;AACA,UAAA,YAAA,CAAA,eAAA,KAAA,GAAA,GAAA,GAAA,KAAA,MAAA,KAAA,GAAA;AACA,sBAAA,KAAA,GAAA,KAAA;AACA,qBAAA,KAAA,GAAA,SAAA;AACA,iBAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,SAAA;AACA,UAAA,IAAA,cAAA,OAAA,EAAA,KAAA,EAAA,SAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,SAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,cAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,sBAAA,CAAA;AAAA,OAAA;AACA,KA7CA;AA+CA,MAAA,aAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,sBAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,KAAA,KAAA,IAAA,GAAA;AACA,UAAA,IAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,QAAA,CAAA,KAAA,KAAA;AAAA,UAAA,QAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,gCAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,sBAAA,KAAA,cAAA,CAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,IAAA,KAAA,cAAA,CAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,IAAA,KAAA,qBAAA,KAAA,MAAA;AACA,iBAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,KARA;AAUA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,iBAAA,IAAA,CAAA,WAAA,EAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA;AACA,iBAAA,KAAA,GAAA,CAAA;AACA,sBAAA,SAAA,GAAA,IAAA;AACA,iBAAA,KAAA,GAAA,CAAA;AACA,KANA;AAQA,MAAA,aAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,WAAA,CAAA,GAAA,CAAA,CAAA;AAAA,UAAA,QAAA,CAAA,KAAA,KAAA;AACA,UAAA,IAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,KAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA;AAAA,UAAA,KAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAA,WAAA,KAAA,CAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAA,WAAA,KAAA,CAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAA,GAAA,QAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAA,GAAA,QAAA;AACA,UAAA,gCAAA,GAAA,cAAA,GAAA,sBAAA,GAAA,CAAA,CAAA,cAAA,GAAA,cAAA,GAAA,qBAAA,KAAA,MAAA;AACA,iBAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,KAZA;AAcA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA;AACA,OAFA,MAEA;AACA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,YAAA,UAAA,EAAA,WAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,IAAA,CAAA;AACA,cAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,gBAAA;AACA;AACA,KAXA;;AAaA,aAAA,gBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,oBAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,CAAA;;AACA,UAAA,CAAA,UAAA,IAAA,WAAA,IAAA,CAAA,YAAA,MAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,gBAAA,EAAA,IAAA,GAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA,GAAA,CAAA;AACA,qBAAA,OAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,EACA,IADA,CACA,YADA,EACA,CADA,EACA,IADA,CACA,gBADA,EACA,CADA,EACA,EADA,CACA,OADA,EACA,gBADA,CAAA;AAEA,OAJA,MAIA;AACA;AACA,YAAA,OAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,YAAA,IAAA,MAAA,IAAA,EAAA,EAAA;;AACA,YAAA,UAAA,CAAA,SAAA,CAAA,EAAA,IAAA,IAAA,SAAA,CAAA,EAAA,MAAA;;AACA,YAAA,WAAA,MAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA;AACA;;AAEA,aAAA,gBAAA,GAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,UAAA,CAAA,UAAA,IAAA,WAAA,IAAA,CAAA,YAAA,MAAA,KAAA,EAAA;AACA;AACA,iBAAA,IAAA,CAAA,YAAA,EAAA,EAAA;AACA,iBAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,UAAA,IAAA,CAAA,WAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,OAAA,QAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,CAAA,IAAA,EAAA;AACA,YAAA,MAAA,KAAA,KAAA,EAAA,KAAA,KAAA,SAAA,EAAA,MAAA,KAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,OANA;AAOA;AACA,YAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,eAAA;AACA;;AAEA,MAAA,YAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,IAAA,WAAA,IAAA,CAAA,GAAA,CAAA;AACA,UAAA,IAAA,CAAA;AAAA,UAAA,IAAA,CAAA;AACA,UAAA,gCAAA,GAAA,CAAA,IAAA,CAAA,cAAA,GAAA,CAAA,IAAA,CAAA,sBAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,qBAAA,GAAA,CAAA,CAAA,MAAA;;AACA,aAAA,OAAA,SAAA,CAAA,iBAAA,SAAA,GAAA,QAAA,GAAA,CAAA,GAAA,IAAA,EAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,CAAA;AAAA,aAAA,CAAA;AACA,wCAAA,GAAA,CAAA,IAAA,CAAA,cAAA,GAAA,CAAA,IAAA,CAAA,sBAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,qBAAA,GAAA,CAAA,CAAA;AACA;;AACA,UAAA,QAAA,CAAA,EAAA,gBAAA,EAAA,IAAA,GAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA,GAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EACA,IADA,CACA,WADA,EACA,SADA,EAEA,IAFA,CAEA,IAFA,EAEA,UAAA,KAFA,EAEA,EAFA,CAEA,OAFA,EAEA,SAFA,EAGA,IAHA,CAGA,YAHA,EAGA,WAAA,IAAA,CAAA,YAAA,CAHA,EAIA,IAJA,CAIA,gBAJA,EAIA,WAAA,IAAA,CAAA,gBAAA,CAJA;AAKA;AACA,KAhBA,EArQA,CAuRA;;AACA,aAAA,cAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,kBAAA,EAAA,EAAA,EAAA;AACA,KAHA;AAKA,MAAA,cAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,cAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,QAAA,CAAA,WAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,gBAAA,SAAA,GAAA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,MAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AACA,iBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,EAAA,KAAA,KAAA,KAAA,EAAA;AACA,kBAAA,KAAA,GAAA,SAAA;AACA,kBAAA,IAAA,GAAA,MAAA;AACA;AACA,aALA;AAMA,uBAAA,MAAA;AACA;AACA,cAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAdA;AAeA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAfA;AADA,OAAA;AAmBA,KArBA;AAuBA;;AAEA,WAAA,SAAA,GAAA;AACA,QAAA,aAAA,EAAA;AAAA;AAAA;;AACA,QAAA,UAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,MAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;;AACA,UAAA,WAAA,IAAA,CAAA,YAAA,MAAA,KAAA,EAAA;AACA,sBAAA;AAAA,aAAA,MAAA,CAAA,CAAA;AAAA,aAAA,MAAA,CAAA;AAAA,SAAA;AACA;AACA;AACA,OAJA,MAIA,IAAA,IAAA,EAAA;AACA,6BAAA,KAAA;AACA;AACA;AACA;;AAEA;AACA,iBAAA,uBAAA;;AAEA,QAAA,QAAA,SAAA,MAAA,EAAA;AACA,mBAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,CAAA,MAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,EAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,eAAA;AACA;AACA;AACA,UAAA,YAAA,GAAA,MAAA,CAAA,KAAA,UAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,iBAAA,KAAA,GAAA,SAAA;AAEA,QAAA,cAAA,EAAA,MAAA,CAAA;AACA,eAAA,YADA;AAEA,mBAAA,EAFA;AAEA,eAAA,MAFA;AAEA,mBAAA,KAFA;AAGA,kBAAA;AAAA,cAAA,eAAA;AAAA,cAAA,KAAA;AAAA,cAAA,GAAA;AAAA,SAHA;AAIA,eAAA,iBAAA;AACA,cAAA,EAAA,WAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,cAAA,EAAA,aAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA,EAAA,aAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;AARA,OAAA;AAUA,KAlBA,MAkBA;AAAA,mBAAA,IAAA;AAAA;;AAEA,QAAA,QAAA,SAAA,EAAA;AAAA;AAAA;;AACA,YAAA,SAAA,GAAA,IAAA;;AAEA,aAAA,oBAAA,CAAA,KAAA,EAAA;AACA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA;AACA,OAJA;AAKA,UAAA,QAAA,MAAA,MAAA;;AACA,UAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,SAAA,MAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,iBAAA,IAAA,CAAA;AAAA,SAAA,CAAA;AACA,YAAA,UAAA,MAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,MAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA;;AACA,YAAA,WAAA,IAAA,EAAA;AAAA,kBAAA,UAAA,CAAA;AAAA,SAAA,MAAA;AAAA,kBAAA,OAAA,CAAA;AAAA;AACA;;AACA,UAAA,SAAA,iBAAA,QAAA,CAAA,IAAA,GAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,MAAA,CAAA,QAAA,EAAA,MAAA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CAAA,CADA,EACA,IADA,CACA,GADA,EACA,IADA,EAEA,IAFA,CAEA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,cAAA,CAFA,EAGA,EAHA,CAGA,OAHA,EAGA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,MAAA;AACA;AACA,OANA;AAOA;AACA;;AAEA,aAAA,eAAA,GAAA;AACA,UAAA,CAAA,WAAA,IAAA,EAAA,EAAA;AACA,UAAA,OAAA,WAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,cAAA,EAAA;AACA,UAAA,QAAA,IAAA,CAAA,IAAA,CAAA,CAJA,CAIA;;AACA,UAAA,MAAA,IAAA,KAAA,CALA,CAKA;;AACA,UAAA,QAAA,QAAA,EAAA,MAAA,CAAA,CANA,CAMA;AACA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA,KAAA,GAAA,EAAA;AACA,YAAA,IAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,sBAAA,CAAA;AACA,OAXA,CAYA;;;AACA,kBAAA,SAAA,GAAA,GAAA,IAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA;;AAEA,aAAA,aAAA,CAAA,KAAA,EAAA;AACA,UAAA,gBAAA,MAAA,MAAA,CAAA,gBAAA,EAAA,IAAA,KACA,MAAA,MAAA,CAAA,gBAAA,CADA,GAEA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,eAAA,CAFA;AAGA,oBAAA,MAAA,CAAA,QAAA,EACA,IADA,CACA,IADA,EACA,MAAA,CADA,EACA,IADA,CACA,IADA,EACA,MAAA,CADA,EACA,IADA,CACA,GADA,EACA,IADA,EAEA,IAFA,CAEA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,cAAA,CAFA,EAGA,EAHA,CAGA,OAHA,EAGA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,aAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,4BAAA,IAAA;AACA,SAFA,MAEA;AACA,YAAA,IAAA,EAAA,MAAA;AACA;AACA;AACA,OAVA;AAWA;;AAEA,aAAA,cAAA,GAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,GAAA,KAAA,CAAA,CAAA;AACA;AACA;;AAEA,aAAA,WAAA,GAAA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,CAAA;AAAA,eAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AAAA,eAAA,CAAA,GAAA,IAAA,CAAA,IAAA;AAAA,SAAA;AACA,OAHA;AAIA,cAAA,KAAA,CAAA,GAAA,eAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,EAAA,QAAA,MAAA,CAAA,EAPA,CAQA;;AACA,UAAA,IAAA,WAAA,IAAA,GAAA,cAAA,EAAA;AACA,kBAAA,SAAA,GAAA,GAAA,IAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA;;AAEA,aAAA,WAAA,GAAA;AACA,UAAA,YAAA,cAAA,WAAA,IAAA,EAAA,GAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA,GAAA,WAAA;AACA,UAAA,QAAA,OAAA,MAAA,CAAA,MAAA,SAAA,CAAA;AACA,UAAA,KAAA,YAAA,EAAA,GAAA,MAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,mBAAA,MAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA,EAAA,KAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA,CAAA;AACA;AACA,QAAA,cAAA,EAAA,MAAA,CAAA;AACA,eAAA,YADA;AACA,mBAAA,EADA;AACA,eAAA,MADA;AACA,mBAAA,KADA;AAEA,eAAA,iBAAA;AACA,cAAA,EAAA,WAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,cAAA,EAAA,aAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA,EAAA,aAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;AANA,OAAA;AAQA;;AAEA,aAAA,gBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,oBAAA;AAAA,YAAA;AAAA;AAAA,OAAA;AACA;AACA;;AAEA,aAAA,gBAAA,GAAA;AACA,QAAA,sBAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,UAAA,CAAA,WAAA,IAAA,EAAA,EAAA;;AACA,UAAA,WAAA,IAAA,CAAA,YAAA,MAAA,KAAA,EAAA;AACA;AACA,mBAAA,IAAA,CAAA,YAAA,EAAA,EAAA;AACA,YAAA,OAAA,WAAA,IAAA,EAAA;AACA,YAAA,IAAA,KAAA,cAAA,EAAA;AACA,YAAA,YAAA,EAAA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA,GAAA,EAAA;AACA,cAAA,IAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA,cAAA,OAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;;AACA,cAAA,CAAA,IAAA,EAAA;AAAA;AAAA;;AACA,oBAAA,IAAA,CAAA,KAAA,KAAA;AACA;;AACA,YAAA,iCAAA,IAAA,GAAA,CAAA,SAAA,CAAA,CAAA;;AACA,oBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AAAA,kBAAA,CAAA,EAAA,IAAA,IAAA,CAAA;AAAA,WAAA,MACA;AAAA,kBAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AAAA;AACA,SAHA;AAIA;;AACA,UAAA,EAAA,EAAA,IAAA;AACA;;AAEA,aAAA,iBAAA,GAAA;AACA,iBAAA,SAAA,GAAA,EAAA;AACA,aAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,SAAA,GAAA,KAAA,EAAA;AACA,mBAAA,GAAA,CAAA,GAAA;AACA,OAJA;AAKA;;AAEA,aAAA,iBAAA,CAAA,OAAA,EAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,QAAA,aAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,UAAA,EAAA;AAAA,UAAA,UAAA,EAAA;AACA,UAAA,SAAA,OAAA;AACA,YAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,eAAA,IAAA,CAAA;AAAA,eAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AAAA,eAAA,CAAA,GAAA,IAAA,CAAA,IAAA;AAAA,SAAA;;AACA,YAAA,SAAA,OAAA,EAAA;AACA,mBAAA,OAAA;AACA,iBAAA,IAAA,CAAA;AAAA,iBAAA,CAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AAAA,iBAAA,CAAA,GAAA,IAAA,CAAA,IAAA;AAAA,WAAA;AACA;;AACA,WAAA,MAAA;AACA,OARA;AASA,cAAA,KAAA,CAAA,GAAA,eAAA,CAAA,KAAA,CAAA,GAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,EAAA,QAAA,OAAA,CAAA;AACA,UAAA,KAAA,WAAA,KAAA,GAAA,EAAA,GAAA,MAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,QAAA,OAAA,CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA;AACA;;AAEA,MAAA,aAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,WAAA,IAAA,EAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA,MAAA,KAAA,KAAA,CAAA;AACA,KAFA,EAnMA,CAuMA;;AACA,aAAA,cAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,kBAAA,EAAA,EAAA,EAAA;AACA,KAHA;AAKA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA;AACA,OAFA,MAEA;AACA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,sBAAA,EAAA,QAAA,CAAA,SAAA;AACA,cAAA,MAAA,CAAA,gBAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,gBAAA;AACA,YAAA,iCAAA,EAAA,IAAA;AACA;AACA,KAZA;AAcA,MAAA,cAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,cAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,uBAAA,MAAA;AACA,cAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KAZA;AAaA;;AAEA,WAAA,QAAA,GAAA;AACA,QAAA,aAAA,EAAA;AACA,QAAA,UAAA,EAAA,IAAA,KAAA,UAAA,CAAA,WAAA,IAAA,EAAA,CAAA,EAAA;AAEA;AACA,iBAAA,sBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA,CANA,CAQA;;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,KAAA,UAAA,CAAA;AACA;AACA,cAAA,KAAA,GAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,kBAAA,KAAA,GAAA,MAAA,IAAA,CAAA,MAAA,CAAA;AACA,oBAAA,KAAA,GAAA,MAAA,IAAA,CAAA,QAAA,CAAA;AACA,aAAA,KAAA,GAAA,MAAA,IAAA,CAAA,MAAA,CAAA;AACA,oBAAA,KAAA,GAAA,MAAA,IAAA,CAAA,cAAA,CAAA;AAEA,MAAA,aAAA,EAAA,MAAA,CAAA;AACA,aAAA,gBAAA,MAAA,IAAA,CAAA,IAAA,CADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,KAAA;AAAA,YAAA,GAAA;AAAA,OAHA;AAIA,aAAA;AAJA,KAAA;;AAOA,QAAA,QAAA,QAAA,EAAA;AAAA;AAAA;;AACA,YAAA,QAAA,GAAA,IAAA;AAEA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,sBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,sBAAA,EAAA,MAAA;AACA,KAHA;;AAKA,aAAA,gBAAA,GAAA;AACA,gBAAA,SAAA,GAAA,EAAA;AACA,UAAA,SAAA,MAAA,IAAA,CAAA,IAAA,EAAA,QAAA,CAAA,QAAA,CAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,YAAA,OAAA,OAAA,EAAA;AACA,YAAA,CAAA,MAAA,IAAA,GAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,YAAA,UAAA,CAAA,GAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,YAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,SAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,GAAA;AACA,OARA;AASA;;AAEA,MAAA,YAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,WAAA,KAAA,KAAA;AACA,UAAA,KAAA,EAAA,eAAA,QAAA,CAAA;AACA,QAAA,WAAA,IAAA,EAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA;AACA,KAJA;AAMA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,SAAA,EAAA;AACA,WAAA,eAAA,CAAA,SAAA,EAHA,CAGA;;AACA,UAAA,KAAA,eAAA,KAAA,YAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,QAAA,KAAA,KAAA,IAAA,CAAA,KAAA,CAAA;AACA,UAAA,YAAA,eAAA,GAAA,GAAA,CAAA,IAAA,KAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,IAAA,KAAA,EAAA,CAAA,CAAA,GAAA,GAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,MAAA,SAAA,CAAA,iBAAA,SAAA,GAAA,IAAA,EAAA,IAAA,KAAA,CAAA,EAAA,GAAA,EAAA;AACA,oBAAA,eAAA,GAAA,GAAA,CAAA,IAAA,QAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,IAAA,QAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA;AACA;;AACA,WAAA,YAAA,CAAA,WAAA,EAAA,SAAA;AACA,YAAA,IAAA,GAAA,YAAA,CAAA,IAAA,EAAA,IAAA;AACA,WAAA,gBAAA,CAAA,OAAA,EAAA,QAAA;AACA,KAbA;AAeA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,QAAA,MAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;;AACA,UAAA,QAAA,CAAA,EAAA;AACA,cAAA,MAAA;AACA,UAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA;AACA;;AACA,UAAA,UAAA,0CAAA,UAAA,KAAA,GAAA,WAAA,GAAA,KAAA,GAAA,IAAA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,mBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,kBAAA,MAAA;AACA,cAAA,aAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KApBA;AAsBA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,sBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,oBAAA,EAAA,MAAA;AACA,KAHA;AAKA,MAAA,gBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,kBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,YAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,cAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,sBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,kBAAA,EAAA,MAAA;AACA,KAHA;AAKA,MAAA,WAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,OAAA,CAAA,KAAA,KAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA,IAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AAAA,WAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,EAAA,IAAA,CAAA,QAAA,EAAA,IAAA;AAAA,OAAA;AACA,KALA;AAOA,MAAA,kBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,YAAA,IAAA,CAAA,cAAA,EAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,aAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,uBAAA,MAAA;AACA,cAAA,aAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KAZA;AAaA;;AAEA,WAAA,cAAA,GAAA;AACA,QAAA,aAAA,EAAA;AACA,QAAA,UAAA,EAAA,IAAA,KAAA,UAAA,CAAA,WAAA,IAAA,EAAA,CAAA,EAAA;AAEA;AACA,iBAAA,wBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,EAAA,KAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA;AACA,QAAA,QAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,gBAAA,KAAA,GAAA,KAAA;AAEA,QAAA,oBAAA,SAAA,cAAA,CAAA,yBAAA,CAAA;AACA,QAAA,kBAAA,KAAA,CAAA,OAAA,IAAA,MAAA,EAAA,iBAAA,KAAA;AAEA,MAAA,eAAA,EAAA,MAAA,CAAA;AACA,aAAA,kBADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,KAAA;AAAA,YAAA,GAAA;AAAA,OAHA;AAIA,aAAA;AAJA,KAAA;;AAOA,QAAA,QAAA,cAAA,EAAA;AAAA;AAAA;;AACA,YAAA,cAAA,GAAA,IAAA;AAEA,MAAA,eAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,wBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,wBAAA,EAAA,MAAA;AACA,KAHA;AAKA,MAAA,cAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,OAAA,KAAA,KAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,KAAA,KAAA,CAAA;AACA,UAAA,KAAA,KAAA,CAAA,GAAA,KAAA,MAAA,GAAA,CAAA;AACA,UAAA,OAAA,QAAA,IAAA,CAAA,EAAA,EAAA,EAAA,EAAA,KAAA;AACA,UAAA,SAAA,SAAA,SAAA,GAAA,MAAA,IAAA,EAAA,MAAA,GAAA,EAAA;AACA,iBAAA,MAAA;AACA,mBAAA,cAAA,SAAA,GAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CAAA;AACA,iBAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA;AACA,KAVA;AAYA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,SAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,eAAA,KAAA,YAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,QAAA,KAAA,KAAA,IAAA,CAAA,KAAA,CAAA;AACA,UAAA,YAAA,eAAA,GAAA,GAAA,CAAA,IAAA,KAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,IAAA,KAAA,EAAA,CAAA,CAAA,GAAA,GAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,MAAA,SAAA,CAAA,iBAAA,SAAA,GAAA,IAAA,EAAA,IAAA,KAAA,CAAA,EAAA,GAAA,EAAA;AACA,oBAAA,eAAA,GAAA,GAAA,CAAA,IAAA,QAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,IAAA,QAAA,CAAA,EAAA,CAAA,CAAA,GAAA,GAAA;AACA;;AACA,WAAA,YAAA,CAAA,WAAA,EAAA,SAAA;AACA,YAAA,IAAA,GAAA,YAAA,CAAA,IAAA,EAAA,IAAA;AACA,WAAA,gBAAA,CAAA,OAAA,EAAA,cAAA;AACA,KAZA;AAcA,MAAA,sBAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBADA,CACA;;AACA,QAAA,YAAA,EAAA,KAAA;AACA,KAHA;AAKA,MAAA,oBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,QAAA,MAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;;AACA,UAAA,QAAA,CAAA,EAAA;AACA,cAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,UAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AACA;AACA;;AACA,UAAA,UAAA,0CAAA,YAAA,KAAA,GAAA,WAAA,GAAA,KAAA,GAAA,IAAA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,+BAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,kBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,cAAA,eAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KApBA;AAsBA,MAAA,mBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,wBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,UAAA,UAAA,SAAA,cAAA,CAAA,yBAAA,CAAA;;AACA,UAAA,QAAA,KAAA,CAAA,OAAA,KAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,cAAA;AACA,YAAA,uCAAA,EAAA,IAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,uBAAA,CAAA;AACA,wBAAA,CAAA;AACA,OALA,MAKA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA;AACA,wBAAA,CAAA;AACA;AACA,KAbA;;AAeA,aAAA,uBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,UAAA,SAAA,CAAA,uBAAA,KAAA;AACA,UAAA,IAAA,GAAA,IAAA,SAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,iBAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,UAAA,YAAA,qBAAA,IAAA,EAAA,MAAA,CAAA;AACA,UAAA,SAAA,EAAA,kBAAA,SAAA;AACA;;AAEA,aAAA,iBAAA,CAAA,SAAA,EAAA;AACA,UAAA,UAAA,MAAA,KAAA,CAAA,EAAA;AACA,gBAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,WAAA,QAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA,kBAAA,KAAA,GAAA,IAAA,CAAA;AACA,iBAAA,MAAA;AACA,OAHA;AAIA;;AAEA,MAAA,eAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,oBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,uBAAA,MAAA;AACA,cAAA,eAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KAZA;AAaA;;AAEA,WAAA,QAAA,GAAA;AACA,QAAA,aAAA,EAAA;AACA;AACA,iBAAA,sBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,OAAA,SAAA,EAAA;AACA,OAAA,SAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,IAAA,EAPA,CASA;;AACA,QAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,aAAA,WAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,QAAA,YAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,kBAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA;AACA;AACA,oBAAA,KAAA,GAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,0BAAA,KAAA,GAAA,MAAA,OAAA,CAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,qBAAA,KAAA,GAAA,WAAA,IAAA,CAAA,WAAA,CAAA;AACA,wBAAA,KAAA,GAAA,MAAA,WAAA,IAAA,CAAA,MAAA,CAAA,CAAA;AACA,qBAAA,KAAA,GAAA,WAAA,IAAA,CAAA,SAAA,MAAA,SAAA,GAAA,CAAA,GAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,KAAA,eAAA,WAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,mBAAA,KAAA,GAAA,GAAA,CAAA,CAAA;AACA,yBAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CAAA,IAAA,GAAA;AACA,iBAAA,KAAA,GAAA,UAAA,IAAA,CAAA,MAAA,CAAA;AACA,wBAAA,KAAA,GAAA,UAAA,IAAA,CAAA,cAAA,MAAA,SAAA,GAAA,CAAA,GAAA,CAAA,UAAA,IAAA,CAAA,cAAA,CAAA;AACA,sBAAA,KAAA,GAAA,UAAA,IAAA,CAAA,MAAA,CAAA;AACA,wBAAA,KAAA,GAAA,UAAA,IAAA,CAAA,cAAA,CAAA;AACA,0BAAA,KAAA,GAAA,UAAA,IAAA,CAAA,gBAAA,MAAA,SAAA,GAAA,CAAA,GAAA,CAAA,UAAA,IAAA,CAAA,gBAAA,CAAA;AACA,wBAAA,KAAA,GAAA,UAAA,IAAA,CAAA,QAAA,CAAA;AACA,QAAA,OAAA,MAAA,OAAA,EAAA,EAAA,IAAA,CAAA;;AACA,QAAA,KAAA,MAAA,KAAA,SAAA,IAAA,KAAA,MAAA,KAAA,SAAA,EAAA;AACA,wBAAA,QAAA,GAAA,KAAA;AACA,UAAA,UAAA,OAAA,OAAA,EAAA,EAAA,MAAA,IAAA,OAAA,OAAA,OAAA,EAAA,EAAA,MAAA,EAAA,OAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,SAAA,MAAA,CAAA,oBAAA,EAAA,OAAA,CAAA,SAAA,EAAA,OAAA;AACA,KAJA,MAIA;AACA,wBAAA,QAAA,GAAA,IAAA;AACA,SAAA,MAAA,CAAA,oBAAA,EAAA,OAAA,CAAA,SAAA,EAAA,KAAA;AACA;;AACA,OAAA,MAAA,CAAA,iBAAA,EAAA,OAAA,CAAA,SAAA,EAAA,KAAA,IAAA,KAAA,SAAA;AACA,mBAAA,KAAA,GAAA,OAAA,EAAA,EAAA,UAAA;AACA,2BAAA,KAAA,GAAA,GAAA,OAAA,EAAA,EAAA,UAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA,CAAA;AAEA,MAAA,aAAA,EAAA,MAAA,CAAA;AACA,aAAA,gBAAA,OAAA,EAAA,EAAA,IADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,KAAA;AAAA,YAAA,GAAA;AAAA,OAHA;AAIA,aAAA,iBAAA;AACA,WAAA,SAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,IAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA;AACA,qBAAA,IAAA;AACA;AAPA,KAAA;AAUA,QAAA,QAAA,QAAA,EAAA;AACA,YAAA,QAAA,GAAA,IAAA;AAEA;;AAEA,aAAA,uBAAA,GAAA;AACA,sBAAA,SAAA,GAAA,EAAA;AACA,gBAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,SAAA,GAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,wBAAA,GAAA,CAAA,GAAA;AACA,OAJA;AAKA;;AAEA,MAAA,sBAAA,EAAA,GAAA,CAAA,oBAAA,EAAA,GAAA,CAAA,eAAA,EAAA,GAAA,CAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,IAAA,GAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,sBAAA,EAAA,IAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,IAAA;AACA,OAHA,MAGA;AACA,UAAA,iBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,IAAA;AACA;AACA,KARA;AAUA,MAAA,4BAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,IAAA,GAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,4BAAA,EAAA,IAAA;AACA,UAAA,IAAA,EAAA,MAAA,GAAA,IAAA,GAAA,IAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,IAAA;AACA,OAJA,MAIA;AACA,UAAA,4BAAA,EAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AACA,UAAA,IAAA,EAAA,MAAA,GAAA,IAAA,GAAA,IAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,IAAA;AACA;AACA,KAVA;AAYA,MAAA,kBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA;AACA,sBAAA,EAAA,EAAA,CAAA;AACA,KAJA;AAMA,MAAA,iBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,WAAA,KAAA,KAAA,CAAA,WAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,EAAA,OAAA,CAAA,WAAA,EAAA,EAAA,CAAA;AACA,UAAA,OAAA,QAAA,CAAA,CAAA,SAAA,MAAA,CAAA,CAAA,CAAA,CAAA,EAAA,WAAA,MAAA,QAAA;;AACA,UAAA,WAAA,MAAA,CAAA,MAAA,QAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,gBAAA,QAAA,GAAA,qBAAA;AACA;AACA;;AACA,qBAAA,KAAA,GAAA,EAAA,CAPA,CAQA;;AACA,UAAA,KAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,WAAA,MAAA,CAAA,MAAA,EAAA,EAAA,IAAA,GAAA,SAAA,CAAA,KAAA,CAAA;AACA,QAAA,EAAA,GAAA,QAAA;AACA,UAAA,IAAA,UAAA,MAAA,CAAA,MAAA,EAAA,EAAA,IAAA,GAAA,SAAA,CAAA,KAAA,CAAA;AACA,QAAA,EAAA,GAAA,QAAA;AACA,iBAAA,IAAA,GAAA,YAAA,CAAA,CAAA,EAAA,IAAA;AACA,gBAAA,IAAA,GAAA,YAAA,CAAA,CAAA,EAAA,IAAA,EAfA,CAgBA;;AACA,UAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,SAAA,GAAA,QAAA;AACA,sBAAA,GAAA,CAAA,GAAA;AACA,QAAA,kBAAA,EAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,mCAAA,EAAA,MAAA;AACA;AACA,KAvBA;AAyBA,MAAA,eAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,UAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA,uBAAA,KAAA;AACA,OAJA,MAIA;AACA,UAAA,kBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,KATA;AAWA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,MAAA,CAAA,WAAA,IAAA,GAAA,UAAA,CAAA;AACA,UAAA,OAAA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,QAAA,MAAA,SAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,UAAA,UAAA,gDAAA,KAAA,GAAA,kBAAA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,cAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,kBAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,kBAAA,OAAA,SAAA,EAAA;AACA,kBAAA,OAAA,OAAA,EAAA,EAAA,IAAA;AACA,kBAAA,QAAA,OAAA,EAAA,EAAA,MAAA;;AACA,kBAAA,OAAA,KAAA,CAAA,EAAA;AACA,oBAAA,OAAA,KAAA,EAAA,OAAA,KAAA,EAAA,EAAA,OAAA,KAAA,EAAA,OAAA,GAAA,QAAA;AACA,uBAAA,KAAA,EAAA,KAAA;AACA;;AACA,qBAAA,EAAA,EAAA,MAAA,GAAA,SAAA;AACA,oBAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AACA,aAXA;AAYA,uBAAA,MAAA,CAAA,MAAA,IAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,sBAAA,MAAA,CAAA,MAAA,IAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,cAAA,sCAAA,EAAA,GAAA,GAAA,EAAA,MAAA,GAAA,QAAA,GAAA,MAAA;AACA,yBAAA,SAAA;AACA;AACA,cAAA,aAAA,EAAA,MAAA,CAAA,OAAA;AACA,WArBA;AAsBA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAtBA;AADA,OAAA;AA2BA,KAlCA;AAoCA,MAAA,gBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,KAAA,KAAA,EAAA,EAAA;AACA,YAAA,qFAAA;AACA;AACA;;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,iBAAA,SAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAAA,KAAA,KAAA;AACA,aAAA,EAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,QAAA,qDAAA,EAAA,IAAA,CAAA,gBAAA,KAAA,KAAA;AACA,KATA;AAWA,MAAA,uCAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,UAAA,KAAA,EAAA,KAAA,mBAAA,GAAA,OAAA,EAAA,EAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,SAAA,MAAA,CAAA;AACA,UAAA,OAAA,aAAA,OAAA,CAAA;AACA,iBAAA,SAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAAA,IAAA;AACA,aAAA,EAAA,EAAA,IAAA,GAAA,IAAA;AACA,oBAAA,KAAA,GAAA,IAAA;AACA,QAAA,qDAAA,EAAA,IAAA,CAAA,gBAAA,IAAA;AACA,KARA;AAUA,MAAA,yBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,wBAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,UAAA,wBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,wBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA,8BAAA,KAAA;AACA,OAJA,MAIA;AACA,UAAA,wBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,wBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,KATA;AAWA,MAAA,wBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,WAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,UAAA,sBAAA,KAAA,KAAA,EAAA,EAAA;AACA,UAAA,OAAA,MAAA,sBAAA,KAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA,YAAA,IAAA,CAAA,aAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,MAAA,sBAAA,KAAA,CAAA;AACA,KANA;AAQA,MAAA,wBAAA,EAAA,MAAA,CAAA,YAAA;AACA,iBAAA,KAAA,KAAA,EAAA,IAAA,CAAA,mBAAA;AACA,YAAA,CAAA,OAAA,EAAA;AACA,+BAAA,KAAA;AACA,8BAAA,KAAA,GAAA,EAAA;AACA,YAAA,YAAA,CAAA,EAAA,EAAA,wBAAA,EAAA,GAAA,CAAA,MAAA,MAAA,GAAA,CAAA,EAAA,MAAA;AACA,OALA;AAMA,KAPA;AASA,MAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,WAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,WAAA,EAAA,CAAA,KAAA,KAAA;AACA;AACA,KALA;AAOA,MAAA,sBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,WAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,WAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,SAAA,EAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,WAAA,MAAA,CAAA,eAAA,EAAA,GAAA,IAAA,CAAA;AACA,UAAA,KAAA,eAAA,GAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,IAAA,GAAA,OAAA,EAAA;AACA,2BAAA,SAAA,GAAA,KAAA,GAAA,CAAA,CAAA,KAAA,KAAA,IAAA,GAAA;AACA,UAAA,QAAA,CAAA,KAAA,KAAA;AACA,UAAA,gCAAA,GAAA,CAAA,CAAA,cAAA,GAAA,CAAA,CAAA,sBAAA,KAAA,cAAA,EAAA,CAAA,GAAA,EAAA,KAAA,GAAA,CAAA,cAAA,EAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,MAAA;AACA,SAAA,IAAA,CAAA,WAAA,EAAA,SAAA;AACA,KATA;AAWA,MAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,UAAA,OAAA,CAAA,KAAA,KAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA,IAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AAAA,WAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA;AAAA,OAAA;AACA,KANA;AAQA,MAAA,sBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,cAAA,EAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,sBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,cAAA,EAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,wBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,sBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,UAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,YAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,oBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,QAAA,OAAA,EAAA,EAAA,MAAA;AACA,UAAA,OAAA,KAAA,MAAA,SAAA,EAAA;AACA,UAAA,UAAA,OAAA,OAAA,EAAA,EAAA,MAAA,IAAA,OAAA,OAAA,OAAA,EAAA,EAAA,MAAA,EAAA,OAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;;AACA,UAAA,WAAA,OAAA,KAAA,EAAA,OAAA,KAAA,QAAA,EAAA;AACA;AACA,YAAA,aAAA,OAAA,KAAA,EAAA,OAAA;AACA,wBAAA,UAAA,EAAA,OAAA;AACA;;AACA,aAAA,KAAA,EAAA,OAAA,GAAA,UAAA,EAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,oBAAA,EAAA,OAAA,CAAA,SAAA,EAAA,OAAA;AACA,UAAA,IAAA,UAAA,UAAA,GAAA,OAAA;AACA,sBAAA,EAAA,EAAA,CAAA;AACA,KAdA;AAgBA,MAAA,iBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,OAAA,MAAA,OAAA,EAAA,EAAA,IAAA,CAAA;AACA,UAAA,aAAA,KAAA,IAAA,KAAA,SAAA,GAAA,IAAA,GAAA,SAAA;AACA,WAAA,IAAA,GAAA,UAAA;AACA,SAAA,MAAA,CAAA,iBAAA,EAAA,OAAA,CAAA,SAAA,EAAA,UAAA;;AACA,UAAA,UAAA,EAAA;AACA,YAAA,QAAA,WAAA,IAAA,GAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,UAAA,UAAA,GAAA,kBAAA,GAAA,eAAA;AACA,YAAA,QAAA,MAAA,MAAA,CAAA,EAAA,CAAA;AACA,YAAA,OAAA,CAAA,MAAA,IAAA,CAAA,MAAA,CAAA;AACA,YAAA,IAAA,GAAA,OAAA,EAAA,EAAA,CAAA,GAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,OAAA,EAAA,EAAA,CAAA,GAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,cAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,cAAA,EAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,OADA,EACA,IADA,EACA,IADA,CACA,QADA,EACA,IADA,EAEA,EAFA,CAEA,OAFA,EAEA,QAFA;AAGA,OAVA,MAUA;AACA,UAAA,sCAAA,EAAA,GAAA,GAAA,EAAA,MAAA;AACA;AACA,KAnBA;AAqBA,MAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,6BAAA,KAAA,GAAA,GAAA,KAAA,KAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA,CAAA;AACA,aAAA,EAAA,EAAA,UAAA,GAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,eAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,OAJA,MAIA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;;AACA,YAAA,MAAA,WAAA,IAAA,CAAA,SAAA,CAAA;;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAAA,GAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,mBAAA;AACA,YAAA,+DAAA,EAAA,IAAA;AACA;AACA,KAZA,EAtUA,CAoVA;;AACA,aAAA,cAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,SAAA,IAAA;AACA,UAAA,OAAA,OAAA,IAAA,EAAA,IAAA;AACA,kBAAA,EAAA,EAAA,IAAA;AACA,KALA,EArVA,CA4VA;;AACA,aAAA,mBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,SAAA,KAAA,CAAA;AACA,UAAA,IAAA,CAAA,EAAA,eAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,CAAA,EAAA;;AAEA,UAAA,MAAA,KAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,oDAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;;AAEA,UAAA,MAAA,KAAA,EAAA,KAAA,KAAA,SAAA,IAAA,MAAA,KAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,YAAA,iEAAA,EAAA,IAAA,EAAA,OAAA;AACA,UAAA,OAAA,EAAA,MAAA;AACA,WAAA,MAAA,CAAA,aAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA;AACA;AACA;;AAEA,UAAA,SAAA,MAAA,KAAA,EAAA,MAAA;AACA,UAAA,YAAA,OAAA,CAAA,EAAA,MAAA,CAnBA,CAoBA;;AACA,UAAA,OAAA,SAAA,KAAA,OAAA,SAAA,EAAA,OAAA,KAAA,CAAA,EAAA;AACA,YAAA,WAAA,SAAA,EAAA;AACA,cAAA,6CAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;AACA;;AAEA,UAAA,GAAA,KAAA,CAAA,QAAA,KAAA,KAAA,EAAA;AACA,UAAA,eAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,YAAA,EAAA,EAAA,IAAA;;AACA,YAAA,WAAA,SAAA,EAAA;AACA,+BAAA,SAAA;AACA,+BAAA,MAAA;AACA;AACA;AACA;;AAEA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,gBAAA,MAAA,CAAA,qBAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,iBAAA,MAAA,CAAA,mBAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,UAAA,SAAA,MAAA,MAAA,CAAA,kBAAA,CAAA,GAAA,IAAA,CAAA;;AACA,UAAA,OAAA,IAAA,EAAA,EAAA;AACA,YAAA,OAAA,OAAA,IAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,eAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,EAAA;AACA;;AACA,YAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,YAAA,OAAA,CAAA,EAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AACA,aAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,GAAA,CAAA,EAAA,OAAA,CAAA,EAAA,MAAA,GAAA,MAAA,EAAA,OAAA,CAAA,EAAA,IAAA,GAAA,KAAA;AACA,KAjZA,CAmZA;;;AACA,MAAA,gBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,OAAA,OAAA,EAAA,EAAA,IAAA;AACA,UAAA,OAAA,OAAA,EAAA,EAAA,IAAA;AACA,UAAA,MAAA,GAAA,OAAA,EAAA,EAAA,UAAA,CAAA;AACA,UAAA,OAAA,MAAA,EAAA,GAAA,EAAA,GAAA,MAAA,CAAA,GAAA,CAAA,GAAA,GAAA;AACA,UAAA,IAAA,OAAA,EAAA,GAAA,EAAA;AACA,UAAA,MAAA,MAAA,IAAA,EAAA,SAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,UAAA,QAAA,MAAA,IAAA,EAAA,KAAA,GAAA,CAAA,GAAA,CAAA;AACA,UAAA,QAAA,MAAA,IAAA,EAAA,IAAA,KAAA,SAAA,GAAA,CAAA,GAAA,CAAA;AACA,UAAA,MAAA,MAAA,EAAA,GAAA,CAAA,GAAA,KAAA,MAAA,KAAA,MAAA,GAAA,GAAA,CAAA,GAAA,CAAA;AACA,UAAA,MAAA,OAAA,KAAA,MAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA;AACA,UAAA,MAAA,kCAAA;AACA,UAAA,yBAAA,IAAA,mBAAA,IAAA,mBAAA,CAAA,kBAAA,GAAA,2BAAA;AACA,iCAAA,KAAA,oBAAA,KAAA,sBAAA,KAAA,CAAA,oBAAA,GAAA,qBAAA,GAAA,oBAAA,GAAA,yBAAA,GAAA;AACA,UAAA,MAAA,OAAA,IAAA,CAAA,MAAA,MAAA,EAAA,QAAA,CAAA;AACA,UAAA,KAAA;AACA,KAjBA;AAmBA,MAAA,oBAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBADA,CACA;;AACA,QAAA,UAAA,EAAA,KAAA;AACA,KAHA;AAKA,MAAA,aAAA,EAAA,KAAA,CAAA,YAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,aAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,KAAA,CAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,eAAA,SAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,MAAA;AACA,gBAAA,OAAA,OAAA,EAAA,EAAA,IAAA;AACA,gBAAA,QAAA,OAAA,EAAA,EAAA,MAAA;;AACA,gBAAA,OAAA,KAAA,CAAA,EAAA;AACA,kBAAA,OAAA,KAAA,EAAA,OAAA,KAAA,EAAA,EAAA,OAAA,KAAA,EAAA,OAAA,GAAA,QAAA;AACA,qBAAA,KAAA,EAAA,KAAA;AACA;;AACA,mBAAA,EAAA,EAAA,MAAA,GAAA,SAAA;AACA,kBAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AACA,yBAAA,SAAA;AACA;AACA,WAfA;AAgBA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAhBA;AADA,OAAA;AAoBA,KAtBA;AAuBA;;AAEA,WAAA,UAAA,GAAA;AACA,QAAA,aAAA,EAAA;AAEA;AACA,iBAAA,wBAAA;AACA,iBAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,CAAA,WAAA,EAAA,IAAA,CAAA;AAEA,MAAA,eAAA,EAAA,MAAA,CAAA;AACA,aAAA,aADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,gBAAA,GAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,QAAA;AAAA,YAAA,GAAA;AAAA,OAHA;AAIA,aAAA;AAJA,KAAA,EAPA,CAcA;;AACA,QAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,QAAA,SAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,CAAA;AACA,QAAA,OAAA,OAAA,MAAA,CAAA,MAAA,CAAA;AACA,sBAAA,KAAA,GAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA,mBAAA,KAAA,GAAA,WAAA,KAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,qBAAA,KAAA,GAAA,WAAA,KAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AACA,qBAAA,KAAA,GAAA,WAAA,KAAA,IAAA,CAAA,GAAA,CAAA,CAAA;AACA,mBAAA,KAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA;AACA,0BAAA,KAAA,GAAA,KAAA,IAAA,CAAA,cAAA,CAAA;AACA,qBAAA,KAAA,GAAA,KAAA,IAAA,CAAA,QAAA,CAAA;AACA,eAAA,KAAA,GAAA,WAAA,IAAA,CAAA,WAAA,CAAA;AACA,eAAA,KAAA,GAAA,OAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA,eAAA,KAAA,GAAA,OAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA,QAAA,UAAA,OAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,uBAAA,SAAA,GAAA,YAAA,GAAA,GAAA,WAAA,GAAA,mBAAA;AAEA,QAAA,QAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,QAAA,WAAA,MAAA,sBAAA,CAAA,UAAA,CAAA;AACA,QAAA,SAAA,MAAA,EAAA,SAAA,CAAA,EAAA,eAAA,CAAA,OAAA;AACA,eAAA,SAAA,gBAAA,CAAA,gBAAA,KAAA,IAAA,GAAA,WAAA,EAAA,CAAA;AACA,QAAA,SAAA,MAAA,EAAA,SAAA,CAAA,EAAA,SAAA,GAAA,UAAA;AACA,qBAAA,KAAA,GAAA,SAAA,MAAA,GAAA,EAAA,GAAA,KAAA,IAAA,EAAA;AAEA,QAAA,QAAA,UAAA,EAAA;AACA,YAAA,UAAA,GAAA,IAAA;AAEA,MAAA,cAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,wBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,qBAAA,EAAA,MAAA;AACA;AACA,KAJA;;AAMA,aAAA,wBAAA,GAAA;AACA,wBAAA,SAAA,GAAA,EAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,SAAA,GAAA,KAAA,EAAA;AACA,0BAAA,GAAA,CAAA,GAAA;AACA,OAJA;AAKA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,wBAAA,KAAA,GAAA,EAAA;AACA,KAxDA,CA0DA;;;AACA,aAAA,cAAA,CAAA,gBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,EAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,UAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,oBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA,yBAAA,KAAA;AACA,OAJA,MAIA;AACA,UAAA,oBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,UAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,KATA,EA3DA,CAsEA;;AACA,aAAA,cAAA,CAAA,mBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,iBAAA,IAAA,CAAA,MAAA,EAAA,MAAA,KAAA,KAAA;AACA,iBAAA,IAAA,CAAA,SAAA,EAAA,MAAA,KAAA,KAAA;AACA,KAHA,EAvEA,CA4EA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,WAAA,KAAA,KAAA,CAAA,WAAA,GAAA,OAAA,CAAA,IAAA,EAAA,GAAA,EAAA,OAAA,CAAA,WAAA,EAAA,EAAA,CAAA;AACA,UAAA,OAAA,QAAA,CAAA,CAAA,SAAA,MAAA,CAAA,CAAA,CAAA,CAAA,EAAA,WAAA,MAAA,QAAA;;AACA,UAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,MAAA,QAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,eAAA,QAAA,GAAA,qBAAA;AACA;AACA;;AACA,uBAAA,KAAA,GAAA,EAAA,CAPA,CAQA;;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,IAAA,GAAA,SAAA,CAAA,IAAA,CAAA;AACA,QAAA,EAAA,GAAA,QAAA;AACA,iBAAA,IAAA,CAAA,MAAA,EAAA,MAAA,QAAA;AACA,iBAAA,IAAA,CAAA,SAAA,EAAA,MAAA,QAAA;AACA,eAAA,cAAA,CAAA,cAAA,EAAA,YAAA,CAAA,CAAA,EAAA,IAAA,EAdA,CAgBA;;AACA,UAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,SAAA,GAAA,QAAA;AACA,wBAAA,GAAA,CAAA,GAAA;AACA,QAAA,oBAAA,EAAA,GAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,uCAAA,EAAA,MAAA;AACA;AACA,KAvBA;AAyBA,MAAA,mBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,wBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,oBAAA,EAAA,MAAA;AACA,UAAA,CAAA,EAAA,kBAAA,EAAA,IAAA,EAAA,EAAA,cAAA,KAAA;AACA,KAJA;AAMA,MAAA,oBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,UAAA,OAAA,SAAA,gBAAA,CAAA,kBAAA,EAAA,GAAA,IAAA,CAAA;AACA,UAAA,QAAA,KAAA,MAAA,KAAA,CAAA,GAAA,WAAA,GAAA,KAAA,MAAA,GAAA,WAAA;AACA,UAAA,UAAA,iDAAA,KAAA,GAAA,IAAA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,eAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,OAAA,UAAA,EAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA;AACA,iBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,MAAA;AAAA,aAAA;AACA;AACA,cAAA,eAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAPA;AAQA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AARA;AADA,OAAA;AAYA,KAlBA;;AAoBA,aAAA,aAAA,GAAA;AACA,UAAA,QAAA,CACA;AACA,OAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAFA,EAGA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAHA,EAIA,CAAA,OAAA,EAAA,IAAA,EAAA,iBAAA,CAJA,EAKA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CALA,EAMA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CANA,EAOA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAPA,EAQA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CARA,EASA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CATA,EAUA,CAAA,OAAA,EAAA,IAAA,EAAA,WAAA,CAVA,EAWA,CAAA,OAAA,EAAA,IAAA,EAAA,cAAA,CAXA,EAYA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAZA,EAaA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CAbA,EAcA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAdA,EAeA,CAAA,OAAA,EAAA,IAAA,EAAA,UAAA,CAfA,EAgBA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CAhBA,EAiBA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAjBA,EAkBA,CAAA,OAAA,EAAA,IAAA,EAAA,YAAA,CAlBA,EAmBA,CAAA,OAAA,EAAA,IAAA,EAAA,KAAA,CAnBA,EAoBA,CAAA,OAAA,EAAA,IAAA,EAAA,WAAA,CApBA,EAqBA,CAAA,OAAA,EAAA,IAAA,EAAA,aAAA,CArBA,EAsBA,CAAA,OAAA,EAAA,IAAA,EAAA,UAAA,CAtBA,EAuBA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CAvBA,EAwBA,CAAA,OAAA,EAAA,IAAA,EAAA,KAAA,CAxBA,EAyBA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAzBA,EA0BA,CAAA,OAAA,EAAA,IAAA,EAAA,UAAA,CA1BA,EA2BA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CA3BA,EA4BA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CA5BA,EA6BA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CA7BA,EA8BA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CA9BA,EA+BA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CA/BA,EAgCA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAhCA,EAiCA,CAAA,OAAA,EAAA,IAAA,EAAA,aAAA,CAjCA,EAkCA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAlCA,EAmCA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAnCA,EAoCA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CApCA,EAqCA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CArCA,EAsCA,CAAA,OAAA,EAAA,IAAA,EAAA,gBAAA,CAtCA,EAuCA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAvCA,EAwCA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAxCA,EAyCA,CAAA,OAAA,EAAA,IAAA,EAAA,aAAA,CAzCA,EA0CA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CA1CA,EA2CA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CA3CA,EA4CA,CAAA,OAAA,EAAA,IAAA,EAAA,UAAA,CA5CA,EA6CA,CAAA,OAAA,EAAA,IAAA,EAAA,WAAA,CA7CA,EA8CA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CA9CA,EA+CA,CAAA,OAAA,EAAA,IAAA,EAAA,YAAA,CA/CA,EAgDA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CAhDA,EAiDA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CAjDA,EAkDA,CAAA,MAAA,EAAA,GAAA,EAAA,aAAA,CAlDA,EAmDA,CAAA,OAAA,EAAA,IAAA,EAAA,eAAA,CAnDA,EAoDA,CAAA,OAAA,EAAA,IAAA,EAAA,eAAA,CApDA,EAqDA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CArDA,EAsDA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CAtDA,EAuDA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAvDA,EAwDA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CAxDA,EAyDA,CAAA,OAAA,EAAA,IAAA,EAAA,QAAA,CAzDA,EA0DA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CA1DA,EA2DA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CA3DA,EA4DA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA5DA,EA6DA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CA7DA,EA8DA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CA9DA,EA+DA,CAAA,OAAA,EAAA,IAAA,EAAA,SAAA,CA/DA,EAgEA,CAAA,OAAA,EAAA,IAAA,EAAA,YAAA,CAhEA,EAiEA,CAAA,OAAA,EAAA,IAAA,EAAA,iBAAA,CAjEA,EAkEA,CAAA,OAAA,EAAA,IAAA,EAAA,gBAAA,CAlEA,EAmEA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAnEA,EAoEA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CApEA,EAqEA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CArEA,EAsEA,CAAA,OAAA,EAAA,IAAA,EAAA,KAAA,CAtEA,EAuEA,CAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAvEA,EAwEA,CAAA,OAAA,EAAA,IAAA,EAAA,KAAA,CAxEA,EAyEA;AACA,OAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA1EA,EA2EA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA3EA,EA4EA,CAAA,MAAA,EAAA,GAAA,EAAA,KAAA,CA5EA,EA6EA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA7EA,EA8EA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CA9EA,EA+EA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CA/EA,EAgFA,CAAA,MAAA,EAAA,GAAA,EAAA,aAAA,CAhFA,EAiFA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAjFA,EAkFA,CAAA,MAAA,EAAA,GAAA,EAAA,cAAA,CAlFA,EAmFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAnFA,EAoFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CApFA,EAqFA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CArFA,EAsFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAtFA,EAuFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAvFA,EAwFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAxFA,EAyFA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAzFA,EA0FA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA1FA,EA2FA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA3FA,EA4FA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CA5FA,EA6FA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CA7FA,EA8FA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA9FA,EA+FA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CA/FA,EAgGA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAhGA,EAiGA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CAjGA,EAkGA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAlGA,EAmGA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAnGA,EAoGA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CApGA,EAqGA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CArGA,EAsGA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAtGA,EAuGA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAvGA,EAwGA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CAxGA,EAyGA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAzGA,EA0GA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA1GA,EA2GA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CA3GA,EA4GA,CAAA,MAAA,EAAA,GAAA,EAAA,aAAA,CA5GA,EA6GA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CA7GA,EA8GA,CAAA,MAAA,EAAA,GAAA,EAAA,cAAA,CA9GA,EA+GA,CAAA,MAAA,EAAA,GAAA,EAAA,cAAA,CA/GA,EAgHA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAhHA,EAiHA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAjHA,EAkHA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAlHA,EAmHA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAnHA,EAoHA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CApHA,EAqHA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CArHA,EAsHA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAtHA,EAuHA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CAvHA,EAwHA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CAxHA,EAyHA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CAzHA,EA0HA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CA1HA,EA2HA,CAAA,MAAA,EAAA,GAAA,EAAA,cAAA,CA3HA,EA4HA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CA5HA,EA6HA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CA7HA,EA8HA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CA9HA,EA+HA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA/HA,EAgIA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CAhIA,EAiIA,CAAA,MAAA,EAAA,GAAA,EAAA,iBAAA,CAjIA,EAkIA,CAAA,MAAA,EAAA,GAAA,EAAA,sBAAA,CAlIA,EAmIA,CAAA,MAAA,EAAA,GAAA,EAAA,oBAAA,CAnIA,EAoIA,CAAA,MAAA,EAAA,GAAA,EAAA,iBAAA,CApIA,EAqIA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CArIA,EAsIA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAtIA,EAuIA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAvIA,EAwIA,CAAA,MAAA,EAAA,GAAA,EAAA,KAAA,CAxIA,EAyIA,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAzIA,EA0IA,CAAA,MAAA,EAAA,GAAA,EAAA,aAAA,CA1IA,EA2IA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CA3IA,EA4IA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA5IA,EA6IA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CA7IA,EA8IA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CA9IA,EA+IA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA/IA,EAgJA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAhJA,EAiJA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CAjJA,EAkJA,CAAA,MAAA,EAAA,GAAA,EAAA,eAAA,CAlJA,EAmJA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CAnJA,EAoJA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CApJA,EAqJA,CAAA,MAAA,EAAA,GAAA,EAAA,YAAA,CArJA,EAsJA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CAtJA,EAuJA,CAAA,MAAA,EAAA,GAAA,EAAA,WAAA,CAvJA,EAwJA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CAxJA,EAyJA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAzJA,EA0JA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CA1JA,EA2JA,CAAA,MAAA,EAAA,GAAA,EAAA,kBAAA,CA3JA,EA4JA,CAAA,MAAA,EAAA,GAAA,EAAA,cAAA,CA5JA,EA6JA,CAAA,MAAA,EAAA,GAAA,EAAA,SAAA,CA7JA,EA8JA,CAAA,MAAA,EAAA,GAAA,EAAA,OAAA,CA9JA,EA+JA,CAAA,MAAA,EAAA,GAAA,EAAA,UAAA,CA/JA,EAgKA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAhKA,EAiKA,CAAA,MAAA,EAAA,GAAA,EAAA,iBAAA,CAjKA,EAkKA,CAAA,MAAA,EAAA,GAAA,EAAA,QAAA,CAlKA,CAAA;AAqKA,UAAA,QAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AAAA,UAAA,MAAA,EAAA;AACA,YAAA,gBAAA,CAAA,OAAA,EAAA,oBAAA,EAAA,KAAA;AACA,YAAA,gBAAA,CAAA,WAAA,EAAA,oBAAA,EAAA,KAAA;;AAEA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,IAAA,EAAA,KAAA,CAAA,EAAA,MAAA,MAAA,SAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,IAAA,UAAA,CAAA,CAAA,CAAA;;AACA,YAAA,QAAA,OAAA,aAAA,CAAA,SAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA;;AACA,aAAA,SAAA,GAAA,KAAA;AACA,aAAA,EAAA,GAAA,eAAA,MAAA,WAAA,EAAA;AACA,aAAA,YAAA,CAAA,WAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA;;AAEA,aAAA,oBAAA,CAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,EAAA,aAAA,EAAA;AACA,YAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;;AACA,YAAA,YAAA,OAAA,sBAAA,CAAA,UAAA,CAAA;;AACA,YAAA,UAAA,MAAA,EAAA,UAAA,CAAA,EAAA,eAAA,CAAA,OAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,UAAA;;AACA,YAAA,OAAA,WAAA,IAAA,CAAA,MAAA,CAAA;;AACA,YAAA,SAAA,EAAA,MAAA,CAAA,SAAA;AACA,WAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,IAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA;AACA;;AACA,QAAA,eAAA;AACA;;AAEA,aAAA,oBAAA,CAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,EAAA,aAAA,EAAA;AACA,YAAA,OAAA,EAAA,MAAA,CAAA,YAAA,CAAA,WAAA,CAAA;AACA,YAAA,EAAA,MAAA,CAAA,SAAA,GAAA,GAAA,GAAA,IAAA;AACA;;AACA,QAAA,eAAA;AACA,KAvUA,CAyUA;;;AACA,aAAA,cAAA,CAAA,gBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,KAAA,GAAA,IAAA;AACA,KAHA,EA1UA,CA+UA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA,KAAA,GAAA,GAAA;AACA,KAHA,EAhVA,CAqVA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA,KAAA,GAAA,GAAA;AACA,KAHA,EAtVA,CA2VA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,KAAA,KAAA;AACA,KAJA;AAMA,MAAA,oBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,wBAAA,EAAA,GAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,qBAAA,EAAA,MAAA;AACA,KAHA,EAlWA,CAuWA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,OAAA,SAAA,gBAAA,CAAA,kBAAA,EAAA,GAAA,IAAA,CAAA;AACA,UAAA,OAAA,KAAA,KAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,UAAA,YAAA,CAAA,WAAA,EAAA,IAAA;AAAA,OAAA;AACA;AACA,KANA,EAxWA,CAgXA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,SAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,KAJA,EAjXA,CAuXA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAHA,EAxXA,CA6XA;;AACA,aAAA,cAAA,CAAA,gBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAHA,EA9XA,CAmYA;;AACA,aAAA,cAAA,CAAA,uBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,KAAA,KAAA;AACA,KAHA,EApYA,CAyYA;;AACA,aAAA,cAAA,CAAA,kBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,KAHA,EA1YA,CA+YA;;AACA,aAAA,cAAA,CAAA,oBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,UAAA,OAAA,CAAA;;AACA,UAAA,KAAA,SAAA,KAAA,mBAAA,EAAA;AACA,aAAA,SAAA,GAAA,WAAA;AACA,eAAA,CAAA;AACA,OAHA,MAGA;AACA,aAAA,SAAA,GAAA,mBAAA;AAAA;AACA;;AACA,SAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA,SAAA,MAAA,CAAA,EAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA,KAXA,EAhZA,CA6ZA;;AACA,aAAA,cAAA,CAAA,oBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,SAAA,WAAA,IAAA,CAAA,MAAA,CAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,MAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,UAAA,OAAA,YAAA,IAAA;AACA,kBAAA,EAAA,EAAA,IAAA;AACA,KANA,EA9ZA,CAsaA;;AACA,aAAA,cAAA,CAAA,WAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,eAAA,cAAA,CAAA,WAAA,EAAA,KAAA;AACA,KAFA,EAvaA,CA2aA;;AACA,aAAA,cAAA,CAAA,cAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,SAAA,GAAA,6CAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,eAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,uBAAA,MAAA;AACA,cAAA,eAAA,EAAA,MAAA,CAAA,OAAA;AACA,WALA;AAMA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AANA;AADA,OAAA;AAUA,KAZA;AAaA,GAjvIA,CAmvIA;;;AACA,WAAA,QAAA,GAAA;AACA,QAAA,EAAA,EAAA,IAAA;AACA;AACA,QAAA,kBAAA,CAAA,EAAA,gBAAA,CAAA;AACA,QAAA,CAAA,UAAA,EAAA;AACA,eAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,YAAA,KAAA,CAAA,QAAA,EAAA,SAAA;AACA,iBAAA,IAAA;AACA,GA7vIA,CA+vIA;;;AACA,WAAA,cAAA,CAAA,MAAA,EAAA;AACA,QAAA,CAAA,MAAA,EAAA;AAAA,aAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AAAA;;AACA,QAAA,IAAA,OAAA,OAAA,CAAA,UAAA,EAAA,EAAA,EAAA,OAAA,CAAA,MAAA,EAAA,GAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,WAAA,CAAA,EAAA,CAAA,KAAA,CAAA,EAAA,EAAA,CAAA,KAAA,CAAA,EAAA,EAAA,CAAA,KAAA,CAAA,EAAA,EAAA,CAAA,KAAA,CAAA,EAAA,EAAA,CAAA,KAAA,CAAA,EAAA,EAAA,CAAA,KAAA,CAAA,CAAA;AACA,GApwIA,CAswIA;;;AACA,WAAA,eAAA,CAAA,EAAA,EAAA,CAAA,EAAA;AACA,MAAA,0BAAA,EAAA,GAAA,GAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA,oBAAA,CAAA,CAAA;AACA,MAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA,mBAAA,CAAA,CAAA;AACA,QAAA,QAAA,EAAA,mBAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA,MAAA,yBAAA,EAAA,GAAA,GAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA;AACA,QAAA,KAAA,EAAA,sCAAA,EAAA,GAAA,GAAA,CAAA;;AACA,QAAA,GAAA,MAAA,EAAA;AACA,UAAA,KAAA,MAAA,OAAA,GAAA,EAAA,eAAA,CAAA,GAAA,EAAA,kBAAA,CAAA;AACA,SAAA,MAAA,GAAA,QAAA,CAAA,EAAA;AACA,UAAA,UAAA,GAAA,IAAA,CAAA,MAAA,CAAA;AACA,UAAA,IAAA,GAAA,OAAA,EAAA,EAAA,CAAA,GAAA,UAAA,IAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,OAAA,EAAA,EAAA,CAAA,GAAA,UAAA,IAAA,EAAA,CAAA,CAAA;AACA,SAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,OAAA,EAAA,IAAA,CAAA,QAAA,EAAA,OAAA;AACA;;AACA;AACA,GAtxIA,CAwxIA;;;AACA,WAAA,gBAAA,GAAA;AACA,QAAA,QAAA,CAAA,cAAA,KAAA;AACA,eAAA,GAAA,OAAA,CAAA,eAAA,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA;AACA,QAAA,UAAA,GAAA,KAAA,CAAA,SAAA,MAAA,EAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,GAAA,GAAA,aAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,GAAA,CAAA;AACA,UAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,eAAA,CAAA,EAAA,MAAA,GAAA,MAAA;AACA,aAAA,MAAA;AACA,KANA,CAAA;AAOA,kBAAA,GAAA,QAAA,CAAA,OAAA,CAAA;AACA;;AAEA,WAAA,gBAAA,GAAA;AACA,YAAA,KAAA,CAAA,kBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAA,cAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAA,QAAA,CAAA,kBAAA;AACA,GAzzIA,CA2zIA;;;AACA,WAAA,mBAAA,GAAA;AACA,YAAA,IAAA,CAAA,qBAAA;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,CAAA;AACA,QAAA,IAAA,GAAA,GAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAFA,CAGA;;AACA,UAAA,EAAA,MAAA,IAAA,EAAA,EAAA,QAAA,CAAA,CAAA,KACA,IAAA,EAAA,MAAA,IAAA,EAAA,EAAA,QAAA,GAAA,CAAA,KACA,IAAA,EAAA,MAAA,IAAA,EAAA,EAAA,QAAA,GAAA,CAAA,KACA,IAAA,EAAA,MAAA,IAAA,EAAA,EAAA,QAAA,GAAA;AACA,eAAA,CAAA,IAAA,EAAA,MAAA,GAAA,GAAA,IAAA,CAAA;;AACA,UAAA,EAAA,KAAA,IAAA,KAAA,MAAA,KAAA,GAAA,IAAA,CAAA,EAAA,KAAA,EAAA;AACA,UAAA,KAAA,GAAA,CAAA,CADA,CACA;AACA,OAFA,MAEA;AACA,YAAA,EAAA,MAAA,EAAA;AACA,cAAA,EAAA,MAAA,KAAA,CAAA,EAAA;AAAA,qBAAA,CAAA;AAAA,WAAA,MAAA;AAAA,qBAAA,GAAA;AAAA,WADA,CACA;;AACA;;AACA,YAAA,EAAA,KAAA,EAAA,SAAA,CAAA,CAJA,CAIA;;AACA,YAAA,EAAA,KAAA,IAAA,EAAA,KAAA,KAAA,CAAA,EAAA,SAAA,CAAA,CALA,CAKA;;AACA,YAAA,EAAA,IAAA,GAAA,CAAA,EAAA,SAAA,KAAA,GAAA,CAAA,EAAA,IAAA,EAAA,GAAA,CAAA,CANA,CAMA;;AACA,YAAA,EAAA,UAAA,EAAA,SAAA,KAAA,GAAA,CAAA,EAAA,UAAA,EAAA,GAAA,CAAA,CAPA,CAOA;;AACA,YAAA,WAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,cAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,EAAA,OAAA,MAAA,CAAA,EAAA,MAAA;AAAA,SAAA,CAAA;AACA,YAAA,QAAA,EAAA,MAAA,GAAA,GAAA,IAAA,CAAA,QAAA,CAAA,CATA,CAUA;AACA;;AACA,QAAA,KAAA,GAAA,GAAA,KAAA,MAAA,KAAA,KAAA,GAAA,KAAA,EAAA,CAAA,CAAA,CAvBA,CAuBA;AACA,KAxBA;AAyBA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,KAAA,GAAA,EAAA,KAAA;AAAA,KAAA;AACA,YAAA,OAAA,CAAA,qBAAA;AACA,GAz1IA,CA21IA;;;AACA,WAAA,iBAAA,GAAA;AACA,YAAA,IAAA,CAAA,mBAAA;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA;AACA,UAAA,OAAA,EAAA,IAAA,IAAA,CAAA,CAFA,CAEA;;AACA,UAAA,IAAA,EAAA;AACA,eAAA,KAAA,GAAA,CAAA,IAAA,EAAA,GAAA,CAAA;AACA,YAAA,YAAA,EAAA,SAAA,IAAA,CAAA,CAFA,CAEA;;AACA,gBAAA,QAAA,IAAA,GAAA,SAAA;AACA;;AACA,QAAA,KAAA,GAAA,GAAA,KAAA,MAAA,KAAA,KAAA,GAAA,KAAA,EAAA,CAAA,CAAA,CARA,CAQA;AACA,KATA;AAUA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,KAAA,GAAA,EAAA,KAAA;AAAA,KAAA;AACA,YAAA,OAAA,CAAA,mBAAA;AACA,GA12IA,CA42IA;;;AACA,WAAA,mBAAA,GAAA;AACA;AACA,QAAA,cAAA,GAAA;AAAA,QAAA,cAAA,GAAA,CAFA,CAIA;;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,MAAA,EAAA,IAAA,CAAA;AACA,UAAA,QAAA,KAAA,KAAA;;AACA,UAAA,SAAA,CAAA,EAAA;AAAA,gBAAA,GAAA,KAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AAAA,iBAAA,KAAA,SAAA;AAAA,OAJA,CAIA;;;AACA,UAAA,KAAA,UAAA,EAAA;AAAA,iBAAA,KAAA,GAAA,CAAA,KAAA,UAAA,EAAA,GAAA,CAAA;AAAA,OALA,CAKA;;;AACA,UAAA,EAAA,CAAA,KAAA,EAAA,MAAA,IAAA,KAAA,IAAA,EAAA;AAAA,iBAAA,GAAA;AAAA,OANA,CAMA;;;AACA,UAAA,EAAA,CAAA,KAAA,EAAA,MAAA,IAAA,CAAA,KAAA,IAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,OAPA,CAOA;;;AACA,UAAA,EAAA,CAAA,KAAA,EAAA,MAAA,IAAA,KAAA,IAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,OARA,CAQA;;;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA,SAAA,WAAA;AACA,UAAA,MAAA,MAAA,KAAA,MAAA,KAAA,GAAA,CAVA,CAUA;;AACA,QAAA,UAAA,GAAA,GAAA,QAAA,GAAA,EAAA,CAAA,CAAA;AACA,KAZA,EALA,CAmBA;;AACA,QAAA,eAAA,KAAA,KAAA,IAAA,CAAA,MAAA,MAAA,EAAA,CAAA,CAAA,CApBA,CAoBA;;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA;AACA,UAAA,kBAAA,KAAA,GAAA,CAAA,IAAA,EAAA,MAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AACA,mBAAA,kBAAA,EAAA,IAAA,GAAA,YAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA,cAAA,WAAA;AACA,QAAA,GAAA,GAAA,GAAA,UAAA,EAAA,CAAA,CAAA;AACA,KANA,EArBA,CA6BA;;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA;AACA,UAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,MAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,QAAA,KAAA,GAAA,MAAA,MAAA,CALA,CAMA;;AACA,UAAA,WAAA,CAAA,CAPA,CAOA;;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,oBAAA,EAAA,UAAA;AAAA,OAAA;AACA,QAAA,eAAA,GAAA,GAAA,QAAA,EAAA,CAAA,CAAA;AACA,UAAA,cAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,MAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,UAAA,WAAA,CAAA;AACA,kBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,oBAAA,EAAA,GAAA;AAAA,OAAA;AACA,QAAA,KAAA,GAAA,YAAA,MAAA;AACA,QAAA,eAAA,GAAA,GAAA,QAAA,EAAA,CAAA,CAAA;AACA,KAjBA,EA9BA,CAiDA;;AACA,QAAA,eAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,KAAA,SAAA;AAAA,KAAA,CAAA;;AACA,QAAA,aAAA,MAAA,EAAA;AACA,UAAA,QAAA,CAAA;AAAA,UAAA,kBAAA,CAAA;AAAA,UAAA,kBAAA,CAAA;AAAA,UAAA,OAAA,CAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,2BAAA,EAAA,UAAA;AACA;AACA,OAJA;AAKA,mBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,2BAAA,EAAA,GAAA;AACA,gBAAA,MAAA,EAAA,KAAA,EAAA,IAAA;AACA,OAHA;AAIA,aAAA,IAAA,CAAA;AAAA,WAAA,OAAA,MAAA;AAAA,eAAA,SAAA;AAAA,cAAA,UAAA;AAAA,iBAAA,SAAA;AACA,eAAA,aAAA,MADA;AACA,oBADA;AACA,yBAAA,GAAA,eAAA,EAAA,CAAA,CADA;AAEA,yBAAA,GAAA,eAAA,EAAA,CAAA,CAFA;AAEA,cAAA,GAAA,IAAA;AAFA,OAAA;AAGA;AACA;;AAEA,WAAA,cAAA,GAAA;AACA,YAAA,IAAA,CAAA,gBAAA,EADA,CAEA;;AACA,QAAA,QAAA,CAAA,aAAA,KAAA;AACA,QAAA,UAAA,CAAA,aAAA,WAAA,IAAA,CAAA,GAAA,KAAA;AACA,YAAA,GAAA,CAAA,cAAA,KAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,OAAA,MAAA,GAAA,KAAA,EAAA,GAAA,EAAA;AACA,UAAA,SAAA,OAAA,MAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,UAAA,KAAA,CAHA,CAGA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,IAAA,OAAA,CAAA,EAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,OAAA,OAAA,EAAA,UAAA,IAAA;AACA,YAAA,UAAA,OAAA,EAAA;AACA;;AACA,UAAA,WAAA,OAAA,EAAA;AACA,YAAA,OAAA,KAAA,CAAA,EAAA,KAAA;AACA,YAAA,UAAA,YAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,UAAA,aAAA,OAAA,CAAA;AACA,eAAA,IAAA,CAAA;AAAA,aAAA,MAAA;AAAA,oBAAA;AAAA,cAAA;AAAA,cAAA;AAAA,wBAAA;AAAA;AAAA,SAAA;AACA;;AACA,UAAA,MAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,KAAA,CAAA,+EAAA;AACA,YAAA,CAAA,CAAA,EAAA,SAAA,EAAA,EAAA,WAAA,GAAA;AACA;AACA,KA1BA,CA4BA;;;AACA,QAAA,SAAA,SAAA,CAAA,GAAA,OAAA,GAAA,QAAA;AACA,QAAA,MAAA,CAAA,WAAA,KAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,KAAA,GAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,QAAA,OAAA,IAAA,KAAA,CAAA;AACA,aAAA,IAAA,CAAA;AAAA,YAAA;AAAA,oBAAA;AAAA,oBAAA;AAAA,iBAAA;AAAA,OAAA;AACA,UAAA,IAAA,MAAA,EAAA,IAAA,CAAA;AACA,QAAA,KAAA,GAAA,CAAA;AACA,QAAA,MAAA,GAAA,CAAA;AACA,QAAA,OAAA,GAAA,EAAA,OAAA;AACA,KARA;AASA,YAAA,OAAA,CAAA,gBAAA;AACA;;AAEA,WAAA,WAAA,GAAA;AACA,YAAA,IAAA,CAAA,aAAA;AACA,QAAA,QAAA,CAAA,YAAA,KAAA;AACA,QAAA,UAAA,CAAA,aAAA,KAAA;AACA,QAAA,YAAA,GAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,KAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,OAAA,MAAA,GAAA,KAAA,IAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,UAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,CAAA,EAAA;AACA,UAAA,OAAA,KAAA,CAAA,EAAA,KAAA;AACA,UAAA,SAAA,SAAA;AAAA,UAAA,UAAA,CAAA,CAAA;AAAA,UAAA,UAAA,OAAA;;AACA,WAAA,IAAA,KAAA,CAAA,EAAA,KAAA,OAAA,MAAA,EAAA,IAAA,EAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,OAAA,EAAA,EAAA,CAAA,GAAA,CAAA,EAAA,OAAA,EAAA,EAAA,CAAA,GAAA,CAAA,IAAA,OAAA,EAAA,EAAA,KAAA;;AACA,YAAA,MAAA,OAAA,EAAA,EAAA,IAAA;AACA,YAAA,MAAA,IAAA,EAAA,EAAA,KAAA,MAAA,GAAA,EAAA,EAAA,EAAA,QAAA,CAAA;;AACA,YAAA,OAAA,OAAA,EAAA;AAAA,mBAAA,EAAA;AAAA,oBAAA,IAAA;AAAA;AACA;;AACA,UAAA,UAAA,UAAA,CAAA,IAAA,WAAA,SAAA,EAAA;AACA,YAAA,iBAAA,YAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,aAAA,cAAA,CAAA;AACA,OAHA,MAGA;AACA,kBAAA,OAAA,MAAA,EAAA,OAAA;AACA;;AACA,WAAA,CAAA,EAAA,KAAA,GAAA,OAAA,MAAA;AACA,WAAA,CAAA,EAAA,OAAA,GAAA,OAAA;AACA,WAAA,CAAA,EAAA,MAAA,GAAA,MAAA;AACA,aAAA,IAAA,CAAA;AAAA,WAAA,OAAA,MAAA;AAAA,kBAAA;AAAA,YAAA;AAAA,YAAA;AAAA,sBAAA;AAAA;AAAA,OAAA;AACA,gBAAA,GAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA;;AACA,QAAA,OAAA,MAAA,GAAA,KAAA,EAAA;AACA,UAAA,QAAA,uCAAA,KAAA,GAAA,WAAA,GAAA,OAAA,MAAA;AACA,cAAA,KAAA,CAAA,KAAA;AACA;;AACA,YAAA,OAAA,CAAA,aAAA;AACA,GAjgJA,CAmgJA;;;AACA,WAAA,gBAAA,GAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,UAAA,IAAA,aAAA,KAAA;AACA,UAAA,OAAA,MAAA,OAAA,CAAA,EAAA,IAAA,CAAA;AACA,UAAA,IAAA,OAAA,CAAA,EAAA,CAAA;AAAA,UAAA,IAAA,OAAA,CAAA,EAAA,CAAA;;AACA,UAAA,WAAA,KAAA,MAAA,IAAA,KAAA,MAAA,KAAA,CAAA,EAAA;AACA;AACA,YAAA,KAAA,KAAA,KAAA,SAAA,EAAA;AACA,eAAA,MAAA,GAAA,SAAA;AACA,SAFA,MAEA;AACA,eAAA,IAAA,GAAA,MAAA,KAAA,KAAA,EAAA,EAAA;AACA,cAAA,KAAA,MAAA;AACA,cAAA,KAAA,MAAA;AACA;AACA;;AACA,UAAA,KAAA,KAAA,IAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,YAAA,QAAA,MAAA,KAAA,IAAA;AACA,YAAA,QAAA,GAAA,EAAA,QAAA,GAAA;AACA,YAAA,QAAA,CAAA,EAAA,QAAA,CAAA;AACA,gBAAA,KAAA,MAAA,KAAA,EAAA,GAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,YAAA,GAAA,IAAA,KAAA,EAAA,CAAA,CAAA;AACA,gBAAA,KAAA,MAAA,KAAA,EAAA,GAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,YAAA,GAAA,IAAA,KAAA,EAAA,CAAA,CAAA;AACA;;AACA,WAAA,IAAA,CAAA,CAAA,IAAA,OAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AACA,WAAA,IAAA,CAAA,CAAA,IAAA,OAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AACA;AACA,GA/hJA,CAiiJA;;;AACA,WAAA,kBAAA,GAAA;AACA,YAAA,IAAA,CAAA,oBAAA;;AADA,mCAEA,CAFA;AAGA,UAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA;AACA,UAAA,iBAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,KAAA,SAAA,IAAA,EAAA,EAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,UAAA,CAAA,eAAA,MAAA,EAAA,kBAPA,CASA;;AACA,UAAA,YAAA,EAAA,IAAA,CAAA,cAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,IAAA,IAAA,CAAA,SAAA,EAAA,IAAA,EAAA,MAAA;AACA,OAFA,CAAA;;AAGA,UAAA,UAAA,MAAA,EAAA;AACA,YAAA,SAAA,EAAA;AACA,kBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,EAAA,IAAA,IAAA,OAAA,EAAA,IAAA,IAAA,OAAA,EAAA,IAAA,IAAA,CAAA,GAAA,CAAA;AAAA,SAAA;AACA,kBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,cAAA,OAAA,EAAA,IAAA,MAAA,CAAA,EAAA,EAAA,IAAA,GAAA,SAAA;AAAA,SAAA;AACA,OAjBA,CAmBA;;;AACA,UAAA,aAAA,EAAA,IAAA,CAAA,cAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,IAAA,IAAA,SAAA,EAAA,IAAA,EAAA,MAAA;AACA,OAFA,CAAA;AAGA,UAAA,WAAA,MAAA,EAAA;AACA,UAAA,iBAAA,EAAA,IAAA,CAAA,cAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,MAAA,IAAA,SAAA,MAAA,EAAA,MAAA,EAAA,EAAA,EAAA,MAAA,IAAA,EAAA,KAAA,KAAA,CAAA;AACA,OAFA,CAAA;;AAGA,UAAA,eAAA,MAAA,EAAA;AACA;AACA,YAAA,YAAA,eAAA,CAAA,CAAA;AACA,kBAAA,MAAA,GAAA,CAAA;AACA,kBAAA,IAAA,GAAA,MAAA,UAAA,KAAA,EAAA,EAAA;AACA,YAAA,QAAA,OAAA,eAAA,CAAA,EAAA,KAAA,CAAA;AACA,kBAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,GAAA,UAAA,MAAA;AACA,kBAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,GAAA,UAAA,MAAA,CAPA,CAQA;;AACA,kBAAA,KAAA,IAAA,KAAA,KAAA,CAAA,CAAA,eAAA,MAAA,GAAA,CAAA,IAAA,CAAA,CAAA;AACA,OAVA,MAUA;AACA;AACA,uBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,YAAA,KAAA,IAAA,CAAA;AAAA,SAAA;AACA;AAxCA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AAAA,0BAAA,CAAA;;AAAA,gCAqBA;AAkBA;;AACA,YAAA,OAAA,CAAA,oBAAA;AACA;;AAEA,WAAA,iBAAA,GAAA;AACA,YAAA,IAAA,CAAA,mBAAA;AACA,YAAA,KAAA,CAAA,GAAA,UAAA;AACA,QAAA,OAAA,MAAA,GAAA,CAAA,IAAA,OAAA,MAAA,GAAA,CAAA,EAAA;;AAHA,mCAIA,CAJA;AAKA,UAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA;AACA,UAAA,iBAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,KAAA,KAAA,SAAA,IAAA,EAAA,EAAA,KAAA,CAAA;AAAA,OAAA,CAAA;;AACA,UAAA,eAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,eAAA,MAAA,EAAA,GAAA,EAAA;AACA,eAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA,gBAAA,OAAA,aAAA,eAAA,CAAA,EAAA,KAAA,EAAA,eAAA,CAAA,EAAA,KAAA,EAAA,MAAA,CAAA;AACA,wBAAA,eAAA,CAAA,EAAA,KAAA,EAAA,eAAA,CAAA,EAAA,KAAA,EAAA,MAAA,EAAA,IAAA;AACA;AACA;AACA;AAdA;;AAIA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AAAA,0BAAA,CAAA;;AAAA,gCACA;AAUA;;AACA,YAAA,OAAA,CAAA,mBAAA;AACA,GAhmJA,CAkmJA;;;AACA,WAAA,iBAAA,GAAA;AACA,YAAA,IAAA,CAAA,mBAAA;AACA,QAAA,CAAA,OAAA,MAAA,IAAA,OAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,WAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,OAAA,CAAA,EAAA,IAAA;AACA,UAAA,MAAA,IAAA,EAAA,IAAA,KAAA,SAAA,EAAA,SAAA,IAAA,CAAA,CAAA;AACA;;AAPA,mCAQA,CARA;AASA,UAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,IAAA,KAAA,SAAA,IAAA,EAAA,MAAA,KAAA,SAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AACA,UAAA,CAAA,MAAA,MAAA,EAAA;AACA,UAAA,UAAA,IAAA;AAAA,UAAA,MAAA,CAAA,CAAA;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;;AACA,YAAA,OAAA,OAAA,IAAA,OAAA,CAAA,EAAA;AAAA,oBAAA,IAAA;AAAA,gBAAA,EAAA,KAAA;AAAA;AACA,OAHA;;AAIA,UAAA,QAAA,CAAA,CAAA,EAAA;AACA,YAAA,UAAA,OAAA,SAAA,CAAA,CAAA,EAAA,IAAA;AACA,YAAA,OAAA,aAAA,OAAA,EAAA,GAAA,EAAA,QAAA,CAAA;AACA,oBAAA,GAAA,EAAA,OAAA,EAAA,MAAA,EAAA,IAAA;AACA;AApBA;;AAQA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AAAA,0BAAA,CAAA;;AAAA,gCAEA;AAWA;;AACA,YAAA,OAAA,CAAA,mBAAA;AACA;;AAEA,WAAA,kBAAA,GAAA;AACA,YAAA,IAAA,CAAA,oBAAA;AACA,QAAA,OAAA,MAAA,GAAA,CAAA,EAAA;;AAFA,mCAGA,CAHA;AAIA,UAAA,iBAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,KAAA,SAAA,IAAA,EAAA,EAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,UAAA,IAAA,eAAA,MAAA;;AACA,UAAA,IAAA,CAAA,EAAA;AACA,YAAA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA,CAAA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,EAAA,GAAA,EAAA;AACA,kBAAA,eAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,CAAA,CAAA,EAAA,KADA;AAEA,gBAAA,eAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,CAAA,CAAA,EAAA,KAFA;AAGA,iBAAA,KAAA,KAAA,CAAA,MAAA,KAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,KAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAHA;;AAIA,cAAA,OAAA,EAAA,EAAA;AACA,mBAAA,aAAA,KAAA,EAAA,GAAA,EAAA,QAAA,CADA;AAEA,wBAAA,GAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAAA;AACA;AACA;;AACA,uBAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,CAAA,EAAA,IAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,UAAA,EAAA,KAAA;;AACA,gBAAA,OAAA,CAAA,CAAA;;AACA,gBAAA,OAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AACA,qBAAA,EAAA,IAAA,IAAA,EAAA,EAAA,KAAA,CAAA;AACA,aAFA,CAAA;;AAGA,gBAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,kBAAA,UAAA,KAAA;AACA,mBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,oBAAA,OAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;;AACA,oBAAA,OAAA,OAAA,EAAA;AAAA,4BAAA,IAAA;AAAA,yBAAA,EAAA,KAAA;AAAA;AACA,eAHA;AAIA,aANA,MAMA;AACA,qBAAA,eAAA,CAAA,EAAA,KAAA;AACA;;AACA,gBAAA,QAAA,aAAA,OAAA,EAAA,IAAA,EAAA,MAAA,CAAA;;AACA,wBAAA,IAAA,EAAA,OAAA,EAAA,OAAA,EAAA,KAAA;AACA;AACA,SAnBA;AAoBA;AAvCA;;AAGA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AAAA,UAQA,KARA;AAAA,UASA,GATA;AAAA,UAUA,IAVA;AAAA,UAYA,IAZA;;AAAA,cAAA,CAAA;AAqCA;;AACA,YAAA,OAAA,CAAA,oBAAA;AACA;;AAEA,WAAA,mBAAA,GAAA;AACA,YAAA,IAAA,CAAA,qBAAA;AACA,YAAA,KAAA,CAAA,GAAA,UAAA;AACA,QAAA,WAAA,MAAA,SAAA,CAAA,kBAAA,CAAA;AACA,QAAA,WAAA,MAAA,SAAA,CAAA,eAAA,CAAA;AACA,QAAA,QAAA,SAAA,IAAA,CAAA,MAAA,KAAA,CAAA;AACA,QAAA,QAAA,SAAA,IAAA,CAAA,MAAA,KAAA,CAAA;AAEA,QAAA,QAAA,EAAA,CARA,CASA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,OAAA,CAAA,EAAA,IAAA;AACA,UAAA,OAAA,MAAA,IAAA,EAAA,IAAA;AACA,UAAA,SAAA,SAAA,EAAA;AACA,UAAA,MAAA,IAAA,MAAA,SAAA,EAAA,MAAA,IAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EALA,CAOA;;AACA,UAAA,QAAA,IAAA,OAAA,MAAA,GAAA,QAAA,GAAA,QAAA;AACA,UAAA,OAAA,IAAA,OAAA,MAAA,GAAA,KAAA,GAAA,KAAA;AACA,UAAA,IAAA,GAAA,MAAA,IAAA,EAAA,IAAA,CAAA,CAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,IAAA,EAAA,IAAA,CAAA,CAAA,IAAA,OAAA,IAAA,EAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,cAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,OADA,EACA,IADA,EACA,IADA,CACA,QADA,EACA,IADA;AAEA,YAAA,SAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,CAAA,MAAA,CAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,WAAA,EAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,CAAA,EAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,QAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,KAAA,MAAA,KAAA,EAAA,EAAA;AACA,YAAA,SAAA,EAAA,MAAA,SAAA,EAAA,SAAA,EAAA,IAAA,EAAA;AACA,iBAAA,EAAA,EAAA,IAAA,CAAA,KAAA;AACA;;AAEA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,SAAA,MAAA,EAAA,KAAA,EAAA;AACA,YAAA,CAAA,SAAA,GAAA,CAAA,EAAA;AACA,YAAA,SAAA,GAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,UAAA,SAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,QAAA,eAAA,OAAA,EAAA,CAAA,CAAA,CAAA;;AAEA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,GAAA,EAAA,MAAA,EAAA,GAAA,EAAA;AACA;AACA,sBAAA,SAAA,GAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,OAAA,EAAA,KAAA;AACA,SATA,CAWA;;;AACA,aAAA,IAAA,IAAA,MAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AACA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AACA,cAAA,CAAA,SAAA,CAAA,EAAA,MAAA,EAAA;;AACA,cAAA,SAAA,GAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,MAAA,SAAA,CAAA,EAAA,CAAA,CAAA;AACA,wBAAA,GAAA,EAAA,OAAA,EAAA,OAAA,EAAA,KAAA;AACA;AACA;;AAEA,YAAA,SAAA,CAAA,EAAA,MAAA,IAAA,CAAA,SAAA,GAAA,EAAA,MAAA,IAAA,SAAA,GAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA,mBAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,mBAAA,MAAA,CAAA,EAAA,IAAA,GAAA,MAAA,CAAA,EAAA,IAAA;AAAA,WAAA;;AACA,eAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,GAAA,EAAA,MAAA,IAAA,IAAA,EAAA,EAAA,GAAA,EAAA;AACA,gBAAA,OAAA,SAAA,GAAA,EAAA,CAAA,CAAA;AAAA,gBAAA,KAAA,SAAA,GAAA,EAAA,CAAA,CAAA;AACA,gBAAA,OAAA,KAAA,KAAA,CAAA,MAAA,IAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,IAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,gBAAA,WAAA,YAAA,IAAA,EAAA,EAAA,CAAA;;AACA,gBAAA,WAAA,OAAA,CAAA,GAAA,EAAA,EAAA;AACA,kBAAA,YAAA,MAAA,IAAA,EAAA,IAAA,GAAA,MAAA,EAAA,EAAA,IAAA;AACA,kBAAA,WAAA,eAAA,IAAA,EAAA,EAAA,CAAA;;AACA,kBAAA,MAAA,EAAA,EAAA,IAAA,GAAA,SAAA,EAAA;AACA,4BAAA,EAAA,EAAA,IAAA,EAAA,OAAA,EAAA,QAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;;AACA,YAAA,OAAA,CAAA,qBAAA;AACA;;AAEA,WAAA,YAAA,CAAA,KAAA,EAAA,GAAA,EAAA,IAAA,EAAA;AACA;AACA,QAAA,QAAA,IAAA,aAAA,CAAA;AACA,kBAAA,oBAAA,CAAA,EAAA,CAAA,EAAA;AACA,eAAA,EAAA,CAAA,GAAA,EAAA,CAAA;AACA;AAHA,KAAA,CAAA;AAKA,QAAA,WAAA,EAAA;AACA,QAAA,YAAA,EAAA;AACA,cAAA,KAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA;AAAA,SAAA,KAAA;AAAA,SAAA;AAAA,KAAA;;AAVA;AAYA,UAAA,OAAA,MAAA,OAAA,GAAA,CAAA;;AACA,UAAA,SAAA,GAAA,EAAA;AAAA;AAAA;;AACA,UAAA,MAAA,MAAA,IAAA,CAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,EAAA;AACA,cAAA,OAAA,MAAA,CAAA,EAAA,MAAA,GAAA,GAAA,GAAA,CAAA;;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,IAAA,SAAA,MAAA,EAAA;AACA,mBAAA,IAAA;AACA,WAFA,MAEA;AACA,gBAAA,OAAA,EAAA,KAAA,KAAA,WAAA,EAAA;AAAA,sBAAA,GAAA;AAAA;;AACA,gBAAA,OAAA,EAAA,KAAA,KAAA,WAAA,EAAA;AAAA,sBAAA,GAAA;AAAA;;AACA,gBAAA,MAAA,CAAA,EAAA,MAAA,EAAA;AAAA,sBAAA,GAAA;AAAA;;AACA,gBAAA,MAAA,CAAA,EAAA,IAAA,EAAA;AAAA,sBAAA,GAAA;AAAA;;AACA,oBAAA,KAAA,KAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA;;AACA,cAAA,UAAA,UAAA,IAAA,IAAA,IAAA;;AACA,cAAA,CAAA,SAAA,CAAA,CAAA,IAAA,UAAA,UAAA,CAAA,CAAA,EAAA;AAAA;AACA,sBAAA,CAAA,IAAA,OAAA;AACA,qBAAA,CAAA,IAAA,IAAA;AACA,gBAAA,OAAA,KAAA,KAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA,gBAAA,WAAA,UAAA,IAAA;AACA,kBAAA,KAAA,CAAA;AAAA,kBAAA;AAAA,iBAAA;AAAA,aAAA;AACA;AACA;AACA,OArBA;AAfA;;AAWA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;;AAAA,6BAEA;AAwBA;;AACA,WAAA,QAAA;AACA;;AAEA,WAAA,aAAA,CAAA,KAAA,EAAA,IAAA,EAAA;AACA;AACA,QAAA,QAAA,IAAA,aAAA,CAAA;AAAA,kBAAA,oBAAA,CAAA,EAAA,CAAA,EAAA;AAAA,eAAA,EAAA,CAAA,GAAA,EAAA,CAAA;AAAA;AAAA,KAAA,CAAA;AACA,QAAA,WAAA,EAAA;AAAA,QAAA,YAAA,EAAA;AACA,aAAA,KAAA,IAAA,IAAA,EAAA,UAAA,KAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA;AAAA,SAAA,KAAA;AAAA,SAAA;AAAA,KAAA;;AALA;AAOA,UAAA,OAAA,MAAA,OAAA,GAAA,CAAA;AACA,UAAA,MAAA,MAAA,IAAA,CAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,OAAA,MAAA,CAAA,EAAA,MAAA,GAAA,GAAA,GAAA,CAAA;AACA,YAAA,EAAA,KAAA,KAAA,SAAA,EAAA,QAAA,GAAA;AACA,YAAA,IAAA,MAAA,KAAA,MAAA,CAAA,EAAA,MAAA,EAAA,QAAA,CAAA;AACA,YAAA,MAAA,CAAA,EAAA,MAAA,KAAA,SAAA,EAAA,QAAA,CAAA;AACA,YAAA,EAAA,KAAA,KAAA,SAAA,EAAA,OAAA,GAAA;AACA,YAAA,UAAA,UAAA,IAAA,IAAA,IAAA;;AACA,YAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AACA,oBAAA,CAAA,IAAA,OAAA;AACA,mBAAA,CAAA,IAAA,IAAA;AACA,gBAAA,KAAA,CAAA;AAAA,gBAAA;AAAA,eAAA;AAAA,WAAA;AACA;AACA,OAbA;AATA;;AAMA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAiBA;;AACA,WAAA,QAAA;AACA;;AAEA,WAAA,cAAA,CAAA,KAAA,EAAA,GAAA,EAAA;AACA,QAAA,QAAA,IAAA,aAAA,CAAA;AAAA,kBAAA,oBAAA,CAAA,EAAA,CAAA,EAAA;AAAA,eAAA,EAAA,CAAA,GAAA,EAAA,CAAA;AAAA;AAAA,KAAA,CAAA;AACA,QAAA,IAAA;AACA,QAAA,WAAA,EAAA;AAAA,QAAA,YAAA,EAAA;AACA,aAAA,KAAA,IAAA,IAAA,EAAA,UAAA,KAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA;AAAA,SAAA,KAAA;AAAA,SAAA;AAAA,KAAA;;AALA;AAOA,aAAA,MAAA,OAAA,GAAA,CAAA;AACA,UAAA,MAAA,MAAA,IAAA,CAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA,IAAA,MAAA,CAAA,EAAA,KAAA,KAAA,IAAA,EAAA;AACA,cAAA,OAAA,CAAA;AACA,cAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,QAAA,GAAA;;AACA,cAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA,EAAA;AACA,gBAAA,OAAA,KAAA,KAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,oBAAA,KAAA,OAAA,CAAA;AACA;;AACA,cAAA,MAAA,CAAA,EAAA,IAAA,IAAA,MAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,QAAA,GAAA;AACA,cAAA,UAAA,UAAA,IAAA,IAAA,IAAA;;AACA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AACA,sBAAA,CAAA,IAAA,OAAA;AACA,kBAAA,CAAA,EAAA,IAAA,GAAA,OAAA;AACA,qBAAA,CAAA,IAAA,IAAA;AACA,kBAAA,KAAA,CAAA;AAAA,kBAAA;AAAA,iBAAA;AAAA,aAAA;AACA;AACA;AACA,OAjBA;AATA;;AAMA,WAAA,MAAA,MAAA,GAAA,CAAA,IAAA,SAAA,GAAA,EAAA;AAAA;AAqBA;;AACA,WAAA,QAAA;AACA;;AAEA,WAAA,WAAA,CAAA,KAAA,EAAA,GAAA,EAAA;AACA,QAAA,QAAA,IAAA,aAAA,CAAA;AACA,kBAAA,oBAAA,CAAA,EAAA,CAAA,EAAA;AACA,eAAA,EAAA,CAAA,GAAA,EAAA,CAAA;AACA;AAHA,KAAA,CAAA;AAKA,QAAA,IAAA,EAAA,OAAA;AACA,QAAA,WAAA,EAAA;AACA,QAAA,YAAA,EAAA;AACA,aAAA,KAAA,IAAA,IAAA;AACA,cAAA,KAAA,IAAA,CAAA;AACA,UAAA,KAAA,CAAA;AAAA,SAAA,KAAA;AAAA,SAAA;AAAA,KAAA;;AAXA;AAaA,aAAA,MAAA,OAAA,GAAA,CAAA;AACA,UAAA,MAAA,MAAA,IAAA,CAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,IAAA,KAAA,MAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,IAAA,MAAA,CAAA,EAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,cAAA,OAAA,KAAA,KAAA,CAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,oBAAA,UAAA,IAAA,IAAA,IAAA;;AACA,cAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AACA,sBAAA,CAAA,IAAA,OAAA;AACA,qBAAA,CAAA,IAAA,IAAA;AACA,kBAAA,KAAA,CAAA;AAAA,kBAAA;AAAA,iBAAA;AAAA,aAAA;AACA;AACA;AACA,OAVA;AAfA;;AAYA,WAAA,MAAA,MAAA,GAAA,CAAA,IAAA,SAAA,GAAA,EAAA;AAAA;AAcA;;AACA,WAAA,OAAA;AACA;;AAEA,WAAA,WAAA,CAAA,GAAA,EAAA,KAAA,EAAA,IAAA,EAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;AAAA,QAAA,UAAA,GAAA;AACA,QAAA,QAAA,IAAA;AACA,QAAA,OAAA,MAAA,GAAA,CAAA;;AACA,QAAA,SAAA,OAAA,IAAA,CAAA,KAAA,IAAA,EAAA;AAAA,WAAA,IAAA,CAAA;AAAA,aAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AAAA,aAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AAAA,WAAA;AAAA,OAAA;AAAA;;AACA,QAAA,CAAA,KAAA,IAAA,EAAA;AAAA,WAAA,IAAA,GAAA,CAAA;AAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,EAAA,GAAA,EAAA;AACA,gBAAA,KAAA,OAAA,CAAA;AACA,UAAA,MAAA,MAAA,OAAA,CAAA;;AACA,UAAA,CAAA,GAAA,EAAA;AAAA;AAAA;;AACA,UAAA,IAAA,IAAA,EAAA;AACA,YAAA,IAAA,IAAA,CAAA;AACA,aAAA,IAAA,CAAA;AAAA,eAAA,IAAA,IAAA,CAAA,CAAA,CAAA;AAAA,eAAA,IAAA,IAAA,CAAA,CAAA,CAAA;AAAA,aAAA;AAAA,SAAA;AACA,eAAA,GAAA;AACA;AACA,OALA,MAKA;AACA,YAAA,IAAA,GAAA,CAAA;;AACA,YAAA,IAAA,EAAA;AAAA,eAAA,IAAA,CAAA;AAAA,iBAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AAAA,iBAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AAAA,eAAA,KAAA;AAAA,WAAA;AAAA;;AACA,eAAA,SAAA;AACA,aAAA,IAAA,CAAA;AAAA,eAAA,IAAA,IAAA,CAAA,CAAA,CAAA;AAAA,eAAA,IAAA,IAAA,CAAA,CAAA,CAAA;AAAA,aAAA;AAAA,SAAA;AACA;;AACA,UAAA,YAAA,KAAA,IAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AAAA;AAAA;AACA;;AACA;;AACA,aAAA,QAAA,GAAA;AACA,UAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA,YAAA,SAAA,MAAA,IAAA,SAAA,OAAA,EAAA;AACA,cAAA,OAAA,SAAA,MAAA,GAAA,CAAA,GAAA,CAAA;AACA,cAAA,IAAA,MAAA,KAAA,CAAA,EAAA,CAAA,CAAA;;AACA,cAAA,EAAA,IAAA,GAAA,CAAA,EAAA;AACA,gBAAA,CAAA,EAAA,SAAA,EAAA;AAAA,gBAAA,SAAA,GAAA,CAAA;AAAA;;AACA,cAAA,SAAA,IAAA,IAAA;AACA;;AACA,cAAA,IAAA,MAAA,KAAA,KAAA,MAAA,GAAA,CAAA,EAAA,CAAA,CAAA;;AACA,cAAA,EAAA,IAAA,GAAA,CAAA,EAAA;AACA,gBAAA,CAAA,EAAA,SAAA,EAAA;AAAA,gBAAA,SAAA,GAAA,CAAA;AAAA;;AACA,cAAA,SAAA,IAAA,IAAA;AACA;AACA,SAdA,CAeA;;;AACA,YAAA,OAAA,QAAA,IAAA,CAAA;AACA,eAAA,MAAA,IAAA,EAAA,CAAA,CAAA;AACA,YAAA,KAAA,CAAA,CAlBA,CAkBA;;AACA,YAAA,SAAA,MAAA,EAAA;AACA,eAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,SAHA,MAGA,IAAA,SAAA,OAAA,EAAA;AACA,eAAA,OAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,iBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,SAHA,MAGA,IAAA,SAAA,OAAA,EAAA;AACA,eAAA,UAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,oBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,aAAA,EAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA;AACA;;AACA,aAAA,EAAA;AACA;AACA,GAr7JA,CAu7JA;;;AACA,WAAA,UAAA,GAAA;AACA,YAAA,IAAA,CAAA,YAAA;AACA,QAAA,eAAA,UAAA,MAAA,CAAA,WAAA,CAAA;AACA,QAAA,gBAAA,WAAA,MAAA,CAAA,WAAA,CAAA;AACA,QAAA,YAAA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,aAAA,WAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,cAAA,aAAA,IAAA,CAAA,MAAA,KAAA,CAAA;AACA,QAAA,WAAA,UAAA,IAAA,CAAA,MAAA,KAAA,GAAA;AACA,iBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,kBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,cAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,eAAA,SAAA,CAAA,GAAA,EAAA,MAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,IAAA,OAAA,CAAA,EAAA,CAAA;AAAA,UAAA,IAAA,OAAA,CAAA,EAAA,CAAA;AACA,UAAA,OAAA,OAAA,CAAA,EAAA,IAAA;AACA,UAAA,OAAA,OAAA,CAAA,EAAA,IAAA;AACA,UAAA,KAAA,IAAA,OAAA,MAAA,GAAA,YAAA,GAAA,SAAA;AACA,UAAA,KAAA,IAAA,OAAA,MAAA,GAAA,aAAA,GAAA,UAAA;AACA,UAAA,OAAA,IAAA,OAAA,MAAA,GAAA,WAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,SAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA;;AACA,YAAA,OAAA,CAAA,YAAA;AACA,GAh9JA,CAk9JA;;;AACA,WAAA,QAAA,GAAA;AACA,YAAA,IAAA,CAAA,UAAA,EADA,CAEA;;AACA,QAAA,WAAA,KAAA,KAAA,GAAA,EAAA;AACA,UAAA,UAAA,IAAA,cAAA,EAAA;AACA,UAAA,MAAA,wEAAA;AACA,cAAA,IAAA,CAAA,KAAA,EAAA,MAAA,OAAA,MAAA,EAAA,IAAA;;AACA,cAAA,MAAA,GAAA,YAAA;AACA,YAAA,QAAA,KAAA,KAAA,CAAA,QAAA,YAAA,CAAA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,iBAAA,CAAA,EAAA,IAAA,GAAA,MAAA,CAAA,CAAA;AACA,qBAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,MAAA,CAAA,CAAA;;AACA,cAAA,IAAA,OAAA,MAAA,EAAA;AACA,mBAAA,CAAA,EAAA,IAAA,GAAA,kBAAA,CAAA,CAAA;AACA,mBAAA,MAAA,CAAA,YAAA,EAAA,MAAA,CAAA,iBAAA,CAAA,EAAA,IAAA,CAAA,OAAA,CAAA,EAAA,IAAA;AACA;AACA;;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OAXA;;AAYA,cAAA,IAAA,CAAA,IAAA;AACA;;AAEA,QAAA,WAAA,KAAA,KAAA,GAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,UAAA,OAAA,CAAA,EAAA,OAAA;AACA,aAAA,CAAA,EAAA,IAAA,GAAA,aAAA,OAAA,CAAA;AACA,UAAA,IAAA,OAAA,MAAA,EAAA,OAAA,CAAA,EAAA,IAAA,GAAA,kBAAA,CAAA,CAAA;AACA;;AACA,YAAA,OAAA,CAAA,UAAA;AACA;;AAEA,WAAA,eAAA,GAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,CAAA,IAAA,eAAA,CAAA,CAAA;AACA;AACA,GAt/JA,CAw/JA;;;AACA,WAAA,cAAA,CAAA,CAAA,EAAA;AACA,QAAA,QAAA,EAAA;AACA,QAAA,IAAA,SAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,WAAA,EAAA;AACA,QAAA,SAAA,UAAA,CAAA,EAAA,MAAA;;AAEA,SAAA,IAAA,IAAA,CAAA,CAAA,EAAA,OAAA,GAAA,EAAA,MAAA,EAAA,EAAA,IAAA,EAAA,MAAA,GAAA,CAAA,EAAA,OAAA,GAAA,EAAA,KAAA,IAAA,MAAA,EAAA,MAAA,EAAA,EAAA;AACA,UAAA,QAAA,CAAA;AAAA,UAAA,IAAA,GAAA;;AACA,UAAA,WAAA,YAAA,EAAA;AAAA,cAAA,EAAA,IAAA,CAAA,CAAA;AAAA,OAAA,MAAA;AACA,aAAA,IAAA,MAAA,IAAA,CAAA,EAAA,IAAA,MAAA,GAAA,CAAA,EAAA,KAAA,EAAA;AACA,cAAA,EAAA,GAAA,MAAA,SAAA,EAAA;AACA,iBAAA,EAAA,GAAA,CAAA;AACA,cAAA,QAAA,GAAA,EAAA;AACA,cAAA,EAAA,GAAA,MAAA,GAAA,IAAA,EAAA,GAAA,MAAA,GAAA,IAAA,OAAA,QAAA,CAAA,EAAA,GAAA,CAAA,CAAA,IAAA,EAAA,MAAA,CAAA,MAAA,EAAA,GAAA,CAAA,EAAA;;AACA,cAAA,EAAA,MAAA,CAAA,MAAA,GAAA,EAAA;AAAA,mBAAA,EAAA,MAAA,CAAA,CAAA;AAAA;AAAA;;AACA,cAAA,OAAA,QAAA,CAAA,EAAA,GAAA,CAAA,CAAA,EAAA;AACA,cAAA,SAAA,OAAA,QAAA,CAAA,EAAA,MAAA,CAAA,CAAA,CAAA,EAAA;AACA;AACA;;AACA,UAAA,KAAA,CAAA,EAAA;AACA,YAAA,EAAA,CAAA,CAAA;AACA,YAAA,WAAA,YAAA,EAAA,IAAA,IAAA;AACA;;AACA,UAAA,MAAA,CAAA,MAAA,SAAA,EAAA,MAAA,CAAA,IAAA,EAAA;AACA,YAAA,CAAA,EAAA,IAAA,CAAA,GAAA;AACA;;AACA,WAAA,KAAA;AACA,GAnhKA,CAqhKA;;;AACA,WAAA,YAAA,CAAA,OAAA,EAAA,IAAA,EAAA;AACA,QAAA,SAAA,SAAA,EAAA;AACA,UAAA,CAAA,SAAA,OAAA,CAAA,EAAA;AACA,gBAAA,KAAA,CAAA,aAAA,OAAA,GAAA,mEAAA;AACA;AACA,kBAAA,CAAA;AACA;;AACA,aAAA,SAAA,OAAA,EAAA,IAAA;AACA;;AACA,QAAA,CAAA,UAAA,IAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,cAAA,IAAA,GAAA,8DAAA;AACA,UAAA,CAAA,UAAA,CAAA,CAAA,EAAA;AACA,aAAA,CAAA;AACA;;AACA,QAAA,SAAA,UAAA,IAAA,EAAA,MAAA;;AACA,QAAA,QAAA,SAAA,KAAA,CAAA,IAAA,EAAA;AACA,UAAA,yBAAA,UAAA,IAAA,EAAA,IAAA,GAAA,+CAAA;AACA;AACA,KAHA;;AAKA,QAAA,WAAA,WAAA,EAAA;AACA,UAAA,SAAA,IAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AAAA,cAAA,IAAA;AAAA;AAAA;;AACA,UAAA,MAAA,KAAA,SAAA,IAAA,EAAA,MAAA,GAAA,CAAA,CAAA;AACA,UAAA,QAAA,SAAA,IAAA,EAAA,GAAA,CAAA;AACA,aAAA,KAAA;AACA;;AAEA,QAAA,OAAA,MAAA,IAAA,CAAA;;AACA,QAAA,SAAA,SAAA,IAAA,KAAA,GAAA,MAAA,SAAA,EAAA;AAAA,YAAA,IAAA;AAAA;AAAA;;AACA,QAAA,MAAA,UAAA,IAAA,EAAA,GAAA;AACA,QAAA,MAAA,UAAA,IAAA,EAAA,GAAA;AACA,QAAA,IAAA,UAAA,IAAA,EAAA,CAAA;AACA,QAAA,OAAA,EAAA;AAAA,QAAA,WAAA,KAAA,GAAA,CAAA;;AACA,QAAA,aAAA,SAAA,EAAA;AACA,YAAA,IAAA;AACA;AACA;;AACA,QAAA,MAAA,SAAA,KAAA,SAAA,MAAA,GAAA,CAAA,CAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,EAAA,EAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,IAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA;AACA,YAAA,KAAA,MAAA,GAAA,GAAA,EAAA;AACA,iBAAA,EAAA;AACA,qBAAA,KAAA,GAAA,CAAA;AACA,SAHA,MAGA;AAAA;AAAA;AACA,OANA,MAMA;AACA,YAAA,IAAA,WAAA,YAAA,IAAA,IAAA,MAAA,GAAA,CAAA,GAAA,IAAA,IAAA,MAAA,GAAA,CAAA,CAAA,GAAA,GAAA;AACA,mBAAA,KAAA,CAAA,CAAA,CAFA,CAGA;;AACA,gBAAA,GAAA,CAJA,CAIA;;AACA,YAAA,KAAA,MAAA,GAAA,GAAA,EAAA,OAAA,EAAA;AACA;;AACA,UAAA,aAAA,SAAA,EAAA;AACA,cAAA,IAAA;AACA;AACA;;AACA,YAAA,SAAA,KAAA,SAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AACA,KAzDA,CA0DA;;;AACA,QAAA,KAAA,MAAA,GAAA,CAAA,EAAA,OAAA,SAAA,IAAA,EAAA,KAAA,SAAA,IAAA,EAAA,MAAA,GAAA,CAAA,CAAA,CAAA,CA3DA,CA6DA;;AACA,QAAA,KAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,QAAA,KAAA,KAAA,CAAA,GAAA,CAAA;AAAA,UAAA,MAAA;;AACA,UAAA,KAAA,MAAA,KAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AAAA,eAAA,MAAA,IAAA,CAAA,EAAA,CAAA;AAAA,OAAA,MACA;AACA,aAAA,IAAA,MAAA,CAAA,EAAA,MAAA,MAAA,MAAA,EAAA,KAAA,EAAA;AACA,cAAA,MAAA,GAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,CAAA,GAAA,EAAA,MAAA,CAAA,IAAA,MAAA,CAAA,IAAA,MAAA,CAAA,CAAA;AACA,gBAAA,GAAA,EAAA,MAAA,MAAA,CAAA,IAAA,MAAA,MAAA,CAAA,IAAA,MAAA,GAAA,CAAA;AACA,kBAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA;AACA;AACA;;AACA,eAAA,MAAA,IAAA,CAAA,GAAA,CAAA;AACA;AACA,KA5EA,CA8EA;;;AACA,QAAA,OAAA,mBAAA,IAAA,EAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,YAAA,CAAA,EAAA,MAAA,EAAA,OAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,KAAA,MAAA,EAAA,OAAA,CAAA;AACA;;AACA,UAAA,CAAA,EAAA,MAAA,EAAA,OAAA,EAAA,WAAA,EAAA;AACA,UAAA,EAAA,KAAA,CAAA,CAAA,CAAA,MAAA,GAAA,EAAA,OAAA,IAAA,EAAA,WAAA,EAAA;;AACA,UAAA,MAAA,KAAA,IAAA,CAAA,CAAA,EAAA;AACA,YAAA,CAAA,EAAA,QAAA,CAAA,CAAA,CAAA,EAAA,OAAA,CAAA;AACA,YAAA,MAAA,KAAA,IAAA,CAAA,CAAA,EAAA,OAAA,CAAA;AACA;;AACA,aAAA,IAAA,CAAA;AACA,KAZA,EAYA,EAZA,CAAA;;AAaA,WAAA,IAAA;AACA,GAnnKA,CAqnKA;;;AACA,WAAA,aAAA,CAAA,YAAA,EAAA;AACA,YAAA,IAAA,CAAA,eAAA;AACA,QAAA,YAAA,GAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA,UAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AAAA,KAAA;AAEA,QAAA,UAAA,CAAA,aAAA,KAAA;AACA,SAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,KAAA,KAAA,SAAA,IAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,UAAA,MAAA,GAAA,OAAA,EAAA,KAAA,EAAA,MAAA;AACA,YAAA,gBAAA,OAAA,EAAA,KAAA,EAAA,OAAA,KAAA,SAAA,EAAA,EAAA,OAAA,GAAA,OAAA,EAAA,KAAA,EAAA,OAAA;AACA;AACA;;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAEA,UAAA,OAAA,MAAA;AAAA,UAAA,QAAA,IAAA;;AACA,UAAA,OAAA,MAAA,EAAA;AACA,YAAA,IAAA,UAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,eAAA,KAAA,KAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,CAAA;AACA,gBAAA,WAAA,CAAA,CAAA;AACA;;AACA,UAAA,OAAA,UAAA,CAAA,IAAA,UAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,SAAA;;AACA,YAAA,YAAA,EAAA;AACA,cAAA,iBAAA,YAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,OAAA,GAAA,aAAA,cAAA,CAAA;AACA;AACA,OANA,MAMA;AACA,YAAA,OAAA,OAAA,KAAA,EAAA,IAAA;;AACA,YAAA,MAAA,IAAA,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA;AACA,cAAA,UAAA,OAAA,CAAA;AACA,eAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,EAAA,EAAA,KAAA,EAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,kBAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,kBAAA,QAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,CAAA;;AACA,kBAAA,QAAA,OAAA,EAAA;AAAA,0BAAA,KAAA;AAAA,wBAAA,EAAA,KAAA;AAAA;AACA;AACA,WANA;AAOA;;AACA,UAAA,MAAA,GAAA,OAAA,KAAA,EAAA,MAAA;AACA,YAAA,YAAA,EAAA,EAAA,OAAA,GAAA,OAAA,KAAA,EAAA,OAAA;AACA;AACA,KAnCA;AAoCA,YAAA,OAAA,CAAA,eAAA;AACA,GAjqKA,CAmqKA;;;AACA,WAAA,WAAA,GAAA;AACA,YAAA,IAAA,CAAA,aAAA;AACA,WAAA,MAAA,CAAA,YAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA,GAFA,CAIA;;AACA,QAAA,QAAA,EAAA;AAAA,QAAA,eAAA,EAAA;AAAA,QAAA,cAAA,EAAA;AAAA,QAAA,eAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,CAAA,IAAA,EAAA;AACA,mBAAA,CAAA,IAAA,EAAA;AACA;;AACA,QAAA,IAAA,QAAA,KAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,EAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,EAAA,CAAA,MAAA,SAAA,EAAA;;AACA,UAAA,UAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;;AACA,UAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,UAAA,IAAA;AAAA,sBAAA;AAAA;AAAA,OAAA;;AACA,UAAA,EAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AACA,YAAA,KAAA,EAAA,CAAA,EAAA,KAAA,CAAA,KAAA;AACA,YAAA,MAAA,MAAA,EAAA,EAAA,MAAA;AACA,YAAA,OAAA,SAAA,CAAA,GAAA,CAAA,EAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA;AACA;AACA;;AACA,UAAA,EAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,YAAA,KAAA,EAAA,CAAA,EAAA,IAAA,CAAA,KAAA;AACA,YAAA,MAAA,MAAA,EAAA,EAAA,MAAA;AACA,YAAA,OAAA,SAAA,CAAA,GAAA,CAAA,EAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA;AACA;AACA;;AACA,UAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,KAAA;AACA,UAAA,IAAA,EAAA,CAAA,EAAA,KAAA,CAAA,KAAA;AACA,UAAA,KAAA,MAAA,CAAA,EAAA,MAAA;AACA,UAAA,KAAA,MAAA,CAAA,EAAA,MAAA;AACA,UAAA,OAAA,EAAA,EAAA;;AACA,UAAA,OAAA,SAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,EAAA,EAAA,IAAA,CAAA,CAAA;;AACA,YAAA,OAAA,SAAA,EAAA;AAAA,uBAAA,EAAA,EAAA,IAAA,CAAA,CAAA;AAAA,SAAA,MACA,IAAA,OAAA,SAAA,EAAA;AAAA,uBAAA,IAAA,CAAA,CAAA;AAAA;AACA;;AACA,UAAA,OAAA,SAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,EAAA,EAAA,IAAA,CAAA,CAAA;;AACA,YAAA,OAAA,SAAA,EAAA;AAAA,uBAAA,EAAA,EAAA,IAAA,CAAA,CAAA;AAAA,SAAA,MACA,IAAA,OAAA,SAAA,EAAA;AAAA,uBAAA,IAAA,CAAA,CAAA;AAAA,SAAA,MACA,IAAA,OAAA,SAAA,CAAA,EAAA,CAAA,EAAA;AAAA,sBAAA,IAAA,CAAA,CAAA;AAAA;AACA;AACA;;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,EAAA;AACA,mBAAA,CAAA,EAAA,CAAA;AACA,wBAAA,aAAA,CAAA,CAAA,EAAA,CAAA;AACA;AACA,KALA;AAMA,gBAAA,WAAA,EAAA,OAAA;AACA,gBAAA,YAAA,EAAA,SAAA;AACA,YAAA,OAAA,CAAA,aAAA;AACA;;AAEA,WAAA,UAAA,CAAA,KAAA,EAAA,MAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,GAAA,WAAA;;AAHA;AAKA,UAAA,eAAA,EAAA,CALA,CAKA;;AACA,UAAA,QAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,MAAA,CAAA,EAAA,GAAA;AACA,YAAA,KAAA;AACA,UAAA,MAAA,MAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;AACA,YAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,QAAA,KAAA,IAAA,IAAA,IAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AACA,iBAAA,EAAA,KAAA,IAAA,GAAA,IAAA,EAAA,GAAA,IAAA,GAAA;AACA,SAFA,CAAA;;AAGA,YAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,EAAA,KAAA,IAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,EAAA,GAAA;AACA,WAFA,MAEA,IAAA,KAAA,CAAA,EAAA,GAAA,IAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,EAAA,KAAA;AACA;;AACA,gBAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,uBAAA,IAAA,CAAA;AAAA,iBAAA,IAAA,CAAA,CAAA;AAAA,iBAAA,IAAA,CAAA;AAAA,WAAA;AACA;;AACA,YAAA,MAAA,MAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA;;AACA,cAAA,QAAA,YAAA,IAAA,IAAA;AACA,YAAA,MAAA,MAAA,IAAA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,eAAA,CAAA,CAAA,EAAA,GAAA,EAAA,CAAA,EAAA,GAAA,CAAA;AAAA,OAAA,CAAA;AA9BA;;AAIA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AA2BA;;AACA,QAAA,QAAA,OAAA,MAAA,EAAA,KAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,EAAA,IAAA,CAAA,OAAA,EAAA,WAAA,MAAA;AACA,UAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,KAAA;AACA,QAAA,UAAA,OAAA,MAAA,EAAA,OAAA,CAnCA,CAoCA;;AACA,QAAA,CAAA,MAAA,OAAA,CAAA,EAAA;AACA,UAAA,cAAA,OAAA,OAAA,EAAA,IAAA;AACA,YAAA,IAAA,CAAA,SAAA,WAAA,CAAA;AACA;;AACA,QAAA,OAAA,OAAA,MAAA,EAAA,IAAA;AACA,QAAA,IAAA,UAAA,KAAA,EAAA,GAAA,CAAA,CA1CA,CA0CA;;AACA,WAAA,MAAA,CAAA,YAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,gBAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,WAAA,MAAA,EAAA,IAAA,GAAA,GAAA,KAAA,GAAA,CAAA,GAAA,WAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CA5CA,CA4CA;AACA;;AAEA,WAAA,eAAA,CAAA,KAAA,EAAA,MAAA,EAAA;AACA,QAAA,OAAA,EAAA;;AADA;AAGA,UAAA,eAAA,EAAA,CAHA,CAGA;;AACA,UAAA,QAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,MAAA,CAAA,EAAA,GAAA;AACA,YAAA,KAAA;AACA,UAAA,MAAA,MAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;AACA,YAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;AACA,UAAA,OAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,IAAA,GAAA,IAAA,EAAA,GAAA,IAAA,GAAA;AACA,OAFA,CAAA;;AAGA,aAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,EAAA,GAAA;AACA,SAFA,MAEA,IAAA,KAAA,CAAA,EAAA,GAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,EAAA,KAAA;AACA;;AACA,cAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,qBAAA,IAAA,CAAA;AAAA,eAAA,IAAA,CAAA,CAAA;AAAA,eAAA,IAAA,CAAA;AAAA,SAAA;AACA,YAAA,MAAA,MAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA,eAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,EAAA,KAAA,IAAA,GAAA,IAAA,EAAA,GAAA,IAAA,GAAA;AAAA,SAAA,CAAA;AACA;;AACA,cAAA,QAAA,YAAA,CAAA;AA1BA;;AAEA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAyBA;;AACA,QAAA,QAAA,OAAA,MAAA,EAAA,KAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,WAAA,MAAA;AACA;;AAEA,WAAA,WAAA,CAAA,KAAA,EAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA;;AACA,QAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAAA;;AAFA;AAIA,UAAA,eAAA,EAAA,CAJA,CAIA;;AACA,UAAA,QAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,MAAA,CAAA,EAAA,GAAA;AACA,YAAA,KAAA;AACA,UAAA,MAAA,MAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;AACA,YAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,mBAAA,IAAA,CAAA;AAAA,aAAA,IAAA,CAAA,CAAA;AAAA,aAAA,IAAA,CAAA;AAAA,OAAA;AACA,UAAA,OAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,EAAA,KAAA,IAAA,GAAA,IAAA,EAAA,GAAA,IAAA,GAAA;AACA,OAFA,CAAA;;AAGA,aAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,EAAA,KAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,EAAA,GAAA;AACA,SAFA,MAEA,IAAA,KAAA,CAAA,EAAA,GAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,EAAA,KAAA;AACA;;AACA,cAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,qBAAA,IAAA,CAAA;AAAA,eAAA,IAAA,CAAA,CAAA;AAAA,eAAA,IAAA,CAAA;AAAA,SAAA;AACA,YAAA,MAAA,MAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,cAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA,eAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,EAAA,KAAA,IAAA,GAAA,IAAA,EAAA,GAAA,IAAA,GAAA;AAAA,SAAA,CAAA;AACA;;AACA,cAAA,QAAA,YAAA,CAAA;AA3BA;;AAGA,WAAA,MAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAyBA;;AACA,QAAA,SAAA,OAAA,EAAA;AAAA,mBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA;AAAA;;AACA,QAAA,SAAA,SAAA,EAAA;AAAA,qBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA;AAAA;AACA,GA10KA,CA40KA;;;AACA,WAAA,iBAAA,CAAA,KAAA,EAAA;AACA,QAAA,UAAA,IAAA;AACA,QAAA,OAAA,KAAA,CAAA,EAAA,IAAA,OAAA,OAAA,KAAA,EAAA,OAAA,CAAA,EAAA,UAAA,OAAA,OAAA,KAAA,EAAA,OAAA,EAAA,OAAA;AACA,QAAA,OAAA,eAAA;;AACA,QAAA,KAAA,MAAA,KAAA,IAAA,IAAA,YAAA,IAAA,EAAA;AACA;AACA,UAAA,YAAA,IAAA,EAAA,UAAA,KAAA,SAAA,MAAA,GAAA,CAAA,CAAA,CAFA,CAGA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,EAAA,IAAA,KAAA,MAAA,GAAA,CAAA,EAAA,GAAA,EAAA;AACA,eAAA,aAAA,OAAA,CAAA;AACA;AACA,KAPA,MAOA;AACA,aAAA,OAAA,KAAA,EAAA,IAAA;AACA;;AACA,QAAA,OAAA,SAAA,OAAA,EAAA,IAAA;AAEA,QAAA,YAAA,KAAA,CAhBA,CAiBA;;AACA,QAAA,IAAA,KAAA,KAAA,CAAA,CAAA,CAAA,CAAA;;AACA,QAAA,SAAA,CAAA,KAAA,MAAA,IAAA,IAAA,MAAA,IAAA,IAAA,MAAA,IAAA,CAAA,EAAA;AACA;AACA,aAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,kBAAA,IAAA;AACA,KAJA,MAIA,IAAA,KAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,IAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,KAAA,EAAA;AACA;AACA,aAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,kBAAA,IAAA;AACA,KAJA,MAIA,IAAA,KAAA,MAAA,GAAA,CAAA,IAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,MAAA,EAAA;AACA;AACA,aAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,kBAAA,IAAA;AACA,KAJA,MAIA,IAAA,SAAA,EAAA,EAAA;AACA;AACA,UAAA,OAAA,QAAA,CAAA,KAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,OAAA,IAAA;AACA,aAAA,OAAA,GAAA;AACA,KAJA,MAIA,IAAA,SAAA,EAAA,EAAA;AACA;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,KAAA,EAAA,OAAA,IAAA;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,GAAA,EAAA,OAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,MAAA,KAAA,GAAA,IAAA,KAAA,MAAA,GAAA,CAAA,EAAA,OAAA,OAAA,KAAA,CAJA,CAIA;;AACA,aAAA,IAAA;AACA,KANA,MAMA,IAAA,SAAA,EAAA,EAAA;AACA;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,KAAA,EAAA,OAAA,IAAA;AACA,UAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,GAAA,EAAA,OAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,MAAA,KAAA,GAAA,IAAA,KAAA,MAAA,GAAA,CAAA,EAAA,OAAA,OAAA,MAAA,CAJA,CAIA;;AACA,aAAA,IAAA;AACA,KA/CA,CAiDA;;;AACA,QAAA,QAAA,OAAA,QAAA,CAAA,KAAA,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAlDA,CAkDA;;AACA,QAAA,SAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,MAAA,KAAA,IAAA,EAAA;AACA,YAAA,OAAA,QAAA,CAAA,KAAA,KAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,EAAA;AACA,iBAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,sBAAA,IAAA,CAFA,CAEA;AACA,SAHA,MAGA,IAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,iBAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,sBAAA,IAAA,CAFA,CAEA;AACA;AACA;AACA,KAVA,MAUA,IAAA,KAAA,MAAA,KAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CADA,CACA;AACA;;AAEA,QAAA,cAAA,KAAA,EAAA,OAAA,IAAA;AACA,QAAA,SAAA,IAAA,CAlEA,CAkEA;;AACA,QAAA,MAAA,KAAA,MAAA,EAAA;AACA,QAAA,MAAA,IAAA,IAAA,SAAA,CAAA,EAAA,SAAA,OAAA,CAAA,CAAA;AAAA,SACA,IAAA,MAAA,IAAA,IAAA,SAAA,CAAA,EAAA,SAAA,OAAA,CAAA,CAAA;AAAA,WACA,IAAA,MAAA,IAAA,IAAA,QAAA,CAAA,EAAA,SAAA,OAAA,CAAA,CAAA;AAAA,aACA,IAAA,MAAA,GAAA,IAAA,QAAA,CAAA,EAAA,SAAA,MAAA,CAAA,CAAA;AAAA,eACA,IAAA,MAAA,GAAA,IAAA,QAAA,CAAA,EAAA,SAAA,MAAA,CAAA,CAAA;AAAA,iBACA,IAAA,MAAA,GAAA,IAAA,QAAA,CAAA,EAAA,SAAA,MAAA,CAAA,CAAA;AAAA,mBACA,IAAA,MAAA,GAAA,IAAA,QAAA,CAAA,EAAA,SAAA,KAAA,CAAA,CAAA;AAAA,qBACA,IAAA,MAAA,GAAA,IAAA,QAAA,CAAA,EAAA,SAAA,KAAA,CA3EA,CA2EA;;AACA,QAAA,KAAA,KAAA,CAAA,CAAA,CAAA,GAAA,OAAA,MAAA,MAAA,MAAA,EAAA,OAAA,IAAA,CA5EA,CA4EA;;AACA,QAAA,KAAA,KAAA,CAAA,CAAA,CAAA,MAAA,OAAA,MAAA,CAAA,CAAA,CAAA,EAAA,OAAA,KAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CA7EA,CA6EA;;AACA,WAAA,OAAA,MAAA;AACA,GA55KA,CA85KA;;;AACA,WAAA,mBAAA,CAAA,UAAA,EAAA;AACA,YAAA,IAAA,CAAA,qBAAA,EADA,CAEA;;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,OAAA,KAAA,SAAA,IAAA,EAAA,OAAA,KAAA,QAAA,EAAA;AACA,UAAA,UAAA,OAAA,EAAA,OAAA,CAAA;AACA,UAAA,IAAA,YAAA,IAAA,CAAA,QAAA,CAAA,EAAA,QAAA,CAAA,CAAA;AACA,cAAA,OAAA,GAAA,aAAA,CAAA,CAAA;AACA,KALA,EAHA,CAUA;AACA;;AACA,QAAA,YAAA,GAAA,QAAA,EAAA;AACA,QAAA,UAAA,CAAA,aAAA,KAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,gBAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,YAAA,YAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;;AACA,UAAA,OAAA,GAAA,aAAA,SAAA,CAAA;AACA;AACA;;AACA,UAAA,IAAA,OAAA,EAAA,MAAA,EAAA,OAAA;;AACA,UAAA,MAAA,SAAA,IAAA,MAAA,QAAA,EAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,OAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,OAAA,CAAA,EAAA,CAAA,CAAA;;AACA,YAAA,QAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,GAAA,OAAA,CAAA,EAAA,OAAA;AACA;AACA;AACA;;AACA,UAAA,UAAA,YAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AACA,QAAA,OAAA,GAAA,aAAA,OAAA,CAAA;AACA,KAlBA,EAdA,CAkCA;AACA;;AACA,QAAA,UAAA,EAAA;AACA,SAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,UAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,UAAA,EAAA,OAAA;AACA,UAAA,OAAA,KAAA,KAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,QAAA,WAAA,CAAA,CAAA;;AACA,UAAA,OAAA,UAAA,CAAA,IAAA,UAAA,SAAA,EAAA;AACA,YAAA,iBAAA,YAAA,IAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,UAAA,OAAA,GAAA,aAAA,cAAA,CAAA;AACA,OAHA,MAGA;AACA,YAAA,OAAA,OAAA,KAAA,EAAA,IAAA;;AACA,YAAA,MAAA,IAAA,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA;AACA,cAAA,UAAA,OAAA,CAAA;AACA,eAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,EAAA,EAAA,KAAA,EAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,kBAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,kBAAA,QAAA,KAAA,KAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,CAAA;;AACA,kBAAA,QAAA,OAAA,EAAA;AAAA,0BAAA,KAAA;AAAA,wBAAA,EAAA,KAAA;AAAA;AACA;AACA,WANA;AAOA;;AACA,UAAA,OAAA,GAAA,OAAA,KAAA,EAAA,OAAA;AACA,OAtBA,CAuBA;;;AACA,UAAA,EAAA,OAAA,KAAA,OAAA,IAAA,UAAA,EAAA;AACA,YAAA,MAAA,SAAA,EAAA,OAAA,EAAA,KAAA;AACA,cAAA,MAAA,CAAA,UAAA,EAAA,KAAA,EAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AACA;AACA,KA5BA;AA6BA,YAAA,OAAA,CAAA,qBAAA;AACA,GAl+KA,CAo+KA;;;AACA,WAAA,YAAA,CAAA,CAAA,EAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,SAAA,CAAA,EAAA,MAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA,IAAA,SAAA,CAAA,EAAA,MAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA;AACA;AACA,GAz+KA,CA2+KA;;;AACA,WAAA,UAAA,CAAA,CAAA,EAAA;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,OAAA,CAAA,EAAA,CAAA,KAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA;AACA;AACA,GAh/KA,CAk/KA;;;AACA,WAAA,OAAA,GAAA;AACA,QAAA,OAAA,GAAA,CAAA,MAAA,MAAA,MAAA,EAAA;AACA;AACA;AACA;AACA;;AACA,QAAA,IAAA,OAAA,GAAA,CAAA,OAAA,KAAA,CAAA;AACA,QAAA,IAAA,OAAA,GAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,OAAA,GAAA,CAAA,GAAA,CAAA;AACA,QAAA,IAAA,OAAA,GAAA,CAAA,MAAA,CAAA;;AACA,QAAA,MAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AACA;;AACA,QAAA,IAAA,OAAA,GAAA,CAAA,MAAA,CAAA;;AACA,QAAA,MAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,CAAA,EAAA,CAAA;AACA,UAAA,OAAA,CAAA,CAAA,EAAA,CAAA;AACA;;AACA,QAAA,MAAA,IAAA,IAAA,MAAA,IAAA,EAAA,OAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA;AACA,GAvgLA,CAygLA;;;AACA,WAAA,eAAA,GAAA;AACA,QAAA,CAAA,OAAA,MAAA,EAAA;AAAA,cAAA,KAAA,CAAA,mDAAA;AAAA;AAAA;;AACA,QAAA,OAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,CAAA,OAAA,GAAA,CAAA,OAAA,CAAA;AACA,QAAA,OAAA,CAAA,OAAA,GAAA,CAAA,MAAA,CAAA;AACA,QAAA,QAAA,CAAA,OAAA,GAAA,CAAA,OAAA,CAAA;AACA,QAAA,YAAA,gBAAA,KAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA,QAAA,CAAA,UAAA,MAAA,EAAA,YAAA,gBAAA,KAAA,EAAA,CAAA,IAAA,EAAA,CAAA,KAAA,CAAA;AACA,QAAA,CAAA,UAAA,MAAA,EAAA,YAAA,gBAAA,CAAA,KAAA,EAAA,CAAA,EAAA,CAAA,KAAA,CAAA;AACA,QAAA,CAAA,UAAA,MAAA,EAAA,YAAA,OAAA,CAAA,CAAA,CATA,CASA;;AACA,QAAA,CAAA,UAAA,MAAA,EAAA;AAAA,cAAA,KAAA,CAAA,6BAAA;AAAA;AAAA;;AAEA,aAAA,eAAA,CAAA,KAAA,EAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,YAAA,EAAA;AACA,UAAA,QAAA,KAAA,EAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,MAAA,EAAA,IAAA,EAAA,IAAA,KAAA,SAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA;AAAA,OAAA,CAAA,CAAA,KACA,IAAA,CAAA,IAAA,IAAA,KAAA,IAAA,KAAA,EAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,MAAA,EAAA,IAAA,EAAA,IAAA,KAAA,SAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA;AAAA,OAAA,CAAA,CAAA,KACA,IAAA,CAAA,KAAA,IAAA,CAAA,KAAA,EAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA;AAAA,OAAA,CAAA,CAAA,KACA,IAAA,CAAA,KAAA,IAAA,KAAA,EAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA;AAAA,OAAA,CAAA,CAAA,KACA,IAAA,SAAA,CAAA,KAAA,EAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,EAAA,IAAA,EAAA,KAAA,KAAA,SAAA;AAAA,OAAA,CAAA;AACA,aAAA,SAAA;AACA,KApBA,CAsBA;;;AACA,QAAA,WAAA,GAAA,IAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,KAAA,GAAA,CAAA,EAAA,UAAA,GAAA,IAAA,IAAA,KAAA,GAAA,CAAA,EAAA,UAAA,GAAA,IAAA,CAAA;AAAA,KAAA,CAAA;AACA,QAAA,OAAA,UAAA,QAAA,EAAA,CAAA;;AACA,QAAA,QAAA,SAAA,SAAA,EAAA;AAAA,aAAA,IAAA,EAAA,UAAA,GAAA,IAAA;AAAA,KAAA,MAAA;AAAA;AAAA,KAzBA,CA2BA;;;AACA,QAAA,QAAA,WAAA,MAAA,CAAA,eAAA,IAAA,GAAA,IAAA,CAAA;;AACA,QAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,cAAA,KAAA,CAAA,uCAAA,IAAA;AACA;AACA;;AACA,QAAA,sCAAA,OAAA,IAAA,EAAA,IAAA,EAAA,IAAA;AACA,UAAA,OAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA,CAAA,WAAA,EAAA,YAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,KAAA;AACA,UAAA,EAAA,EAAA,IAAA;AACA,KAHA;AAIA,QAAA,IAAA,CAAA,MAAA,IAAA,CAAA,GAAA,CAAA;AAAA,QAAA,IAAA,CAAA,MAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA;AACA,GAljLA,CAojLA;;;AACA,WAAA,YAAA,GAAA;AACA,QAAA,SAAA,iBAAA,KAAA;AACA,QAAA,SAAA,KAAA;AACA,QAAA,WAAA,OAAA,EAAA,SAAA,GAAA,eAAA,CAAA,GAAA,iBAAA,CAAA;AACA,QAAA,WAAA,OAAA,EAAA,SAAA,GAAA,eAAA,CAAA,GAAA,iBAAA,CAAA;AACA,QAAA,WAAA,YAAA,EAAA,SAAA,GAAA,eAAA,CAAA,GAAA,gBAAA,CAAA;;AACA,QAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,SAAA,EAAA,MAAA;AACA,YAAA,SAAA,EAAA,IAAA,CAAA,EAAA,IAAA,EAAA;;AACA,YAAA,EAAA,IAAA,EAAA;AACA,cAAA,WAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,EAAA,OAAA,MAAA,CAAA,EAAA,MAAA;AAAA,WAAA,CAAA;AACA,cAAA,OAAA,GAAA,IAAA,CAAA,QAAA,CAAA;AACA,cAAA,CAAA,IAAA,EAAA;AACA,mBAAA,KAAA,KAAA,CAAA,IAAA,CAAA;AACA,cAAA,SAAA,EAAA,IAAA,MAAA,MAAA,CAAA,EAAA,SAAA,EAAA;AACA;;AACA,YAAA,MAAA,OAAA,CAAA,MAAA,MAAA,IAAA,GAAA,CAAA;AACA,cAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,GAFA,EAEA,IAFA,CAEA,QAFA,EAEA,GAFA;AAGA,OAdA;AAeA,KAhBA,MAgBA;AACA,YAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA;AACA,GA9kLA,CAglLA;;;AACA,WAAA,cAAA,GAAA;AACA,QAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,MAAA,CAAA,EAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,QAAA,SAAA,EAAA,OAAA,EAAA,KAAA;AACA,cAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,EAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,IAFA,EAEA,SAAA,EAAA,KAFA,EAGA,IAHA,CAGA,MAHA,EAGA,KAHA,EAIA,IAJA,CAIA,QAJA,EAIA,KAJA;AAKA,OAPA;AAQA,KATA,MASA;AACA,YAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA;AACA,GA9lLA,CAgmLA;;;AACA,WAAA,aAAA,GAAA;AACA,QAAA,QAAA,SAAA,CAAA,GAAA,EAAA,IAAA,OAAA,CAAA,EAAA;AACA,UAAA,OAAA,iBAAA,KAAA;AACA,UAAA,OAAA,CAAA,iBAAA,KAAA;;AACA,UAAA,SAAA,WAAA,IAAA,SAAA,SAAA,EAAA;AACA,YAAA,UAAA,iBAAA,IAAA,EAAA,IAAA,CAAA;;AACA,YAAA,MAAA,MAAA,OAAA,IAAA,EAAA,IAAA,EAAA,KAAA,CAAA,CAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;;AACA,YAAA,IAAA,QAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,MAAA,CAAA,GAAA,GAAA;AAAA,SAAA,EAAA,IAAA,CAAA,EAAA,CAAA;;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA;AACA,OALA,MAKA,IAAA,SAAA,QAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,IAAA,EAAA,QAAA,EAAA,IAAA,CAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,IAAA,EAAA,SAAA,EAAA,IAAA,CAAA;AACA,gBAAA,MAAA,CAAA,GAAA,EAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,CAAA,EAAA,KAAA,GAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,IADA,EACA,UAAA,CAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,SADA,EAEA,IAFA,CAEA,IAFA,EAEA,UAAA,CAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,SAFA,EAGA,IAHA,CAGA,IAHA,EAGA,CAHA,EAGA,IAHA,CAGA,IAHA,EAGA,SAHA;AAIA,gBAAA,MAAA,CAAA,GAAA,EAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,CAAA,EAAA,KAAA,GAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,IADA,EACA,UAAA,CAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,SADA,EAEA,IAFA,CAEA,IAFA,EAEA,UAAA,CAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,SAFA,EAGA,IAHA,CAGA,IAHA,EAGA,CAHA,EAGA,IAHA,CAGA,IAHA,EAGA,QAHA;AAIA,OAXA,MAWA;AACA,YAAA,sCAAA,OAAA,EAAA,MAAA;AACA,WAAA,MAAA,CAAA,OAAA,EAAA,IAAA,CAAA,WAAA,EAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,OAAA;AACA;;AACA,cAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA;AACA;AACA,KA1BA,MA0BA;AACA,cAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA;AACA;;AAEA,WAAA,MAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA;AAAA,QAAA,KAAA,CAAA;AACA,QAAA,IAAA,SAAA,WAAA,GAAA,CAAA,GAAA,KAAA,EAAA,GAAA,CAAA,CAAA;AACA,QAAA,UAAA,KAAA,EAAA,GAAA,CAAA;AACA,QAAA,SAAA,CAAA,CAAA,EAAA,IAAA,OAAA,EAAA,IAAA,IAAA,OAAA,EAAA,IAAA,IAAA,OAAA,EAAA,IAAA,IAAA,OAAA,EAAA,IAAA,IAAA,OAAA,CAAA;AACA,WAAA,OAAA,GAAA,CAAA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,KAAA,GAAA,CAAA,KAAA,IAAA,MAAA;AAAA,UACA,KAAA,CAAA,KAAA,GAAA,CAAA,KAAA,CAAA,GAAA,MADA;AAAA,UAEA,KAAA,KAAA,EAFA;AAAA,UAGA,KAAA,KAAA,EAHA;AAIA,WAAA,EAAA,EAAA,KAAA,EAAA;AACA,aAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AACA,KAPA,CAAA;AAQA;;AAEA,WAAA,gBAAA,CAAA,IAAA,EAAA,IAAA,EAAA;AACA,QAAA,SAAA,EAAA;AACA,QAAA,MAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AACA,QAAA,MAAA,SAAA,WAAA,GAAA,MAAA,IAAA,GAAA,CAAA,GAAA,OAAA,CAAA,GAAA,CAAA;AACA,QAAA,SAAA,SAAA,WAAA,GAAA,OAAA,CAAA,GAAA,CAAA,GAAA,MAAA,IAAA,GAAA,CAAA;AACA,QAAA,SAAA,SAAA,WAAA,GAAA,MAAA,IAAA,GAAA,OAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,IAAA,WAAA,EAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,WAAA,IAAA,IAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAAA,EAAA,IAAA,UAAA,EAAA,KAAA,MAAA,EAAA;AACA,eAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA;;AACA,WAAA,MAAA;AACA,GA5pLA,CA8pLA;;;AACA,WAAA,SAAA,GAAA;AACA,YAAA,IAAA,CAAA,WAAA;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA,EAAA,IAAA;AACA,aAAA,EAAA,IAAA;AACA,aAAA,EAAA,MAAA;AACA,aAAA,EAAA,MAAA;AACA,UAAA,EAAA,KAAA,KAAA,SAAA,EAAA,OAAA,EAAA,KAAA;AACA,UAAA,EAAA,IAAA,KAAA,SAAA,EAAA,OAAA,EAAA,IAAA;AACA,QAAA,MAAA,GAAA,KAAA,KAAA,CAAA,EAAA,MAAA,CAAA;AACA,UAAA,EAAA,MAAA,IAAA,EAAA,EAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA,KATA,EAFA,CAYA;;AACA,QAAA,CAAA,EAAA,eAAA,EAAA,QAAA,CAAA,WAAA,CAAA,IAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AACA,QAAA,CAAA,EAAA,iBAAA,EAAA,QAAA,CAAA,WAAA,CAAA,IAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AACA;AACA;AACA,YAAA,OAAA,CAAA,WAAA;AACA,GAjrLA,CAmrLA;;;AACA,WAAA,YAAA,CAAA,MAAA,EAAA;AACA,aAAA,UAAA,SAAA;AACA,MAAA,iBAAA,EAAA,GAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,KAFA;AAGA,GAzrLA,CA2rLA;;;AACA,WAAA,yBAAA,CAAA,CAAA,EAAA;AACA,iBAAA,OAAA,CAAA,cAAA,EAAA,CAAA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,CAAA,IAAA,GAAA;AACA,QAAA,eAAA,yBAAA,KAAA,GAAA,GAAA,CAHA,CAGA;;AACA,QAAA,eAAA,yBAAA,KAAA,GAAA,GAAA,CAJA,CAIA;;AACA,aAAA,cAAA,CAAA,SAAA,EAAA,KAAA,CAAA,eAAA,GAAA,YAAA;AACA,aAAA,cAAA,CAAA,SAAA,EAAA,KAAA,CAAA,eAAA,GAAA,YAAA;AACA,GAnsLA,CAqsLA;;;AACA,WAAA,UAAA,GAAA;AACA,QAAA,YAAA,GAAA,eAAA,CAAA,GAAA,gBAAA,CAAA;;AACA,QAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,MAAA,CAAA,EAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,GADA,EACA,MAAA,SAAA,EAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EAEA,IAFA,CAEA,MAFA,EAEA,UAAA,MAAA,EAAA,IAAA,CAFA,EAGA,IAHA,CAGA,QAHA,EAGA,UAAA,MAAA,EAAA,IAAA,CAHA;AAIA,OALA;AAMA,KAPA,MAOA;AACA,YAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA;AACA,GAltLA,CAotLA;;;AACA,WAAA,UAAA,GAAA;AACA,YAAA,IAAA,CAAA,YAAA;AACA,QAAA,CAAA;AAAA,QAAA,KAAA;AAAA,QAAA,GAAA;AAAA,QAAA,EAAA;AAAA,QAAA,EAAA;AAAA,QAAA,aAAA,CAAA;AACA,QAAA,QAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,SAAA,QAAA,MAAA,CAAA,SAAA,CAAA;AACA,QAAA,SAAA,QAAA,MAAA,CAAA,SAAA,CAAA;AACA,QAAA,UAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA,GAPA,CAQA;;AACA,SAAA,IAAA,CAAA,QAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,EAAA,KAAA,EAAA,SADA,CACA;;AACA,UAAA,OAAA,KAAA,CAAA,EAAA,KAAA;AACA,UAAA,IAAA,GAAA,eAAA,CAAA,SAAA,IAAA,CAAA,CAAA,CAHA,CAGA;;AACA,UAAA,MAAA,SAAA,EAAA,SAJA,CAIA;;AACA,UAAA,SAAA,KAAA,CAAA,EAAA,MAAA;AACA,UAAA,OAAA,KAAA,CAAA,EAAA,IAAA;;AACA,UAAA,UAAA,EAAA,EAAA;AACA;AACA,YAAA,CAAA,SAAA,EAAA,IAAA,IAAA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,IAAA,EAAA,KAAA,MAAA,KAAA,IAAA,EAAA,EAAA,KAAA,KAAA,EAAA,EAAA;AACA,cAAA,SAAA,IAAA,EAAA,CAAA,MAAA,SAAA,EAAA;AACA,cAAA,IAAA,OAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;;AACA,cAAA,IAAA,CAAA,EAAA;AACA,iBAAA,EAAA,CAAA,IAAA,IAAA,GAAA,IAAA,IAAA,IAAA,EAAA,CAAA,GAAA,IAAA,CAAA;AACA,iBAAA,EAAA,CAAA,IAAA,IAAA,GAAA,GAAA,CAAA;AACA,WAHA,MAGA;AACA,gBAAA,KAAA,SAAA,IAAA,EAAA,CAAA,CAAA;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,GAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,GAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA;;AACA,gBAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,cAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,GAAA,MAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,IAAA,IAAA,KAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,GAAA,GAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA;AACA,cAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,GAAA,MAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,GAAA,EAAA;AACA,cAAA,OAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,kBAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,SAAA;AACA;AACA,OAvBA,MAuBA,IAAA,SAAA,EAAA,EAAA;AACA;AACA,YAAA,CAAA,SAAA,EAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,EAAA,IAAA,GAAA;;AACA,aAAA,IAAA,MAAA,CAAA,EAAA,KAAA,IAAA,EAAA,KAAA,MAAA,KAAA,KAAA,EAAA,EAAA,OAAA,MAAA,EAAA,EAAA;AACA,cAAA,KAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,CAAA,EAAA;AACA,cAAA,SAAA,IAAA,EAAA,GAAA,MAAA,SAAA,EAAA;;AACA,cAAA,KAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;;AACA,cAAA,MAAA,CAAA,EAAA;AACA,iBAAA,EAAA,CAAA,IAAA,CAAA,GAAA,MAAA,GAAA;AACA,iBAAA,EAAA,CAAA,IAAA,IAAA,CAAA,GAAA,MAAA,GAAA;AACA,WAHA,MAGA;AACA,gBAAA,MAAA,SAAA,IAAA,EAAA,GAAA,CAAA;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA;;AACA,cAAA,OAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,CAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA;;AACA,cAAA,SAAA,OAAA,KAAA,MAAA,CAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,IAAA,IAAA,GAAA,IAAA,KAAA,IAAA,IAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,GAAA,IAAA,IAAA,GAAA,GAAA,EAAA;;AACA,cAAA,QAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;;AACA,mBAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,MAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA;;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,SAAA;AACA;AACA,OAtDA,CAwDA;;;AACA,UAAA,UAAA,EAAA,IAAA,SAAA,EAAA,IAAA,aAAA,CAAA,gBAAA,KAAA,IAAA,KAAA,CAAA,EAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,OAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;;AACA;AACA,aAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AACA,YAAA,QAAA,UAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,IAAA,MAAA,CAAA,EAAA,MAAA,GAAA,EAAA,IAAA,CAAA,MAAA,CAAA,EAAA,KAAA,IAAA,MAAA,CAAA,EAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,CAAA,EAAA,IAAA,GAAA,CAAA;AACA,qBAAA,UAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA;AACA,SALA;;AAMA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA;AACA,OArEA,CAuEA;;;AACA,UAAA,KAAA,MAAA,KAAA,SAAA,GAAA,IAAA,UAAA,EAAA,IAAA,SAAA,EAAA,EAAA;AACA,aAAA,IAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,KAAA,MAAA,KAAA,MAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA;AACA,cAAA,KAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,MAAA,CAAA,EAAA;AACA,cAAA,SAAA,IAAA,EAAA,GAAA,MAAA,SAAA,EAAA;;AACA,cAAA,MAAA,QAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;;AACA,cAAA,QAAA,CAAA,EAAA;AACA,iBAAA,GAAA,EAAA,CAAA,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AACA,iBAAA,EAAA,CAAA,IAAA,CAAA;AACA,WAHA,MAGA;AACA,gBAAA,MAAA,SAAA,IAAA,EAAA,GAAA,CAAA;;AACA,gBAAA,MAAA,CAAA,EAAA;AACA,kBAAA,OAAA,KAAA,KAAA,CAAA,IAAA,CAAA,IAAA,SAAA,IAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,IAAA,SAAA,IAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,kBAAA,OAAA,CAAA,EAAA;AACA;;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA;AACA,iBAAA,CAAA,EAAA,CAAA,IAAA,GAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,GAAA,CAAA;AACA;;AACA,cAAA,SAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,kEAAA;AACA,cAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,qDAAA;;AACA,cAAA,UAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,2CAAA;;AACA,cAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA;;AACA,cAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;;AACA,cAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,OAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA;AACA;AACA;;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA,GAAA,EAAA,EAAA,CAAA,OAAA,EAAA,cAAA;AACA,YAAA,OAAA,CAAA,YAAA;AACA;;AAEA,WAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA;AACA,QAAA,IAAA,QAAA,MAAA,CAAA,MAAA,IAAA,EAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA;;AACA,QAAA,SAAA,QAAA,EAAA;AACA,UAAA,IAAA,UAAA,GAAA,GAAA,CAAA,SAAA,IAAA,IAAA,EAAA,GAAA,GAAA;AACA,UAAA,MAAA,KAAA,MAAA,KAAA,GAAA,GAAA,GAAA;AACA,UAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,GAAA,MAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,IAAA,IAAA,KAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,GAAA,GAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA;AACA,UAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,GAAA,MAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,GAAA,EAAA;AACA,UAAA,OAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,cAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,SAAA;AACA;;AACA,QAAA,SAAA,OAAA,EAAA;AACA,UAAA,KAAA,SAAA,GAAA,GAAA,CAAA,SAAA,GAAA,IAAA,EAAA,GAAA,GAAA;;AACA,UAAA,KAAA,GAAA,EAAA,KAAA,GAAA;AACA,UAAA,OAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,EAAA,IAAA,GAAA,IAAA,KAAA,EAAA,IAAA,GAAA,IAAA,KAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA;;AACA,UAAA,UAAA,OAAA,KAAA,MAAA,EAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,KAAA,IAAA,IAAA,GAAA,IAAA,KAAA,KAAA,IAAA,IAAA,GAAA,IAAA,KAAA,IAAA,EAAA,GAAA,IAAA,IAAA,GAAA,GAAA,EAAA;;AACA,UAAA,SAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,EAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;;AACA,gBAAA,OAAA,KAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,KAAA,IAAA,EAAA,GAAA,GAAA,IAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,OAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,MAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,SAAA;AACA;;AACA,QAAA,SAAA,QAAA,EAAA;AACA,UAAA,QAAA,UAAA,EAAA,EAAA,EAAA,CAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,KAAA,EAAA,CAAA,CAAA;AACA;;AACA,QAAA,SAAA,SAAA,EAAA;AACA,UAAA,QAAA,KAAA,MAAA,EAAA;;AACA,UAAA,MAAA,QAAA,GAAA,GAAA,GAAA;;AACA,UAAA,SAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,kEAAA;AACA,UAAA,QAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,qDAAA;;AACA,UAAA,UAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,2CAAA;;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,KAAA,EAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA,QAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,OAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA;;AACA,MAAA,EAAA,CAAA,OAAA,EAAA,cAAA;AACA,WAAA,CAAA;AACA;;AAEA,WAAA,QAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,OAAA,CAAA;AACA,QAAA,EAAA,IAAA,CAAA,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,OAAA,CAAA,CAAA;AACA,WAAA,CAAA;AACA;;AAEA,WAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,IAAA,GAAA;AACA,QAAA,OAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA,UAAA,WAAA;AACA,UAAA,WAAA;;AACA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,CAAA;AACA,aAAA,IAAA,GAAA,GAAA,KAAA,MAAA,EAAA;AACA;;AACA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA;AACA;;AACA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA;AACA,aAAA,IAAA,IAAA,CAAA,GAAA,KAAA,MAAA,EAAA;AACA;;AACA,cAAA,MAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,GAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,IAAA,KAAA,IAAA,CAAA,CAAA;AACA,cAAA,OAAA,KAAA,CAAA,IAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,IAAA,IAAA,KAAA,IAAA,CAAA,IAAA,GAAA,GAAA,EAAA,GAAA,IAAA,IAAA,KAAA,CAAA,CAAA;AACA;;AACA,WAAA,IAAA;AACA;;AAEA,WAAA,OAAA,CAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,OAAA,KAAA,GAAA,OAAA,CAAA,MAAA,EAAA,IAAA;;AACA,QAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,SAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,GAAA;AACA,UAAA,SAAA,GAAA,IAAA,CAAA,WAAA,CAAA;;AACA,UAAA,MAAA,EAAA;AACA,YAAA,QAAA,OAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,YAAA,OAAA,GAAA,IAAA,GAAA,OAAA,EAAA;AACA,YAAA,SAAA,YAAA,KAAA,GAAA,GAAA,IAAA,KAAA,CAAA,GAAA,KAAA,KAAA,GAAA,CAAA,IAAA,GAAA,IAAA,KAAA,CAAA,GAAA,KAAA,MAAA,GAAA,CAAA,IAAA,GAAA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,MAAA;AACA;AACA,KATA,MASA;AACA,SAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA;AACA;;AAEA,WAAA,SAAA,CAAA,CAAA,EAAA;AACA,OAAA,MAAA,CAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,KAAA;AACA,GAl6LA,CAo6LA;;;AACA,WAAA,MAAA,GAAA;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,UAAA,6FAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;;AACA,QAAA,CAAA,gBAAA,SAAA,GAAA,GAAA,EAAA;AACA,UAAA,wEAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;;AACA;AACA,YAAA,IAAA,CAAA,OAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,CAAA,cAAA,OAAA,EAAA;AACA;AACA;AACA,QAAA,WAAA,OAAA,MAAA,IAAA,OAAA,MAAA;;AACA,QAAA,QAAA,EAAA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;;AACA;AACA,YAAA,OAAA,CAAA,OAAA;AACA,GAp8LA,CAs8LA;;;AACA,IAAA,eAAA,EAAA,KAAA,CAAA,UAAA;;AACA,WAAA,UAAA,GAAA;AACA,QAAA,QAAA,UAAA,EAAA;AACA,YAAA,UAAA,GAAA,IAAA,CAFA,CAIA;;AACA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,qBAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,eAAA;AACA;AACA,KAVA;;AAYA,aAAA,eAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,SAAA,KAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAHA,CAKA;;AACA,UAAA,UAAA,YAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,UAAA,YAAA,IAAA,GAAA,OAAA,CAAA,OAAA,KAAA,CAAA;AACA,UAAA,OAAA,aAAA,OAAA,CAAA;AAEA,UAAA,QAAA,OAAA,MAAA,CAAA,cAAA,CAAA;;AACA,UAAA,CAAA,MAAA,IAAA,EAAA,EAAA;AACA,gBAAA,OAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,aAAA,EACA,IADA,CACA,MADA,EACA,SADA,EACA,IADA,CACA,SADA,EACA,CADA,EAEA,IAFA,CAEA,aAFA,EAEA,aAFA,EAEA,IAFA,CAEA,WAFA,EAEA,aAFA,EAGA,IAHA,CAGA,WAHA,EAGA,EAHA,EAGA,IAHA,CAGA,WAHA,EAGA,EAHA,CAAA;AAIA;;AACA,UAAA,KAAA,UAAA,KAAA,GAAA,GAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;;AAEA,UAAA,GAAA,KAAA,CAAA,QAAA,KAAA,KAAA,EAAA;AACA,UAAA,WAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;AACA,KAzCA,CA2CA;;;AACA,MAAA,UAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,YAAA,EAAA,EAAA,IAAA;AACA,OAJA,MAIA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,YAAA,EAAA,CAAA,CAAA,EAAA,QAAA,CAAA,SAAA;AACA,UAAA,8BAAA,EAAA,QAAA,CAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,cAAA;AACA,YAAA,2EAAA,EAAA,IAAA;AACA;AACA,KAZA;;AAcA,aAAA,cAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,SAAA,KAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAHA,CAKA;;AACA,UAAA,UAAA,MAAA,KAAA,EAAA,OAAA;AACA,UAAA,YAAA,SAAA,EAAA,UAAA,CAAA;AACA,UAAA,OAAA,aAAA,OAAA,CAAA;;AAEA,UAAA,MAAA,KAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,oDAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;;AACA,UAAA,MAAA,KAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA,YAAA,iEAAA,EAAA,IAAA,EAAA,OAAA;AACA,UAAA,OAAA,EAAA,MAAA;AACA,WAAA,MAAA,CAAA,aAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA;AACA;AACA;;AACA,UAAA,IAAA,OAAA,MAAA;AACA,UAAA,OAAA,UAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA,gBAAA,MAAA,CAAA,QAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,iBAAA,MAAA,CAAA,QAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA;;AAEA,UAAA,GAAA,KAAA,CAAA,QAAA,KAAA,KAAA,EAAA;AACA,UAAA,wCAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;;AAEA,UAAA,MAAA;AAAA,UAAA,QAAA,CAAA,EAAA,UAAA,EAAA,IAAA,CAAA,YAAA,CAAA;;AACA,UAAA,UAAA,CAAA,CAAA,EAAA;AACA,iBAAA,OAAA,KAAA,EAAA,OAAA,KAAA,SAAA,GAAA,SAAA,GAAA,KAAA;AACA,YAAA,YAAA,MAAA,KAAA,EAAA,MAAA;;AACA,YAAA,WAAA,SAAA,EAAA;AACA,gBAAA,KAAA,EAAA,MAAA,GAAA,MAAA;AACA;AACA;AACA,OAPA,MAOA;AACA,iBAAA,MAAA,KAAA,EAAA,MAAA;AACA,gBAAA,WAAA,SAAA,GAAA,OAAA,MAAA,GAAA,CAAA,GAAA,MAAA;AACA;;AACA,YAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,UAAA,QAAA,MAAA,KAAA,EAAA,KAAA;;AACA,UAAA,SAAA,CAAA,EAAA;AAAA,gBAAA,GAAA,KAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAAA;;AACA,UAAA,MAAA,KAAA,EAAA,SAAA,EAAA;AAAA,iBAAA,MAAA,KAAA,EAAA,SAAA;AAAA,OA9CA,CA8CA;;;AACA,UAAA,MAAA,KAAA,EAAA,UAAA,EAAA;AAAA,iBAAA,KAAA,GAAA,CAAA,MAAA,KAAA,EAAA,UAAA,EAAA,GAAA,CAAA;AAAA,OA/CA,CA+CA;;;AACA,UAAA,MAAA,KAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AAAA,iBAAA,CAAA;AAAA,OAhDA,CAgDA;;;AACA,UAAA,aAAA,GAAA,KAAA,EAAA,CAAA,CAAA;AACA,aAAA,IAAA,CAAA;AAAA,YAAA;AAAA,cAAA,KAAA;AAAA,YAAA;AAAA,YAAA;AAAA,sBAAA;AAAA,wBAAA;AAAA,kBAAA;AAAA;AAAA,OAAA;AACA,2BAAA,KAAA;AACA;AACA,UAAA,EAAA,EAAA,IAAA;AACA,KAhHA,CAkHA;;;AACA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,qBAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,eAAA;AACA,YAAA,2DAAA,EAAA,IAAA;AACA;AACA,KAZA;;AAcA,aAAA,eAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,UAAA,OAAA,MAAA,KAAA,CAAA;AACA,UAAA,KAAA,KAAA,IAAA,KAAA,MAAA,GAAA,EAAA,EAAA;AACA,UAAA,YAAA,EAAA,CALA,CAKA;;AACA,UAAA,OAAA,EAAA,gBAAA,EAAA,IAAA,EAAA;AACA,UAAA,QAAA,KAAA,MAAA,GAAA,CAAA,KAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,WAAA,IAAA,GAAA,IAAA;;AARA;AAUA,aAAA,KAAA,GAAA,KAAA;AACA,YAAA,IAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AAAA,YAAA,IAAA,KAAA,IAAA,CAAA,CAAA,CAAA;AACA,kBAAA,IAAA,CAAA;AAAA,cAAA;AAAA,cAAA;AAAA,gBAAA;AAAA,SAAA;AACA,YAAA,WAAA,EAAA;AACA,aAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,mBAAA,IAAA,CAAA,MAAA,CAAA,EAAA,MAAA;AAAA,SAAA;AACA,YAAA,QAAA,SAAA,OAAA,CAAA,GAAA,GAAA,CAAA,QAAA,CAAA,CAAA;AACA,YAAA,MAAA,KAAA,SAAA,CAAA,KAAA,CAAA;AACA,YAAA,KAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,YAAA,KAAA,MAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA;;AACA,YAAA,MAAA,GAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,cAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA,cAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA,oBAAA,IAAA,CAAA;AAAA,eAAA,EAAA;AAAA,eAAA,EAAA;AAAA,kBAAA;AAAA,WAAA;AACA,iBAAA,SAAA;AACA,SALA,MAKA;AACA,cAAA,MAAA,GAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AAAA,kBAAA,GAAA,EAAA,IAAA,IAAA,KAAA,IAAA;AAAA,mBAAA,MAAA,GAAA,CAAA;AAAA,WAAA,MACA;AACA,gBAAA,IAAA,MAAA,GAAA,EAAA,KAAA;AACA,gBAAA,UAAA,EAAA,WAAA,CAAA,CAAA;AACA,gBAAA,aAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,qBAAA,EAAA,KAAA,KAAA,CAAA;AAAA,aAAA,CAAA;AACA,uBAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,qBAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,aAAA;AACA,gBAAA,kBAAA,EAAA,IAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AAAA,qBAAA,EAAA,MAAA,GAAA,MAAA,GAAA,EAAA,MAAA;AAAA,aAAA,CAAA;;AACA,gBAAA,UAAA,MAAA,GAAA,gBAAA,MAAA,EAAA;AACA;AACA,kBAAA,SAAA,GAAA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,MAAA,MAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,eAAA,EAAA;AACA,yBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,oBAAA,EAAA,MAAA,GAAA,MAAA,GAAA,EAAA,MAAA,EAAA;AACA,wBAAA,EAAA,KAAA,EAAA,KAAA,GAAA,SAAA;AACA,wBAAA,EAAA,KAAA,EAAA,IAAA,GAAA,MAAA;AACA,iBAHA,MAGA;AACA,+BAAA,IAAA,CAAA;AAAA,uBAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,uBAAA,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,0BAAA,EAAA;AAAA,mBAAA;AACA;AACA,eAPA;AAQA,oBAAA,GAAA,EAAA,IAAA,IAAA,KAAA,IAAA;;AACA,kBAAA,MAAA,GAAA,EAAA,UAAA,EAAA;AAAA,sBAAA,GAAA,EAAA,UAAA,IAAA,gBAAA,MAAA;AAAA,eAAA,MACA;AAAA,sBAAA,GAAA,EAAA,UAAA,GAAA,gBAAA,MAAA;AAAA;;AACA,qBAAA,MAAA,GAAA,CAAA,CAfA,CAgBA;;AACA,kBAAA,aAAA,MAAA,GAAA,CAAA,EAAA;AACA,+BAAA,WAAA,YAAA,EAAA,CAAA,CADA;AAEA,oBAAA,UAAA,YAAA,EAAA,GAAA,EAAA,CAAA,CAFA;AAGA,wBAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,YAAA,EAAA,GAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,CAAA;AACA,eAJA,MAIA;AACA,wBAAA,MAAA;AACA,6BAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,wBAAA,EAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AAAA,iBAAA;AACA;AACA,aAzBA,MAyBA;AACA,kBAAA,MAAA,GAAA,EAAA,UAAA,EAAA;AAAA,sBAAA,GAAA,EAAA,UAAA,IAAA,UAAA,MAAA;AAAA,eAAA,MACA;AAAA,sBAAA,GAAA,EAAA,UAAA,GAAA,UAAA,MAAA;AAAA;;AACA,oBAAA,GAAA,EAAA,IAAA,IAAA,KAAA,IAAA;AACA,wBAAA,IAAA,CAAA;AAAA,mBAAA,EAAA;AAAA,mBAAA,EAAA;AAAA,sBAAA;AAAA,eAAA;AACA,qBAAA,SAAA;AACA;AACA;AACA;AAhEA;;AASA,aAAA,IAAA,EAAA;AAAA,YAwCA,YAxCA;AAAA,YAyCA,CAzCA;;AAAA;AAwDA;;AACA,UAAA,YAAA,MAAA,KAAA,MAAA,KAAA,GAAA,CAlEA,CAkEA;;AACA,UAAA,eAAA,WAAA,SAAA,EAAA,SAAA,CAAA;AACA,UAAA,IAAA,UAAA,YAAA,EAAA,GAAA,EAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,UAAA,KAAA,EACA,IADA,CACA,YADA,EACA,GADA,EACA,IADA,CACA,gBADA,EACA,CADA,EACA,EADA,CACA,OADA,EACA,SADA;AAEA,KAxMA,CA0MA;;;AACA,MAAA,YAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,qBAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,gBAAA;AACA,YAAA,gEAAA,EAAA,IAAA;AACA;AACA,KAXA;;AAaA,aAAA,gBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,SAAA,KAAA,CAAA;AACA,UAAA,SAAA,MAAA,KAAA,EAAA,MAAA;;AACA,UAAA,SAAA,EAAA,EAAA;AACA,YAAA,oDAAA;AACA;AACA;;AAEA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,OAAA,YAAA,KAAA;AACA,oBAAA,SAAA,GAAA,EAAA,IAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA;;AAEA,UAAA,GAAA,KAAA,CAAA,QAAA,KAAA,KAAA,EAAA;AACA,UAAA,YAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,EAAA,EAAA,IAAA;AACA,KA1OA,CA4OA;;;AACA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,CAAA,QAAA,SAAA,EAAA;AACA,QAAA,WAAA,EAAA,KAAA;AACA,KAHA,EA7OA,CAkPA;;AACA,MAAA,YAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,OAHA,MAGA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,UAAA,YAAA,EAAA,QAAA,CAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,gBAAA;AACA;AACA,KAVA;;AAYA,aAAA,gBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,WAAA,kBAAA,KAAA;AACA,UAAA,QAAA,YAAA,GAAA,MAAA,CAAA,eAAA,EAAA,MAAA,CAAA,MAAA,QAAA,EAAA,IAAA,OAAA,CAAA;AACA,UAAA,SAAA,QAAA,MAAA,QAAA,GAAA,UAAA;AACA,UAAA,UAAA,QAAA,QAAA,MAAA,CAAA,eAAA,MAAA,GAAA,IAAA,EAAA,IAAA,CAAA,WAAA,CAAA,GAAA,CAAA;AACA,UAAA,MAAA,OAAA,CAAA,EAAA,UAAA,CAAA;AACA,UAAA,KAAA,WAAA,KAAA,GAAA,GAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CARA,CAQA;;AACA,UAAA,OAAA,UAAA,CAAA,GAAA,KAAA,KAAA;AAEA,cAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,YAAA,EAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,MAAA,EACA,IADA,CACA,QADA,EACA,CADA,EACA,IADA,CACA,QADA,EACA,CADA,EACA,IADA,CACA,GADA,EACA,IAAA,OAAA,CADA,EACA,IADA,CACA,GADA,EACA,IAAA,IADA,EAEA,IAFA,CAEA,WAFA,EAEA,OAFA,EAEA,IAFA,CAEA,OAFA,EAEA,IAFA,EAEA,IAFA,CAEA,QAFA,EAEA,IAFA,EAEA,EAFA,CAEA,OAFA,EAEA,UAFA;;AAIA,UAAA,GAAA,KAAA,CAAA,QAAA,KAAA,KAAA,EAAA;AACA,UAAA,wBAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA;AACA;AAEA,GA5tMA,CA8tMA;;;AACA,WAAA,QAAA,CAAA,KAAA,EAAA;AACA,QAAA,IAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,CAAA;;AACA,QAAA,CAAA,CAAA,EAAA;AACA,cAAA,KAAA,CAAA,wCAAA,MAAA,CAAA,CAAA,GAAA,IAAA,GAAA,MAAA,CAAA,CAAA;AACA;AACA;;AACA,WAAA,EAAA,KAAA;AACA,GAtuMA,CAwuMA;;;AACA,WAAA,oBAAA,CAAA,KAAA,EAAA;AACA,QAAA,IAAA,OAAA,KAAA,KAAA,OAAA,OAAA,MAAA,GAAA,CAAA,CAAA;AACA,QAAA,EAAA,OAAA,KAAA,SAAA,EAAA,QAAA,SAAA;AACA,QAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,KAAA,KAAA;AAAA,KAAA,CAAA;AACA,MAAA,KAAA,GAAA,MAAA,MAAA;AACA,QAAA,WAAA,CAAA,CALA,CAKA;;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,kBAAA,EAAA,UAAA;AAAA,KAAA;AACA,MAAA,eAAA,GAAA,GAAA,QAAA,EAAA,CAAA,CAAA;AACA,QAAA,cAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,KAAA,KAAA;AAAA,KAAA,CAAA;AACA,QAAA,WAAA,CAAA;AAAA,QAAA,OAAA,CAAA;AACA,gBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,EAAA,GAAA;AACA,cAAA,EAAA,IAAA;AACA,KAHA;AAIA,MAAA,KAAA,GAAA,YAAA,MAAA;AACA,MAAA,IAAA,GAAA,GAAA,IAAA,CAAA;AACA,MAAA,eAAA,GAAA,GAAA,QAAA,EAAA,CAAA,CAAA;AACA;;AAEA,WAAA,qBAAA,GAAA;AACA,QAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,QAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,CAAA,EAAA,KAAA;AACA,QAAA,MAAA,KAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,MAAA,WAAA,EAAA,WAAA,CAAA,UAAA;AACA,QAAA,KAAA,CALA,CAOA;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,UAAA,WAAA,QAAA,MAAA,CAAA,OAAA,EAAA,MAAA,CAAA,qBAAA,KAAA,GAAA,IAAA,CAAA;AACA,UAAA,IAAA,SAAA,IAAA,KAAA,SAAA,IAAA,CAAA,YAAA,CAAA,GAAA,MAAA,KAAA,EAAA,MAAA;AACA,UAAA,MAAA,SAAA,EAAA,IAAA,OAAA,MAAA,GAAA,CAAA;AACA,cAAA,OAAA,CAAA,EAAA,KAAA;AACA,UAAA,UAAA,SAAA,EAAA,QAAA,OAAA;AACA,QAAA,WAAA,CAAA,EAAA,QAAA,CAAA,UAAA;AACA,KAfA,CAiBA;;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,UAAA,YAAA,MAAA,MAAA,CAAA,UAAA,KAAA,CAAA;;AACA,UAAA,IAAA,UAAA,IAAA,CAAA,cAAA,MAAA,IAAA,GACA,CAAA,UAAA,IAAA,CAAA,cAAA,CADA,GAEA,MAAA,KAAA,EAAA,OAFA;AAGA,cAAA,SAAA,CAAA,EAAA,KAAA;AACA,QAAA,aAAA,CAAA,EAAA,QAAA,CAAA,UAAA;AACA;;AAEA,UAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA;AACA,GAxxMA,CA0xMA;;;AACA,WAAA,gBAAA,GAAA;AACA,QAAA,CAAA,EAAA,wBAAA,EAAA,MAAA,EAAA;AACA,QAAA,MAAA,EAAA,MAAA,CAAA,0DAAA;AACA,UAAA,aAAA,CAAA,eAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,eAAA,EAAA,cAAA,EACA,aADA,EACA,gBADA,EACA,UADA,EACA,iBADA,EACA,QADA,EACA,YADA,EACA,QADA,EAEA,oBAFA,EAEA,sBAFA,EAEA,UAFA,EAEA,oBAFA,EAGA,qBAHA,EAGA,gBAHA,EAGA,mBAHA,EAGA,SAHA,EAGA,eAHA,EAGA,QAHA,CAAA;AAIA,iBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,YAAA,MAAA,OAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EAAA,MAAA,IAAA,CAAA,CAAA;AAAA,OAAA;AACA;AACA;AACA;;AAEA,WAAA,UAAA,CAAA,GAAA,EAAA;AACA,WAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,UAAA,QAAA,EAAA,EAAA;AACA,YAAA,8FAAA;AACA;AACA;;AACA,UAAA,IAAA,OAAA,CAAA,MAAA,MAAA,CAAA,CAAA,EAAA;AACA,cAAA,IAAA,OAAA,CAAA,IAAA,MAAA,CAAA,CAAA,CAAA,EAAA,IAAA,MAAA,CAAA,CAAA,EAAA,WAAA,EAAA,EAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,cAAA,6CAAA,GAAA;AACA;;AACA,UAAA,UAAA,SAAA,GAAA,EAAA,IAAA,CAAA,mBAAA;AACA,YAAA,YAAA,SAAA,EAAA;AACA,cAAA,mCAAA;AACA;AACA;;AACA,YAAA,YAAA,CAAA,EAAA;AACA,cAAA,4BAAA;AACA;AACA;;AACA;;AACA,YAAA,YAAA,CAAA,EAAA;AACA,cAAA,UAAA,MAAA,MAAA,MAAA,GAAA,CAAA,CAAA,GAAA,aAAA;AACA,SAFA,MAEA,IAAA,UAAA,CAAA,EAAA;AACA,cAAA,UAAA,8BAAA;AACA;;AACA,gBAAA,OAAA;AACA,OAhBA,CAAA;AAiBA,KA1BA,CAAA;AA2BA;;AAEA,WAAA,QAAA,CAAA,GAAA,EAAA;AACA,MAAA,MAAA,EAAA,MAAA,CAAA,kDAAA,GAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,EACA,IADA,CACA;AAAA,aAAA,KAAA,IAAA,EAAA;AAAA,KADA,EAEA,IAFA,CAEA,gBAAA;AACA,UAAA,IAAA,SAAA,aAAA,CAAA,OAAA,CAAA;AACA,QAAA,SAAA,GAAA,IAAA;AACA,eAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,aAAA,MAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CACA,SAAA,WADA,EAEA;AAAA,eAAA,GAAA,SAAA,KAAA,CAAA;AAAA,OAFA,EAEA,CAFA,CAAA;;AAGA,UAAA,WAAA,SAAA,QAAA,OAAA;AACA,YAAA,SAAA,KAAA,KAAA,CAAA,gBAAA,CAAA,aAAA,CAAA;AACA,YAAA,OAAA,OAAA,OAAA,CAAA,QAAA,EAAA,EAAA,EAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA;AACA,YAAA,SAAA,KAAA,KAAA,CAAA,gBAAA,CAAA,aAAA,CAAA;AACA,YAAA,WAAA,KAAA,EAAA,QAAA,MAAA,MAAA;;AACA,YAAA,MAAA,OAAA,CAAA,IAAA,KAAA,CAAA,CAAA,EAAA;AACA,gBAAA,IAAA,CAAA,IAAA;AACA;AACA;AACA,OATA;;AAUA,UAAA,UAAA,CAAA;AAjBA;AAAA;AAAA;;AAAA;AAkBA,6BAAA,WAAA,QAAA,8HAAA;AAAA,cAAA,CAAA;AAAA,mBAAA,CAAA;AAAA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,eAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,aAAA,OAAA;AACA,KAvBA,EAwBA,KAxBA,CAwBA,YAAA,CAAA,CAxBA,CAAA;AAyBA,GAh2MA,CAk2MA;;;AACA,WAAA,iBAAA,GAAA;AACA,oBAAA,SAAA,GAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,UAAA,KAAA,GAAA,CAAA;AACA,UAAA,OAAA,MAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,IAAA,SAAA,GAAA,IAAA;AACA,sBAAA,GAAA,CAAA,GAAA;AACA;;AACA,0BAAA,SAAA,GAAA,gBAAA,SAAA;AACA,GA72MA,CA+2MA;;;AACA,WAAA,KAAA,CAAA,GAAA,EAAA;AACA,QAAA,IAAA,MAAA,CAAA,CAAA,MAAA,GAAA,EAAA;AAAA,aAAA,GAAA;AAAA;;AACA,UAAA,IAAA,KAAA,CAAA,sEAAA,CAAA;AACA,WAAA,OAAA,IAAA,MAAA,KAAA,CAAA,GAAA,MACA,CAAA,MAAA,SAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,QAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CADA,GAEA,CAAA,MAAA,SAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,QAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAFA,GAGA,CAAA,MAAA,SAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,QAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAHA,GAGA,EAHA;AAIA,GAv3MA,CAy3MA;;;AACA,WAAA,IAAA,CAAA,GAAA,EAAA,GAAA,EAAA;AACA,QAAA,QAAA,SAAA,IAAA,CAAA,GAAA,KAAA,SAAA,EAAA,OAAA,KAAA,MAAA,EAAA;;AACA,QAAA,QAAA,SAAA,EAAA;AAAA,YAAA,GAAA;AAAA,YAAA,CAAA;AAAA;;AACA,WAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,MAAA,GAAA,GAAA,CAAA,CAAA,IAAA,GAAA;AACA,GA93MA,CAg4MA;;;AACA,WAAA,EAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,IAAA,KAAA,CAAA;AACA,QAAA,IAAA,KAAA,GAAA,CAAA,EAAA,EAAA,CAAA,CAAA;AACA,WAAA,KAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,GAr4MA,CAu4MA;;;AACA,WAAA,KAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,IAAA,KAAA,CAAA;AACA,WAAA,EAAA,OAAA,CAAA,mBAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AAAA,KAAA,CAAA;AACA,GA34MA,CA64MA;;;AACA,WAAA,EAAA,CAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,EAAA;AAAA,aAAA,GAAA,IAAA,GAAA,EAAA,CAAA,IAAA,GAAA;AAAA;;AACA,QAAA,KAAA,GAAA,EAAA;AAAA,aAAA,GAAA,IAAA,GAAA,IAAA,GAAA;AAAA;;AACA,QAAA,KAAA,GAAA,EAAA;AAAA,aAAA,GAAA,IAAA,GAAA,EAAA,CAAA,IAAA,GAAA;AAAA;;AACA,QAAA,KAAA,GAAA,EAAA;AAAA,aAAA,GAAA,IAAA,GAAA,IAAA,GAAA;AAAA;;AACA,QAAA,KAAA,GAAA,EAAA;AAAA,aAAA,GAAA,IAAA,GAAA,EAAA,CAAA,IAAA,GAAA;AAAA;;AACA,WAAA,GAAA,CAAA,CAAA;AACA,GAr5MA,CAu5MA;;;AACA,WAAA,UAAA,CAAA,KAAA,EAAA;AACA,QAAA,SAAA,MAAA,KAAA,CAAA,CAAA,CAAA,CAAA;;AACA,QAAA,WAAA,GAAA,EAAA;AAAA,aAAA,SAAA,MAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;;AACA,QAAA,WAAA,GAAA,EAAA;AAAA,aAAA,SAAA,MAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;;AACA,QAAA,WAAA,GAAA,EAAA;AAAA,aAAA,SAAA,MAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,IAAA,GAAA,CAAA;AAAA;;AACA,WAAA,SAAA,KAAA,CAAA;AACA,GA95MA,CAg6MA;;;AACA,WAAA,WAAA,CAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,aAAA;AACA,QAAA,UAAA,CAAA,SAAA,EAAA,iBAAA,EAAA,eAAA,EAAA,qBAAA,EAAA,aAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,CAAA,CAFA,CAGA;;AACA,QAAA,aAAA,EAAA,CAJA,CAIA;;AACA,WAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,WAAA,CAAA;AACA,UAAA,CAAA,IAAA,EAAA;AACA,UAAA,QAAA,OAAA,CAAA,IAAA,MAAA,CAAA,CAAA,EAAA,OAHA,CAGA;;AACA,UAAA,WAAA,OAAA,CAAA,IAAA,MAAA,CAAA,CAAA,EAAA,WAAA,IAAA,CAAA,IAAA;AACA,KALA;AAMA,QAAA,cAAA,6CAAA,WAAA,IAAA,CAAA,GAAA,CAAA,CAXA,CAaA;;AACA,QAAA,UAAA,SAAA,oBAAA,CAAA,KAAA,EAAA,CAAA,EAAA,SAAA,CAAA,IAAA,CAAA;AACA,YAAA,EAAA,GAAA,YAAA;AACA,aAAA,oBAAA,CAAA,MAAA,EAAA,CAAA,EAAA,WAAA,CAAA,OAAA;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,aAAA,CAAA,CAjBA,CAmBA;;AACA,QAAA,SAAA,KAAA,EAAA;AACA,YAAA,IAAA,CAAA,OAAA,EAAA,UAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AACA,YAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;;AACA,UAAA,aAAA,UAAA,IAAA,cAAA,WAAA,EAAA;AACA;AACA,YAAA,KAAA,MAAA,MAAA,CAAA,WAAA,CAAA;AACA,YAAA,CAAA,GAAA,IAAA,EAAA,EAAA;AACA,YAAA,OAAA,GAAA,MAAA,CAAA,MAAA,EAAA,IAAA,GAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,aAAA,KAAA,KAAA,EAAA,eAAA,KAAA,MAAA,GAAA,EAAA,CAAA,CAAA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,eAAA,GAAA,GAAA,CAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,CAAA,CAAA,GAAA,GAAA;AACA,OAVA,CAYA;;;AACA,YAAA,SAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,OAAA,KAAA,UAAA,CAAA,YAAA,CAAA,MAAA,KAAA,CAAA;AACA,aAAA,YAAA,CAAA,OAAA,EAAA,OAAA,IAAA;AACA,aAAA,YAAA,CAAA,QAAA,EAAA,OAAA,IAAA;AACA,OAJA,EAbA,CAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,KAlDA,CAoDA;;;AACA,QAAA,SAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,QAAA,gBAAA,OAAA,gBAAA,CAAA,MAAA,CAAA,CAtDA,CAwDA;;AACA,UAAA,MAAA,CAAA,SAAA,EAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,WAAA,CAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,OAAA,CAAA,QAAA,EAAA,KAAA,EAAA,IAAA,CAAA,WAAA,EAAA,GAAA,OAAA,GAAA,EAAA,CAAA,CAAA;AACA,KAHA,EAzDA,CA8DA;;AACA,UAAA,SAAA,CAAA,qCAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,YAAA,OAAA,gBAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,EAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,UAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,MAAA,UAAA,CAAA,CAAA;AACA,YAAA,QAAA,UAAA,gBAAA,CAAA,GAAA,CAAA,CAFA,CAGA;;AACA,YAAA,QAAA,YAAA,IAAA,UAAA,cAAA,gBAAA,CAAA,GAAA,CAAA,EAAA;AACA,mBAAA,4BAAA;AACA;AACA;;AACA,YAAA,QAAA,QAAA,EAAA,SARA,CAQA;;AACA,YAAA,KAAA,YAAA,CAAA,GAAA,CAAA,EAAA,SATA,CASA;;AACA,YAAA,UAAA,cAAA,gBAAA,CAAA,GAAA,CAAA,EAAA;AACA,iBAAA,MAAA,GAAA,GAAA,KAAA,GAAA,GAAA;AACA;;AACA,UAAA,SAAA,EAAA,EAAA,KAAA,YAAA,CAAA,OAAA,EAAA,KAAA;AACA,KAjBA;AAkBA,WAAA,MAAA,GAjFA,CAmFA;;AACA,mBAAA,WAAA,EAAA,IAAA,CAAA,oBAAA;AACA,YAAA,MAAA,CAAA,MAAA,EAAA,MAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,UAAA,IAAA,aAAA,EAAA,CAAA,iBAAA,CAAA,MAAA,IAAA,EAAA,CAAA;AACA,YAAA,MAAA;AACA,UAAA,OAAA,IAAA,IAAA,CAAA,CAAA,OAAA,CAAA,EAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,UAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,WAAA,MAAA,GAAA,QAAA;;AACA,UAAA,SAAA,KAAA,EAAA;AACA,YAAA,QAAA,YAAA,QAAA;AACA,eAAA,KAAA,GAAA,WAAA,mBAAA,KAAA;AACA,eAAA,MAAA,GAAA,YAAA,mBAAA,KAAA;AACA,YAAA,MAAA,IAAA,KAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA;;AACA,YAAA,MAAA,GAAA,YAAA;AACA,iBAAA,GAAA,CAAA,eAAA,CAAA,GAAA;AACA,cAAA,SAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,OAAA,KAAA,EAAA,OAAA,MAAA;AACA,eAAA,QAAA,GAAA,iBAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,iBAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA,IAAA,GAAA,OAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,qBAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,iBAAA,KAAA;AACA,mBAAA,UAAA,CAAA,YAAA;AAAA,qBAAA,GAAA,CAAA,eAAA,CAAA,KAAA,IAAA;AAAA,aAAA,EAAA,IAAA;AACA,WALA;AAMA,iBAAA,KAAA,CAAA,OAAA,GAAA,CAAA;AACA,iBAAA,KAAA,GAAA,QAAA;AACA,iBAAA,MAAA,GAAA,SAAA;AACA,SAbA;AAcA,OApBA,MAoBA;AACA,aAAA,QAAA,GAAA,iBAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,aAAA,IAAA,GAAA,GAAA;AACA,iBAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,aAAA,KAAA;AACA;;AACA,cAAA,OAAA,CAAA,aAAA;AACA,aAAA,UAAA,CAAA,YAAA;AAAA,eAAA,GAAA,CAAA,eAAA,CAAA,GAAA;AAAA,OAAA,EAAA,IAAA;AACA,KApCA;AAqCA,GA1hNA,CA4hNA;AACA;;;AACA,WAAA,cAAA,CAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,EAAA;AAAA,KACA,IADA,CACA;AAAA,aAAA,KAAA,IAAA,EAAA;AAAA,KADA,EACA;AADA,KAEA,IAFA,CAEA,gBAAA;AACA,UAAA,IAAA,SAAA,aAAA,CAAA,OAAA,CAAA;AACA,QAAA,SAAA,GAAA,IAAA;AACA,eAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AACA,UAAA,aAAA,MAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CACA,SAAA,WADA,EAEA;AAAA,eAAA,GAAA,SAAA,KAAA,CAAA;AAAA,OAFA,EAEA,CAFA,CAAA;;AAGA,UAAA,WAAA,SAAA,QAAA,OAAA;AACA,YAAA,MAAA,KAAA,KAAA,CAAA,gBAAA,CAAA,KAAA,CAAA;AACA,YAAA,SAAA,KAAA,KAAA,CAAA,gBAAA,CAAA,aAAA,CAAA;AACA,YAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,eAAA;AACA,gBAAA,IADA;AAEA,eAAA,GAFA;AAGA,eAAA,IAAA,SAAA,CAAA,IAAA,MAAA,GAAA,CAAA,EAAA,CAAA;AAHA,SAAA;AAKA,OATA;;AAUA,UAAA,YAAA,EAAA;AAAA,UAAA,YAAA,EAAA;AAjBA;AAAA;AAAA;;AAAA;AAAA;AAAA,cAmBA,CAnBA;AAoBA,cAAA,KAAA,SAAA,CAAA,CAAA;AACA,oBAAA,IAAA,CAAA,EAAA;AACA,oBAAA,IAAA,CACA,MAAA,GAAA,GAAA,EAAA;AAAA,WACA,IADA,CACA;AAAA,mBAAA,KAAA,IAAA,EAAA;AAAA,WADA,EAEA,IAFA,CAEA,gBAAA;AACA,mBAAA,IAAA,OAAA,CAAA,mBAAA;AACA,kBAAA,IAAA,IAAA,UAAA,EAAA;;AACA,gBAAA,MAAA,GAAA;AAAA,uBAAA,QAAA,EAAA,MAAA,CAAA;AAAA,eAAA;;AACA,gBAAA,aAAA,CAAA,IAAA;AACA,aAJA,CAAA;AAKA,WARA,EASA,IATA,CASA,mBAAA;AACA,mBAAA,GAAA,IAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,GAAA,EAAA,OAAA,CAAA;AACA,WAXA,CADA;AAtBA;;AAmBA,8BAAA,WAAA,QAAA,mIAAA;AAAA;AAiBA;AApCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqCA,eAAA,IAAA,CAAA,WAAA,CAAA,CAAA,EArCA,CAqCA;;AACA,aAAA,QAAA,GAAA,CAAA,SAAA,CAAA,CAtCA,CAsCA;AACA,KAzCA,CAAA;AA0CA,GAzkNA,CA2kNA;;;AACA,WAAA,OAAA,GAAA;AACA,YAAA,IAAA,CAAA,SAAA,EADA,CAEA;AACA;AACA;AACA;;AACA,QAAA,OAAA,IAAA,IAAA,EAAA;AACA,QAAA,aAAA,KAAA,WAAA,KAAA,GAAA,IAAA,KAAA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,KAAA,OAAA,EAAA;AACA,QAAA,UAAA,8DAAA;AACA,QAAA,SAAA,UAAA,GAAA,GAAA,OAAA,GAAA,GAAA,GAAA,UAAA,GAAA,GAAA,GAAA,IAAA;AACA,QAAA,UAAA,gBAAA,GAAA,GACA,aAAA,KADA,GACA,GADA,GACA,cAAA,KADA,GACA,GADA,GACA,SAAA,KADA,GACA,GADA,GAEA,QAAA,KAFA,GAEA,GAFA,GAEA,SAAA,KAFA,GAEA,GAFA,GAEA,eAAA,KAFA,GAEA,GAFA,GAEA,aAAA,KAFA,GAEA,GAFA,GAGA,eAAA,KAHA,GAGA,GAHA,GAGA,aAAA,KAHA,CAVA,CAeA;;AACA,QAAA,IAAA,CAAA,OAAA,EAAA,UAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AACA,QAAA,YAAA,GAAA,aAAA,CAAA,IAAA,IAAA,EAAA,CAAA;AACA,YAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,QAAA,YAAA,MAAA,MAAA,CAAA,MAAA,CAAA;AACA,QAAA,aAAA,CAAA,UAAA,IAAA,CAAA,GAAA,CAAA,EAAA,UAAA,IAAA,CAAA,GAAA,CAAA,EAAA,UAAA,IAAA,CAAA,OAAA,CAAA,EAAA,UAAA,IAAA,CAAA,QAAA,CAAA,CAAA;AACA,cAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,UAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AAEA,QAAA,UAAA,IAAA,aAAA,EAAA,CAAA,iBAAA,CAAA,IAAA,IAAA,EAAA,CAAA;AACA,QAAA,OAAA,MAAA;AACA,QAAA,OAAA,SAAA,IAAA,GAAA,KAAA,SAAA,CAAA,MAAA,CAAA,GAAA,IAAA,GAAA,KAAA,SAAA,CAAA,KAAA,CAAA,GAAA,IAAA;AACA,YAAA,KAAA,SAAA,CAAA,MAAA,IAAA,IAAA,GAAA,KAAA,SAAA,CAAA,MAAA,CAAA,GAAA,IAAA,GAAA,OAAA,GAAA,IAAA,GAAA,OAAA,GAAA,IAAA;AACA,YAAA,KAAA,SAAA,CAAA,QAAA,IAAA,IAAA,GAAA,EAAA,GAAA,IAAA,GAAA,EAAA,GAAA,IAAA,GAAA,OAAA,GAAA,IAAA,GAAA,KAAA,SAAA,CAAA,KAAA,CAAA,GAAA,IAAA;AACA,QAAA,WAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA;AAAA,YAAA;AAAA,KAAA,CAAA;AACA,QAAA,UAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,QAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,SAAA,QAAA,GAAA,iBAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,SAAA,IAAA,GAAA,OAAA;AACA,aAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,SAAA,KAAA,GAlCA,CAoCA;;AACA,QAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,SAAA,SAAA,CAAA,GAAA,EAAA,SAAA;AACA,cAAA,IAAA,CAAA,GAAA,EAAA,WAAA,CAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,WAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,WAAA,CAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA,CAAA,CAAA;AAEA,YAAA,OAAA,CAAA,SAAA;AACA,WAAA,UAAA,CAAA,YAAA;AAAA,aAAA,GAAA,CAAA,eAAA,CAAA,OAAA;AAAA,KAAA,EAAA,IAAA;AACA,GAvnNA,CAynNA;;;AACA,IAAA,YAAA,EAAA,MAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,SAAA;AACA;AACA,QAAA,aAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,SAAA,KAAA,GAAA,EAAA;AACA,eAAA,UAAA;AACA,GANA;;AAQA,WAAA,UAAA,CAAA,IAAA,EAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA,SAAA;AACA,QAAA,aAAA,IAAA,UAAA,EAAA;;AACA,eAAA,MAAA,GAAA,UAAA,eAAA,EAAA;AACA,UAAA,aAAA,gBAAA,MAAA,CAAA,MAAA;AACA,UAAA,OAAA,WAAA,KAAA,CAAA,MAAA,CAAA,CAFA,CAGA;AACA;;AACA,UAAA,SAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,UAAA,aAAA,OAAA,CAAA,KAAA,KAAA,CAAA,CAAA;;AACA,UAAA,eAAA,OAAA,EAAA;AACA,YAAA,4BAAA,CADA,CAEA;;AACA,YAAA,WAAA,MAAA,IAAA,EAAA,EAAA;AACA,gCAAA,UAAA,qDAAA,OAAA;AAMA,SAPA,MAOA,IAAA,CAAA,UAAA,IAAA,WAAA,UAAA,IAAA,IAAA,EAAA;AACA;AAGA;;AACA,qBAAA,SAAA,GAAA,OAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA;AAAA,iBAAA,SAAA;AAAA,mBAAA;AAAA,gBAAA,cAAA;AACA,8BAAA,IAAA;AACA;AAFA;AAAA,SAAA;AAGA,OAnBA,MAmBA;AAAA,wBAAA,IAAA;AAAA;;AACA,UAAA,WAAA,MAAA,GAAA,EAAA,EAAA;AAAA,gBAAA,KAAA,CAAA,iBAAA;AAAA;AACA,KA5BA;;AA6BA,eAAA,UAAA,CAAA,IAAA,EAAA,OAAA;;AACA,QAAA,QAAA,EAAA;AAAA;AAAA;AACA;;AAEA,WAAA,eAAA,CAAA,IAAA,EAAA;AACA,mBADA,CAEA;;AACA,QAAA,SAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,OAAA,CAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,CAAA;AACA,kBAAA,KAAA,GAAA,IAAA;AACA,KAPA,CASA;;;AACA,QAAA,KAAA,CAAA,MAAA,OAAA,IAAA,KAAA,CAAA,MAAA,OAAA,EAAA;AACA,sBAAA,CAAA;AACA,KAFA,MAEA,IAAA,KAAA,CAAA,CAAA,EAAA;AACA,UAAA,UAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,sBAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,aAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,cAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,SAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,QAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,SAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,eAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,aAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,eAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,CAAA,EAAA,aAAA,KAAA,GAAA,QAAA,CAAA,CAAA;AACA,KAxBA,CA0BA;;;AACA,QAAA,MAAA;;AACA,QAAA,KAAA,CAAA,MAAA,OAAA,IAAA,KAAA,CAAA,MAAA,OAAA,EAAA;AACA,eAAA,EAAA,CADA,CACA;;AACA,eAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,EAAA,KAAA,CAAA,CAAA;AACA,KAHA,MAGA;AACA,eAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,eAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,EAAA,KAAA,CAAA,CAAA;AACA;;AAEA,UAAA,GAAA,MAAA,CAAA,KAAA,CAAA,CApCA,CAsCA;;AACA,QAAA,SAAA,CAAA,IAAA,IAAA,CAAA,OAAA,CAAA;AAAA,QAAA,UAAA,CAAA,IAAA,IAAA,CAAA,QAAA,CAAA;AACA,iBAAA,MAAA;AACA,kBAAA,OAAA;AACA,cAAA,GAAA,OAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,aAAA,CAAA,EAAA,cAAA,CAAA,CAAA,CAAA,CAAA;AACA,SAAA,eAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,UAAA,EAAA,WAAA,CAAA,CAAA,EAAA,WAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,GAAA,EAAA,CAAA;AACA,YAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EA5CA,CA8CA;;AACA,QAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;;AACA,QAAA,WAAA,QAAA,IAAA,YAAA,SAAA,EAAA;AACA,mBAAA,SAAA,qCAAA,MAAA,gBAAA,OAAA,uDAAA,QAAA,gBAAA,SAAA;AAEA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,eAAA,mBAAA;AACA,iBAAA;AACA,mBAAA,mBAAA;AACA,4BAAA,IAAA,EADA,CAEA;;AACA,gBAAA,SAAA,WAAA,MAAA;AACA,gBAAA,SAAA,YAAA,OAAA;AACA,gBAAA,UAAA,GAAA,KAAA,GAAA,CAAA,MAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,CALA,CAMA;;AACA,gBAAA,SAAA,MAAA,OAAA,GAAA,GAAA;AACA,gBAAA,SAAA,CAAA,SAAA,OAAA,GAAA,QAAA,IAAA,CAAA,GAAA,OAAA;AACA,gBAAA,SAAA,CAAA,UAAA,OAAA,GAAA,SAAA,IAAA,CAAA,GAAA,OAAA;AACA,gBAAA,MAAA,CAAA,QAAA,EAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAAA,IAAA,CAAA,QAAA,EAAA,MAAA;AACA,iBAAA,eAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,MAAA,EAAA,OAAA,CAAA,CAAA,EAAA,WAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,GAAA,EAAA,OAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAdA;AAeA,cAAA,cAAA;AACA;AACA,4BAAA,IAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA;AAnBA;AADA,OAAA;AAuBA,KA1BA,MA0BA;AACA,sBAAA,IAAA;AACA;AACA;;AAEA,WAAA,eAAA,CAAA,IAAA,EAAA;AACA;AACA,WAAA,IAAA,MAAA,CAAA,UAAA,CAAA;AACA,cAAA,IAAA,MAAA,CAAA,UAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,kBAAA,MAAA,MAAA,CAAA,cAAA,CAAA;AACA,mBAAA,MAAA,MAAA,CAAA,eAAA,CAAA;AACA,eAAA,QAAA,MAAA,CAAA,WAAA,CAAA;AACA,WAAA,QAAA,MAAA,CAAA,OAAA,CAAA;AACA,cAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,aAAA,QAAA,MAAA,CAAA,SAAA,CAAA;AACA,YAAA,OAAA,MAAA,CAAA,QAAA,CAAA;AACA,aAAA,OAAA,MAAA,CAAA,SAAA,CAAA;AACA,aAAA,QAAA,MAAA,CAAA,SAAA,CAAA;AACA,cAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,cAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,cAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,mBAAA,QAAA,MAAA,CAAA,eAAA,CAAA;AACA,qBAAA,QAAA,MAAA,CAAA,iBAAA,CAAA;AACA,gBAAA,QAAA,MAAA,CAAA,YAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,gBAAA,OAAA,MAAA,CAAA,YAAA,CAAA;AACA,aAAA,QAAA,MAAA,CAAA,SAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,cAAA,QAAA,MAAA,CAAA,UAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,QAAA,CAAA;;AAEA,QAAA,CAAA,GAAA,MAAA,CAAA,eAAA,EAAA,IAAA,EAAA,EAAA;AACA,UAAA,SAAA,mWAAA;AACA,UAAA,OAAA,SAAA,oBAAA,CAAA,MAAA,CAAA;AACA,WAAA,CAAA,EAAA,kBAAA,CAAA,YAAA,EAAA,MAAA;AACA,gBAAA,QAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AACA,KAnCA,CAqCA;;;AACA,QAAA,CAAA,OAAA,MAAA,CAAA,aAAA,EAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,YAAA;AACA,QAAA,mCAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA,aAAA,CAAA;AACA;;AAEA,QAAA,CAAA,MAAA,MAAA,CAAA,YAAA,EAAA,IAAA,EAAA,EAAA;AACA,YAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,WAAA;AACA,QAAA,iCAAA,EAAA,MAAA,GAAA,QAAA,CAAA,EAAA,YAAA,CAAA;AACA,YAAA,MAAA,CAAA,YAAA,EAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,CAAA;AACA,YAAA,MAAA,CAAA,YAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,EAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,CAAA;AACA;;AAEA,UAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,OAAA,KAAA,YAAA,CAAA,WAAA,CAAA;AACA,UAAA,SAAA,IAAA,IAAA,SAAA,SAAA,EAAA;AACA,WAAA,eAAA,CAAA,WAAA;AACA,WAAA,YAAA,CAAA,MAAA,EAAA,IAAA;AACA,KALA;AAOA,UAAA,MAAA,CAAA,YAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,YAAA;AACA,WAAA,YAAA,CAAA,GAAA,EAAA,KAAA,UAAA,CAAA,YAAA,CAAA,MAAA,CAAA;AACA,KAFA;AAIA,UAAA,SAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,OAAA,KAAA,UAAA,CAAA,YAAA,CAAA,MAAA,CAAA;AACA,UAAA,SAAA,IAAA,IAAA,SAAA,SAAA,EAAA;AACA,WAAA,YAAA,CAAA,OAAA,EAAA,IAAA;AACA,WAAA,YAAA,CAAA,QAAA,EAAA,IAAA;AACA,KALA;;AAOA,QAAA,CAAA,OAAA,MAAA,CAAA,YAAA,EAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,WAAA,EACA,IADA,CACA,MADA,EACA,SADA,EACA,IADA,CACA,SADA,EACA,CADA,EAEA,IAFA,CAEA,aAFA,EAEA,aAFA,EAEA,IAFA,CAEA,WAFA,EAEA,aAFA,EAGA,IAHA,CAGA,WAHA,EAGA,EAHA,EAGA,IAHA,CAGA,WAHA,EAGA,EAHA;AAIA;;AAEA,iBAAA,OAAA,MAAA,CAAA,aAAA,CAAA;AACA,gBAAA,MAAA,MAAA,CAAA,YAAA,CAAA,CA5EA,CA8EA;;AACA,QAAA,IAAA,CAAA,IAAA;AACA;AACA,YAAA,EAAA,CAAA,qBAAA,EAAA,KAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA,GAAA,EAAA,EAAA,CAAA,OAAA,EAAA,cAAA;AACA,WAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,UAAA,SAAA,CAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,eAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,cAAA,SAAA,CAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,WAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,WAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,YAAA,SAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,UAAA;AACA,QAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,SAAA,CAAA,aAAA,EAAA,SAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,kBAAA,CAAA;AACA,UAAA,SAAA,CAAA,SAAA,EAAA,SAAA,CAAA,qBAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,UAAA,SAAA,CAAA,SAAA,EAAA,SAAA,CAAA,eAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,eAAA,CAAA,EAhGA,CAkGA;;AACA,QAAA,YAAA,EAAA;AACA,iBAAA,EAAA,EAAA,QAAA,EAAA,EAAA,aAAA,EAAA;AACA,aAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,CAAA,EAAA,WAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,CAAA,EAAA,QAAA,KAAA,KAAA,CAAA,KAAA,EAAA,CAAA,CAAA,CA1GA,CA4GA;;AACA,aAAA,UAAA,GAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,GAAA,GAAA,aAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,GAAA,CAAA;AACA,aAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,KAjHA,CAmHA;;;AACA,QAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,IAAA;AACA,UAAA,MAAA,SAAA,EAAA,EAAA,IAAA,GAAA,CAAA;AACA,UAAA,CAAA,SAAA,CAAA,CAAA,IAAA,CAAA,UAAA,CAAA,CAAA,EAAA,EAAA,IAAA,GAAA,CAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA,EAAA,MAAA,GAAA,YAAA;AACA,KALA;AAMA,QAAA,eAAA,KAAA,KAAA,IAAA,CAAA,MAAA,MAAA,EAAA,CAAA,CAAA,CA3HA,CA2HA;AAEA;;AACA,UAAA,OAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA;AACA,gBAAA,IAAA,CAAA,EAAA,IAAA,EAFA,CAIA;;AACA,UAAA,EAAA,MAAA,GAAA,CAAA,EAAA,EAAA,MAAA,GAAA,KAAA,KAAA,CAAA,EAAA,MAAA,GAAA,GAAA,CAAA;AACA,UAAA,EAAA,MAAA,KAAA,CAAA,IAAA,EAAA,MAAA,KAAA,SAAA,IAAA,EAAA,IAAA,KAAA,SAAA,EAAA,EAAA,MAAA,GAAA,GAAA,CANA,CAQA;;AACA,UAAA,EAAA,OAAA,GAAA,SAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,SAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA;AAAA,gBAAA,UAAA,EAAA,OAAA;AAAA,iBAAA,SAAA;AAAA,gBAAA,CAAA;AAAA;AAAA,SAAA;AACA,iBAAA,IAAA,CAAA,IAAA;AACA;;AAEA,UAAA,EAAA,MAAA,IAAA,EAAA,EAAA;AACA,YAAA,CAAA,SAAA,CAAA,CAAA,IAAA,CAAA,SAAA,CAAA,EAAA,MAAA,EAAA,OADA,CAEA;;AACA,YAAA,EAAA,IAAA,KAAA,SAAA,IAAA,MAAA,EAAA,IAAA,CAAA,EAAA;AACA,cAAA,OAAA,GAAA,WAAA,CAAA,SAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,GAAA,KAAA,GAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,SANA,CAOA;;;AACA,YAAA,EAAA,GAAA,KAAA,SAAA,IAAA,MAAA,EAAA,GAAA,CAAA,EAAA;AACA,cAAA,aAAA,CAAA;AACA,cAAA,kBAAA,KAAA,GAAA,CAAA,CAAA,MAAA,EAAA,MAAA,IAAA,GAAA,EAAA,CAAA,CAAA;AACA,uBAAA,kBAAA,EAAA,IAAA,GAAA,YAAA;AACA,cAAA,EAAA,MAAA,KAAA,SAAA,EAAA,cAAA,GAAA;AACA,YAAA,GAAA,GAAA,GAAA,UAAA,EAAA,CAAA,CAAA;AACA,SAdA,CAeA;;;AACA,YAAA,EAAA,OAAA,KAAA,SAAA,IAAA,MAAA,EAAA,OAAA,CAAA,EAAA,EAAA,OAAA,GAAA,CAAA;AACA;AACA,KAjCA;AAmCA,WAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,IAAA,EAAA;AAAA,KAAA,CAAA;AACA,qBAAA,SAAA,EAlKA,CAoKA;;AACA,QAAA,KAAA,EAAA,CAAA,EAAA;AAAA,gBAAA,IAAA,UAAA,CAAA,KAAA,EAAA,EAAA,KAAA,CAAA,GAAA,CAAA,CAAA;AAAA,KAAA,MACA;AACA,gBAAA,IAAA,UAAA,CAAA,OAAA,MAAA,CAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,QAAA,IAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA;AACA,gBAAA,CAAA,IAAA,MAAA,IAAA,EAAA,MAAA;AACA;AACA,KA5KA,CA8KA;;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,qBAAA,KAAA;AACA,QAAA,yCAAA,EAAA,SAAA;AACA,QAAA,aAAA,EAAA,OAAA;AACA;AACA,mBAAA,KAAA;AACA,mBAAA,KAAA;AACA,UAAA,2EAAA,EAAA,IAAA;AACA,KAvLA,CAwLA;;;AACA,QAAA,kBAAA,CAAA,IAAA,kBAAA,CAAA,EAAA,IAAA,oEAAA,EAAA,IAAA,EAzLA,CA2LA;;AACA,OAAA,MAAA,CAAA,iBAAA,EAAA,OAAA,CAAA,WAAA,EAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,OAAA,MAAA,CAAA,eAAA,EAAA,OAAA,CAAA,WAAA,EAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA;AACA,OAAA,MAAA,CAAA,kBAAA,EAAA,OAAA,CAAA,WAAA,EAAA,QAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,eAAA,EAAA,OAAA,CAAA,WAAA,EAAA,OAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,cAAA,EAAA,OAAA,CAAA,WAAA,EAAA,aAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,eAAA,EAAA,OAAA,CAAA,WAAA,EAAA,QAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,WAAA,EAAA,QAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,cAAA,EAAA,OAAA,CAAA,WAAA,EAAA,MAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,eAAA,EAAA,OAAA,CAAA,WAAA,EAAA,OAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,eAAA,EAAA,OAAA,CAAA,WAAA,EAAA,OAAA,KAAA,CAAA,SAAA,MAAA,MAAA;AACA,OAAA,MAAA,CAAA,aAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAtMA,CAwMA;;AACA,WAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,GAAA,IAAA,CAAA,IAAA,MAAA,YAAA,EAAA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,WAAA,CAAA;AACA,UAAA,QAAA,MAAA,OAAA,CAAA,IAAA,MAAA,CAAA,CAAA,EAAA,SAAA,6CAAA,IAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,WAAA,CAAA,EAAA,GAAA,IAAA,CAAA,WAAA,EAAA,CAAA,GAAA,IAAA,CAAA,WAAA,CAAA;AACA,UAAA,GAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAAA,GAAA,IAAA,GAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,KAPA;AASA;AACA,YAAA,OAAA,CAAA,SAAA;AACA,GAz8NA,CA28NA;;;AACA,WAAA,eAAA,GAAA;AACA,QAAA,UAAA,GAAA,CAAA,aAAA,WAAA,IAAA,IAAA,EAAA,CAAA,CAAA,CADA,CACA;;AACA,cAAA,GAAA,MAAA,OAAA,GAAA,SAAA,EAAA,CAAA,CAAA,CAFA,CAEA;;AACA,QAAA,SAAA,UAAA,CAAA,CAHA,CAGA;;AACA,QAAA,YAAA,SAAA,GAAA,CAJA,CAIA;;AACA,QAAA,SAAA,SAAA,MAAA,GAAA;AAAA,aAAA,KAAA,MAAA,KAAA,CAAA,GAAA,SAAA,GAAA,SAAA;AAAA,KAAA;;AACA,QAAA,SAAA,EAAA;;AACA,SAAA,IAAA,IAAA,MAAA,EAAA,IAAA,WAAA,EAAA,KAAA,OAAA,EAAA;AACA,WAAA,IAAA,IAAA,MAAA,EAAA,IAAA,UAAA,EAAA,KAAA,OAAA,EAAA;AACA,YAAA,KAAA,GAAA,IAAA,QAAA,EAAA,CAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,QAAA,EAAA,CAAA,CAAA;AACA,eAAA,IAAA,CAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AACA;AACA;;AACA,WAAA,MAAA;AACA,GA39NA,CA69NA;;;AACA,KAAA,MAAA,CAAA,MAAA,EAAA,EAAA,CAAA,SAAA,EAAA,YAAA;AACA,QAAA,SAAA,SAAA,aAAA,CAAA,OAAA;AACA,QAAA,WAAA,OAAA,IAAA,WAAA,QAAA,IAAA,WAAA,UAAA,EAAA;AACA,QAAA,MAAA,GAAA,KAAA,CAAA,OAAA;AACA,QAAA,OAAA,GAAA,KAAA,CAAA,OAAA;AACA,QAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,GAAA,EAAA,EAAA,YAAA,EAAA,KAAA,GAAA,CAAA;AAAA,SACA,IAAA,QAAA,EAAA,EAAA,eAAA,CAAA;AAAA,WACA,IAAA,QAAA,EAAA,EAAA,eAAA,KAAA,GAAA,CAAA;AAAA,aACA,IAAA,QAAA,EAAA,EAAA,YAAA,KAAA,EAAA,CAAA;AAAA,eACA,IAAA,QAAA,EAAA,EAAA,YAAA,KAAA,EAAA,CAAA;AAAA,iBACA,IAAA,QAAA,EAAA,EAAA,UAAA,CAAA;AAAA,mBACA,IAAA,QAAA,EAAA,EAAA,UAAA,KAAA,GAAA,CAAA;AAAA,qBACA,IAAA,QAAA,EAAA,EAAA,QAAA,KAAA,CAAA,MAAA,QAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,EAAA,KAAA,CAAA,EAAA,CAAA;AAAA,uBACA,IAAA,QAAA,GAAA,EAAA,QAAA,GAAA,CAAA,KAAA,EAAA,CAAA;AAAA,yBACA,IAAA,QAAA,EAAA,EAAA,QAAA,KAAA,CAAA,MAAA,EAAA,CAAA;AAAA,2BACA,IAAA,QAAA,EAAA,EAAA,QAAA,KAAA,CAAA,MAAA,EAAA,CAAA;AAAA,6BACA,IAAA,QAAA,EAAA,EAAA,QAAA,KAAA,CAAA,QAAA,EAAA,CAAA;AAAA,+BACA,IAAA,QAAA,EAAA,EAAA,KAAA,WAAA,CAAA,GAAA,EAAA,EAAA,EAAA,CAAA,EAAA,CAAA;AAAA,iCACA,IAAA,QAAA,EAAA,EAAA,KAAA,WAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA;AAAA,mCACA,IAAA,QAAA,EAAA,EAAA,KAAA,WAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,EAAA,CAAA;AAAA,qCACA,IAAA,QAAA,EAAA,EAAA,KAAA,WAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA;AAAA,uCACA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA;AAAA,yCACA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,GAAA,EAAA,CAAA;AAAA,2CACA,IAAA,QAAA,EAAA,IAAA,QAAA,EAAA,EAAA,YAAA,CAAA;AAAA,6CACA,IAAA,QAAA,EAAA,IAAA,QAAA,EAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,+CACA,IAAA,QAAA,EAAA,IAAA,QAAA,EAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,iDACA,IAAA,QAAA,EAAA,IAAA,QAAA,EAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,mDACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,qDACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,uDACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,yDACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,2DACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,6DACA,IAAA,QAAA,EAAA,IAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA;AAAA,+DACA,IAAA,QAAA,CAAA,EAAA,EAAA,mBAAA,EAAA,KAAA,GAAA,CAAA;AAAA,iEACA,IAAA,QAAA,QAAA,EAAA,EAAA,KAAA,KAAA,GAAA,CAAA;AAAA,mEACA,IAAA,QAAA,QAAA,EAAA,EAAA,KAAA,KAAA,GApCA,CAoCA;AACA,GArCA,EA99NA,CAqgOA;;AACA,WAAA,QAAA,GAAA;AACA,MAAA,OAAA,EAAA,MAAA,CAAA;AACA,aAAA,6BADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,gBAAA,GAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,QAAA;AAAA,YAAA;AAAA,OAHA;AAIA,aAAA;AAJA,KAAA;AAMA,GA7gOA,CA+gOA;;;AACA,IAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,QAAA,YAAA,CAAA,WAAA,MAAA,wCAAA,EAAA;AACA,cAAA,YAAA,CAAA,WAAA,EAAA,EAAA;AACA,cAAA,SAAA,GAAA,EAAA;AACA,mBAAA,OAAA,CAAA,6BAAA,EAAA,IAAA;AACA;;AACA,QAAA,EAAA,UAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,QAAA,aAAA,EAAA,IAAA;AACA,QAAA,UAAA,EAAA,MAAA;AACA,QAAA,YAAA,EAAA,KAAA;AACA,QAAA,iBAAA,EAAA,WAAA,CAAA,sBAAA,EAAA,QAAA,CAAA,gBAAA;AACA,KALA,MAKA;AACA,QAAA,UAAA,EAAA,OAAA;AACA,QAAA,iBAAA,EAAA,WAAA,CAAA,gBAAA,EAAA,QAAA,CAAA,iBAAA;AACA;AACA,GAfA;AAgBA,IAAA,cAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,EAAA,iBAAA,EAAA,QAAA,CAAA,MAAA,CAAA,EAAA;;AACA,QAAA,EAAA,UAAA,EAAA,GAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AACA,QAAA,aAAA,EAAA,IAAA;AACA,QAAA,iBAAA,EAAA,WAAA,CAAA,MAAA;AACA;AAAA,GALA,EAKA,YAAA;AACA,MAAA,aAAA,EAAA,IAAA;AACA,GAPA,EAhiOA,CAyiOA;;AACA,WAAA,SAAA,CAAA,KAAA,EAAA,EAAA,EAAA;AACA,QAAA,KAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA;;AACA,QAAA,EAAA,EAAA;AACA,UAAA,OAAA,SAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,OAAA,SAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA;;AACA,UAAA,IAAA,EAAA;AAAA,WAAA,WAAA,CAAA,IAAA;AAAA,OAAA,MAAA,IAAA,IAAA,EAAA;AAAA,WAAA,YAAA,CAAA,IAAA;AAAA;AACA;AACA,GAjjOA,CAmjOA;;;AACA,WAAA,QAAA,CAAA,EAAA,EAAA;AACA,QAAA,OAAA,YAAA,EAAA;AAAA,aAAA,EAAA,OAAA,CAAA;AAAA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA,aAAA,EAAA,UAAA,CAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,aAAA,EAAA,QAAA,CAAA;AAAA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA,aAAA,EAAA,QAAA,CAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,aAAA,EAAA,SAAA,CAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,aAAA,EAAA,SAAA,CAAA;AAAA;;AACA,QAAA,OAAA,iBAAA,EAAA;AAAA,aAAA,EAAA,UAAA,CAAA;AAAA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA,aAAA,EAAA,UAAA,CAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,aAAA,EAAA,UAAA,CAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,aAAA,EAAA,SAAA,CAAA;AAAA;;AACA,QAAA,OAAA,aAAA,EAAA;AAAA,aAAA,EAAA,QAAA,CAAA;AAAA;AACA,GAhkOA,CAkkOA;;;AACA,IAAA,kBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,KAAA,KAAA,EAAA;AACA,QAAA,SAAA,KAAA,UAAA,CAAA,EAAA;;AACA,QAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AAAA,YAAA,SAAA,CAAA,aAAA,EAAA,MAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA;AAAA;;AACA,QAAA,OAAA,iBAAA,EAAA;AAAA,QAAA,UAAA,EAAA,UAAA;AAAA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA;AAAA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA;AAAA;;AACA,QAAA,OAAA,YAAA,EAAA;AAAA;AAAA;;AACA,QAAA,WAAA,WAAA,IAAA,WAAA,cAAA,EAAA;AAAA,QAAA,IAAA,EAAA,WAAA,CAAA,WAAA;AAAA;;AACA,QAAA,OAAA,WAAA,IAAA,OAAA,YAAA,EAAA;AACA;AACA;AACA;AACA,gBAAA,IAAA;AACA;AACA;AACA;;AACA,QAAA,OAAA,eAAA,EAAA;AACA,QAAA,OAAA,cAAA,EAAA;AACA,QAAA,OAAA,WAAA,IAAA,OAAA,oBAAA,IAAA,OAAA,gBAAA,EAAA;;AACA,QAAA,OAAA,mBAAA,EAAA;AACA,sBAAA,CAAA;AACA,UAAA,yDAAA,EAAA,IAAA;AACA;AACA,UAAA,OAAA,QAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,MAAA,CAAA;AACA,QAAA,kBAAA,EAAA,QAAA,GAAA,IAAA;AACA,QAAA,2BAAA,EAAA,IAAA,GANA,CAOA;;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,OAAA,KAAA,SAAA,IAAA,EAAA,OAAA,KAAA,QAAA,EAAA;AACA,YAAA,UAAA,EAAA,OAAA;AACA,YAAA,QAAA,OAAA,OAAA,EAAA,IAAA;AACA,aAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,WADA,EACA,KADA,EACA,IADA,CACA,YADA,EACA,EAAA,CADA,EAEA,IAFA,CAEA,GAFA,EAEA,MAAA,SAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAFA,EAGA,IAHA,CAGA,MAHA,EAGA,EAAA,KAHA,EAGA,IAHA,CAGA,QAHA,EAGA,KAHA,EAGA,IAHA,CAGA,cAHA,EAGA,EAHA;AAIA,OARA;AASA,cAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,qBAAA;AACA;;AACA,QAAA,OAAA,qBAAA,EAAA;AACA,sBAAA,CAAA;AACA,UAAA,oFAAA,EAAA,IAAA;AACA;AACA,cAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,MAAA;AACA,QAAA,kBAAA,EAAA,QAAA,GAAA,IAAA;AACA,QAAA,6BAAA,EAAA,IAAA;AACA,QAAA,gEAAA,EAAA,WAAA,CAAA,QAAA;AACA,QAAA,uDAAA,EAAA,WAAA,CAAA,QAAA;AACA;;AACA,QAAA,OAAA,2BAAA,EAAA;AACA,YAAA,SAAA,CAAA,SAAA,EAAA,MAAA;AACA,UAAA,eAAA,QAAA,MAAA,CAAA,OAAA,EAAA,SAAA,CAAA,MAAA,CAAA;AACA,UAAA,gBAAA,EAAA;AACA,mBAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,YAAA,OAAA,CAAA,GAAA,IAAA,CAAA,WAAA,CAAA;AACA,YAAA,WAAA,MAAA,IAAA,EAAA,MAAA;;AACA,YAAA,aAAA,SAAA,EAAA;AAAA,qBAAA,OAAA,MAAA,GAAA,CAAA;AAAA;;AACA,YAAA,WAAA,CAAA,GAAA,IAAA,CAAA,YAAA,CAAA;AACA,YAAA,SAAA,OAAA,QAAA,EAAA,KAAA,KAAA,SAAA,GAAA,SAAA,GAAA,QAAA;AACA,cAAA,IAAA,EAAA,MAAA,GAAA,MAAA;;AACA,YAAA,MAAA,IAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AAAA,iBAAA,MAAA,IAAA,EAAA,KAAA,EAAA,MAAA,GAAA,MAAA;AAAA;;AACA,sBAAA,IAAA,CAAA,QAAA,EAAA,QAAA;AACA,OAVA;AAWA,yCAAA,IAAA,GAAA,CAAA,aAAA,CAAA;AACA,oBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,6BAAA,CAAA;AAAA,OAAA;AACA,UAAA,OAAA,OAAA,MAAA,GAAA,CAAA;;AACA,UAAA,OAAA,IAAA,EAAA,OAAA,KAAA,SAAA,IAAA,OAAA,IAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,UAAA,WAAA,IAAA,EAAA,MAAA;AACA,eAAA,MAAA,CAAA,CAAA,CAAA;AACA;;AACA,QAAA,0BAAA,EAAA,KAAA;;AACA,UAAA,cAAA,MAAA,EAAA;AAAA;AAAA;AACA;;AACA,QAAA,OAAA,yBAAA,EAAA;AACA;AACA,YAAA,SAAA,CAAA,SAAA,EAAA,MAAA;;AACA,UAAA,KAAA,KAAA,CAAA,SAAA,MAAA,QAAA,EAAA;AAAA,mBAAA,KAAA;AAAA;;AACA,UAAA,OAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AAAA,qBAAA,KAAA;AAAA;;AACA,QAAA,kBAAA,EAAA,QAAA,GAAA,IAAA;AACA,QAAA,wDAAA,EAAA,IAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,UAAA;AACA,QAAA,6DAAA,EAAA,QAAA,CAAA,QAAA;AACA,QAAA,yDAAA,EAAA,WAAA,CAAA,QAAA;AACA,sBAAA,CAAA;AACA;AACA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA,QAAA,0BAAA,EAAA,KAAA;AAAA;;AACA,QAAA,OAAA,oBAAA,EAAA;AACA,UAAA,OAAA,CAAA,WAAA,KAAA,GAAA,CAAA;;AACA,QAAA,aAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,KAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AACA,YAAA,QAAA,GAAA,KAAA,MAAA,KAAA,IAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,EAAA,GAAA,CAAA,KAAA;AACA,UAAA,IAAA,EAAA,MAAA,GAAA,IAAA,CAAA,gBAAA,EAAA,KAAA;AACA,eAAA,KAAA,EAAA,KAAA,GAAA,KAAA;AACA,OAPA;AAQA;AACA;;AACA,QAAA,OAAA,eAAA,IAAA,OAAA,eAAA,IAAA,OAAA,eAAA,EAAA;AACA,UAAA,IAAA,OAAA,MAAA,CADA,CAEA;;AACA,UAAA,OAAA,IAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AAAA,eAAA,IAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AAAA,aAAA,CAAA;AAAA;;AACA,UAAA,OAAA,kBAAA,CAAA,CAAA;;AACA,UAAA,SAAA,SAAA,CAAA,CAAA;;AACA,aAAA,IAAA,CAAA;AAAA,YAAA;AAAA,qBAAA;AAAA,kBAAA;AAAA,iBAAA,QAAA;AAAA,eAAA,CAAA;AAAA,eAAA,CAAA;AAAA,yBAAA,CAAA;AAAA,yBAAA,CAAA;AAAA,cAAA,CAAA;AAAA,eAAA;AAAA,OAAA;AACA,aAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,eAAA,EAAA,CAAA,GAAA,EAAA,CAAA;AAAA,OAAA;AACA;AACA;;AACA,QAAA,OAAA,0BAAA,EAAA;AACA,UAAA,SAAA,GAAA,MAAA,CAAA,gBAAA,CAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AACA,UAAA,IAAA,GAAA,kBAAA,EAAA,CAAA,CAAA;AACA,eAAA,MAAA,CAAA,iBAAA,EAAA,CAAA,EAAA,IAAA,CAAA,EAAA,IAAA;AACA,eAAA,MAAA,CAAA,WAAA,EAAA,CAAA,EAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA,OAAA,EAAA,EAAA,IAAA;AACA,OALA;AAMA;;AACA,QAAA,OAAA,qBAAA,EAAA;AACA,UAAA,KAAA,EAAA,kBAAA,CAAA;;AACA,UAAA,GAAA,IAAA,CAAA,WAAA,MAAA,UAAA,EAAA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,YAAA;AACA,YAAA,aAAA,KAAA,MAAA;AACA,YAAA,aAAA,CAAA,qBAAA,SAAA;AACA,YAAA,YAAA,oBAAA,SAAA;AACA,oBAAA,WAAA,UAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AACA,YAAA,kBAAA,WAAA,0BAAA,SAAA,CAAA;AACA,UAAA,0BAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,QAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,UAAA,GAAA,GAAA,CAAA;AACA,cAAA,QAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,UAAA,GAAA,GAAA,CAAA;AACA,cAAA,OAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,IAAA,SAAA,GAAA,GAAA,CAAA;AACA,cAAA,aAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,IAAA,eAAA,GAAA,GAAA,CAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,QAAA,GAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,QAAA,GAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA,OAAA,GAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,CAAA,aAAA,GAAA;AACA,SATA;AAUA,OAjBA,MAiBA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,UAAA;AACA;AACA;AACA;;AACA,QAAA,OAAA,iBAAA,EAAA;AACA,UAAA,EAAA,aAAA,EAAA,MAAA,KAAA,CAAA,EAAA;AAAA;AAAA;;AACA,UAAA,OAAA,SAAA,KAAA,KAAA,QAAA,GAAA,aAAA,KAAA,GAAA,GAAA,GAAA,SAAA,KAAA;AACA,UAAA,OAAA,uCAAA,IAAA,GAAA,gBAAA,CAHA,CAGA;;AACA,QAAA,0BAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,UAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,CAAA;;AACA,YAAA,YAAA,QAAA,EAAA;AAAA,kBAAA,UAAA;AAAA,SAAA,MAAA;AAAA,kBAAA,UAAA,GAAA;AAAA;;AACA,YAAA,UAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,CAAA;;AACA,YAAA,YAAA,QAAA,IAAA,YAAA,QAAA,EAAA;AAAA,kBAAA,GAAA;AAAA,SAAA,MAAA;AAAA,kBAAA,UAAA,GAAA;AAAA;;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,IAAA,GAAA;AACA,YAAA,aAAA,CAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,CAAA;AACA,gBAAA,aAAA,IAAA;AACA,OAVA;AAWA,cAAA,qCAAA,CAfA,CAeA;;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,SAAA,EAAA,OADA,CACA;;AACA,gBAAA,EAAA,IAAA,GAAA,GAAA;AACA,YAAA,UAAA,EAAA,MAAA,KAAA,SAAA,GAAA,SAAA,GAAA,OAAA,EAAA,MAAA,EAAA,IAAA;AACA,gBAAA,UAAA,GAAA;AACA,gBAAA,SAAA,EAAA,OAAA,EAAA,IAAA,GAAA,GAAA;AACA,YAAA,aAAA,EAAA,UAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;AACA,gBAAA,aAAA,IAAA;AACA,OARA;AASA,UAAA,WAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,UAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,eAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,WAAA,QAAA,GAAA,mBAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,KAAA;AACA,aAAA,UAAA,CAAA,YAAA;AAAA,eAAA,GAAA,CAAA,eAAA,CAAA,GAAA;AAAA,OAAA,EAAA,IAAA;AACA;;AAEA,QAAA,OAAA,iBAAA,EAAA,gBAAA,KAAA;;AAEA,QAAA,OAAA,iBAAA,EAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,kBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA,WADA;AAEA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,cAAA,gBAAA,EAAA,KAAA;AACA,mBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,MAAA,GAAA,SAAA;AAAA,aAAA;AACA,iBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,MAAA,GAAA,SAAA;AAAA,aAAA;AACA,mBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,IAAA,CAAA,EAAA,OAAA;AACA,kBAAA,MAAA,CAAA,CAAA,EAAA;AACA,8BAAA,CAAA,EAAA,OAAA;AACA,aAJA;AAKA,mCAAA,WAAA;AACA,oBAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA,qBAAA,EAAA;AACA,mBAAA,IAAA,CAAA;AAAA,iBAAA,CAAA;AAAA,qBAAA,SAAA;AAAA,uBAAA,SAAA;AAAA,oBAAA;AAAA,aAAA;AACA,iCAAA,CAAA;;AACA,gBAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,cAAA,EAAA,MAAA,CAAA,OAAA;AAAA;;AACA;AACA;AAnBA;AADA,OAAA;AAuBA;;AACA,QAAA,OAAA,aAAA,EAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,yBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA,WADA;AAEA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,QAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,gBAAA,SAAA,OAAA,KAAA,EAAA,OAAA,KAAA,SAAA,GAAA,SAAA,GAAA,KAAA;AACA,cAAA,YAAA,EAAA,KAAA;AACA,mBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,EAAA,MAAA,KAAA,MAAA,EAAA;AAAA;AAAA;;AACA,gBAAA,MAAA,GAAA,SAAA;AACA,oBAAA,EAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AACA,qBAAA,MAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,MAAA;AACA,oBAAA,SAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,MAAA;AACA,aANA;AAOA,mBAAA,KAAA,EAAA,eAAA,GAAA,CAAA;AACA,mBAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,mBAAA,KAAA,EAAA,OAAA,GAAA,QAAA;;AACA,gBAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,gBAAA,cAAA,EAAA,MAAA,CAAA,WAAA;AACA;;AACA,6BAAA,SAAA,GAAA,CAAA;AACA,kCAAA,KAAA,GAAA,CAAA;AACA;AAvBA;AADA,OAAA;AA2BA;;AACA,QAAA,OAAA,eAAA,EAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,WAAA,CAAA,SAAA;AACA,OAFA,MAEA;AACA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA;AACA;;AACA,QAAA,OAAA,qBAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,QAAA,WAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,OAAA,aAAA,OAAA,CAAA,EAAA,OAAA,CAAA;AACA,UAAA,IAAA,EAAA,GAAA,CAAA,IAAA;AACA,UAAA,IAAA,EAAA,MAAA,GAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,eAAA,CAAA,EAAA,IAAA,GAAA,IAAA;AACA,eAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,IAAA;AACA,OAPA;;AAQA,UAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AAAA;AAAA;;AACA,YAAA,IAAA,OAAA,CAAA,EAAA,OAAA;AACA,UAAA,WAAA,CAAA,EAAA,IAAA,CAAA,cAAA,EAAA,OAAA,CAAA,EAAA,IAAA;AACA,UAAA,WAAA,CAAA,GAAA,kBAAA,EAAA,GAAA,CAAA,OAAA,CAAA,EAAA,IAAA;AACA;AACA;;AACA,QAAA,OAAA,SAAA,EAAA;AACA,UAAA,QAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,mBAFA,CAEA;;AACA,QAAA,UAAA,EAAA,KAAA,GAAA,IAAA,CAAA,YAAA,EAAA,KAAA;AACA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA,QAAA,WAAA,EAAA,WAAA,CAAA,QAAA;AAAA;;AACA,QAAA,OAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,IAAA;AACA,UAAA,WAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,WAAA,CAAA,CAAA;AACA,UAAA,SAAA,GAAA,IAAA,KAAA,GAAA,CAAA,KAAA,EAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,IAAA,CAAA;AACA,UAAA,KAAA,aAAA,GAAA;AAAA,UAAA,KAAA,aAAA,GAAA;AACA,UAAA,OAAA,GAAA,KAAA,cAAA,KAAA,EAAA,CAAA,CAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,OAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,IAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,OAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,MAAA,EAAA,aAAA,CAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,cAAA,EAAA,MAAA,MAAA,EAAA,IAAA,CAAA,IAAA,EAAA,aAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,eAAA,CAAA;AACA,UAAA,OAAA,GAAA,KAAA,EAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,cAAA,KAAA,IAAA,GAAA,GAAA,aAAA,KAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,aAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,KAAA,EAAA,IAAA,CAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA,EAAA,IAAA,CAAA,WAAA,EAAA,KAAA,MAAA;AACA;AACA;;AACA,QAAA,OAAA,eAAA,IAAA,OAAA,eAAA,EAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA;AACA,UAAA,IAAA,EAAA,WAAA,CAAA,SAAA;AACA,OAHA,MAGA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,IAAA;AACA;;AACA;AACA;;AACA,QAAA,OAAA,iBAAA,EAAA;AACA,UAAA,EAAA,YAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAAA;;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,mBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,cAAA,YAAA,EAAA,MAAA;AACA,WAJA;AAKA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AALA;AADA,OAAA;AASA;AACA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA,QAAA,qBAAA,EAAA,WAAA;AAAA;;AACA,QAAA,OAAA,aAAA,EAAA;AACA,mBAAA,SAAA,GAAA,mEAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,WAAA;AACA,iBAAA;AACA,iBAAA,iBAAA;AACA;AACA;AACA;AACA,6BAAA,MAAA;AACA,4BAAA,MAAA;AACA;AACA;AACA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAXA;AAYA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAZA;AADA,OAAA;AAgBA;;AACA,QAAA,OAAA,eAAA,EAAA;AACA,UAAA,6iBAAA;AAKA,mBAAA,SAAA,GAAA,QAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,gBAAA;AACA,iBAAA;AACA,sBAAA,mBAAA;AACA,0BAAA,OAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAJA;AAKA,gBAAA,gBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,0BAAA,MAAA;AACA,WARA;AASA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AATA;AADA,OAAA;AAaA;AACA,KA9VA,CA+VA;;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,UAAA,OAAA,cAAA,EAAA;AAAA;AAAA;;AACA,UAAA,OAAA,gBAAA,EAAA;AACA,YAAA,UAAA,aAAA,KAAA,GAAA,GAAA,GAAA,cAAA,KAAA;AACA,YAAA,OAAA,cAAA,KAAA;AACA,YAAA,WAAA,gBAAA,KAAA;;AACA,YAAA,SAAA,GAAA,EAAA;AAAA,wBAAA,OAAA,EAAA,CAAA,EAAA,CAAA,QAAA;AAAA;;AACA,YAAA,SAAA,GAAA,EAAA;AAAA,wBAAA,OAAA,EAAA,CAAA,EAAA,IAAA,QAAA;AAAA;;AACA,YAAA,SAAA,GAAA,EAAA;AAAA,wBAAA,OAAA,EAAA,CAAA,QAAA,EAAA,CAAA;AAAA;;AACA,YAAA,SAAA,GAAA,EAAA;AAAA,wBAAA,OAAA,EAAA,CAAA,CAAA,GAAA,QAAA,EAAA,CAAA;AAAA;;AACA,YAAA,SAAA,GAAA,EAAA;AAAA,wBAAA,OAAA,EAAA,CAAA,EAAA,MAAA,QAAA;AAAA;;AACA;AACA;AACA;;AACA,UAAA,OAAA,eAAA,EAAA;AACA,UAAA,gBAAA,EAAA,QAAA,GAAA,GAAA,CAAA,4BAAA,EAAA,MAAA;AACA;;AACA,UAAA,OAAA,mBAAA,EAAA;AAAA,UAAA,gBAAA,EAAA,QAAA,GAAA,GAAA,CAAA,+BAAA,EAAA,MAAA;AAAA;;AACA,UAAA,OAAA,MAAA,IAAA,OAAA,cAAA,EAAA;AAAA,uBAAA,eAAA,CAAA;AAAA;;AACA,UAAA,OAAA,MAAA,IAAA,OAAA,cAAA,EAAA;AAAA,uBAAA,eAAA,CAAA;AAAA;;AACA,UAAA,OAAA,eAAA,EAAA;AACA,sBAAA,CAAA;AACA;AACA;AACA;;AACA,UAAA,OAAA,gBAAA,EAAA;AACA;AACA;AACA;AACA;;AACA,UAAA,OAAA,QAAA,EAAA;;AACA,UAAA,OAAA,eAAA,EAAA;AACA,YAAA,EAAA,iBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AAAA;AAAA;;AACA,UAAA,iBAAA,EAAA,MAAA,CAAA;AACA,iBAAA,iBADA;AAEA,qBAAA,MAFA;AAEA,iBAAA,MAFA;AAEA,qBAAA,KAFA;AAGA,oBAAA;AAAA,gBAAA,WAAA;AAAA,gBAAA,iBAAA;AAAA,gBAAA;AAAA;AAHA,SAAA;AAKA;;AACA,UAAA,OAAA,cAAA,EAAA;AAAA;AAAA;;AACA,UAAA,OAAA,kBAAA,EAAA;AAAA,UAAA,OAAA,EAAA,UAAA;AAAA;;AACA,UAAA,OAAA,qBAAA,EAAA;AAAA,UAAA,WAAA,EAAA,UAAA;AAAA;;AACA,UAAA,OAAA,iBAAA,EAAA;AACA,YAAA,EAAA,mBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,mBAAA,EAAA,MAAA,CAAA;AACA,iBAAA,kBADA;AAEA,iBAAA,GAFA;AAEA,kBAAA,GAFA;AAGA,oBAAA;AAAA,gBAAA,eAAA;AAAA,gBAAA,eAAA;AAAA,gBAAA;AAAA;AAHA,SAAA;AAKA;AACA;AACA;AACA;;AACA,QAAA,OAAA,cAAA,EAAA;AACA,mBAAA,SAAA,GAAA,iDAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,eAAA;AACA,iBAAA;AACA,mBAAA,mBAAA;AACA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAJA;AAKA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA;AAPA;AADA,OAAA;AAWA;;AACA,QAAA,WAAA,YAAA,EAAA;AACA,QAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,EAAA;;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,sBAAA,EAAA,WAAA,CAAA,SAAA;AACA,OAFA,MAEA;AACA,UAAA,sBAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,iBAAA,EAAA,GAAA,GAAA;AACA;;AACA;AACA;;AACA,QAAA,OAAA,kBAAA,EAAA;AACA,oBAAA,KAAA,GAAA,OAAA,UAAA;AACA,qBAAA,KAAA,GAAA,OAAA,WAAA;AACA,mBAAA,UAAA,CAAA,WAAA;AACA,mBAAA,UAAA,CAAA,UAAA;AACA;AACA;;AACA,QAAA,OAAA,mBAAA,EAAA;AACA,oBAAA,KAAA,GAAA,CAAA;AACA,oBAAA,KAAA,GAAA,EAAA;AACA,WAAA,WAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,GAAA,EAAA,CAAA;AACA;;AACA,QAAA,OAAA,YAAA,EAAA;AAAA,QAAA,eAAA,EAAA,WAAA;AAAA;;AACA,QAAA,OAAA,SAAA,EAAA;AAAA,gBAAA,KAAA;AAAA;;AACA,QAAA,OAAA,WAAA,EAAA;AAAA,gBAAA,IAAA;AAAA;;AACA,QAAA,OAAA,UAAA,EAAA;AACA,eAAA,CAAA;;AACA,UAAA,QAAA,EAAA,EAAA;AAAA,gBAAA,EAAA;AAAA;;AACA;AACA;;AACA,QAAA,OAAA,WAAA,EAAA;AACA,eAAA,CAAA;;AACA,UAAA,SAAA,CAAA,EAAA;AAAA,gBAAA,CAAA;AAAA,gBAAA,CAAA;AAAA,gBAAA,CAAA;AAAA;;AACA;AACA;;AACA,QAAA,OAAA,eAAA,IAAA,OAAA,gBAAA,EAAA;AACA,UAAA,KAAA,QAAA,MAAA,CAAA,MAAA,mBAAA,KAAA,CAAA;AACA,UAAA,MAAA,OAAA,eAAA,GAAA,GAAA,GAAA,GAAA;AACA,SAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,YAAA,OAAA,GAAA,GAAA,IAAA,CAAA,WAAA,IAAA,GAAA,EAAA,CAAA,CAAA;;AACA,YAAA,OAAA,CAAA,EAAA;AAAA,iBAAA,CAAA;AAAA;;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,GAAA,CAAA,OAAA,OAAA,KAAA,IAAA,CAAA,EAAA,CAAA,CAAA;AACA,OALA;AAMA;AACA;AACA;;AACA,QAAA,OAAA,YAAA,EAAA;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,YAAA,UAAA,yCAAA;AACA,qBAAA,SAAA,GAAA,OAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA;AAAA,qBAAA,KAAA;AAAA,iBAAA,WAAA;AACA,mBAAA;AACA,mBAAA,iBAAA;AACA,gBAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,sBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,IAAA;AACA,8BAAA,SAAA,GAAA,GAAA;AACA,gBAAA,WAAA,EAAA,KAAA;AACA,wBAAA,IAAA,UAAA,CAAA,QAAA,MAAA,CAAA,CALA,CAMA;;AACA,wBAAA,EAAA;AACA,6BAAA,CAAA;AACA;AACA,mBAAA,QAAA,GAAA,aAAA,QAAA,GAAA,IAAA;AACA,mBAAA,QAAA,GAAA,aAAA,QAAA,GAAA,IAAA;AACA,aAbA;AAcA,oBAAA,kBAAA;AAAA,gBAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAdA;AADA,SAAA;AAkBA,OArBA,MAqBA;AACA,cAAA,KAAA;AACA;AACA;;AACA,QAAA,OAAA,kBAAA,EAAA;;AACA,QAAA,OAAA,oBAAA,EAAA;AACA,UAAA,UAAA,CAAA,cAAA,KAAA,GAAA,CAAA;;AACA,UAAA,UAAA,CAAA,EAAA;AAAA,kBAAA,CAAA;AAAA;;AACA,oBAAA,KAAA,GAAA,OAAA;AACA,uBAAA,OAAA;AACA;;AACA,QAAA,OAAA,mBAAA,EAAA;AACA,UAAA,UAAA,CAAA,cAAA,KAAA,GAAA,CAAA;;AACA,UAAA,UAAA,GAAA,EAAA;AAAA,kBAAA,GAAA;AAAA;;AACA,oBAAA,KAAA,GAAA,OAAA;AACA,uBAAA,OAAA;AACA;;AACA,QAAA,OAAA,sBAAA,EAAA;AACA,QAAA,sBAAA,EAAA,QAAA,GAAA,GAAA,CAAA,IAAA,EAAA,GAAA,CAAA,gBAAA,EAAA,MAAA;AACA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA,iBAAA,KAAA;AAAA;;AACA,QAAA,OAAA,gBAAA,EAAA;AAAA,iBAAA,KAAA;AAAA;;AACA,QAAA,OAAA,iBAAA,EAAA;AAAA;AAAA;AACA,GAhgBA,EAnkOA,CAqkPA;;AACA,IAAA,qBAAA,EAAA,KAAA,CAAA,YAAA;AACA,QAAA,KAAA,KAAA,EAAA;AACA,QAAA,0BAAA,aAAA,OAAA,CAAA,yBAAA,CAAA;;AACA,QAAA,CAAA,uBAAA,EAAA;AACA,mBAAA,KAAA;AACA,UAAA,UAAA,kDAAA;AACA,iBAAA,oDAAA;AACA,iBAAA,uEAAA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,eAAA,mCAAA;AACA,iBAAA;AACA,8BAAA,yBAAA;AACA,yBAAA,OAAA,CAAA,yBAAA,EAAA,IAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAJA;AAKA,iBAAA,iBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AALA,SADA;AAQA,kBAAA;AAAA,cAAA,QAAA;AAAA,cAAA,QAAA;AAAA,cAAA;AAAA;AARA,OAAA;AAUA;;AACA,QAAA,OAAA,SAAA,EAAA;AAAA;AAAA;;AACA,QAAA,OAAA,SAAA,EAAA;AAAA,kBAAA,KAAA;AAAA;;AACA,QAAA,OAAA,SAAA,EAAA;AAAA,kBAAA,KAAA;AAAA;;AACA,MAAA,eAAA,EAAA,OAAA,CAAA,MAAA;AACA,GAxBA,EAtkPA,CAgmPA;;AACA,IAAA,gCAAA,EAAA,KAAA,CAAA,YAAA;AACA,MAAA,IAAA,EAAA,WAAA,CAAA,0BAAA;AACA,QAAA,SAAA,CAAA,EAAA,IAAA,EAAA,QAAA,CAAA,WAAA,CAAA;AACA,MAAA,IAAA,EAAA,IAAA,CAAA,aAAA,EAAA,MAAA;AACA,QAAA,SAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,WAAA,EAAA;AACA,QAAA,QAAA,EAAA,MAAA,MAAA,GAAA,OAAA,EAAA,GAAA,EAAA;;AACA,QAAA,MAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,EAAA,KAAA;AAAA,KAAA,MACA;AAAA,mBAAA,UAAA,CAAA,MAAA;AAAA;AACA,GARA;;AAUA,WAAA,aAAA,CAAA,IAAA,EAAA;AACA;AACA,QAAA,aAAA,EAAA;AAAA,QAAA,cAAA,EAAA;;AACA,QAAA,SAAA,OAAA,EAAA;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,QAAA,IAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,CAAA,EAAA,KAAA,CADA,CAEA;;AACA,YAAA,MAAA,IAAA,EAAA,IAAA,KAAA,CAAA,EAAA,MAAA,IAAA,EAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,EAAA,MAAA,IAAA,EAAA,EAAA;AAAA,mBAAA,CAAA;AAAA;AACA,SAFA;AAGA,YAAA,SAAA,MAAA,IAAA,EAAA,MAAA;AACA,YAAA,WAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AACA,mBAAA,IAAA,CAAA,MAAA;AACA,YAAA,UAAA,MAAA,IAAA,EAAA,OAAA;AACA,YAAA,YAAA,SAAA,EAAA,UAAA,CAAA,CAAA;AACA,oBAAA,IAAA,CAAA,OAAA;AACA;AACA,KAdA,MAcA;AAAA;AAAA;;AACA,qBAAA,MAAA;AACA,oBAAA,MAAA;AACA;;AACA,QAAA,SAAA,MAAA,EAAA;AACA,UAAA,SAAA,CAAA,mFAAA,EACA,SADA,CACA,oBADA,EACA,MADA;AAEA,UAAA,MAAA,CAAA,QAAA,EAAA,MAAA;;AACA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,OAAA,MAAA,EAAA,KAAA,EAAA;AACA,YAAA,WAAA,GAAA,MAAA,CAAA,CAAA,EAAA,MAAA,GAAA,EAAA,MAAA,GAAA,WAAA,GAAA,CAAA;AACA,YAAA,YAAA,GAAA,MAAA,CAAA,CAAA,EAAA,MAAA,GAAA,EAAA,OAAA,GAAA,YAAA,GAAA,CAAA;AACA;AACA;;AACA;AACA;AACA;AACA;;AAEA,WAAA,gBAAA,GAAA;AACA,QAAA,EAAA,eAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AAAA;AAAA;;AACA,MAAA,eAAA,EAAA,MAAA,CAAA;AACA,aAAA,eADA;AAEA,iBAAA,EAFA;AAEA,aAAA,MAFA;AAEA,gBAAA,GAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,WAAA;AAAA,YAAA,iBAAA;AAAA,YAAA;AAAA;AAHA,KAAA,EAIA,EAJA,CAIA,aAJA,EAIA,YAAA;AACA;AACA,QAAA,4BAAA,EAAA,WAAA,CAAA,SAAA;AACA,KAPA;AASA,QAAA,QAAA,gBAAA,EAAA;AACA,YAAA,gBAAA,GAAA,IAAA;AAEA,MAAA,0BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,UAAA,EAAA,iCAAA,CAAA;AACA,YAAA,SAAA,CAAA,sBAAA,EAAA,MAAA;;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,gBAAA,IAAA,CAAA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,UAAA;AACA,OAJA,MAIA;AACA,UAAA,4BAAA,EAAA,WAAA,CAAA,SAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA,YAAA,KAAA,KAAA,EAAA;;AACA,YAAA,OAAA,YAAA,IAAA,OAAA,aAAA,EAAA;AAAA,kBAAA,EAAA,CAAA,OAAA,EAAA,kBAAA;AAAA,SAAA,CAAA;AAAA,aACA;AAAA,oBAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,IAAA;AAAA,WANA,CAMA;;;AACA,YAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AAAA,kBAAA,IAAA,CAAA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,UAAA;AAAA,SAAA,MACA;AAAA,kBAAA,IAAA,CAAA,UAAA,EAAA,KAAA,EAAA,WAAA,CAAA,UAAA;AAAA;AACA;AACA,KAjBA;AAkBA;;AAEA,WAAA,eAAA,GAAA;AACA,YAAA,IAAA,CAAA,iBAAA;AACA,QAAA,QAAA,GAAA;AAAA,QAAA,SAAA,GAAA;AACA,QAAA,SAAA,aAAA,KAAA;AAAA,QAAA,SAAA,cAAA,MAAA;AACA,QAAA,YAAA,GAAA;AAAA,QAAA,kBAAA,EAAA;AACA,QAAA,cAAA,SAAA,cAAA,CAAA,aAAA,CAAA;AACA,QAAA,WAAA,YAAA,UAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,EAAA;AACA,QAAA,IAAA,SAAA;;AACA,WAAA,GAAA,EAAA;AACA,UAAA,IAAA,IAAA,SAAA,GAAA,KAAA,GAAA,CAAA;AACA,UAAA,eAAA,EAAA;AACA,YAAA,IAAA,CAAA,YAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,eAAA,CAAA;;AACA,aAAA,GAAA,EAAA;AACA,YAAA,IAAA,IAAA,eAAA,GAAA,MAAA,GAAA,CAAA;AACA,YAAA,QAAA,aAAA,IAAA,MAAA,EAAA,IAAA,MAAA,CAAA;AACA,YAAA,IAAA,QAAA,KAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AACA,qBAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA;;AACA,aAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,YAAA,KAAA,EAAA,YAAA,MAAA;;AACA,4BAAA,KAAA,gBAAA;AAAA,UAAA,gBAAA,KAAA,KAAA;;AACA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,cAAA,MAAA,GAAA,CAAA,EAAA,KAAA,EAAA;AACA,YAAA,MAAA,cAAA,GAAA,CAAA;AACA,YAAA,MAAA,cAAA,MAAA,CAAA,CAAA;AACA,YAAA,WAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,IAAA,GAAA;AACA,iBAAA,SAAA;AACA,iBAAA,MAAA,oCAAA,YAAA,GAAA,CAAA;AACA,iBAAA,MAAA,oCAAA,YAAA,GAAA,CAAA;AACA,YAAA,MAAA,mBAAA,CAPA,CAOA;;AACA,YAAA,aAAA,CAAA,EAAA;AAAA,gBAAA,MAAA,IAAA,QAAA,GAAA,GAAA,CAAA;AAAA;;AACA,iBAAA,WAAA,GAAA,GAAA;AACA,iBAAA,MAAA;AACA;;AACA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,cAAA,MAAA,GAAA,CAAA,EAAA,KAAA,EAAA,CAEA;AACA;;AACA,YAAA,OAAA,CAAA,iBAAA;AACA,GAztPA,CA2tPA;;;AACA,WAAA,YAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,QAAA,QAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CADA,CAEA;AACA;;AACA,WAAA,KAAA;AACA;;AAEA,WAAA,WAAA,CAAA,EAAA,EAAA;AACA,QAAA,QAAA,GAAA;AAAA,QAAA,YAAA,GAAA;;AADA,4BAEA,iBAAA,GAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAA,CAFA;AAAA;AAAA,QAEA,CAFA;AAAA,QAEA,CAFA;;AAGA,WAAA,CAAA,IAAA,QAAA,CAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,GAAA,CAAA,IAAA,SAAA,CAAA;AACA;;AAEA,WAAA,gBAAA,CAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA;AAAA,QAAA,QAAA,CAAA;AACA,WAAA,CAAA,CAAA,IAAA,CAAA,IAAA,KAAA,EAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,KAAA,CAAA;AACA,GA5uPA,CA8uPA;;;AACA,IAAA,yBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,KAAA,KAAA,EAAA;AACA,SAAA,GAAA,OAAA,CAAA,UAAA,EAAA,EAAA,CAAA;;AACA,QAAA,OAAA,UAAA,EAAA;AACA,UAAA,QAAA,EAAA,qBAAA,EAAA,MAAA;AACA,UAAA,QAAA,CAAA,EAAA;AACA;;AACA,MAAA,eAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,MAAA,eAAA,EAAA,MAAA,CAAA,qBAAA,EAAA,GAAA,IAAA,GAAA,EAAA,GAAA,QAAA;AACA,QAAA,KAAA,EAAA,8BAAA,CAAA;;AACA,QAAA,OAAA,MAAA,IAAA,OAAA,KAAA,IAAA,OAAA,OAAA,IAAA,OAAA,QAAA,EAAA;AACA,UAAA,QAAA,mIAAA;AACA;;AACA,QAAA,OAAA,MAAA,EAAA;AACA,UAAA,OAAA,oMAAA;AACA;;AACA,QAAA,OAAA,KAAA,IAAA,OAAA,UAAA,EAAA;AACA,UAAA,OAAA,iPAAA;AACA;;AACA,QAAA,OAAA,KAAA,EAAA;AACA,UAAA,QAAA,oMAAA;AACA;;AACA,QAAA,OAAA,UAAA,EAAA;AACA,UAAA,QAAA,6KAAA;AACA;;AACA,QAAA,OAAA,QAAA,EAAA;AACA,UAAA,QAAA,qLAAA;AACA;;AACA,QAAA,OAAA,QAAA,EAAA;AACA,UAAA,QAAA,0GAAA;AACA;;AACA,OAAA,MAAA,CAAA,2EAAA;AACA,MAAA,iCAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AAAA,QAAA,IAAA,EAAA,MAAA,GAAA,MAAA;AAAA,KAAA;AACA,QAAA,IAAA,EAAA,GAAA,MAAA,CAAA,IAAA;AACA,QAAA,KAAA,EAAA,GAAA,MAAA,CAAA,KAAA;AACA,OAAA,IAAA,CAAA,uBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,kBAAA;AACA,MAAA,eAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,GArCA,EA/uPA,CAsxPA;;AACA,WAAA,kBAAA,GAAA;AACA,QAAA,KAAA,KAAA,KAAA,UAAA,EAAA;AACA,UAAA,WAAA,OAAA,iFAAA,EAAA,OAAA,CAAA;;AACA,UAAA,QAAA,EAAA;AACA,YAAA,SAAA,oBAAA,QAAA,GAAA,IAAA,GAAA,QAAA,GAAA,WAAA;AACA,UAAA,IAAA,EAAA,MAAA,CAAA,MAAA,EAAA,GAAA,CAAA,QAAA;AACA;AACA;AACA,GA/xPA,CAiyPA;;;AACA,IAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,QAAA,EAAA,qBAAA,EAAA,MAAA;AACA,QAAA,UAAA,CAAA,EAAA,eAAA,EAAA,IAAA,CAAA,cAAA,CAAA;AACA,QAAA,WAAA,KAAA,KAAA;;AACA,QAAA,SAAA,YAAA,CAAA,EAAA;AACA,mBAAA,SAAA,GAAA,kFAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,iBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,2BAAA,QAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,WAJA;AAKA,kBAAA,kBAAA;AACA,gBAAA,OAAA,EAAA,iBAAA,EAAA,IAAA,CAAA,WAAA,CAAA;AACA,cAAA,iBAAA,EAAA,GAAA,CAAA,IAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA;AATA;AADA,OAAA;AAaA;;AACA,QAAA,UAAA,CAAA,IAAA,YAAA,CAAA,EAAA,eAAA,QAAA;AACA,GArBA;;AAuBA,WAAA,cAAA,CAAA,QAAA,EAAA;AACA,MAAA,eAAA,EAAA,KAAA;AACA,MAAA,iBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,QAAA;;AACA,QAAA,aAAA,iBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,MAAA,EAAA,CAAA,EAAA,IAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,QAAA,EAAA,CAAA,CAAA;AACA;;AACA,QAAA,aAAA,oBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,IAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA,cAAA,UAAA,EAAA,IAAA,EAAA,MAAA;AACA,cAAA,KAAA,EAAA,CAAA;AACA,cAAA,MAAA,EAAA,CAAA,EAAA,IAAA;AACA;;AACA,QAAA,aAAA,mBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,MAAA,EAAA,CAAA,EAAA,GAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,GAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA,cAAA,UAAA,EAAA,IAAA,EAAA,MAAA;AACA;;AACA,QAAA,aAAA,oBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,IAAA;AACA,cAAA,QAAA,EAAA,KAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,QAAA,EAAA,EAAA;AACA,cAAA,UAAA,EAAA,GAAA,EAAA,MAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA;;AACA,QAAA,aAAA,qBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,IAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,QAAA,EAAA,KAAA;AACA,cAAA,QAAA,EAAA,EAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,KAAA,EAAA,CAAA,CAAA,EAAA,MAAA;AACA,cAAA,UAAA,EAAA,GAAA,EAAA,MAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA;;AAEA,QAAA,aAAA,eAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA,EAAA,KAAA;AACA,cAAA,MAAA,EAAA,CAAA,EAAA,IAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA,cAAA,UAAA,EAAA,GAAA,EAAA,QAAA;AACA;;AACA,QAAA,aAAA,kBAAA,EAAA;AACA,cAAA,UAAA;AACA,cAAA,KAAA,EAAA,EAAA,EAAA,KAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,GAAA;AACA,cAAA,OAAA,EAAA,EAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,IAAA;AACA,cAAA,QAAA,EAAA,EAAA;AACA,cAAA,UAAA,EAAA,GAAA,EAAA,MAAA;AACA,cAAA,OAAA,EAAA,EAAA;AACA,cAAA,QAAA,EAAA,CAAA;AACA;;AACA,QAAA,aAAA,oBAAA,EAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,MAAA,EAAA,EAAA,EAAA,CAAA;AACA,cAAA,OAAA,EAAA,CAAA;AACA,cAAA,KAAA,EAAA,EAAA;AACA,cAAA,QAAA,EAAA,OAAA;AACA;;AACA,MAAA,eAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,GA34PA,CA64PA;;;AACA,WAAA,OAAA,CAAA,OAAA,EAAA,KAAA,EAAA,IAAA,EAAA;AACA,QAAA,CAAA,OAAA,EAAA;AACA,QAAA,YAAA,UAAA,EAAA,iBAAA,KAAA;AACA,QAAA,YAAA,MAAA,EAAA,aAAA,KAAA;AACA,QAAA,YAAA,KAAA,EAAA,YAAA,KAAA;AACA,QAAA,YAAA,OAAA,EAAA,cAAA,KAAA;AACA,QAAA,YAAA,QAAA,EAAA,eAAA,KAAA;AACA,QAAA,YAAA,QAAA,EAAA,eAAA,KAAA;AACA,QAAA,YAAA,KAAA,EAAA,YAAA,KAAA;AACA,QAAA,YAAA,UAAA,EAAA,iBAAA,KAAA;AACA,QAAA,YAAA,QAAA,EAAA,eAAA,KAAA;;AACA,QAAA,KAAA,EAAA;AAAA,QAAA,+CAAA,EAAA,GAAA,CAAA,KAAA;AAAA;;AACA,QAAA,SAAA,SAAA,EAAA;AACA,UAAA,SAAA,MAAA,EAAA;AACA,YAAA,SAAA,oBAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,WAAA;AACA,UAAA,8CAAA,EAAA,MAAA,CAAA,MAAA;AACA;;AACA,QAAA,8CAAA,EAAA,GAAA,CAAA,IAAA;AACA;AACA,GAj6PA,CAm6PA;;;AACA,IAAA,cAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,QAAA,QAAA,EAAA,qBAAA,EAAA,MAAA;AACA,QAAA,CAAA,KAAA,EAAA;AACA,cAAA,IAAA,UAAA,CAAA,QAAA,MAAA,CAAA,CAJA,CAIA;;AACA,SAAA,IAAA,OAAA,CAAA,EAAA,QAAA,KAAA,EAAA,MAAA,EAAA;AACA,UAAA,OAAA,EAAA,iCAAA,IAAA,GAAA,GAAA,EAAA,IAAA,CAAA,WAAA,CAAA;;AACA,UAAA,SAAA,UAAA,EAAA;AAAA;AAAA;AAAA;;AACA,UAAA,QAAA,EAAA,iCAAA,IAAA,GAAA,oBAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,EAAA,iCAAA,IAAA,GAAA,mBAAA,EAAA,GAAA,EAAA;;AACA,UAAA,KAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,IAAA,MAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,cAAA,MAAA,MAAA,KAAA,CAAA,GAAA,CAAA;AACA,kBAAA,KAAA,KAAA,CAAA,KAAA,MAAA,MAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,SAHA,MAGA;AACA,kBAAA,CAAA,KAAA,CADA,CACA;AACA;AACA;;AACA,UAAA,SAAA,MAAA,EAAA;AAAA,gBAAA,KAAA,EAAA,CAAA,IAAA;AAAA;;AACA,UAAA,SAAA,KAAA,EAAA;AAAA,eAAA,KAAA;AAAA;;AACA,UAAA,SAAA,OAAA,EAAA;AAAA,iBAAA,KAAA;AAAA;;AACA,UAAA,SAAA,QAAA,EAAA;AAAA,iBAAA,CAAA,CAAA,GAAA,KAAA;AAAA;;AACA,UAAA,SAAA,QAAA,EAAA;AAAA,kBAAA,KAAA;AAAA;;AACA,UAAA,SAAA,KAAA,EAAA;AAAA,sBAAA,IAAA,EAAA,KAAA,EAAA,CAAA;AAAA;;AACA,UAAA,SAAA,UAAA,EAAA;AAAA,sBAAA,IAAA,EAAA,CAAA,EAAA,KAAA;AAAA;;AACA,UAAA,SAAA,QAAA,EAAA;AAAA,sBAAA,KAAA;AAAA;AACA;;AACA;AACA;AACA,GA7BA,EAp6PA,CAm8PA;;AACA,IAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,QAAA,EAAA,qBAAA,EAAA,MAAA;AACA,QAAA,YAAA,EAAA;;AACA,SAAA,IAAA,OAAA,CAAA,EAAA,QAAA,KAAA,EAAA,MAAA,EAAA;AACA,UAAA,UAAA,EAAA,iCAAA,IAAA,GAAA,GAAA,CAAA;AACA,UAAA,OAAA,QAAA,IAAA,CAAA,WAAA,CAAA;AACA,UAAA,QAAA,EAAA,iCAAA,IAAA,GAAA,oBAAA,EAAA,GAAA,EAAA;AACA,UAAA,OAAA,EAAA,iCAAA,IAAA,GAAA,mBAAA,EAAA,GAAA,EAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AAAA,gBAAA,GAAA;AAAA;;AACA,UAAA,CAAA,IAAA,EAAA;AAAA,eAAA,GAAA;AAAA;;AACA,mBAAA,OAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,GAAA,MAAA;AACA;;AACA,QAAA,WAAA,IAAA,IAAA,CAAA,CAAA,SAAA,CAAA,EAAA;AAAA,YAAA;AAAA,KAAA,CAAA;AACA,QAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,QAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,SAAA,QAAA,GAAA,cAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,SAAA,IAAA,GAAA,GAAA;AACA,SAAA,KAAA;AACA,MAAA,eAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,GAnBA,EAp8PA,CAy9PA;;AACA,IAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AAAA,mBAAA,KAAA;AAAA,GAAA;AACA,IAAA,iBAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,aAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,SAAA,KAAA,GAAA,EAAA;AACA,QAAA,aAAA,IAAA,UAAA,EAAA;;AACA,eAAA,MAAA,GAAA,UAAA,eAAA,EAAA;AACA,UAAA,aAAA,gBAAA,MAAA,CAAA,MAAA;AACA,UAAA,OAAA,WAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,eAAA,EAAA,KAAA;;AACA,UAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,eAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,UAAA,iBAAA,EAAA,IAAA,CAAA,WAAA,EAAA,gBAAA,EAAA,GAAA,CAAA,gBAAA;AACA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,OAAA,KAAA,CAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,gBAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA,EAAA,KAAA,CAAA,CAAA;AACA;AACA,KAZA;;AAaA,eAAA,UAAA,CAAA,UAAA,EAAA,OAAA;AACA,GAlBA,EA39PA,CA++PA;;AACA,WAAA,YAAA,GAAA;AACA,WAAA,KAAA,GAAA,QAAA;AACA,WAAA,MAAA,GAAA,SAAA,CAFA,CAGA;;AACA,MAAA,UAAA,EAAA,WAAA,CAAA,SAAA;AACA;AACA,QAAA,MAAA,GAAA,MAAA,CAAA,cAAA,CAAA;;AACA,QAAA,IAAA,SAAA,CAAA,GAAA,EAAA,IAAA,OAAA,CAAA,EAAA;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA;AACA,YAAA,QAAA,IAAA,EAAA,IAAA,IAAA,EAAA,GAAA,KAAA,GAAA,KAAA;AACA,YAAA,MAAA,CAAA,EAAA,QAAA,KAAA;AACA,YAAA,MAAA,MAAA,IAAA,IAAA,GAAA,CAAA;AACA,YAAA,QAAA,uBAAA,GAAA,GAAA,WAAA,GAAA,KAAA;AACA,YAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,KAAA;AACA;;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,EAAA,CAAA,qBAAA,EAAA,UAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA;;AACA,QAAA,EAAA,iBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AAAA;AAAA;;AACA,MAAA,iBAAA,EAAA,MAAA,CAAA;AACA,aAAA,8BADA;AAEA,iBAAA,EAFA;AAEA,aAAA,GAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,WAAA;AAAA,YAAA,iBAAA;AAAA,YAAA;AAAA;AAHA,KAAA,EAIA,EAJA,CAIA,aAJA,EAIA,YAAA;AAAA;AAAA,KAJA;AAKA,GAvgQA,CAygQA;;;AACA,IAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AAAA,gBAAA,KAAA;AAAA,GAAA;AACA,IAAA,cAAA,EAAA,MAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,WAAA,EADA,CAEA;;AACA;AACA,SAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAJA,CAKA;;AACA,QAAA,OAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,SAAA,KAAA,GAAA,EAAA,CAPA,CAOA;;AACA,QAAA,SAAA,IAAA,UAAA,EAAA;AACA,QAAA,MAAA,IAAA,KAAA,EAAA,CATA,CAUA;;AACA,QAAA,MAAA,GAAA,YAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,SAAA;AACA,uBAAA,CAAA,cAAA,KAAA;AACA,cAAA,OAAA,CAAA,WAAA;AACA,KAJA;;AAKA,WAAA,SAAA,GAAA,YAAA;AAAA,UAAA,GAAA,GAAA,OAAA,MAAA;AAAA,KAAA;;AACA,WAAA,aAAA,CAAA,IAAA;AACA,GAlBA;;AAoBA,WAAA,gBAAA,CAAA,KAAA,EAAA;AACA,QAAA,YAAA,IAAA,YAAA,CAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,SAAA,CAAA;AACA,QAAA,OAAA,UAAA,IAAA;AACA,MAAA,8BAAA,EAAA,MAAA;AACA,MAAA,8BAAA,EAAA,MAAA;AACA,MAAA,iBAAA,EAAA,OAAA;AACA,QAAA,SAAA,EAAA;AAAA,QAAA,UAAA,EAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,EAAA,CAAA,CAAA,CAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AAAA;AAAA;;AACA,UAAA,KAAA,QAAA,EAAA;AAAA;AAAA;;AACA,UAAA,IAAA,CAAA,IAAA,IAAA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,KAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,IAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,IAAA,CAAA,CAAA;AACA,aAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;AACA,KAPA;AAQA,QAAA,OAAA,KAAA,QAAA,CAAA,MAAA,EAAA,KAAA,CAAA;AACA,cAAA,IAAA,UAAA,CAAA,OAAA,MAAA,CAAA;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,UAAA,KAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,SAAA,QAAA,CAAA,CAAA,GAAA,IAAA,GAAA,QAAA,CAAA,CAAA,GAAA,IAAA,GAAA,QAAA,CAAA,CAAA,GAAA,GAAA;AACA,UAAA,MAAA,MAAA,GAAA,CAAA;;AACA,UAAA,QAAA,OAAA,CAAA,GAAA,MAAA,CAAA,CAAA,EAAA;AAAA,gBAAA,IAAA,CAAA,GAAA;AAAA;;AACA,eAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,GADA,EACA,MAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GADA,EACA,IADA,CACA,QADA,EACA,CADA,EAEA,IAFA,CAEA,MAFA,EAEA,GAFA,EAEA,IAFA,CAEA,QAFA,EAEA,GAFA;AAGA,KARA;AASA,aAAA,SAAA,CAAA,MAAA,EAAA,EAAA,CAAA,OAAA,EAAA,eAAA;AACA,YAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,GAAA,GAAA,CAAA,CAAA,EAAA,CAAA,GAAA,GAAA,GAAA,CAAA,CAAA,EAAA,CAAA;AAAA,KAAA,EAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,mBAAA,EAAA,MAAA,CAAA,gCAAA,EAAA,MAAA,CAAA,CAAA,CAAA,GAAA,6BAAA,GAAA,CAAA,GAAA,MAAA;AACA,KAFA;AAGA,MAAA,YAAA,EAAA,KAAA,CAAA,WAAA;AACA;;AAEA,WAAA,eAAA,GAAA;AACA,QAAA,QAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA,MAAA,MAAA,MAAA,KAAA,CAAA,CAAA,CAAA,EAAA,KAAA;AACA;;AAEA,WAAA,WAAA,GAAA;AACA,aAAA,SAAA,CAAA,eAAA,EAAA,OAAA,CAAA,cAAA,EAAA,CAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;;AACA,QAAA,GAAA,OAAA,CAAA,eAAA,CAAA,EAAA;AACA,SAAA,OAAA,CAAA,eAAA,EAAA,CAAA;AACA,KAFA,MAEA;AACA,QAAA,gBAAA,EAAA,WAAA,CAAA,eAAA;AACA,SAAA,OAAA,CAAA,eAAA,EAAA,CAAA;AACA,QAAA,4BAAA,EAAA,WAAA,CAAA,cAAA;AACA,QAAA,oBAAA,EAAA,IAAA,CAAA,CAAA;;AACA,UAAA,GAAA,IAAA,CAAA,aAAA,CAAA,EAAA;AACA,YAAA,SAAA,GAAA,IAAA,CAAA,aAAA,CAAA;AACA,UAAA,kCAAA,MAAA,GAAA,IAAA,EAAA,QAAA,CAAA,cAAA;AACA,UAAA,oBAAA,EAAA,IAAA,CAAA,MAAA;AACA;;AACA,UAAA,UAAA,MAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;;AACA,eAAA,SAAA,CAAA,MAAA,EAAA,OAAA,CAAA,cAAA,EAAA,CAAA;AACA,eAAA,SAAA,CAAA,gBAAA,OAAA,GAAA,IAAA,EAAA,OAAA,CAAA,cAAA,EAAA,CAAA;AACA;AACA;;AAEA,WAAA,UAAA,GAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,QAAA,SAAA,GAAA,IAAA,CAAA,YAAA,CAAA;AACA,MAAA,oBAAA,EAAA,IAAA,CAAA,MAAA;AACA,MAAA,4BAAA,EAAA,WAAA,CAAA,cAAA;AACA,OAAA,OAAA,CAAA,cAAA,EAAA,CAAA;AACA;;AAEA,WAAA,YAAA,GAAA;AACA,QAAA,MAAA,EAAA,gBAAA,EAAA,CAAA,CAAA;AACA,QAAA,SAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,QAAA,MAAA,MAAA,IAAA,SAAA,GAAA,CAAA;AACA,QAAA,MAAA,MAAA,GAAA,CAAA;AACA,QAAA,KAAA,CAAA,eAAA,GAAA,GAAA;AACA,QAAA,YAAA,CAAA,aAAA,EAAA,MAAA;AACA,QAAA,MAAA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,GAAA,IAAA,MAAA,CAAA,CAAA,CAAA;AACA,aAAA,SAAA,CAAA,eAAA,EAAA,IAAA,CAAA,YAAA;AACA,SAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AACA,UAAA,IAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,QAAA,CAAA;AACA,cAAA,CAAA,IAAA,MAAA;AACA,KAJA;AAKA,QAAA,SAAA,IAAA,UAAA;;AACA,QAAA,OAAA,EAAA,KAAA,kBAAA,EAAA;AACA,qBAAA,WAAA,CAAA,GAAA;AACA,QAAA,iBAAA,EAAA,MAAA;;AACA,UAAA,EAAA,8BAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AAAA,UAAA,mBAAA,EAAA,OAAA;AAAA;AACA;;AACA,QAAA,EAAA,4BAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AAAA;AAAA;AACA,GAvnQA,CAynQA;;;AACA,WAAA,kBAAA,GAAA;AACA,QAAA,OAAA,EAAA;AACA,QAAA,SAAA,GAAA,MAAA,CAAA,iBAAA,EAAA,SAAA,CAAA,YAAA,CAAA;AACA,WAAA,IAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,SAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,aAAA,CAAA;AACA,WAAA,IAAA,CAAA;AAAA,cAAA;AAAA;AAAA,OAAA;AACA,KAJA;AAKA,SAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,GAAA,EAAA,MAAA;AAAA,KAAA,EAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,iBAAA,EAAA,MAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA;AACA,KAFA;AAGA,GAroQA,CAuoQA;;;AACA,WAAA,UAAA,CAAA,IAAA,EAAA;AACA,QAAA,YAAA,IAAA,YAAA,CAAA,CAAA,EAAA,CAAA,EAAA,QAAA,EAAA,SAAA,CAAA;AACA,QAAA,OAAA,UAAA,IAAA;AACA,MAAA,8BAAA,EAAA,MAAA;AACA,MAAA,iBAAA,EAAA,MAAA;AACA,MAAA,mBAAA,EAAA,OAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,SAAA,EAAA;AACA,UAAA,KAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,IAAA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,KAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,IAAA,CAAA,CAAA;AAAA,UAAA,IAAA,KAAA,IAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,SAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,GAAA,CAAA;;AACA,UAAA,SAAA,KAAA,EAAA;AACA,YAAA,aAAA,GAAA,UAAA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,EAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,aAAA,GAAA,UAAA,IAAA,CAAA,EAAA,CAAA,EAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA;;AACA,UAAA,MAAA,MAAA,IAAA,UAAA,CAAA;AACA,UAAA,MAAA,MAAA,GAAA,CAAA;AACA,cAAA,CAAA,IAAA,aAAA,GAAA;AACA,eAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,MAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,QAAA,EAAA,GAAA;AACA,KAhBA;;AAiBA,QAAA,SAAA,mBAAA,IAAA,GAAA,CAAA,OAAA,CAAA,EAAA,IAAA,EAAA;;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,MAAA,MAAA,IAAA,IAAA,GAAA,CAAA;AACA,UAAA,MAAA,MAAA,GAAA,CAAA;AACA,QAAA,iBAAA,EAAA,MAAA,CAAA,gCAAA,IAAA,MAAA,CAAA,CAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,6BAAA,GAAA,GAAA,GAAA,MAAA;AACA,KAJA;AAKA,MAAA,YAAA,EAAA,KAAA,CAAA,WAAA;AACA;;AAEA,WAAA,SAAA,CAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,QAAA,aAAA,CAAA,MAAA,GAAA,KAAA,MAAA,GAAA,CAAA;;AACA,QAAA,aAAA,CAAA,EAAA;AAAA,mBAAA,CAAA;AAAA;;AACA,QAAA,aAAA,CAAA,EAAA;AAAA,mBAAA,CAAA;AAAA;;AACA,WAAA,UAAA;AACA;;AAEA,WAAA,kBAAA,GAAA;AACA;AACA;AACA,MAAA,YAAA,EAAA,MAAA;AACA,MAAA,oCAAA,EAAA,OAAA;AACA,SAAA,IAAA,CAAA,cAAA,EAAA,EAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,eAAA,KAAA,GAAA,oBAAA,SAAA,GAAA,CAAA,CANA,CAOA;;AACA,YAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,IAAA;AACA,MAAA,iBAAA,EAAA,MAAA,CAAA,OAAA;AACA,GAzrQA,CA2rQA;;;AACA,WAAA,MAAA,GAAA;AACA,YAAA,SAAA,CAAA,2CAAA,EAAA,MAAA;AACA,SAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,aAAA,MAAA,CAAA,MAAA,EAAA,MAAA;AACA,YAAA,EAAA,EAAA,OAAA,EAAA,EAAA,aAAA,EAAA,EAAA,SAAA,EAAA,EAAA,SAAA,EAAA,EAAA,WAAA,EAAA,EAAA,QAAA,EAAA;AACA,GAjsQA,CAmsQA;;;AACA,WAAA,kBAAA,GAAA;AACA,oBAAA,CAAA;AACA,QAAA,uFAAA,EAAA,IAAA;AACA,MAAA,SAAA,EAAA,WAAA,CAAA,WAAA,EAAA,QAAA,CAAA,MAAA;AACA;AACA,oBAAA,SAAA,GAAA,GAAA;AACA,MAAA,OAAA,EAAA,MAAA;AACA,MAAA,aAAA,EAAA,WAAA,CAAA,WAAA;AACA;AACA,MAAA,oBAAA,EAAA,SAAA;AACA,MAAA,aAAA,EAAA,OAAA;AACA,GA/sQA,CAitQA;;;AACA,WAAA,iBAAA,GAAA;AACA,oBAAA,CAAA;AACA,QAAA,EAAA,EAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,CAAA;AACA,MAAA,oBAAA,EAAA,OAAA;AACA,MAAA,SAAA,EAAA,QAAA,CAAA,WAAA,EAAA,WAAA,CAAA,MAAA;AACA,MAAA,WAAA,EAAA,KAAA;AACA,MAAA,OAAA,EAAA,KAAA,GAAA,OAAA;AACA,MAAA,aAAA,EAAA,QAAA,CAAA,WAAA;AACA;;AACA,QAAA,CAAA,EAAA,eAAA,EAAA,QAAA,CAAA,WAAA,CAAA,EAAA;AAAA;AAAA;;AACA;AACA,cAAA,EAAA;AACA,mBAAA,CAAA;AACA,MAAA,qBAAA,EAAA,OAAA;AACA,MAAA,aAAA,EAAA,SAAA;AACA,UAAA,SAAA,CAAA,sBAAA,EAAA,MAAA;AACA,GAnuQA,CAquQA;;;AACA,WAAA,aAAA,GAAA;AACA,QAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA,iBAAA,EAAA,KAAA;AACA,QAAA,QAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAAA,EAAA,kBAAA,EAAA,KAAA;AACA,iBAAA,KAAA,GAAA,iBAAA;AACA,MAAA,gBAAA,EAAA,KAAA;AACA,MAAA,kBAAA,EAAA,QAAA,GAAA,WAAA,CAAA,iFAAA;AACA,QAAA,YAAA,CAAA;AAAA,QAAA,aAAA,CAAA;AAAA,QAAA,IAAA;AAAA,QAAA,QAAA;;AACA,QAAA,SAAA,KAAA,KAAA,QAAA,EAAA;AAAA,aAAA,MAAA,aAAA,KAAA,GAAA,GAAA;AAAA,KAAA,MAAA;AAAA,aAAA,MAAA,SAAA,KAAA;AAAA;;AACA,QAAA,kBAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,QAAA,gBAAA,EAAA,MAAA,CAAA,kCAAA,CAAA,GAAA,UAAA;AACA,UAAA,KAAA,EAAA,+BAAA,CAAA;AACA,UAAA,aAAA,OAAA,CAAA,EAAA,KAAA;AACA,oBAAA,UAAA,CAJA,CAKA;;AACA,UAAA,OAAA,GAAA,OAAA,CAAA,EAAA,IAAA,GAAA,KAAA,GAAA,CAAA,cAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACA,mBAAA,IAAA;AACA,iBAAA,GAAA,IAAA,IAAA,IAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,aAAA,CAAA,QAAA,KAAA,IAAA,IAAA;AACA,yBAAA,UAAA;AACA,UAAA,iBAAA,GAAA,UAAA,CAAA;AACA,UAAA,QAAA,yBAAA,cAAA,GAAA,sBAAA,GAAA,KAAA,GAAA,uBAAA,GAAA,KAAA,GAAA,KAAA;AACA,UAAA,UAAA,OAAA,CAAA,EAAA,KAAA,KAAA,SAAA,IAAA,OAAA,CAAA,EAAA,OAAA,KAAA,SAAA,CAfA,CAgBA;;AACA,UAAA,CAAA,OAAA,EAAA;AACA,WAAA,MAAA,CAAA,yGAAA,OAAA,CAAA,EAAA,KAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,mGAAA,OAAA,CAAA,EAAA,IAAA,GAAA,0CAAA;AACA,YAAA,UAAA,OAAA,CAAA,EAAA,OAAA,KAAA,QAAA,GAAA,OAAA,OAAA,CAAA,EAAA,OAAA,EAAA,IAAA,GAAA,QAAA;;AACA,YAAA,YAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,uIAAA,CAAA,GAAA,qBAAA;AACA,SAFA,MAEA;AACA,aAAA,MAAA,CAAA,wGAAA;AACA,aAAA,MAAA,CAAA,sGAAA,OAAA,GAAA,0CAAA;AACA;;AACA,WAAA,MAAA,CAAA,sHAAA;AACA,WAAA,MAAA,CAAA,8JAAA,OAAA,CAAA,EAAA,KAAA,GAAA,KAAA;AACA,OAZA,MAYA;AACA,WAAA,MAAA,CAAA,+DAAA;AACA,WAAA,MAAA,CAAA,kJAAA,CAAA,GAAA,WAAA,GAAA,OAAA,CAAA,EAAA,IAAA,GAAA,0CAAA;AACA,WAAA,MAAA,CAAA,mDAAA;AACA,WAAA,MAAA,CAAA,2CAAA;AACA,WAAA,MAAA,CAAA,2DAAA;AACA,WAAA,MAAA,CAAA,4DAAA;AACA;;AACA,SAAA,MAAA,CAAA,2EAAA;AACA,SAAA,MAAA,CAAA,gEAAA,OAAA,CAAA,EAAA,KAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,2IAAA;AACA,SAAA,MAAA,CAAA,0FAAA,UAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,6CAAA,OAAA,IAAA,IAAA,4DAAA;AACA,SAAA,MAAA,CAAA,4CAAA,OAAA,IAAA,IAAA,yBAAA,GAAA,QAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,4BAAA,KAAA,GAAA,8BAAA;AACA,SAAA,MAAA,CAAA,6BAAA,KAAA,GAAA,oCAAA,GAAA,cAAA,GAAA,IAAA;;AACA,UAAA,CAAA,OAAA,EAAA;AACA,WAAA,MAAA,CAAA,sHAAA;AACA,WAAA,IAAA,CAAA,cAAA,EAAA,OAAA,CAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,EAAA,OAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,EAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,OAAA,CAAA,EAAA,KAAA,EACA,IADA,CACA,YADA,EACA,OAAA,CAAA,EAAA,KADA,EACA,IADA,CACA,WADA,EACA,IADA,EACA,IADA,CACA,iBADA,EACA,UADA;AAEA,OAJA,MAIA;AACA,WAAA,IAAA,CAAA,cAAA,EAAA,QAAA,EAAA,IAAA,CAAA,cAAA,EAAA,QAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,QAAA,EAAA,IAAA,CAAA,YAAA,EAAA,OAAA,CAAA,EAAA,KAAA,EACA,IADA,CACA,YADA,EACA,OAAA,CAAA,EAAA,KADA,EACA,IADA,CACA,WADA,EACA,IADA,EACA,IADA,CACA,iBADA,EACA,UADA;AAEA;AACA,KA9DA,CA+DA;;;AACA,QAAA,CAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,kBAAA,EAAA,MAAA,CAAA;AACA,eAAA,kBADA;AAEA,mBAAA,MAFA;AAEA,kBAAA,KAAA,GAAA,CAAA,QAAA,EAAA,GAAA,CAFA;AAGA,kBAAA;AAAA,cAAA,WAAA;AAAA,cAAA,iBAAA;AAAA,cAAA;AAAA;AAHA,OAAA,EAIA,EAJA,CAIA,aAJA,EAIA,YAAA;AACA,YAAA,kBAAA,CAAA,IAAA,kBAAA,CAAA,EAAA;AACA,YAAA,0BAAA,EAAA,KAAA;AACA;AACA,OARA;AASA,KA1EA,CA2EA;;;AACA,QAAA,kBAAA,CAAA,EAAA;AACA,QAAA,6DAAA,EAAA,WAAA,CAAA,QAAA;AACA,QAAA,yDAAA,EAAA,QAAA,CAAA,QAAA;AACA,KAHA,MAGA;AACA,QAAA,6DAAA,EAAA,QAAA,CAAA,QAAA;AACA,QAAA,yDAAA,EAAA,WAAA,CAAA,QAAA;AACA,KAlFA,CAmFA;;;AACA,6BAAA,SAAA,GAAA,OAAA,MAAA;;AACA,QAAA,OAAA,OAAA,MAAA,GAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AAAA,+BAAA,SAAA,GAAA,OAAA,MAAA,GAAA,CAAA;AAAA;;AACA,yBAAA,SAAA,GAAA,UAAA;AACA,wBAAA,SAAA,GAAA,GAAA,SAAA,IAAA,IAAA;AACA,8BAAA,SAAA,GAAA,GAAA,eAAA,CAAA,CAxFA,CAyFA;;AACA,MAAA,wBAAA,EAAA,KAAA,CAAA,YAAA,EAAA,YAAA;AACA,MAAA,UAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,UAAA,OAAA,CAAA,EAAA,OAAA;AACA,UAAA,IAAA,OAAA,MAAA,CAAA,eAAA,OAAA,GAAA,IAAA,CAAA;AACA,UAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AAAA,UAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,aAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA;AACA,KANA;AAOA,MAAA,YAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,aAAA,MAAA,CAAA,iBAAA,CAAA,EAAA,IAAA,CAAA,KAAA,KAAA;;AACA,UAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,KAAA,CAAA,EAAA;AACA,cAAA,UAAA,0FAAA,OAAA,CAAA,EAAA,KAAA,GAAA,KAAA;;AACA,YAAA,sDAAA,EAAA,IAAA,CAAA,cAAA,KAAA,KAAA,EAAA,OAAA,CAAA,OAAA;AACA;AACA;AACA,KAVA;AAWA,MAAA,uBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,KAAA,GAAA,KAAA,KAAA;AACA,cAAA,SAAA,CAAA,YAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;;AACA,UAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,KAAA,CAAA,EAAA;AACA,YAAA,gCAAA,EAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA;AACA,KATA;AAUA,MAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,UAAA,OAAA,CAAA,EAAA,OAAA;AACA,aAAA,OAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,aAAA,MAAA,CAAA,eAAA,OAAA,GAAA,IAAA,EAAA,IAAA,CAAA,KAAA,KAAA;;AACA,UAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,KAAA,CAAA,EAAA;AACA,YAAA,WAAA,OAAA,GAAA,cAAA,EAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA;AACA,KAVA,EAUA,KAVA,CAUA,YAVA,EAUA,OAVA;AAWA,MAAA,0BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,UAAA,EAAA,OAAA;AAEA,MAAA,0BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,UAAA,WAAA,EAAA,WAAA,CAAA,UAAA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,UAAA;AACA,YAAA,QAAA,CAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,UAAA,OAAA,KAAA,EAAA,KAAA;;AACA,YAAA,YAAA,SAAA,EAAA;AAAA,oBAAA,OAAA;AAAA;;AACA,YAAA,MAAA,SAAA,CAAA,SAAA,EAAA,IAAA,EAAA,EAAA,MAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,OAAA;AACA;AACA,KATA;AAWA,MAAA,gBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,EAAA,IAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,WAAA,CAAA,SAAA;AACA,gBAAA,YAAA,CAAA,WAAA,EAAA,EAAA;AACA;AACA,OAJA,MAIA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,SAAA;AACA,gBAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,aAAA;AACA,YAAA,oDAAA,EAAA,IAAA;AACA;AACA,KAVA;;AAYA,aAAA,aAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,SAAA,KAAA,CAAA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA,CAAA,CAAA,EAAA,CAAA,CAAA;;AAEA,UAAA,MAAA,KAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,uDAAA;AACA;AACA;;AACA,UAAA,QAAA,CAAA,EAAA,wBAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,eAAA,EAAA,EAAA,CAAA;AACA,UAAA,WAAA,MAAA,KAAA,EAAA,MAAA;;AACA,UAAA,aAAA,SAAA,EAAA;AAAA,mBAAA,OAAA,MAAA,GAAA,CAAA;AAAA;;AACA,UAAA,MAAA,KAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AACA;AACA,YAAA,OAAA,MAAA,KAAA,EAAA,KAAA;;AACA,YAAA,OAAA,QAAA,EAAA,OAAA,KAAA,IAAA,EAAA;AACA,cAAA,+EAAA;AACA;AACA,SAHA,MAGA;AACA;AACA,cAAA,cAAA,GAAA,CAFA,CAEA;;AACA,iBAAA,IAAA,EAAA,MAAA,GAAA,KAAA;;AACA,cAAA,aAAA,SAAA,EAAA;AAAA,mBAAA,IAAA,EAAA,UAAA,IAAA,IAAA,WAAA;AAAA;;AACA,iBAAA,IAAA,EAAA,UAAA,IAAA,CAAA,CALA,CAKA;;AACA,iBAAA,KAAA,EAAA,OAAA,GAAA,IAAA;AACA,0BAAA,IAAA,EAAA,UAAA;AACA;AACA,OAfA,MAeA;AACA;AACA,YAAA,UAAA,YAAA,IAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,UAAA,YAAA,IAAA,GAAA,OAAA,CAAA,OAAA,KAAA,CAAA;AACA,YAAA,OAAA,aAAA,OAAA,CAAA;AACA,YAAA,IAAA,OAAA,MAAA;AACA,cAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,eAAA,KAAA,EAAA,OAAA,GAAA,CAAA;AACA,YAAA,QAAA,MAAA,KAAA,EAAA,KAAA;;AACA,YAAA,SAAA,CAAA,EAAA;AAAA,kBAAA,GAAA,KAAA,MAAA,EAAA,EAAA,CAAA,CAAA;AAAA;;AACA,YAAA,MAAA,KAAA,EAAA,SAAA,EAAA;AAAA,mBAAA,MAAA,KAAA,EAAA,SAAA;AAAA,SAVA,CAUA;;;AACA,YAAA,MAAA,KAAA,EAAA,UAAA,EAAA;AAAA,mBAAA,KAAA,GAAA,CAAA,MAAA,KAAA,EAAA,UAAA,EAAA,GAAA,CAAA;AAAA,SAXA,CAWA;;;AACA,YAAA,MAAA,KAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AAAA,mBAAA,CAAA;AAAA,SAZA,CAYA;;;AACA,YAAA,cAAA,GAAA,KAAA,EAAA,CAAA,CAAA;;AACA,eAAA,IAAA,CAAA;AAAA,cAAA;AAAA,gBAAA,KAAA;AAAA,cAAA;AAAA,cAAA;AAAA,kBAAA,KAAA;AAAA,0BAAA;AAAA,oBAAA;AAAA;AAAA,SAAA;AACA,kBAAA,MAAA,CAAA,WAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA,mBAAA,MAAA,CAAA,WAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,SAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,QAAA;AACA;;AACA,YAAA,KAAA,EAAA,MAAA,GAAA,KAAA;AACA,YAAA,KAAA,EAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AAAA;AAAA;;AACA,YAAA,MAAA,CAAA,EAAA,KAAA,KAAA,SAAA,EAAA;AAAA;AAAA;;AACA,cAAA,CAAA,EAAA,MAAA,GAAA,KAAA;AACA,OAJA;AAKA;AACA,2BAAA,QAAA,EApDA,CAoDA;;AACA,2BAAA,KAAA,EArDA,CAqDA;;AACA;AACA;AACA;;AAEA,MAAA,aAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,KAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA,KAJA;AAKA,MAAA,kBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,CAAA,EAAA,IAAA,EAAA,MAAA,GAAA,IAAA,CAAA,iBAAA,CAAA;AACA,UAAA,SAAA,WAAA,KAAA,KAAA,CAAA;;AACA,UAAA,CAAA,OAAA,SAAA,CAAA,MAAA,CAAA,IAAA,SAAA,IAAA,EAAA;AACA,aAAA,KAAA,GAAA,GAAA,KAAA,CAAA;AACA;AACA;;AACA,UAAA,SAAA,SAAA,KAAA;AACA,aAAA,CAAA,EAAA,eAAA,GAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,eAAA,GAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,aAAA,CAAA,QAAA,KAAA,IAAA,IAAA;AACA,QAAA,IAAA,EAAA,MAAA,GAAA,IAAA,CAAA,iBAAA,EAAA,UAAA;AACA,WAAA,KAAA,GAAA,GAAA,UAAA,CAAA;AACA,UAAA,QAAA,CAAA;AACA,QAAA,sBAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,iBAAA,CAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,CAAA;AACA,OAFA;AAGA,gCAAA,SAAA,GAAA,GAAA,KAAA,CAAA;;AACA,UAAA,OAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AAAA,YAAA,SAAA;AAAA;;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,CAAA,EAAA;AAAA;AAAA;;AACA,UAAA,UAAA,GAAA,GAAA,EAAA,UAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,OAHA;AAIA,KA1BA,EA1NA,CAqPA;;AACA,MAAA,kCAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,mBAAA,SAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,gBAAA;AAAA,iBAAA;AACA,kBAAA,kBAAA;AAAA,0BAAA,CAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA,WADA;AAEA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAFA;AAAA,OAAA;AAIA,KAPA;;AASA,aAAA,aAAA,CAAA,CAAA,EAAA;AACA,UAAA,aAAA,OAAA,CAAA,EAAA,KAAA;AACA,UAAA,UAAA,CAAA,OAAA,CAAA,EAAA,OAAA;AACA,UAAA,CAAA,MAAA,OAAA,CAAA,EAAA,gBAAA,OAAA,EAAA,OAAA;AACA,aAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,UAAA,CAAA,GAAA,CAAA;AAAA,OAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,CAAA,EAAA,EAAA,MAAA,GAAA,SAAA,CAAA,KACA,IAAA,EAAA,MAAA,GAAA,CAAA,EAAA,EAAA,MAAA,IAAA,CAAA;AACA,OAHA,EANA,CAUA;;AACA,UAAA,UAAA,EAAA;AACA,eAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,cAAA,EAAA,MAAA,KAAA,CAAA,EAAA,EAAA,MAAA,GAAA,SAAA;AAAA,SAAA,EADA,CAEA;;AACA,YAAA,IAAA,OAAA,MAAA;;AACA,YAAA,OAAA,IAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AACA,iBAAA,IAAA,CAAA;AAAA,gBAAA;AAAA,mBAAA,SAAA;AAAA,kBAAA,UAAA;AAAA,qBAAA;AAAA,WAAA;AACA;;AACA,6BAAA,IAAA,CAAA,EAPA,CAOA;;AACA;AACA;;AACA;AACA;;AAEA,MAAA,4CAAA,EAAA,EAAA,CAAA,QAAA,EAAA,mBAAA;AACA,GA9/QA,CAggRA;;;AACA,WAAA,SAAA,CAAA,OAAA,EAAA,CAAA,EAAA;AACA,QAAA,MAAA,SAAA,EAAA;AAAA,UAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AAAA;;AACA,MAAA,cAAA,EAAA,IAAA,CAAA,YAAA,EAAA,CAAA;AACA,MAAA,YAAA,EAAA,KAAA;AACA,MAAA,cAAA,EAAA,QAAA,GAAA,WAAA,CAAA,iFAAA;AACA,QAAA,SAAA,OAAA,CAAA,EAAA,OAAA,KAAA,SAAA,GAAA,SAAA,GAAA,CAAA;AACA,QAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AACA,aAAA,EAAA,MAAA,KAAA,MAAA;AACA,KAFA,CAAA;AAGA,QAAA,kBAAA,EAAA;AACA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,YAAA,EAAA,MAAA,CAAA,kCAAA,EAAA,CAAA,GAAA,UAAA;AACA,UAAA,KAAA,EAAA,2BAAA,CAAA;AACA,SAAA,MAAA,CAAA,uGAAA;AACA,SAAA,MAAA,CAAA,gFAAA,EAAA,IAAA,GAAA,0CAAA;AACA,SAAA,MAAA,CAAA,iFAAA;AACA,SAAA,MAAA,CAAA,mDAAA,SAAA,EAAA,OAAA,EAAA,IAAA,GAAA,QAAA;AACA,UAAA,aAAA,EAAA,UAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;AACA,sBAAA,IAAA,CAAA,UAAA;AACA,mBAAA,aAAA,GAAA,GAAA,GAAA,UAAA,CAAA,GAAA,GAAA,UAAA,EAAA,CAAA,CAAA,CAAA;AACA,SAAA,MAAA,CAAA,oDAAA;AACA,SAAA,MAAA,CAAA,8EAAA,UAAA,GAAA,KAAA;AACA,UAAA,UAAA,OAAA,CAAA,EAAA,OAAA;AACA,UAAA,OAAA,QAAA,CAbA,CAaA;;AACA,UAAA,EAAA,CAAA,KAAA,OAAA,EAAA;AAAA,WAAA,MAAA,CAAA,uDAAA;AAAA,eAAA,WAAA;AAAA,OAAA,MACA;AAAA,WAAA,MAAA,CAAA,mDAAA;AAAA;;AACA,UAAA,MAAA,EAAA,IAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AACA,WAAA,MAAA,CAAA,sDAAA;;AACA,YAAA,SAAA,WAAA,EAAA;AAAA,iBAAA,gBAAA;AAAA,SAAA,MAAA;AAAA,iBAAA,QAAA;AAAA;AACA,OAHA,MAGA;AACA,WAAA,MAAA,CAAA,+CAAA;AACA;;AACA,UAAA,EAAA,CAAA,KAAA,OAAA,EAAA;AAAA,WAAA,MAAA,CAAA,4DAAA;AAAA;;AACA,SAAA,IAAA,CAAA,WAAA,EAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,EAAA,SAAA,EAAA,OAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,EAAA,EAAA,UAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,KAxBA;;AAyBA,QAAA,CAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,cAAA,EAAA,MAAA,CAAA;AACA,eAAA,cAAA,OAAA,CAAA,EAAA,IADA;AAEA,mBAAA,MAFA;AAEA,eAAA,MAFA;AAGA,kBAAA;AAAA,cAAA,cAAA;AAAA,cAAA,oBAAA;AAAA,cAAA;AAAA;AAHA,OAAA;;AAKA,UAAA,UAAA,0FAAA,OAAA,CAAA,EAAA,KAAA,GAAA,KAAA;;AACA,UAAA,WAAA,SAAA,EAAA;AAAA,UAAA,sDAAA,EAAA,OAAA,CAAA,OAAA;AAAA;AACA,KA3CA,CA4CA;;;AACA,qBAAA,SAAA,GAAA,MAAA,MAAA;AACA,uBAAA,SAAA,GAAA,EAAA,yCAAA,EAAA,IAAA,EAAA;AACA,QAAA,QAAA,GAAA,GAAA,IAAA,CAAA,eAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,0BAAA,KAAA,GAAA,KAAA;AACA,MAAA,UAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,OAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,CAAA;AACA,UAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AAAA,UAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,aAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA;AACA,KALA;AAOA,MAAA,kBAAA,EAAA,KAAA,CAAA,SAAA,EAAA,OAAA;AAEA,MAAA,kBAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,CAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,UAAA,SAAA,CAAA,EAAA,IAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,SAAA,CAAA,OAAA,CAAA,EAAA,OAAA;;AACA,UAAA,WAAA,MAAA,EAAA;AACA,YAAA,gEAAA,EAAA,IAAA,EAAA,OAAA;AACA;AACA;;AACA,QAAA,gBAAA,EAAA,WAAA,CAAA,SAAA;AACA,aAAA,CAAA,EAAA,OAAA,GAAA,MAAA;AACA,UAAA,CAAA,MAAA,MAAA,CAAA,EAAA,gBAAA,MAAA,EAAA,OAAA;AACA,2BAAA,CAAA;AACA,sBAAA,MAAA,EAAA,UAAA;AACA,KAdA;AAgBA,MAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,CAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,aAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,KAAA,KAAA;;AACA,UAAA,MAAA,CAAA,IAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,WAAA,CAAA,GAAA,kBAAA,EAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA,KAPA;AAQA,MAAA,gCAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,aAAA,CAAA,EAAA,KAAA,GAAA,KAAA,KAAA;AACA,cAAA,SAAA,CAAA,YAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;;AACA,UAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,WAAA,CAAA,GAAA,gBAAA,EAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA,KANA;AAOA,MAAA,iBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,WAAA,KAAA,KAAA,CAAA;;AACA,UAAA,CAAA,OAAA,SAAA,CAAA,GAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,YAAA,OAAA,GAAA,OAAA,CAAA,EAAA,UAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA,EAAA,CAAA,CAAA;AACA,aAAA,KAAA,GAAA,GAAA,IAAA,CAAA;AACA;AACA;;AACA,sBAAA,GAAA,MAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA,EAAA,CAAA,CAAA;AACA,UAAA,SAAA,gBAAA,OAAA,CAAA,EAAA,UAAA;AACA,aAAA,CAAA,EAAA,UAAA,GAAA,aAAA;AACA,QAAA,IAAA,EAAA,MAAA,GAAA,IAAA,CAAA,iBAAA,EAAA,aAAA;AACA,WAAA,KAAA,GAAA,GAAA,GAAA,CAAA;AACA,UAAA,QAAA,OAAA,CAAA,EAAA,MAAA;;AACA,UAAA,UAAA,SAAA,EAAA;AAAA,gBAAA,OAAA,MAAA,GAAA,CAAA;AAAA;;AACA,aAAA,KAAA,EAAA,eAAA,IAAA,MAAA;AACA,gCAAA,KAAA;AACA,UAAA,UAAA,OAAA,KAAA,EAAA,eAAA,GAAA,OAAA,KAAA,EAAA,KAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;AACA,4BAAA,KAAA,GAAA,GAAA,OAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAnBA;AAoBA,MAAA,wBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,QAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,UAAA,SAAA,CAAA,KAAA,KAAA;AACA,UAAA,QAAA,OAAA,KAAA,EAAA,eAAA,GAAA,OAAA,KAAA,EAAA,KAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;;AACA,UAAA,CAAA,OAAA,SAAA,CAAA,MAAA,CAAA,IAAA,SAAA,EAAA,EAAA;AAAA,aAAA,KAAA,GAAA,GAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AAAA;AAAA;;AACA,UAAA,SAAA,CAAA,KAAA,KAAA,GAAA,KAAA;AACA,QAAA,kBAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,GAAA,OAAA,CAAA,EAAA,UAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,eAAA,CAAA,EAAA,UAAA,GAAA,GAAA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,EAAA,GAAA;AACA,YAAA,QAAA,MAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;AACA,gBAAA,QAAA,GAAA,GAAA,GAAA,KAAA,CAAA,GAAA,GAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,iBAAA,EAAA,GAAA,CAAA,KAAA;AACA,OARA;AASA,aAAA,KAAA,EAAA,eAAA,GAAA,GAAA,OAAA,KAAA,EAAA,eAAA,GAAA,MAAA,EAAA,CAAA,CAAA;AACA,gCAAA,KAAA;AACA,KAjBA;AAkBA,MAAA,8BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,SAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,aAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,QAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,cAAA,WAAA,CAAA,EAAA,MAAA;AACA,gBAAA,OAAA,OAAA,CAAA,EAAA,IAAA;AACA,mBAAA,CAAA,EAAA,MAAA,GAAA,SAAA;AACA,kBAAA,IAAA,EAAA,KAAA,GAAA,SAAA;AACA,mBAAA,KAAA,EAAA,KAAA,GAAA,OAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,6BAAA,SAAA,GAAA,OAAA,KAAA,EAAA,KAAA;AACA,iCAAA,SAAA,GAAA,CAAA,qBAAA,SAAA,GAAA,CAAA;AACA,mBAAA,KAAA,EAAA,eAAA,GAAA,OAAA,KAAA,EAAA,eAAA,GAAA,OAAA,CAAA,EAAA,UAAA;AACA,gBAAA,QAAA,OAAA,KAAA,EAAA,eAAA,GAAA,OAAA,KAAA,EAAA,KAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,GAAA,IAAA;AACA,kCAAA,KAAA,GAAA,GAAA,KAAA,EAAA,CAAA,CAAA,CAAA;;AACA,gBAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,WAAA,KAAA,GAAA,gBAAA,EAAA,IAAA,CAAA,OAAA,KAAA,EAAA,KAAA;AACA;;AACA,mBAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,EAAA,MAAA;AACA,kBAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,EAAA,MAAA;AACA,WAnBA;AAoBA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AApBA;AADA,OAAA;AAwBA,KA3BA;AA4BA,GA5pRA,CA8pRA;;;AACA,WAAA,YAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,MAAA,CAAA,iBAAA,CAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA,aAAA,sBAAA,CAAA,WAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CAAA,MAAA,GAAA,KAAA;AACA,aAAA,sBAAA,CAAA,WAAA,CAAA,EAAA,CAAA,EAAA,YAAA,CAAA,QAAA,EAAA,aAAA;AACA;;AAEA,WAAA,YAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,MAAA,CAAA,iBAAA,CAAA,EAAA,OAAA,CAAA,MAAA,EAAA,KAAA;AACA,aAAA,sBAAA,CAAA,WAAA,CAAA,EAAA,CAAA,EAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AACA,aAAA,sBAAA,CAAA,WAAA,CAAA,EAAA,CAAA,EAAA,YAAA,CAAA,QAAA,EAAA,IAAA;AACA;;AAEA,WAAA,YAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,UAAA,OAAA,CAAA,EAAA,OAAA;AACA,WAAA,MAAA,CAAA,eAAA,OAAA,GAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA,UAAA,MAAA,CAAA,eAAA,OAAA,GAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA;;AAEA,WAAA,UAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,cAAA,EAAA,IAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AACA,aAAA,EAAA,MAAA,KAAA,CAAA;AACA,KAFA,CAAA;AAGA,gBAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA,YAAA,MAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA,KAHA;AAIA;;AAEA,WAAA,SAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,IAAA,OAAA,MAAA,CAAA,eAAA,CAAA,GAAA,IAAA,CAAA;AACA,MAAA,OAAA,CAAA,MAAA,EAAA,IAAA;AACA;;AAEA,WAAA,OAAA,GAAA;AAAA,MAAA,OAAA,EAAA,WAAA,CAAA,MAAA;AAAA,GArsRA,CAusRA;;;AACA,IAAA,SAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,UAAA,KAAA,EAAA,EAAA,EAAA;AACA,mBAAA,OAAA,CAAA,KAAA,EAAA,EAAA,CAAA,GAAA,MAAA,CAAA,IAAA,EAAA,GAAA,MAAA,CAAA,GAAA,CAAA;AACA,GAFA,EAxsRA,CA4sRA;;AACA,IAAA,SAAA,EAAA,EAAA,CAAA,YAAA,EAAA,UAAA,KAAA,EAAA,EAAA,EAAA;AACA,QAAA,MAAA,eAAA,OAAA,CAAA,KAAA,EAAA,CAAA;;AACA,QAAA,CAAA,GAAA,EAAA;AAAA;AAAA;;AACA,UAAA,IAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,IAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,KAAA,GAAA,IAAA,IAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,KAAA,EAAA,EAAA;AAAA;AAAA,KAJA,CAIA;;;AACA,QAAA,oBAAA,IAAA,CAAA,CAAA,kBAAA,IAAA,CAAA,CAAA,CAAA;AACA,MAAA,IAAA,EAAA,MAAA,CAAA,QAAA,EAAA,UAAA,EAAA;AAAA,UAAA,UAAA;AAAA,UAAA,EAAA;AAAA,UAAA;AAAA,KAAA;AACA,GAPA,EA7sRA,CAstRA;;AACA,WAAA,YAAA,GAAA;AACA,QAAA,CAAA,MAAA,SAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA,iBAAA,EAAA,KAAA;AACA,QAAA,QAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAAA,EAAA,kBAAA,EAAA,KAAA;AACA,iBAAA,KAAA,GAAA,gBAAA;AACA,MAAA,eAAA,EAAA,KAAA;AACA,MAAA,iBAAA,EAAA,QAAA,GAAA,WAAA,CAAA,iFAAA,EALA,CAOA;;AACA,QAAA,SAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,QAAA,UAAA,EAAA;AAAA,QAAA,UAAA,EAAA;AACA,QAAA,OAAA,SAAA,KAAA,KAAA,QAAA,GAAA,MAAA,aAAA,KAAA,GAAA,GAAA,GAAA,MAAA,SAAA,KAAA;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,OAAA;AACA,UAAA,MAAA,SAAA,EAAA;AACA,aAAA,CAAA,IAAA,OAAA,CAAA,IAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,YAAA,CAAA,IAAA,MAAA,CAAA,IAAA,MAAA,CAAA,IAAA,EAAA,IAAA,GAAA,EAAA,IAAA;AACA,cAAA,CAAA,IAAA,QAAA,CAAA,IAAA,QAAA,CAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA;AACA,KANA;AAQA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,EAAA,OAAA;AACA,UAAA,MAAA,CAAA,CAAA,EAAA;AACA,cAAA,CAAA,IAAA,QAAA,CAAA,IAAA,QAAA,CAAA,IAAA,EAAA,UAAA,GAAA,EAAA,UAAA;AACA,KAJA;AAMA,QAAA,CAAA,UAAA,CAAA,CAAA,EAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,SAAA,MAAA,EAAA,GAAA,EAAA;AACA,QAAA,eAAA,EAAA,MAAA,CAAA,6CAAA,CAAA,GAAA,UAAA;;AACA,UAAA,OAAA,CAAA,MAAA,SAAA,EAAA;AACA,eAAA,CAAA,IAAA,CAAA;AACA,cAAA,CAAA,IAAA,CAAA;AACA,gBAAA,CAAA,IAAA,CAAA;AACA;;AACA,UAAA,QAAA,CAAA,MAAA,SAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,IAAA,KAAA,GAAA,CAAA,cAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,IAAA,IAAA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,aAAA,KAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,CAAA,IAAA,eAAA,KAAA,CAAA;AACA,UAAA,aAAA,CAAA,QAAA,KAAA,IAAA,IAAA;AACA,UAAA,iBAAA,GAAA,UAAA,CAAA;AACA,UAAA,QAAA,yBAAA,cAAA,GAAA,sBAAA,GAAA,KAAA,GAAA,uBAAA,GAAA,KAAA,GAAA,KAAA;AACA,UAAA,IAAA,SAAA,CAAA,EAAA,IAAA;AACA,UAAA,KAAA,UAAA,MAAA,EAAA,IAAA,CAAA;AACA,UAAA,OAAA,UAAA,CAAA,EAAA,IAAA;AACA,UAAA,KAAA,EAAA,8BAAA,CAAA;AACA,SAAA,MAAA,CAAA,yGAAA,SAAA,CAAA,EAAA,KAAA,GAAA,KAAA;AACA,SAAA,MAAA,CAAA,qGAAA,SAAA,CAAA,EAAA,IAAA,GAAA,0CAAA;AACA,SAAA,MAAA,CAAA,mFAAA;AACA,SAAA,MAAA,CAAA,wEAAA,OAAA,CAAA,CAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,4CAAA,QAAA,GAAA,4DAAA;AACA,SAAA,MAAA,CAAA,2CAAA,QAAA,GAAA,yBAAA,GAAA,QAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,4BAAA,KAAA,GAAA,8BAAA;AACA,SAAA,MAAA,CAAA,2BAAA,KAAA,GAAA,+BAAA,GAAA,cAAA,GAAA,QAAA;AACA,SAAA,MAAA,CAAA,6HAAA;AACA,SAAA,MAAA,CAAA,iGAAA;;AACA,UAAA,SAAA,MAAA,GAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA,uHAAA;AACA;;AACA,SAAA,IAAA,CAAA,YAAA,EAAA,SAAA,CAAA,EAAA,KAAA,EAAA,IAAA,CAAA,cAAA,EAAA,SAAA,CAAA,EAAA,IAAA,EACA,IADA,CACA,YADA,EACA,OAAA,CAAA,CADA,EACA,IADA,CACA,WADA,EACA,IADA,EACA,IADA,CACA,iBADA,EACA,UADA,EACA,IADA,CACA,WADA,EACA,IADA;AAEA;;AAEA;AACA;AAEA,QAAA,iBAAA,OAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,UAAA,CAAA,EAAA;AAAA,eAAA,IAAA,CAAA;AAAA,OAAA,MAAA;AAAA,eAAA,CAAA;AAAA;AAAA,KAAA,EAAA,CAAA,CAAA;AACA,2BAAA,SAAA,GAAA,iBAAA,GAAA,GAAA,SAAA,MAAA;AACA,wBAAA,SAAA,GAAA,KAAA,MAAA;AACA,QAAA,YAAA,MAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,IAAA,CAAA;AAAA,KAAA,CAAA;AACA,gBAAA,GAAA,YAAA,KAAA,GAAA,CAAA,cAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACA,uBAAA,SAAA,GAAA,GAAA,SAAA,IAAA,IAAA;AACA,QAAA,kBAAA,QAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,IAAA,CAAA;AAAA,KAAA,IAAA,aAAA,KAAA;AACA,uBAAA,QAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AAAA,aAAA,IAAA,CAAA;AAAA,KAAA,CAAA;AACA,6BAAA,SAAA,GAAA,GAAA,kBAAA,IAAA,GAAA,eAAA,KAAA,CAAA,CAxEA,CA0EA;;AACA,QAAA,CAAA,EAAA,iBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,iBAAA,EAAA,MAAA,CAAA;AACA,eAAA,iBADA;AAEA,mBAAA,MAFA;AAEA,kBAAA,KAAA,GAAA,CAAA,QAAA,EAAA,GAAA,CAFA;AAGA,kBAAA;AAAA,cAAA,WAAA;AAAA,cAAA,iBAAA;AAAA,cAAA;AAAA,SAHA;AAIA,eAAA,iBAAA;AACA,gBAAA,MAAA,CAAA,iBAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA;AACA;AAPA,OAAA;AASA;;AAEA,MAAA,WAAA,EAAA,KAAA,CAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,mBAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AACA,KAHA,EAGA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,MAAA,CAAA,mBAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AACA,KANA;AAQA,MAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,kBAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,UAAA;AACA,QAAA,IAAA,EAAA,QAAA,CAAA,UAAA;AACA,UAAA,QAAA,SAAA,CAAA,EAAA,KAAA;AACA,YAAA,SAAA,CAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA;AACA,KAPA;AASA,MAAA,uBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,SAAA,CAAA,EAAA,KAAA;AACA,eAAA,CAAA,EAAA,KAAA,GAAA,KAAA,KAAA;AACA,YAAA,MAAA,CAAA,mBAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,YAAA,SAAA,CAAA,YAAA,GAAA,GAAA,IAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,KANA;AAQA,MAAA,wBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,eAAA,CAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,2BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,EAAA,OAAA,KAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,aAAA,CAAA,CAAA;AACA,eAAA,MAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,EAAA,IAAA;AACA,OALA;AAMA,KARA;AAUA,MAAA,iCAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,eAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,UAAA,UAAA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,MAAA;AAAA,OAAA,CAAA;AACA,oBAAA,GAAA,QAAA,CAAA,OAAA,CAAA;AACA,0BAAA,YAAA;AACA;AACA,KAPA;AASA,QAAA,QAAA,YAAA,EAAA;AACA,YAAA,YAAA,GAAA,IAAA;;AAEA,aAAA,qBAAA,GAAA;AACA,QAAA,cAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,KAAA,UAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,UAAA,MAAA,EAAA,GAAA,EAAA;AACA,eAAA,OAAA,CAAA,GAAA,CAAA,IAAA,MAAA,CAAA,UAAA,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA;;AACA,aAAA,KAAA,GAAA,SAAA,CAAA,EAAA,IAAA;AACA,aAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,mBAAA,CAAA,EAAA,IAAA,GAAA,CAAA,KAAA,KAAA;AACA,SAFA;AAGA,OATA;AAUA;;AAEA,aAAA,kBAAA,GAAA;AACA,UAAA,iBAAA,MAAA,MAAA,CAAA,iBAAA,CAAA;;AACA,UAAA,eAAA,IAAA,EAAA,EAAA;AAAA,uBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AAAA,OAAA,MACA;AAAA,yBAAA,MAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,gBAAA,CAAA;AAAA;;AACA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,SAAA,MAAA,EAAA,KAAA,EAAA;AACA,uBAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,kBAAA,GAAA,EACA,IADA,CACA,IADA,EACA,SAAA,GAAA,EAAA,MAAA,CAAA,CAAA,CADA,EACA,IADA,CACA,IADA,EACA,SAAA,GAAA,EAAA,MAAA,CAAA,CAAA,CADA,EAEA,IAFA,CAEA,GAFA,EAEA,CAFA,EAEA,IAFA,CAEA,cAFA,EAEA,CAFA,EAEA,IAFA,CAEA,QAFA,EAEA,WAFA,EAEA,IAFA,CAEA,MAFA,EAEA,SAAA,GAAA,EAAA,KAFA,EAGA,EAHA,CAGA,WAHA,EAGA,gBAHA,EAGA,EAHA,CAGA,YAHA,EAGA,YAAA;AAAA,cAAA,EAAA,EAAA,IAAA;AAAA,SAHA,EAIA,IAJA,CAIA,GAAA,IAAA,GAAA,EAAA,CAAA,OAAA,EAAA,iBAAA,CAJA;AAKA;AACA;;AAEA,aAAA,gBAAA,GAAA;AACA,UAAA,uDAAA,EAAA,IAAA;AACA;;AAEA,aAAA,iBAAA,GAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,EAAA,CAAA;AAEA,SAAA,KAAA,CAAA,EAAA,CAAA,MAAA,EAAA,YAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AAAA,YAAA,IAAA,GAAA,KAAA,CAAA,CAAA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,CAAA;AACA,iBAAA,CAAA,EAAA,MAAA,GAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,YAAA,UAAA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,iBAAA,EAAA,MAAA;AAAA,SAAA,CAAA;AACA,sBAAA,GAAA,QAAA,CAAA,OAAA,CAAA;AACA;AACA,OAPA;AAQA;;AAEA,MAAA,qBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,KAAA,EAAA,iBAAA,CAAA;;AACA,UAAA,GAAA,IAAA,CAAA,WAAA,MAAA,UAAA,EAAA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,YAAA;AACA,YAAA,aAAA,KAAA,MAAA;AACA,YAAA,aAAA,mBAAA,SAAA;AACA,qBAAA,WAAA,WAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA;;AACA,YAAA,mBAAA,WAAA,yBAAA,SAAA,CAAA;;AACA,UAAA,2BAAA,EAAA,IAAA,CAAA,YAAA;AACA,cAAA,QAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,UAAA,GAAA,GAAA,CAAA;AACA,cAAA,OAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,IAAA,UAAA,GAAA,GAAA,CAAA;AACA,cAAA,aAAA,GAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,IAAA,gBAAA,GAAA,GAAA,CAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,aAAA,EAAA,IAAA,CAAA,QAAA,GAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA,OAAA,GAAA;AACA,YAAA,IAAA,EAAA,QAAA,GAAA,MAAA,CAAA,oBAAA,EAAA,IAAA,CAAA,aAAA,GAAA;AACA,SAPA;AAQA,OAdA,MAcA;AACA,WAAA,IAAA,CAAA,WAAA,EAAA,UAAA;AACA;AACA;AACA,KApBA;AAsBA,MAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,sBAAA,CAAA;AACA,UAAA,yDAAA,EAAA,IAAA;AACA,QAAA,iBAAA,EAAA,QAAA,GAAA,IAAA;AACA,QAAA,0BAAA,EAAA,IAAA;AACA,cAAA,KAAA,CAAA,QAAA,EAAA,WAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,CAAA,OAAA,EAAA,qBAAA;AACA,YAAA,MAAA,CAAA,iBAAA,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,KAPA;AASA,MAAA,2BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,UAAA,MAAA,SAAA,CAAA,gBAAA,CAAA;AACA,cAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,CAAA,KAAA,YAAA,CAAA,cAAA,CAAA;AACA,aAAA,eAAA,CAAA,cAAA;AACA,cAAA,CAAA,EAAA,OAAA,GAAA,CAAA;AACA,YAAA,QAAA,MAAA,CAAA,EAAA,KAAA;AACA,YAAA,UAAA,SAAA,EAAA,OAAA,KAAA,EAAA,OAAA,GAAA,CAAA;AACA,OAPA;AAQA;AACA,UAAA,QAAA,IAAA,EAAA,EAAA;AACA,KAZA;AAcA,MAAA,yBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,YAAA,SAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,MAAA,CAAA,EAAA,OAAA;AACA,aAAA,eAAA,CAAA,cAAA;AACA,YAAA,QAAA,SAAA,CAAA,EAAA,KAAA;AACA,aAAA,YAAA,CAAA,MAAA,EAAA,KAAA;AACA,aAAA,YAAA,CAAA,QAAA,EAAA,KAAA;AACA,OAPA;AAQA;AACA;AACA,KAXA;;AAaA,aAAA,4BAAA,GAAA;AACA,YAAA,SAAA,CAAA,SAAA,EAAA,MAAA;AACA,QAAA,iBAAA,EAAA,QAAA,GAAA,IAAA;AACA,QAAA,0BAAA,EAAA,IAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,UAAA;AACA,sBAAA,CAAA;AACA;AACA;;AAEA,MAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,UAAA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,GAAA,GAAA,aAAA,GAAA,CAAA;AACA,YAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,GAAA,CAAA;AACA,YAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,MAAA;AACA,eAAA,MAAA;AACA,OANA,CAAA;AAOA,oBAAA,GAAA,QAAA,CAAA,OAAA,CAAA;AACA;AACA;AACA;AACA,KAZA;AAcA,MAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,SAAA,KAAA,KAAA,QAAA,GAAA,aAAA,KAAA,GAAA,GAAA,GAAA,SAAA,KAAA;AACA,UAAA,OAAA,yBAAA,IAAA,GAAA,0BAAA,CAFA,CAEA;;AACA,QAAA,2BAAA,EAAA,IAAA,CAAA,YAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,cAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,YAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,iBAAA,IAAA,GAAA;AACA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,IAAA,IAAA;AACA,OANA;AAQA,UAAA,WAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,EAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,UAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,eAAA,IAAA,CAAA,WAAA,CAAA,IAAA;AACA,WAAA,QAAA,GAAA,kBAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,KAAA;AACA,aAAA,UAAA,CAAA,YAAA;AAAA,eAAA,GAAA,CAAA,eAAA,CAAA,GAAA;AAAA,OAAA,EAAA,IAAA;AACA,KAnBA;AAqBA,MAAA,0BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,aAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,YAAA,UAAA,EAAA,OAAA;AACA,UAAA,IAAA,GAAA,aAAA,OAAA,CAAA;AACA,eAAA,MAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,IAAA,CAAA,EAAA,IAAA;AACA,OALA;AAMA,KAPA;AASA,MAAA,wBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,aAAA;AAEA,MAAA,cAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,UAAA,GAAA,GAAA,GAAA,aAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,WAAA,GAAA,GAAA,GAAA,cAAA,GAAA,CAAA;AACA,UAAA,SAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AAEA,UAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,KAAA;;AACA,UAAA,SAAA,MAAA,GAAA,gBAAA,MAAA,EAAA;AACA;AACA,kBAAA,SAAA,MAAA;AACA,eAAA,gBAAA,OAAA,EAAA,IAAA;AACA,gBAAA,gBAAA,OAAA,EAAA,KAAA;AACA,eAAA,gBAAA,OAAA,EAAA,IAAA;AACA,OANA,MAMA;AACA;AACA,kBAAA,KAAA,SAAA,MAAA,GAAA,CAAA,CAAA;AACA,eAAA,aAAA,OAAA,CAAA;AACA,gBAAA,SAAA,SAAA,MAAA,GAAA,EAAA,CAAA;AACA,eAAA,SAAA,OAAA,EAAA,IAAA;AACA;;AACA,eAAA,IAAA,CAAA;AAAA,kBAAA;AAAA,oBAAA;AAAA,kBAAA;AAAA;AAAA,OAAA;AACA,UAAA,UAAA,SAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,MAAA;AAAA,OAAA,CAAA;AACA,oBAAA,GAAA,QAAA,CAAA,OAAA,CAAA;AACA;AACA;AACA,KAxBA;AAyBA,GAxhSA,CA0hSA;;;AACA,WAAA,aAAA,GAAA;AACA;AACA,QAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;;AACA,SAAA,IAAA,IAAA,OAAA,OAAA,CAAA,MAAA,EAAA,IAAA,UAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,SAAA,IAAA,MAAA,CAAA,UAAA,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA,aAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,KANA,CAQA;;;AACA,QAAA,WAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;AACA,QAAA,WAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;AACA,QAAA,YAAA,UAAA,MAAA,EAAA,WAAA,CAAA;AACA,WAAA,KAAA,GAAA,QAAA;AACA,QAAA,SAAA,KAAA,KAAA,EAAA,EAAA,sBAAA,QAAA;AACA,QAAA,WAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;AACA,QAAA,SAAA,SAAA,KAAA,EAAA,EAAA,wBAAA,QAAA,EAfA,CAiBA;;AACA,MAAA,kBAAA,EAAA,MAAA,CAAA;AACA,aAAA,kBADA;AAEA,iBAAA,MAFA;AAEA,gBAAA,KAAA,GAAA,CAAA,QAAA,EAAA,GAAA,CAFA;AAGA,gBAAA;AAAA,YAAA,QAAA;AAAA,YAAA,QAAA;AAAA,YAAA;AAAA;AAHA,KAAA;AAMA,QAAA,QAAA,aAAA,EAAA;AACA,YAAA,aAAA,GAAA,IAAA;;AAEA,aAAA,qBAAA,CAAA,QAAA,EAAA;AACA,UAAA,WAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;AACA,eAAA,KAAA,GAAA,SAAA,QAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AACA,eAAA,YAAA,CAAA,WAAA,EAAA,QAAA;AACA,UAAA,OAAA,SAAA,cAAA,CAAA,eAAA,CAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,UAAA,MAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,MAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,cAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,WAAA,KAAA,GAAA,UAAA,QAAA,EAAA,IAAA;AACA,aAAA,KAAA,GAAA,UAAA,QAAA,EAAA,MAAA;AACA,UAAA,KAAA,GAAA,UAAA,QAAA,EAAA,GAAA;AACA,UAAA,KAAA,GAAA,UAAA,QAAA,EAAA,GAAA;AACA,kBAAA,KAAA,GAAA,UAAA,QAAA,EAAA,CAAA;AACA;;AAEA,aAAA,uBAAA,CAAA,QAAA,EAAA;AACA,UAAA,WAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;AACA,UAAA,OAAA,EAAA;;AACA,WAAA,IAAA,MAAA,CAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA;AACA,YAAA,OAAA,aAAA,KAAA,EAAA,QAAA,CAAA;;AACA,YAAA,SAAA,SAAA,EAAA;AACA,iBAAA,kDAAA;AACA;AACA;;AACA,YAAA,QAAA,CAAA,EAAA,QAAA,IAAA;AACA,gBAAA,IAAA;AACA;;AACA,eAAA,SAAA,GAAA,IAAA;AACA;;AAEA,MAAA,kBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,WAAA,CAAA,KAAA,KAAA;AACA,4BAAA,QAAA;AACA,8BAAA,QAAA;AACA,KAJA;AAMA,MAAA,gBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,aAAA,OAAA,CAAA,IAAA,EAAA,SAAA,GAAA,KAAA,KAAA;AACA,gBAAA,IAAA,EAAA,IAAA,GAAA,KAAA,KAAA;AACA,KALA;AAOA,MAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,KAAA,YAAA,CAAA,WAAA,CAAA;AACA,UAAA,OAAA,SAAA,KAAA,CAAA,OAAA,CAAA,IAAA,EAAA,EAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,eAAA,IAAA,IAAA,IAAA;;AACA,UAAA,KAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,IAAA,IAAA,EAAA;;AACA,YAAA,YAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;;AACA,kBAAA,SAAA,GAAA,sCAAA;AACA;AACA;;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,EAAA,KAAA;AACA,UAAA,WAAA,WAAA,EAAA,MAAA,IAAA,IAAA,eAAA,IAAA,CAAA;AACA,KAZA;AAcA,MAAA,kBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;AACA,gBAAA,IAAA,EAAA,MAAA,GAAA,KAAA,KAAA;AACA,UAAA,KAAA,KAAA,KAAA,WAAA,EAAA,MAAA,IAAA,IAAA,eAAA,IAAA,CAAA;AACA,KAJA;AAMA,MAAA,eAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;;AACA,UAAA,CAAA,KAAA,KAAA,GAAA,UAAA,IAAA,EAAA,GAAA,EAAA;AACA,YAAA,+CAAA;AACA,OAFA,MAEA;AACA,kBAAA,IAAA,EAAA,GAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA,KAPA;AASA,MAAA,eAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;;AACA,UAAA,CAAA,KAAA,KAAA,GAAA,UAAA,IAAA,EAAA,GAAA,EAAA;AACA,YAAA,4CAAA;AACA,OAFA,MAEA;AACA,kBAAA,IAAA,EAAA,GAAA,GAAA,CAAA,KAAA,KAAA;AACA;AACA,KAPA;AASA,MAAA,kBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,SAAA,YAAA,CAAA,WAAA,CAAA;AACA,gBAAA,IAAA,EAAA,CAAA,GAAA,KAAA,KAAA;AACA,KAHA;AAKA,MAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,SAAA;AAGA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,sBAAA;AACA,iBAAA;AACA,mBAAA,mBAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA,cAAA,kBAAA,EAAA,MAAA,CAAA,OAAA;AACA,gBAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,mBAAA,OAAA,CAAA,MAAA,GAAA,CAAA;AACA,qBAAA,cAAA,CAAA,mBAAA,EAAA,KAAA,GAAA,EAAA;AACA,qBAAA,cAAA,CAAA,mBAAA,EAAA,YAAA,CAAA,WAAA,EAAA,CAAA;AACA,qBAAA,cAAA,CAAA,mBAAA,EAAA,SAAA,KAAA,EAAA;AACA;AACA,gBAAA,UAAA,UAAA,MAAA,GAAA,CAAA;AACA,qBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,kBAAA,EAAA,IAAA,GAAA,OAAA,EAAA,EAAA,IAAA,GAAA,OAAA;AAAA,aAAA;AACA,qBAAA,EAAA;AACA;AACA;AACA;AACA,WAhBA;AAiBA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAjBA;AADA,OAAA;AAqBA,KAzBA;AA2BA,MAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,OAAA,UAAA,MAAA;AACA,UAAA,OAAA,SAAA,IAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,EAAA,KAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,aAAA,OAAA,CAAA,GAAA,CAAA,IAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA,aAAA,KAAA,GAAA,IAAA;AACA,gBAAA,IAAA,CAAA;AAAA,kBAAA;AAAA,sBAAA;AAAA,aAAA,CAAA;AAAA,aAAA,EAAA;AAAA,WAAA,EAAA;AAAA,WAAA;AAAA,OAAA;AACA,eAAA,IAAA,CAAA,EAAA;AACA,eAAA,cAAA,CAAA,eAAA,EAAA,KAAA,GAAA,IAAA;AACA,UAAA,WAAA,SAAA,cAAA,CAAA,mBAAA,CAAA;AACA,eAAA,KAAA,GAAA,EAAA;AACA,eAAA,YAAA,CAAA,WAAA,EAAA,IAAA;AACA,eAAA,cAAA,CAAA,mBAAA,EAAA,SAAA,GAAA,EAAA;AACA,YAAA,IAAA,IAAA,EAAA;AACA;AACA,KAhBA;AAkBA,MAAA,8CAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;AACA,8BAAA,CAAA,OAAA,KAAA;AACA,KAHA;AAKA,MAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,iBAAA,KAAA,SAAA,CAAA,QAAA,IAAA,MAAA;AACA,UAAA,kBAAA,KAAA,SAAA,CAAA,SAAA,CAAA;AACA,UAAA,WAAA,IAAA,IAAA,CAAA,CAAA,iBAAA,eAAA,CAAA,EAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,UAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,aAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,KAAA;AACA,KATA;AAWA,MAAA,kBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AAAA,sBAAA,KAAA;AAAA,KAAA;AACA,MAAA,kBAAA,EAAA,MAAA,CAAA,YAAA;AACA,UAAA,aAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,UAAA,aAAA,IAAA,UAAA,EAAA;;AACA,iBAAA,MAAA,GAAA,UAAA,eAAA,EAAA;AACA,YAAA,aAAA,gBAAA,MAAA,CAAA,MAAA;AACA,YAAA,OAAA,WAAA,KAAA,CAAA,MAAA,CAAA;;AACA,YAAA,KAAA,CAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,qBAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,sBAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;;AACA,cAAA,UAAA,SAAA,cAAA,CAAA,iBAAA,CAAA;;AACA,kBAAA,OAAA,CAAA,MAAA,GAAA,CAAA;AACA,mBAAA,cAAA,CAAA,mBAAA,EAAA,KAAA,GAAA,EAAA;AACA,mBAAA,cAAA,CAAA,mBAAA,EAAA,YAAA,CAAA,WAAA,EAAA,CAAA;AACA,mBAAA,cAAA,CAAA,mBAAA,EAAA,SAAA,KAAA,EAAA;AACA,cAAA,UAAA,UAAA,MAAA,GAAA,CAAA;AACA,mBAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA,gBAAA,EAAA,IAAA,GAAA,OAAA,EAAA,EAAA,IAAA,GAAA,OAAA;AAAA,WAAA;AACA,mBAAA,EAAA;AACA;AACA;AACA;AACA,SAdA,MAcA;AACA,cAAA,uDAAA;AACA;AACA,OApBA;;AAqBA,iBAAA,UAAA,CAAA,UAAA,EAAA,OAAA;AACA,KA1BA;AA2BA,GAtuSA,CAwuSA;;;AACA,WAAA,WAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AACA;AACA,QAAA,SAAA,SAAA,cAAA,CAAA,cAAA,CAAA;;AACA,SAAA,IAAA,IAAA,OAAA,OAAA,CAAA,MAAA,EAAA,IAAA,MAAA,MAAA,EAAA,GAAA,EAAA;AACA,UAAA,SAAA,IAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,EAAA,MAAA,CAAA,EAAA,EAAA,CAAA;AACA,aAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,KANA,CAQA;;;AACA,QAAA,EAAA,EAAA;AACA,UAAA,OAAA,MAAA,IAAA,CAAA;AAAA,eAAA,KAAA,EAAA,KAAA,EAAA;AAAA,OAAA,CAAA;;AACA,UAAA,SAAA,SAAA,EAAA;AACA,YAAA,CAAA,IAAA,EAAA,OAAA,EAAA;AACA,eAAA;AAAA,gBAAA;AAAA,oBAAA;AAAA,kBAAA;AAAA,SAAA;AACA,cAAA,IAAA,CAAA,IAAA;;AACA,YAAA,UAAA,IAAA,MAAA,CAAA,EAAA,EAAA,EAAA,CAAA;;AACA,eAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;;AACA,aAAA,KAAA,GAAA,EAAA;AACA,iBAAA,KAAA,GAAA,KAAA,IAAA;AACA,iBAAA,KAAA,GAAA,KAAA,MAAA;AACA,KArBA,CAuBA;;;AACA,MAAA,eAAA,EAAA,MAAA,CAAA;AACA,aAAA,gBADA;AAEA,iBAAA,MAFA;AAEA,gBAAA,KAAA,GAAA,CAAA,QAAA,EAAA,GAAA,CAFA;AAGA,gBAAA;AAAA,YAAA,QAAA;AAAA,YAAA,QAAA;AAAA,YAAA;AAAA;AAHA,KAAA;AAMA,QAAA,QAAA,WAAA,EAAA;AACA,YAAA,WAAA,GAAA,IAAA,CA/BA,CAiCA;;AACA,aAAA,cAAA,CAAA,cAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AAAA;;AACA,UAAA,OAAA,MAAA,IAAA,CAAA;AAAA,eAAA,KAAA,EAAA,KAAA,MAAA,KAAA;AAAA,OAAA,CAAA;AACA,iBAAA,KAAA,GAAA,KAAA,IAAA;AACA,iBAAA,KAAA,GAAA,KAAA,MAAA;AACA,KAJA,EAlCA,CAwCA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,KAAA,OAAA,KAAA;AACA,UAAA,OAAA,MAAA,IAAA,CAAA;AAAA,eAAA,KAAA,EAAA,KAAA,EAAA;AAAA,OAAA,CAAA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA;AACA,KALA,EAzCA,CAgDA;;AACA,aAAA,cAAA,CAAA,YAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,KAAA,OAAA,KAAA;AACA,UAAA,OAAA,MAAA,IAAA,CAAA;AAAA,eAAA,KAAA,EAAA,KAAA,EAAA;AAAA,OAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA,KAAA;AACA,KALA,EAjDA,CAwDA;;AACA,aAAA,cAAA,CAAA,aAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,UAAA,SAAA,cAAA,CAAA,OAAA,KAAA,CAAA,CAFA,CAIA;;AACA,UAAA,YAAA,IAAA,EAAA;AACA,YAAA,UAAA,gFAAA;AACA,qBAAA,SAAA,GAAA,OAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA;AAAA,qBAAA,KAAA;AAAA,iBAAA,mBAAA;AACA,mBAAA;AACA,oBAAA,kBAAA;AAAA,gBAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAAA,aADA;AAEA,kBAAA,gBAAA;AAAA,gBAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAFA;AADA,SAAA;AAMA;AACA,OAfA,CAiBA;;;AACA,uBAAA,OAAA;AACA,KAnBA;;AAqBA,aAAA,gBAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,MAAA,CAAA,cAAA,EAAA,IAAA,EAAA,EAAA,OADA,CACA;;AACA,UAAA,MAAA,QAAA,OAAA,EAAA;AACA,UAAA,YAAA,QAAA,YAAA,CAAA,WAAA,KAAA,IAAA;AACA,UAAA,IAAA,GAAA,UAAA,GAAA,QAAA,CAAA,IAAA,EAAA,IAAA,CAAA,GAAA,aAAA,CAAA;AACA,UAAA,IAAA,GAAA,UAAA,GAAA,QAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,UAAA,CAAA;AACA,UAAA,YAAA,MAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,IAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,IAAA,KAAA,EAAA,IAAA,CAAA,QAAA,EAAA,IAAA,MAAA,EAAA,IAAA,CAAA,WAAA,EAAA,SAAA,CAAA;AACA,gBAAA,OAAA,CAAA,aAAA,EAAA,CAAA,EACA,UADA,CACA,CADA,EACA,KADA,CACA,gBADA,EACA,KADA,EAEA,UAFA,CAEA,CAFA,EAEA,KAFA,CAEA,eAFA,EAEA,aAFA,EAEA,MAFA;AAGA,UAAA,KAAA,eAAA,SAAA,CAAA;AACA,UAAA,IAAA,IAAA,CAAA,GAAA,IAAA,KAAA,GAAA,CAAA;AACA,UAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,UAAA,IAAA,IAAA,CAAA,GAAA,IAAA,MAAA,GAAA,CAAA;AACA,UAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,CAAA;AACA,UAAA,SAAA,CAAA,EAAA,OAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,IAAA;AACA,KA9FA,CAgGA;;;AACA,aAAA,cAAA,CAAA,gBAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,UAAA,eAAA,KAAA,SAAA,CAAA,KAAA,CAAA;AACA,UAAA,WAAA,IAAA,IAAA,CAAA,CAAA,YAAA,CAAA,EAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,UAAA,MAAA,OAAA,GAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,SAAA,aAAA,CAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,YAAA,KAAA,GAAA,EAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,WAAA,KAAA;AACA,KARA,EAjGA,CA2GA;;AACA,aAAA,cAAA,CAAA,cAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,eAAA,cAAA,CAAA,eAAA,EAAA,KAAA;AACA,KAFA;AAGA,aAAA,cAAA,CAAA,eAAA,EAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,aAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,UAAA,aAAA,IAAA,UAAA,EAAA;;AACA,iBAAA,MAAA,GAAA,UAAA,eAAA,EAAA;AACA,YAAA,aAAA,gBAAA,MAAA,CAAA,MAAA;;AACA,YAAA,UAAA,EAAA;AACA,kBAAA,KAAA,KAAA,CAAA,UAAA,CAAA;;AACA,cAAA,WAAA,SAAA,cAAA,CAAA,cAAA,CAAA;;AACA,mBAAA,OAAA,CAAA,MAAA,GAAA,CAAA;AACA,sBAAA,MAAA,CAAA,EAAA,EAAA,EAAA,MAAA,CAAA,EAAA,IAAA;AACA,SALA,MAKA;AACA,cAAA,kDAAA;AACA;AACA,OAVA;;AAWA,iBAAA,UAAA,CAAA,UAAA,EAAA,OAAA;AACA,KAhBA,EA/GA,CAiIA;;AACA,aAAA,cAAA,CAAA,cAAA,EAAA,gBAAA,CAAA,OAAA,EAAA,YAAA;AACA,mBAAA,SAAA,GAAA,sDAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,eAAA,uBAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAAA,WADA;AAEA,gBAAA,gBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AAFA;AADA,OAAA;AAMA,KARA;;AAUA,aAAA,YAAA,GAAA;AACA,UAAA,SAAA,SAAA,cAAA,CAAA,cAAA,CAAA;AACA,UAAA,QAAA,MAAA,SAAA,CAAA;AAAA,eAAA,EAAA,EAAA,KAAA,OAAA,KAAA;AAAA,OAAA,CAAA;AACA,YAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,aAAA,OAAA,CAAA,MAAA,GAAA,CAAA;;AACA,UAAA,MAAA,MAAA,KAAA,CAAA,EAAA;AACA,UAAA,eAAA,EAAA,MAAA,CAAA,OAAA;AACA;AACA;;AACA,kBAAA,MAAA,CAAA,EAAA,EAAA,EAAA,MAAA,CAAA,EAAA,IAAA;AACA;AAEA,GAj4SA,CAm4SA;;;AACA,WAAA,SAAA,GAAA;AACA,MAAA,QAAA,EAAA,MAAA;AACA,MAAA,cAAA,EAAA,MAAA,CAAA;AACA,aAAA,cADA;AAEA,iBAAA,MAFA;AAEA,aAAA,MAFA;AAEA,iBAAA,KAFA;AAGA,gBAAA;AAAA,YAAA,eAAA;AAAA,YAAA,kBAAA;AAAA,YAAA;AAAA;AAHA,KAAA;AAKA,GA34SA,CA64SA;;;AACA,WAAA,yBAAA,CAAA,CAAA,EAAA;AACA,QAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,CAAA,aAAA,KAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,EAAA,eAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,aAAA,CAAA,QAAA,KAAA,IAAA,IAAA;AACA,QAAA,WAAA,CAAA,EAAA,IAAA,CAAA,iBAAA,EAAA,UAAA;AACA,QAAA,WAAA,CAAA,EAAA,QAAA,GAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,CAAA,GAAA,UAAA,CAAA;AACA;AACA,GAt5SA,CAw5SA;;;AACA,WAAA,oBAAA,GAAA;AACA,QAAA,EAAA,kBAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AAAA;AAAA;;AACA,QAAA,EAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,cAAA,EAAA,IAAA,CAAA,YAAA,CAAA;AACA,gBAAA,IAAA,EAAA,CAAA;AACA;AACA,GA/5SA,CAi6SA;;;AACA,WAAA,aAAA,GAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,YAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA,2BAAA,WAAA;AACA;AACA,GAv6SA,CAy6SA;;;AACA,WAAA,sBAAA,CAAA,KAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,KAAA,EAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,YAAA;AACA,WAAA,MAAA,CAAA,eAAA,KAAA,EAAA,EAAA,MAAA;AACA,WAAA,MAAA;AACA,KAHA;;AAIA,QAAA,UAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,KAAA,EAAA,MAAA;AACA;AACA;AACA,GAn7SA,CAq7SA;;;AACA,WAAA,cAAA,GAAA;AACA,YAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA,2BAAA,WAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,QAAA,IAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,KAAA;;AACA,UAAA,MAAA,IAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA;AACA,UAAA,MAAA,GAAA,SAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,eAAA,EAAA,CAAA,GAAA,IAAA,EAAA,MAAA;AACA,OALA,MAKA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,cAAA,IAAA,EAAA,KAAA,GAAA,EAAA,CAAA;AACA;AACA,KAXA;AAYA,UAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,GAAA,EAAA,EAAA;AACA;AACA,eAAA,EAAA,MAAA;AACA,eAAA,EAAA,OAAA;AACA;AACA;;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,UAAA,MAAA,GAAA,SAAA;;AACA,YAAA,OAAA,OAAA,MAAA,GAAA,CAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AACA,iBAAA,IAAA,CAAA;AAAA,eAAA,OAAA,MAAA;AAAA,mBAAA,SAAA;AAAA,qBAAA,SAAA;AAAA,kBAAA;AAAA,WAAA;AACA;AACA;;AACA,UAAA,EAAA,OAAA,KAAA,SAAA,EAAA;AACA,YAAA,UAAA,YAAA,IAAA,CAAA,EAAA,IAAA,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AACA,UAAA,OAAA,GAAA,YAAA,IAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AACA;AACA,KAjBA;AAkBA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AAAA,2BAAA,EAAA,CAAA;AAAA,KAAA;AACA;AACA;;AAEA,WAAA,mBAAA,GAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,QAAA,UAAA,aAAA,KAAA,GAAA,CAAA,iBAAA,KAAA;AACA,WAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,UAAA,QAAA,SAAA;AAAA,UAAA,UAAA,OAAA;AACA,aAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,EAAA,OAAA,KAAA,SAAA,IAAA,EAAA,OAAA,KAAA,QAAA,EAAA;AACA,YAAA,IAAA,OAAA,EAAA,OAAA,CAAA;AACA,YAAA,OAAA,KAAA,KAAA,CAAA,EAAA,CAAA,GAAA,EAAA,CAAA,EAAA,EAAA,CAAA,GAAA,EAAA,CAAA,IAAA,EAAA,KAAA;AACA,YAAA,MAAA,EAAA,IAAA,EAAA,EAAA,KAAA,MAAA,EAAA,IAAA,EAAA,EAAA,EAAA,QAAA,CAAA;;AACA,YAAA,OAAA,OAAA,EAAA;AAAA,kBAAA,EAAA,CAAA;AAAA,oBAAA,IAAA;AAAA;AACA,OANA;AAOA,QAAA,MAAA,GAAA,KAAA;AACA,YAAA,EAAA,IAAA,EAAA,MAAA,GAAA,KAAA;AACA,KAZA;AAcA;AACA,QAAA,OAAA,QAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,IAAA,EAAA,MAAA,CAAA;AACA,SAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,UAAA,EAAA,MAAA,KAAA,SAAA,EAAA;AACA,UAAA,QAAA,OAAA,EAAA,MAAA,EAAA,KAAA;AACA,WAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,WADA,EACA,EAAA,KADA,EACA,IADA,CACA,YADA,EACA,EAAA,MADA,EAEA,IAFA,CAEA,GAFA,EAEA,MAAA,SAAA,EAAA,KAAA,EAAA,IAAA,CAAA,GAAA,CAAA,GAAA,GAFA,EAGA,IAHA,CAGA,MAHA,EAGA,KAHA,EAGA,IAHA,CAGA,QAHA,EAGA,KAHA;AAIA,KARA;AASA,QAAA,eAAA,EAAA,IAAA,CAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,aAAA,EAAA,MAAA,KAAA,SAAA;AAAA,KAAA,CAAA;AACA,QAAA,OAAA,OAAA,MAAA,GAAA,CAAA;AACA,QAAA,OAAA,OAAA,IAAA,EAAA,KAAA;;AACA,QAAA,SAAA,SAAA,IAAA,CAAA,aAAA,MAAA,EAAA;AACA;AACA,QAAA,WAAA,IAAA,EAAA,MAAA;AACA,aAAA,MAAA,CAAA,CAAA,CAAA;AACA,KAnCA,CAoCA;;;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,2BAAA,EAAA,CAAA;AACA,QAAA,WAAA,EAAA,CAAA,GAAA,gBAAA,EAAA,IAAA,CAAA,EAAA,KAAA;AACA,QAAA,WAAA,EAAA,CAAA,GAAA,gBAAA,EAAA,IAAA,CAAA,EAAA,KAAA;AACA,UAAA,OAAA,GAAA,EAAA,IAAA,GAAA,KAAA,GAAA,CAAA,cAAA,KAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,OAAA,SAAA,KAAA,KAAA,QAAA,GAAA,MAAA,aAAA,KAAA,GAAA,GAAA,GAAA,MAAA,SAAA,KAAA;AACA,QAAA,WAAA,EAAA,CAAA,GAAA,eAAA,EAAA,IAAA,CAAA,GAAA,IAAA,IAAA,IAAA;AACA,UAAA,QAAA,GAAA,EAAA,eAAA,GAAA,aAAA,KAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,QAAA,GAAA,EAAA,eAAA,GAAA,eAAA,KAAA,CAAA;AACA,UAAA,aAAA,CAAA,QAAA,KAAA,IAAA,IAAA;AACA,QAAA,WAAA,EAAA,CAAA,GAAA,qBAAA,EAAA,GAAA,CAAA,GAAA,UAAA,CAAA;AACA,QAAA,WAAA,EAAA,CAAA,EAAA,IAAA,CAAA,YAAA,EAAA,EAAA,KAAA,EAAA,IAAA,CAAA,YAAA,EAAA,EAAA,KAAA,EACA,IADA,CACA,WADA,EACA,IADA,EACA,IADA,CACA,iBADA,EACA,UADA;AAEA,KAbA;;AAcA,QAAA,SAAA,SAAA,IAAA,aAAA,MAAA,EAAA;AACA;AACA,aAAA,IAAA,CAAA;AAAA,WAAA,OAAA,MAAA;AAAA,eAAA,SAAA;AAAA,iBAAA,SAAA;AAAA,cAAA;AAAA,OAAA;AACA,2BAAA,OAAA,MAAA,GAAA,CAAA;AACA;AACA;AACA,GAphTA,CAshTA;;;AACA,WAAA,WAAA,GAAA;AACA,QAAA,KAAA,KAAA,CAAA,SAAA,MAAA,QAAA,EAAA;AAAA,iBAAA,KAAA;AAAA;;AACA,QAAA,OAAA,KAAA,CAAA,SAAA,MAAA,MAAA,EAAA;AAAA,mBAAA,KAAA;AAAA;;AACA,iBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,mBAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,GA5hTA,CA8hTA;;;AACA,IAAA,WAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,KAAA,EAAA,IAAA,CAAA,CADA,CAEA;;AACA,OAAA,QAAA,GAAA,WAAA,CAAA,iFAAA;AACA,QAAA,OAAA,GAAA,QAAA,CAAA,gBAAA,IAAA,MAAA,GAAA,QAAA;AACA,QAAA,QAAA,IAAA;;AACA,QAAA,GAAA,EAAA,CAAA,iBAAA,CAAA,EAAA;AAAA,cAAA,KAAA;AAAA;;AACA,QAAA,GAAA,EAAA,CAAA,eAAA,CAAA,EAAA;AAAA,cAAA,MAAA;AAAA;;AACA,QAAA,SAAA,GAAA,IAAA,CAAA,aAAA,CAAA;AACA,QAAA,OAAA,GAAA,MAAA,GAAA,IAAA,EAAA,CATA,CASA;;AACA,QAAA,QAAA,KAAA,QAAA,CAAA,KAAA,CAAA,CAVA,CAUA;;AACA,QAAA,UAAA,IAAA,IAAA,UAAA,KAAA,EAAA;AAAA;AACA,SAAA,WAAA,CAAA,eAAA,IAAA,GAAA,OAAA;AACA,SAAA,QAAA,CAAA,eAAA,IAAA,GAAA,KAAA;AACA,YAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,KAAA,EAAA,YAAA,CAAA,UAAA,MAAA,CAAA;;AACA,YAAA,OAAA,QAAA,EAAA;AAAA,iBAAA,CAAA;AAAA;;AACA,YAAA,KAAA,EAAA,YAAA,CAAA,UAAA,MAAA,CAAA;;AACA,YAAA,OAAA,QAAA,EAAA;AAAA,iBAAA,CAAA,CAAA;AAAA;;AACA,YAAA,SAAA,QAAA,EAAA;AAAA,eAAA,CAAA,EAAA;AAAA,eAAA,CAAA,EAAA;AAAA;;AACA,YAAA,KAAA,EAAA,EAAA;AAAA,iBAAA,CAAA;AAAA;;AACA,YAAA,KAAA,EAAA,EAAA;AAAA,iBAAA,CAAA,CAAA;AAAA;;AACA,eAAA,CAAA;AACA,OATA;AAUA;;AACA,QAAA,UAAA,MAAA,EAAA;AAAA;AACA,SAAA,WAAA,CAAA,eAAA,IAAA,GAAA,KAAA;AACA,SAAA,QAAA,CAAA,eAAA,IAAA,GAAA,OAAA;AACA,YAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,KAAA,EAAA,YAAA,CAAA,UAAA,MAAA,CAAA;;AACA,YAAA,OAAA,QAAA,EAAA;AAAA,iBAAA,CAAA;AAAA;;AACA,YAAA,KAAA,EAAA,YAAA,CAAA,UAAA,MAAA,CAAA;;AACA,YAAA,OAAA,QAAA,EAAA;AAAA,iBAAA,CAAA,CAAA;AAAA;;AACA,YAAA,SAAA,QAAA,EAAA;AAAA,eAAA,CAAA,EAAA;AAAA,eAAA,CAAA,EAAA;AAAA;;AACA,YAAA,KAAA,EAAA,EAAA;AAAA,iBAAA,CAAA;AAAA;;AACA,YAAA,KAAA,EAAA,EAAA;AAAA,iBAAA,CAAA,CAAA;AAAA;;AACA,eAAA,CAAA;AACA,OATA;AAUA;;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AACA,GAxCA,EA/hTA,CAykTA;;AACA,IAAA,kBAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,aAAA,KAAA,KAAA,CAAA,CAAA,CAAA;AACA,SAAA,KAAA,GAAA,EAAA;AACA,QAAA,aAAA,IAAA,UAAA,EAAA;;AACA,eAAA,MAAA,GAAA,UAAA,eAAA,EAAA;AACA,UAAA,aAAA,gBAAA,MAAA,CAAA,MAAA;AACA,UAAA,OAAA,WAAA,KAAA,CAAA,MAAA,CAAA;;AACA,UAAA,KAAA,MAAA,KAAA,CAAA,EAAA;AAAA;AAAA;;AACA,UAAA,SAAA,EAAA;AACA,UAAA,0DAAA;AACA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,MAAA,IAAA,IAAA,OAAA,MAAA,EAAA,GAAA,EAAA;AACA,YAAA,IAAA,KAAA,CAAA,CAAA;;AACA,YAAA,MAAA,EAAA,IAAA,MAAA,SAAA,EAAA;AAAA;AAAA;;AACA,YAAA,MAAA,OAAA,CAAA,EAAA,IAAA,EAAA;AAAA;AAAA;;AACA,eAAA,IAAA,CAAA;AAAA,cAAA;AAAA,gBAAA;AAAA,SAAA;AACA,yDAAA,CAAA,0CAAA,OAAA,CAAA,EAAA,IAAA,0CAAA,CAAA;AACA;;AACA;AACA,mBAAA,SAAA,GAAA,OAAA;AACA,QAAA,QAAA,EAAA,MAAA,CAAA;AAAA,eAAA,qBAAA;AAAA,kBAAA;AAAA,cAAA,QAAA;AAAA,cAAA,QAAA;AAAA,cAAA;AAAA,SAAA;AACA,iBAAA;AACA,kBAAA,kBAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA,WADA;AAEA,mBAAA,mBAAA;AACA,iBAAA,IAAA,MAAA,CAAA,EAAA,MAAA,OAAA,MAAA,EAAA,KAAA,EAAA;AACA,kBAAA,KAAA,OAAA,GAAA,EAAA,CAAA;AACA,qBAAA,EAAA,EAAA,IAAA,GAAA,OAAA,GAAA,EAAA,IAAA;AACA,qBAAA,MAAA,CAAA,eAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAAA,OAAA,GAAA,EAAA,IAAA;AACA;;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AACA;AACA;AAVA;AADA,OAAA;AAcA,KA9BA;;AA+BA,eAAA,UAAA,CAAA,UAAA,EAAA,OAAA;AACA,GApCA,EA1kTA,CAgnTA;;AACA,WAAA,YAAA,GAAA;AACA,eAAA,aAAA,CAAA,cAAA,KAAA;AACA,gBAAA,cAAA,CAAA,eAAA,KAAA;AACA,QAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAHA,CAIA;;AACA,cAAA,GAAA,OAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAAA,CAAA,aAAA,CAAA,EAAA,cAAA,CAAA,CAAA,CAAA,CAAA;AACA,SAAA,eAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,UAAA,EAAA,WAAA,CAAA,CAAA,EAAA,WAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,OAAA,CAAA,GAAA,EAAA,CAAA;AACA,YAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,UAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EAAA,IAAA,CAAA,OAAA,EAAA,UAAA,EAAA,IAAA,CAAA,QAAA,EAAA,WAAA;AACA,GA1nTA,CA4nTA;;;AACA,WAAA,aAAA,GAAA;AACA;AACA,eAAA,CAAA,cAAA,KAAA;AACA,gBAAA,CAAA,eAAA,KAAA;AACA,QAAA,IAAA,CAAA,OAAA,EAAA,QAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,QAAA,QAAA,KAAA,GAAA,CAAA,QAAA,EAAA,UAAA,CAAA;AACA,QAAA,SAAA,KAAA,GAAA,CAAA,SAAA,EAAA,WAAA,CAAA;AACA,SAAA,eAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,KAAA,EAAA,MAAA,CAAA,CAAA;AACA,QAAA,MAAA,CAAA,QAAA,EAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,GAAA,EAAA,CAAA,EACA,IADA,CACA,GADA,EACA,CADA,EACA,IADA,CACA,OADA,EACA,KADA,EACA,IADA,CACA,QADA,EACA,MADA;AAEA,GAvoTA,CAyoTA;;;AACA,IAAA,MAAA,EAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,QAAA,eAAA,KAAA,EAAA;AACA,kBAAA,KAAA,GAAA,OAAA,UAAA;AACA,mBAAA,KAAA,GAAA,OAAA,WAAA;AACA;AACA,GANA,EA1oTA,CAkpTA;;AACA,WAAA,WAAA,GAAA;AACA,QAAA,KAAA,GAAA,MAAA,CAAA,WAAA,CAAA;AACA,QAAA,CAAA,GAAA,MAAA,CAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AACA,QAAA,OAAA,GAAA,MAAA,CAAA,MAAA,EAAA,IAAA,GAAA,OAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,KAAA,KAAA,EAAA,aAAA,KAAA,MAAA,GAAA,EAAA,CAAA,CAAA;;AACA,QAAA,eAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,WAAA,eAAA,OAAA,CAAA,UAAA,EAAA,KAAA,CAAA,GAAA,CAAA;AACA,WAAA,CAAA,CAAA,SAAA,CAAA,CAAA,GAAA,KAAA,KAAA,EAAA,CAAA,SAAA,CAAA,CAAA,GAAA,KAAA,MAAA,CAAA;AACA;;AACA,OAAA,IAAA,CAAA,WAAA,EAAA,eAAA,GAAA,GAAA,CAAA,CAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,CAAA,CAAA,CAAA,GAAA,GAAA;AACA,GA7pTA,CA+pTA;;;AACA,WAAA,iBAAA,GAAA;AACA,YAAA,EAAA,CAAA,qBAAA,EAAA,KAAA;AACA,aAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA;AACA,cAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,kBAAA;AACA,YAAA,IAAA,CAAA,SAAA,EAAA,EAAA;AACA,iBAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,SAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,MAAA;AACA,mBAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,OAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,MAAA;AACA,UAAA,IAAA,CAAA,SAAA,EAAA,EAAA;AACA,WAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA;AACA,UAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA;AACA,UAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA;AACA,UAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,MAAA;AACA,WAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,QAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,MAAA;AACA,cAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,KAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,OAAA;AACA,SAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA;AACA,UAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,KAAA,CAAA,SAAA,EAAA,MAAA,EAAA,IAAA,CAAA,QAAA,EAAA,kBAAA;AACA,YAAA,IAAA,CAAA,SAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA;AACA,YAAA,IAAA,CAAA,QAAA,EAAA,oBAAA,EAjBA,CAmBA;;AACA,QAAA,KAAA,CAAA,kBAAA,EAAA,SAAA;AACA,UAAA,IAAA,CAAA,SAAA,EAAA,CAAA;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA;AACA,gBAAA,IAAA,CAAA,QAAA,EAAA,EAAA;AACA,iBAAA,IAAA,CAAA,SAAA,EAAA,CAAA;AACA,gBAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA,sBAAA,OAAA,GAAA,IAAA;AACA,qBAAA,OAAA,GAAA,IAAA;AAEA,WAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,CAAA;AACA,QAAA,OAAA,GAAA,IAAA,aAAA,KAAA,GAAA,EAAA,CAAA;AACA,QAAA,OAAA,CAAA,EAAA,OAAA,CAAA;AACA,eAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,aAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,eAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,aAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,CAAA,EAAA,IAAA,CAAA,WAAA,EAAA,CAAA;AACA,cAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA;AACA,cAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,MAAA,EAAA,EAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,EAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA;AACA,WAAA,GAAA,KAAA,aAAA,KAAA,GAAA,CAAA,CAAA;AACA,QAAA,OAAA,CAAA,EAAA,OAAA,CAAA;AACA,WAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,SAAA,EAAA,CAAA,EAAA,IAAA,CAAA,aAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,aAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,UAAA,MAAA,CAAA,kBAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,MAAA,EAAA,CAAA;AACA,UAAA,MAAA,CAAA,eAAA,EAAA,IAAA,CAAA,MAAA,EAAA,SAAA,EAAA,IAAA,CAAA,QAAA,EAAA,SAAA,EAAA,IAAA,CAAA,cAAA,EAAA,GAAA,EAAA,IAAA,CAAA,MAAA,EAAA,CAAA;AACA,GAzsTA,CA2sTA;;;AACA,IAAA,qBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,MAAA,KAAA,KAAA;AACA,QAAA,KAAA,QAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA,QAAA,OAAA,OAAA,EAAA,KAAA,YAAA,MAAA,CAAA,MAAA,CAAA;AACA,MAAA,oBAAA,EAAA,IAAA,GAJA,CAMA;;AACA,MAAA,6BAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,QAAA,UAAA,GAAA,IAAA,CAAA,SAAA,KAAA,CAAA;AACA,sBAAA,KAAA,GAAA,mBAAA,KAAA,GAAA,OAAA,CATA,CAWA;;AACA,QAAA,OAAA,OAAA,EAAA,KAAA,WAAA;AACA,qBAAA,KAAA,GAAA,GAAA,IAAA,CAAA,QAAA,KAAA,EAAA;;AACA,QAAA,QAAA,QAAA,IAAA,QAAA,OAAA,IAAA,QAAA,UAAA,EAAA;AACA,QAAA,YAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,qBAAA,KAAA,GAAA,gBAAA,KAAA,GAAA,GAAA,IAAA,CAAA,MAAA,CAAA;AACA;;AAEA,QAAA,QAAA,OAAA,IAAA,QAAA,QAAA,IAAA,QAAA,WAAA,IAAA,QAAA,OAAA,IAAA,QAAA,cAAA,IAAA,QAAA,gBAAA,IAAA,QAAA,MAAA,IAAA,QAAA,SAAA,IAAA,QAAA,WAAA,EAAA;AACA,QAAA,cAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,uBAAA,KAAA,GAAA,kBAAA,KAAA,GAAA,GAAA,IAAA,CAAA,QAAA,CAAA;AACA,QAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,cAAA,KAAA,EAAA;AACA,4BAAA,KAAA,GAAA,uBAAA,KAAA,GAAA,KAAA;AACA;;AAEA,QAAA,QAAA,OAAA,IAAA,QAAA,QAAA,IAAA,QAAA,WAAA,IAAA,QAAA,cAAA,IAAA,QAAA,gBAAA,IAAA,QAAA,SAAA,EAAA;AACA,QAAA,4CAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,gCAAA,KAAA,GAAA,GAAA,IAAA,CAAA,kBAAA,KAAA,EAAA;AACA,8BAAA,KAAA,GAAA,GAAA,IAAA,CAAA,gBAAA,KAAA,SAAA;AACA;;AAEA,QAAA,QAAA,OAAA,EAAA,EAAA,cAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,QAAA,QAAA,WAAA,EAAA,EAAA,cAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,QAAA,QAAA,SAAA,EAAA,EAAA,eAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;;AAEA,QAAA,QAAA,QAAA,EAAA;AACA,QAAA,6DAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA,qBAAA,KAAA,GAAA,gBAAA,KAAA,GAAA,GAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,MAAA,KAAA,SAAA;AACA,uBAAA,KAAA,GAAA,kBAAA,KAAA,GAAA,GAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,QAAA,KAAA,SAAA;AACA,4BAAA,KAAA,GAAA,uBAAA,KAAA,GAAA,GAAA,IAAA,CAAA,cAAA,KAAA,CAAA;AACA,QAAA,mBAAA,EAAA,GAAA,CAAA,SAAA,EAAA,cAAA;AACA;AACA;;AAEA,QAAA,QAAA,OAAA,EAAA;AACA,QAAA,aAAA,EAAA,GAAA,CAAA,SAAA,EAAA,OAAA;AACA,qBAAA,KAAA,GAAA,qBAAA,KAAA,GAAA,IAAA,KAAA,CAAA,kBAAA,CAAA;AACA,qBAAA,KAAA,GAAA,qBAAA,KAAA,GAAA,YAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,CAAA;AACA;AACA,GAnDA,EA5sTA,CAiwTA;;AACA,WAAA,iBAAA,GAAA;AACA,QAAA,mBAAA,KAAA,KAAA,QAAA,EAAA;AACA,QAAA,OAAA,GAAA,MAAA,CAAA,uBAAA,CAAA;AACA,SAAA,SAAA,CAAA,QAAA,EAAA,MAAA;AACA,WAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,CAAA,EAAA,WAAA,KAAA,GAAA,MAAA,CAAA,CAAA,CAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,YAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA;AACA,YAAA,WAAA,OAAA,EAAA,WAAA,KAAA;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,MAAA,KAAA,EAAA,CAAA;AACA,YAAA,QAAA,CAAA,GAAA,OAAA,CAAA,QAAA,CAAA;AACA,WAAA,OAAA,CAAA,QAAA,EAAA,KAAA;AACA,WAAA,MAAA,CAAA,IAAA,EAAA,OAAA,CAAA,WAAA,EAAA,KAAA;AACA,OAPA;AAQA,KAdA;AAeA;;AAEA,IAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,oBAAA,KAAA,GAAA,KAAA,KAAA;AACA,QAAA,KAAA,IAAA,MAAA,CAAA,MAAA,mBAAA,KAAA,CAAA;;AACA,QAAA,mBAAA,KAAA,KAAA,QAAA,EAAA;AACA,SAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,KAFA,MAEA;AACA,SAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA;AACA,GARA;AAUA,IAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,sBAAA,KAAA,GAAA,KAAA,KAAA;AACA,QAAA,KAAA,IAAA,MAAA,CAAA,MAAA,mBAAA,KAAA,CAAA;AACA,OAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,GAJA;AAMA,IAAA,wBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,2BAAA,KAAA,GAAA,KAAA,KAAA;AACA,QAAA,KAAA,IAAA,MAAA,CAAA,MAAA,mBAAA,KAAA,CAAA;AACA,OAAA,IAAA,CAAA,cAAA,EAAA,CAAA,KAAA,KAAA;AACA,GAJA;AAMA,IAAA,4BAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,MAAA,mBAAA,KAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,KAAA,KAAA;AACA,GAHA;AAKA,IAAA,0BAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,MAAA,mBAAA,KAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,EAAA,IAAA,CAAA,gBAAA,EAAA,KAAA,KAAA;AACA,GAHA;AAKA,IAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,uBAAA,KAAA,GAAA,KAAA,KAAA;AACA,QAAA,MAAA,mBAAA,KAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,EAAA,IAAA,CAAA,SAAA,EAAA,KAAA,KAAA;AAEA,GALA;AAOA,IAAA,mBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,MAAA,mBAAA,KAAA;AACA,QAAA,OAAA,OAAA,EAAA,MAAA,aAAA;AACA,QAAA,KAAA,IAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA,OAAA,IAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AACA,SAAA,OAAA,CAAA,GAAA,EAAA,OAAA,EALA,CAKA;AACA,GANA;AAQA,IAAA,mBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,UAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA;AACA,GAHA;AAKA,IAAA,mBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,QAAA,CAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,WAAA,CAAA,EAAA;AACA,GAHA;AAKA,IAAA,mBAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,MAAA;AACA,QAAA,CAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,WAAA,CAAA,EAAA;AACA,2BAAA,KAAA,GAAA,KAAA,KAAA;AACA,GAJA;;AAMA,WAAA,4BAAA,GAAA;AACA,QAAA,OAAA,iBAAA,KAAA;;AACA,QAAA,iBAAA,KAAA,KAAA,UAAA,EAAA;AAAA,+BAAA,SAAA,GAAA,EAAA;AAAA;AAAA;;AACA,QAAA,iBAAA,KAAA,KAAA,WAAA,IAAA,iBAAA,KAAA,KAAA,SAAA,EAAA,QAAA,KAAA,GAAA,CAAA,KAAA,KAAA,EAAA,GAAA,GAAA,IAAA,CAAA;AACA,QAAA,WAAA,MAAA,GAAA,OAAA,cAAA,KAAA,CAAA,GAAA,GAAA,GAAA,aAAA,KAAA,GAAA,GAAA;AACA,6BAAA,KAAA,GAAA,QAAA;AACA;;AAEA,IAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,kBAAA,EAAA,KAAA,KAAA;AACA,yBAAA,KAAA,GAAA,KAAA,KAAA;AACA,GAHA;AAKA,IAAA,iBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,gBAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,yBAAA,KAAA,GAAA,KAAA,KAAA;AACA,GAHA;AAKA,IAAA,oBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AAAA,iBAAA,IAAA,CAAA,SAAA,EAAA,CAAA,KAAA,OAAA;AAAA,GAAA;AAEA,IAAA,mBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,UAAA,KAAA,OAAA,GAAA,OAAA,GAAA,MAAA;AACA,gBAAA,SAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,EAAA,OAAA;AACA,GAHA,EA12TA,CA+2TA;;AACA,IAAA,eAAA,EAAA,EAAA,CAAA,cAAA,EAAA,YAAA;AACA,QAAA,KAAA,KAAA,EAAA;AACA,QAAA,OAAA,YAAA,EAAA;;AACA,QAAA,OAAA,eAAA,IAAA,OAAA,gBAAA,EAAA;AACA;AACA,mBAAA,KAAA;AACA,mBAAA,OAAA,CAAA,UAAA,EAAA,cAAA,KAAA;AACA,mBAAA,OAAA,CAAA,WAAA,EAAA,eAAA,KAAA;AACA;;AACA,QAAA,OAAA,WAAA,EAAA;AACA,kBAAA,WAAA,KAAA,GAAA,CAAA,KAAA,KAAA;;AACA,UAAA,cAAA,CAAA,EAAA;AAAA,mBAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AAAA;;AACA,UAAA,cAAA,CAAA,EAAA;AAAA,mBAAA,KAAA,CAAA,KAAA,GAAA,QAAA;AAAA;;AACA,UAAA,cAAA,CAAA,EAAA;AAAA,mBAAA,KAAA,CAAA,KAAA,GAAA,OAAA;AAAA,OAJA,CAKA;;AACA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA,mBAAA,OAAA,CAAA,UAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,aAAA,EAAA;AAAA,mBAAA,KAAA,GAAA,KAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AACA,oBAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,OAAA,GAAA,IAAA,KAAA,KAAA,GAAA,EAAA,CAAA;;AACA,UAAA,OAAA,CAAA,EAAA;AAAA,eAAA,CAAA;AAAA;;AACA,iBAAA,MAAA,CAAA,WAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,aAAA,GAAA,KAAA,KAAA,KAAA,GAAA,CAAA,CAAA;;AACA,UAAA,OAAA,CAAA,EAAA;AAAA,eAAA,CAAA;AAAA;;AACA,aAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAAA,WAAA,EAAA,IAAA;AACA,mBAAA,OAAA,CAAA,SAAA,EAAA,KAAA,KAAA;AACA;;AACA,QAAA,OAAA,YAAA,EAAA;AAAA,kBAAA,KAAA,GAAA,KAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,oBAAA,KAAA,GAAA,iBAAA,KAAA,GAAA,KAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,QAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,eAAA,EAAA;AAAA,qBAAA,KAAA,GAAA,KAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,UAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,WAAA,EAAA;AAAA,iBAAA,KAAA,GAAA,CAAA,UAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,iBAAA,EAAA;AAAA,uBAAA,KAAA,GAAA,KAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,YAAA,EAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,oBAAA,EAAA,aAAA,OAAA,CAAA,eAAA,EAAA,KAAA,KAAA;AACA,QAAA,OAAA,mBAAA,EAAA,0BAAA,KAAA,KAAA;AACA,QAAA,OAAA,oBAAA,EAAA,aAAA,OAAA,CAAA,eAAA,EAAA,KAAA,KAAA;;AACA,QAAA,OAAA,eAAA,IAAA,OAAA,eAAA,EAAA;AACA,WAAA,WAAA,CAAA,CAAA,CAAA,cAAA,KAAA,EAAA,CAAA,cAAA,KAAA,CAAA;AACA,WAAA,OAAA,CAAA,GAAA,EAAA,CAAA,KAAA,KAAA;AACA;;AAEA,QAAA,OAAA,gBAAA,EAAA;AAAA,aAAA,KAAA,CAAA,OAAA,GAAA,oBAAA,SAAA,GAAA,CAAA,KAAA,KAAA;AAAA;;AACA,QAAA,OAAA,gBAAA,EAAA;AACA,2BAAA,KAAA,GAAA,GAAA,CAAA,eAAA,KAAA,GAAA,IAAA,CAAA;AACA;AACA;;AACA,QAAA,OAAA,cAAA,EAAA;AACA,yBAAA,KAAA,GAAA,KAAA,KAAA;AACA;AACA;;AACA,QAAA,OAAA,cAAA,IAAA,OAAA,eAAA,IAAA,OAAA,UAAA,EAAA;AACA,UAAA,QAAA,aAAA,KAAA;;AACA,UAAA,OAAA,cAAA,IAAA,UAAA,aAAA,EAAA;AACA,YAAA,SAAA,OAAA,yCAAA,CAAA;;AACA,YAAA,MAAA,EAAA;AACA,cAAA,MAAA,SAAA,aAAA,CAAA,QAAA,CAAA;AACA,cAAA,KAAA,GAAA,IAAA,SAAA,GAAA,MAAA;AACA,uBAAA,GAAA,CAAA,GAAA;AACA,uBAAA,KAAA,GAAA,MAAA;AACA,SALA,MAKA;AACA,eAAA,KAAA,GAAA,IAAA;AAAA;AACA;AACA;;AACA,UAAA,SAAA,cAAA,KAAA;AACA,kBAAA,KAAA,GAAA,SAAA,GAAA,GAAA,KAAA;AACA,YAAA,SAAA,CAAA,GAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,IAAA,CAAA;AACA,YAAA,OAAA,CAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA;;AACA,YAAA,IAAA,EAAA;AACA,cAAA,WAAA,OAAA,KAAA,GAAA,CAAA,MAAA,EAAA,CAAA,CAAA,CADA,CACA;;AACA,cAAA,OAAA,SAAA,KAAA;;AACA,cAAA,SAAA,QAAA,EAAA;AAAA,mBAAA,QAAA,GAAA;AAAA,WAAA,MAAA;AAAA,mBAAA,SAAA,KAAA;AAAA;;AACA,kBAAA,GAAA,QAAA,IAAA,GAAA,GAAA,IAAA;AACA,SALA,MAKA;AACA,cAAA,OAAA,CAAA,EAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,WAAA,CAAA;AACA,kBAAA,GAAA,OAAA,MAAA,IAAA,GAAA,GAAA,KAAA;AACA;;AACA,UAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,KAAA;AACA,OAdA;AAeA,YAAA,SAAA,CAAA,OAAA,EAAA,IAAA,CAAA,kBAAA,EAAA,GAAA,KAAA,MAAA,EAAA,CAAA,CAAA;AACA;AACA;AACA;;AACA,QAAA,OAAA,SAAA,EAAA;AACA,oBAAA,SAAA,GAAA,KAAA,KAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,QAAA;AACA;AACA;;AACA,QAAA,OAAA,UAAA,EAAA;AACA,QAAA,WAAA,EAAA,WAAA,CAAA,QAAA;AACA;AACA;;AACA,QAAA,OAAA,gBAAA,IAAA,OAAA,cAAA,EAAA;AACA,SAAA,MAAA,CAAA,kBAAA,EACA,IADA,CACA,SADA,EACA,CAAA,eAAA,KADA,EAEA,IAFA,CAEA,MAFA,EAEA,aAAA,KAFA;AAGA,QAAA,WAAA,EAAA,WAAA,CAAA,QAAA;AACA;AACA,GAnGA;AAqGA,IAAA,cAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,KAAA,KAAA,KAAA,EAAA,IAAA,MAAA,CAAA,KAAA,KAAA,CAAA,IAAA,KAAA,KAAA,GAAA,IAAA,IAAA,KAAA,KAAA,GAAA,EAAA,EAAA;AACA,UAAA,0EAAA;AACA,WAAA,KAAA,GAAA,cAAA,KAAA,GAAA,GAAA,GAAA,aAAA,KAAA;AACA;AACA;;AACA,kBAAA,KAAA,GAAA,CAAA,KAAA,KAAA;AACA,gBAAA,KAAA,GAAA,KAAA,KAAA,GAAA,GAAA,GAAA,aAAA,KAAA;AACA;AACA,GATA;AAWA,IAAA,uBAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,KAAA,KAAA,KAAA,EAAA,IAAA,MAAA,CAAA,KAAA,KAAA,CAAA,IAAA,KAAA,KAAA,GAAA,KAAA,IAAA,KAAA,KAAA,GAAA,EAAA,EAAA;AACA,UAAA,4EAAA;AACA,WAAA,KAAA,GAAA,GAAA,eAAA,KAAA,GAAA,IAAA,CAAA;AACA;AACA;;AACA,mBAAA,KAAA,GAAA,CAAA,KAAA,KAAA;AACA,yBAAA,KAAA,GAAA,GAAA,KAAA,KAAA,GAAA,IAAA,CAAA;AACA;AACA,GATA;AAWA,IAAA,qBAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,KAAA,KAAA,KAAA,EAAA,IAAA,MAAA,CAAA,KAAA,KAAA,CAAA,IAAA,KAAA,KAAA,GAAA,CAAA,IAAA,KAAA,KAAA,GAAA,EAAA,EAAA;AACA,UAAA,0EAAA;AACA,WAAA,KAAA,GAAA,aAAA,KAAA;AACA;AACA;;AACA,QAAA,MAAA,WAAA,CAAA,KAAA,KAAA,CAAA;AACA,QAAA,MAAA,CAAA,EAAA,aAAA,YAAA,CAAA,KAAA,EAAA,GAAA;AACA,iBAAA,KAAA,GAAA,mBAAA,KAAA,GAAA,GAAA;AACA;AACA,GAVA,EA3+TA,CAw/TA;;AACA,IAAA,+CAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,OAAA,SAAA,KAAA,EAAA,CAAA,MAAA,CAAA,CAAA,EAAA,WAAA,EAAA,GAAA,KAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,SAAA,cAAA,CAAA,IAAA,CAAA;AACA,QAAA,CAAA,EAAA,EAAA;AACA,OAAA,YAAA,CAAA,aAAA,EAAA,CAAA;AACA,OAAA,SAAA,GAAA,WAAA;AACA,GANA;AAQA,IAAA,eAAA,EAAA,KAAA,CAAA,qBAAA;AAEA,IAAA,WAAA,EAAA,MAAA,CAAA,YAAA;AACA,QAAA,SAAA,GAAA,CAAA,KAAA,KAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,KAAA,EAAA,MAAA,EAAA,CAAA;AACA;AACA;AACA,aAAA,KAAA,GAAA,CAAA;AACA,GANA;AAQA,IAAA,eAAA,EAAA,EAAA,CAAA,QAAA,EAAA,YAAA;AACA,QAAA,SAAA,KAAA,KAAA;AACA,MAAA,eAAA,EAAA,GAAA,CAAA,cAAA,EAAA,QAAA,CAAA,WAAA;AACA,MAAA,cAAA,EAAA,WAAA,CAAA,WAAA;AACA,MAAA,eAAA,EAAA,MAAA;AACA,MAAA,kFAAA,EAAA,OAAA;AACA,UAAA,SAAA,CAAA,MAAA,EAAA,MAAA;AACA,UAAA,SAAA,CAAA,MAAA,EAAA,MAAA;;AACA,QAAA,WAAA,iBAAA,EAAA;AACA,mBAAA,KAAA;AACA,mBAAA,KAAA;AACA,oBAAA,KAAA;AACA,sBAAA,KAAA;AACA,kBAAA,KAAA;AACA,mBAAA,KAAA;AACA,mBAAA,KAAA;AACA,oBAAA,KAAA;AACA;;AACA,QAAA,WAAA,gBAAA,EAAA;AACA,mBAAA,KAAA;AACA,mBAAA,KAAA;AACA,oBAAA,KAAA;AACA,QAAA,iBAAA,EAAA,KAAA;AACA,kBAAA,KAAA;AACA,mBAAA,KAAA;AACA,oBAAA,KAAA;AACA;;AACA,QAAA,WAAA,iBAAA,EAAA;AACA,QAAA,eAAA,EAAA,KAAA;AACA,mBAAA,KAAA;AACA;AACA,GA/BA,EA3gUA,CA4iUA;;AACA,IAAA,eAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,MAAA,aAAA,EAAA,IAAA;AACA,MAAA,eAAA,EAAA,WAAA,CAAA,QAAA;AACA,MAAA,IAAA,EAAA,QAAA,CAAA,QAAA;AACA,QAAA,KAAA,KAAA,EAAA;;AACA,QAAA,OAAA,WAAA,EAAA;AAAA,QAAA,gBAAA,EAAA,IAAA;AAAA;;AACA,QAAA,OAAA,UAAA,EAAA;AAAA,QAAA,eAAA,EAAA,IAAA;AAAA;;AACA,QAAA,OAAA,YAAA,EAAA;AAAA,QAAA,iBAAA,EAAA,IAAA;AAAA;;AACA,QAAA,OAAA,cAAA,EAAA;AAAA,QAAA,mBAAA,EAAA,IAAA;AAAA;;AACA,QAAA,OAAA,UAAA,EAAA;AAAA,QAAA,eAAA,EAAA,IAAA;AAAA;AACA,GAVA,EA7iUA,CAyjUA;;AACA,IAAA,sBAAA,EAAA,EAAA,CAAA,OAAA,EAAA,YAAA;AACA,QAAA,YAAA,KAAA,IAAA,IAAA,EAAA;AACA,WAAA,YAAA,KAAA;AACA,QAAA,MAAA,IAAA,GAAA,CAAA,OAAA,QAAA,CAAA,IAAA,CAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA,QAAA,GAAA,QAAA,GAAA,IAAA;AACA,GALA,EA1jUA,CAikUA;AACA;;AACA,WAAA,eAAA,GAAA;AACA,aAAA,gBAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,eAAA;AACA,QAAA,cAAA;AACA,QAAA,cAAA,EAAA,IAAA;AACA,KAJA;AAMA,aAAA,gBAAA,CAAA,WAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,cAAA,EAAA,IAAA;AACA,KAFA;AAIA,aAAA,gBAAA,CAAA,MAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,eAAA;AACA,QAAA,cAAA;AACA,QAAA,cAAA,EAAA,IAAA,GAHA,CAIA;;AACA,UAAA,EAAA,YAAA,CAAA,KAAA,IAAA,IAAA,IAAA,EAAA,YAAA,CAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AAAA;AAAA;;AACA,UAAA,OAAA,EAAA,YAAA,CAAA,KAAA,CAAA,CAAA,EAAA,SAAA,EAAA,CANA,CAOA;;AACA,UAAA,KAAA,IAAA,CAAA,OAAA,CAAA,MAAA,KAAA,CAAA,CAAA,EAAA;AACA,qBAAA,SAAA,GAAA,iEAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA;AACA,qBAAA,KADA;AACA,iBAAA,qBADA;AAEA,iBAAA,GAFA;AAEA,mBAAA;AACA,mBAAA,iBAAA;AAAA,gBAAA,IAAA,EAAA,MAAA,CAAA,OAAA;AAAA;AADA,WAFA;AAIA,oBAAA;AAAA,gBAAA,QAAA;AAAA,gBAAA,QAAA;AAAA,gBAAA;AAAA;AAJA,SAAA;AAMA;AACA,OAjBA,CAkBA;;;AACA,QAAA,kBAAA,EAAA,IAAA,CAAA,qDAAA;AACA,iBAAA,IAAA,EAAA,SAAA,cAAA,GAAA;AACA,UAAA,kBAAA,EAAA,IAAA,CAAA,gBAAA;AACA,OAFA;AAGA,KAvBA;AAwBA;AACA;;AAEA,SAAA,GAAA,CAAA,GAAA,EAAA,IAAA,EAAA,KAAA,EAAA;AACA,MAAA,UAAA,GAAA,MAAA,CAAA,UAAA,CAAA;AACA,MAAA,MAAA,2DAAA;AACA,MAAA,MAAA,2DAAA;AACA,UAAA,IAAA,CAAA,GAAA,EAAA,KAAA,CAAA,YAAA,EAAA,QAAA,GAAA,GAAA,GAAA;AACA,MAAA,IAAA,EAAA,QAAA,IAAA,CAAA,WAAA,EAAA,GAAA;AACA;;AAEA,OAAA,GAAA,GAAA,GAAA;AAEA,EAAA,qBAAA,EAAA,EAAA,CAAA,UAAA,EAAA,YAAA;AACA,UAAA,SAAA,GAAA,QAAA,YAAA,CAAA,WAAA,CAAA;AACA,CAFA","sourcesContent":["\n\n<template>\n<!-- eslint-disable -->\n  <div class=\"hello\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100%\" height=\"100%\">\n      <defs>\n        <g id=\"filters\">\n          <filter id=\"blurFilter\" x=\"-1\" y=\"-1\" width=\"100\" height=\"100\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"0.2\"/>\n          </filter>\n          <filter id=\"blur1\" x=\"-1\" y=\"-1\" width=\"100\" height=\"100\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"1\"/>\n          </filter>\n          <filter id=\"blur5\" x=\"-1\" y=\"-1\" width=\"100\" height=\"100\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\n          </filter>\n          <filter id=\"blur10\" x=\"-1\" y=\"-1\" width=\"100\" height=\"100\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"10\"/>\n          </filter>\n          <filter id=\"splotch\">\n            <feTurbulence type=\"fractalNoise\" baseFrequency=\".01\" numOctaves=\"4\"/>\n            <feColorMatrix values=\"0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -0.9 1.2\" result=\"texture\"/>\n            <feComposite in=\"SourceGraphic\" in2=\"texture\" operator=\"in\"/>\n          </filter>\n          <filter id=\"bluredSplotch\">\n            <feTurbulence type=\"fractalNoise\" baseFrequency=\".01\" numOctaves=\"4\"/>\n            <feColorMatrix values=\"0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -0.9 1.2\" result=\"texture\"/>\n            <feComposite in=\"SourceGraphic\" in2=\"texture\" operator=\"in\"/>\n            <feGaussianBlur stdDeviation=\"4\"/>\n          </filter>\n          <filter id=\"dropShadow\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"2\"/>\n            <feOffset dx=\"1\" dy=\"2\"/>\n            <feMerge>\n                <feMergeNode/>\n                <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n          <filter id=\"dropShadow01\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\".1\"/>\n            <feOffset dx=\".2\" dy=\".3\"/>\n            <feMerge>\n                <feMergeNode/>\n                <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n          <filter id=\"dropShadow05\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\".5\"/>\n            <feOffset dx=\".5\" dy=\".7\"/>\n            <feMerge>\n                <feMergeNode/>\n                <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n          <filter id=\"outline\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\"/>\n            <feMerge>\n                <feMergeNode/>\n                <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n          <filter id=\"pencil\">\n            <feTurbulence baseFrequency=\"0.03\" numOctaves=\"6\" type=\"fractalNoise\"/>\n            <feDisplacementMap scale=\"3\" in=\"SourceGraphic\" xChannelSelector=\"R\" yChannelSelector=\"G\"/>\n          </filter>\n          <filter id=\"turbulence\">\n            <feTurbulence baseFrequency=\"0.1\" numOctaves=\"3\" type=\"fractalNoise\"/>\n            <feDisplacementMap scale=\"10\" in=\"SourceGraphic\" xChannelSelector=\"R\" yChannelSelector=\"G\"/>\n          </filter>\n          <filter id=\"filter-grayscale\">\n            <feColorMatrix values=\"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\"/>\n          </filter>\n          <filter id=\"filter-sepia\">\n            <feColorMatrix values=\"0.393 0.769 0.189 0 0 0.349 0.686 0.168 0 0 0.272 0.534 0.131 0 0 0 0 0 1 0\"/>\n          </filter>\n          <filter id=\"filter-dingy\">\n            <feColorMatrix values=\"1 0 0 0 0 0 1 0 0 0 0 0.3 0.3 0 0 0 0 0 1 0\"/>\n          </filter>\n          <filter id=\"filter-tint\">\n            <feColorMatrix values=\"1.1 0 0 0 0  0 1.1 0 0 0  0 0 0.9 0 0  0 0 0 1 0\"/>\n          </filter>\n        </g>\n        <g id=\"deftemp\"></g>\n        <g id=\"defs-icons\">\n          <symbol id=\"icon-anchor\" viewBox=\"0 0 30 29\">\n            <title>Port</title>\n            <path d=\"M15 4c0-0.547-0.453-1-1-1s-1 0.453-1 1 0.453 1 1 1 1-0.453 1-1zM28 18.5v5.5c0 0.203-0.125 0.391-0.313 0.469-0.063 0.016-0.125 0.031-0.187 0.031-0.125 0-0.25-0.047-0.359-0.141l-1.453-1.453c-2.453 2.953-6.859 4.844-11.688 4.844s-9.234-1.891-11.688-4.844l-1.453 1.453c-0.094 0.094-0.234 0.141-0.359 0.141-0.063 0-0.125-0.016-0.187-0.031-0.187-0.078-0.313-0.266-0.313-0.469v-5.5c0-0.281 0.219-0.5 0.5-0.5h5.5c0.203 0 0.391 0.125 0.469 0.313s0.031 0.391-0.109 0.547l-1.563 1.563c1.406 1.891 4.109 3.266 7.203 3.687v-10.109h-3c-0.547 0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h3v-2.547c-1.188-0.688-2-1.969-2-3.453 0-2.203 1.797-4 4-4s4 1.797 4 4c0 1.484-0.812 2.766-2 3.453v2.547h3c0.547 0 1 0.453 1 1v2c0 0.547-0.453 1-1 1h-3v10.109c3.094-0.422 5.797-1.797 7.203-3.687l-1.563-1.563c-0.141-0.156-0.187-0.359-0.109-0.547s0.266-0.313 0.469-0.313h5.5c0.281 0 0.5 0.219 0.5 0.5z\"></path>\n          </symbol>\n        </g>\n        <g id=\"defs-markers\">\n          <symbol id=\"marker0\" viewBox=\"0 0 30 30\">\n            <path d=\"M6,19 l9,10 L24,19\" fill=\"#000000\" stroke=\"none\"></path>\n            <circle cx=\"15\" cy=\"15\" r=\"10\" stroke-width=\"1\" stroke=\"#000000\" fill=\"#ffffff\"></circle>\n            <text x=\"50%\" y=\"50%\" fill=\"#000000\" stroke-width=\"0\" stroke=\"#000000\" font-size=\"22px\" dominant-baseline=\"central\">?</text>\n          </symbol>\n        </g>\n        <pattern id=\"oceanic\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\n          <filter id='image'>\n            <feImage x=\"0\" y=\"0\" width=\"100\" height=\"100\" xlink:href=\"data:image/png;base64,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\"/>\n          </filter>\n          <rect width='100' height='100' filter=\"url(#image)\" opacity='0.2'/>\n        </pattern>\n        <pattern id=\"mottling\" width=\"16\" height=\"9\" patternUnits=\"userSpaceOnUse\">\n          <filter id='turb'>\n            <feTurbulence type='fractalNoise' baseFrequency='.7' numOctaves='10' stitchTiles='stitch'/>\n          </filter>\n          <rect width='16' height='9' filter=\"url(#turb)\"/>\n        </pattern>\n        <g id=\"rose\" stroke-width=\"1\">\n          <g id=\"sL\" stroke=\"#3f3f3f\">\n            <line x1=\"0\" y1=\"-10000\" x2=\"0\" y2=\"10000\"/>\n            <line x1=\"-10000\" y1=\"0\" x2=\"10000\" y2=\"0\"/>\n          </g>\n          <use xlink:href=\"#sL\" transform=\"rotate(45)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(22.5)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(-22.5)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(11.25)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(-11.25)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(56.25)\"/>\n          <use xlink:href=\"#sL\" transform=\"rotate(-56.25)\"/>\n          <g stroke-width=\"8\">\n            <circle r=\"9\" stroke=\"#000000\" fill=\"#1b1b1b\"/>\n            <circle r=\"75\" stroke=\"#008000\" fill=\"#ffffff\" fill-opacity=\".1\"></circle>\n            <circle r=\"212\" stroke=\"#1b1b1b\"></circle>\n            <circle r=\"211\" stroke=\"#008000\" fill=\"#ffffff\" fill-opacity=\".1\"></circle>\n          </g>\n          <g stroke=\"#1b1b1b\">\n            <circle r=\"71\"/>\n            <circle r=\"79\"/>\n            <circle r=\"94\"/>\n            <circle r=\"152\"/>\n            <circle r=\"164\"/>\n            <circle r=\"207\"/>\n           </g>\n           <g id=\"s3\">\n             <g id=\"s2\">\n               <g id=\"s1\" stroke=\"#1b1b1b\">\n                <path d=\"M 39.416,95.16 C 33.65,103.95 30.76,110.5 28.93,117.18 C 15.24,113.43 13.54,127.15 23.04,131 C 13.71,145.8 7.84,173.93 0,212 L 0,103 A 103,103 0 0,0 39.416,95.16 z\" fill=\"#47a3d1\"/>\n                <path d=\"M 39.416,95.16 C 33.65,103.95 30.76,110.5 28.93,117.18 C 15.24,113.43 13.54,127.15 23.04,131 C 13.71,145.8 7.84,173.93 0,212 L 0,103 A 103,103 0 0,0 39.416,95.16 z\" fill=\"black\" transform=\"scale(-1,1)\"/>\n                <path d=\"M -31.995,160.849 A 164,164 0 0,0 31.995,160.849 C 18.9,170.1 8.4,176.3 0,207 C -8.4,176.3 -18.9,170.1 -31.995,160.849 z\" fill=\"#c2390f\" transform=\"rotate(22.5)\"/>\n              </g>\n              <use xlink:href=\"#s1\" transform=\"rotate(45)\"/>\n            </g>\n            <use xlink:href=\"#s2\" transform=\"rotate(90)\"/>\n           </g>\n          <use xlink:href=\"#s3\" transform=\"scale(-1)\"/>\n        </g>\n      </defs>\n      <g id=\"initial\">\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#oceanic)\"></rect>\n        <use xlink:href=\"#rose\" id=\"init-rose\"></use>\n      </g>\n    </svg>\n    <div id=\"loading\">\n      <div id=\"title_name\">Azgaar's</div>\n      <div id=\"title\">Fantasy Map Generator</div>\n      <div id=\"version\">v. 0.60b</div>\n      <p id=\"loading-text\">LOADING<span>.</span><span>.</span><span>.</span></p>\n    </div>\n    <canvas id=\"canvas\" style=\"opacity: 0\"></canvas>\n    <div id=\"optionsContainer\" class=\"hidden\">\n      <div id=\"collapsible\">\n        <button id=\"optionsTrigger\" onmouseover=\"tip('Click to toggle options. Hotkey: O')\" class=\"options icon-right-open glow\"></button>\n        <button id=\"regenerate\" onmouseover=\"tip('Click to generate a new map. Hotkey: F6')\" class=\"options\">New Map!</button>\n      </div>\n      <div id=\"options\">\n        <div class=\"drag-trigger\" onmouseover=\"tip('Drag to move options pane')\"></div>\n        <div class=\"tab\">\n          <button id=\"layoutTab\" onmouseover=\"tip('Click to open layout menu')\" class=\"options\">Layout</button>\n          <button id=\"styleTab\" onmouseover=\"tip('Click to style menu')\" class=\"options\">Style</button>\n          <button id=\"optionsTab\" onmouseover=\"tip('Click to change generation options')\" class=\"options\">Options</button>\n          <button id=\"customizeTab\" onmouseover=\"tip('Click to open customization menu')\" class=\"options\">Customize</button>\n          <button id=\"aboutTab\" onmouseover=\"tip('Click to see Generator info')\" class=\"options\">?</button>\n        </div>\n        <div id=\"layoutContent\" class=\"tabcontent\">\n          <p style=\"display: inline-block;\">Select preset:</p>\n          <select id=\"layoutPreset\">\n            <option value=\"layoutPolitical\" selected>Political map</option>\n            <option value=\"layoutCultural\">Cultural map</option>\n            <!-- <option value=\"layoutEconomical\">Economical map</option> -->\n            <option value=\"layoutHeightmap\">Heightmap</option>\n            <option value=\"layoutLandmass\">Pure landmass</option>\n          </select>\n          <p>Displayed layers. Drag to move, click to toggle</p>\n          <ul id=\"mapLayers\">\n            <li onmouseover=\"tip('Toggle Ocean pattern (see Style tab for styling)')\" id=\"toggleOcean\" onclick=\"$('#oceanPattern').fadeToggle()\" class=\"solid\">Ocean</li>\n            <li onmouseover=\"tip('Toggle Heightmap (see Style tab for styling and Customize for editting)')\" id=\"toggleHeight\" class=\"buttonoff\">Heightmap</li>\n            <li onmouseover=\"tip('Toggle Grid')\" id=\"toggleGrid\" class=\"buttonoff\" onclick=\"$('#grid').fadeToggle()\">Grid</li>\n            <li onmouseover=\"tip('Toggle Overlay (overlay type can be set in Style tab)')\" id=\"toggleOverlay\" class=\"buttonoff\">Overlay</li>\n            <li onmouseover=\"tip('Toggle Cultural map (does not work good when counties layer is on)')\" id=\"toggleCultures\" class=\"buttonoff\">Cultures</li>\n            <li onmouseover=\"tip('Toggle Routes')\" id=\"toggleRoutes\" onclick=\"$('#routes').fadeToggle()\">Routes</li>\n            <li onmouseover=\"tip('Toggle Rivers')\" id=\"toggleRivers\" onclick=\"$('#rivers').fadeToggle()\">Rivers</li>\n            <li onmouseover=\"tip('Toggle Countries (open Customize tab for editting)')\" id=\"toggleCountries\">Countries</li>\n            <li onmouseover=\"tip('Toggle Borders')\" id=\"toggleBorders\" onclick=\"$('#borders').fadeToggle()\">Borders</li>\n            <li onmouseover=\"tip('Toggle Relief icons (draft version)')\" id=\"toggleRelief\" onclick=\"$('#terrain').fadeToggle()\">Relief</li>\n            <li onmouseover=\"tip('Toggle Labels (label groups can be toggled separately in Style tab)')\" id=\"toggleLabels\" onclick=\"$('#labels').fadeToggle()\">Labels</li>\n            <li onmouseover=\"tip('Toggle Burg icons')\" id=\"toggleIcons\" onclick=\"$('#icons').fadeToggle()\">Icons</li>\n            <li onmouseover=\"tip('Toggle Markers')\" id=\"toggleMarkers\" onclick=\"$('#markers').fadeToggle()\">Markers</li>\n          </ul>\n          <div id=\"layoutCheckboxes\">\n            <input id=\"toggleTooltips\" class=\"checkbox\" type=\"checkbox\" checked onclick=\"$('#tooltip').fadeToggle()\">\n            <label for=\"toggleTooltips\" onmouseover=\"tip('Toogle tooltip line and legend box')\" class=\"checkbox-label\">Show tooltips</label>\n            <label id=\"optionSeedLabel\" onmouseover=\"tip('Map seed. Please do NOT consider as a save function, seed produces different maps in case of code and options change')\" style=\"margin-left:10px\">Map seed:\n              <input id=\"optionsSeed\" onmouseover=\"tip('Map seed. Please do NOT consider as a save function, seed produces different maps in case of code and options change')\" class=\"pureInput\" style=\"width:50px\" value=\"\">\n              <i onmouseover=\"tip('Click to generate a map for this seed')\" id=\"optionsSeedGenerate\" style=\"margin-left:-3px; color: #5d4651\" class=\"icon-play\"></i>\n            </label>\n          </div>\n        </div>\n        <div id=\"styleContent\" class=\"tabcontent\">\n          <p style=\"display: inline-block;\">Select element:</p>\n          <select id=\"styleElementSelect\">\n            <option value=\"grid\">Grid</option>\n            <option value=\"neutralBorders\">Borders (neutral)</option>\n            <option value=\"stateBorders\">Borders (state)</option>\n            <option value=\"coastline\">Coastline</option>\n            <option value=\"regions\">Countries</option>\n            <option value=\"cults\">Cultures</option>\n            <option value=\"terrs\">Heightmap</option>\n            <option value=\"icons\">Icons</option>\n            <option value=\"labels\">Labels</option>\n            <option value=\"lakes\">Lakes</option>\n            <option value=\"landmass\">Landmass</option>\n            <option value=\"markers\">Markers</option>\n            <option value=\"ocean\" selected>Ocean</option>\n            <option value=\"overlay\">Overlay</option>\n            <option value=\"terrain\">Relief</option>\n            <option value=\"rivers\">Rivers</option>\n            <option value=\"roads\">Roads</option>\n            <option value=\"ruler\">Rulers</option>\n            <option value=\"trails\">Trails</option>\n            <option value=\"searoutes\">Searoutes</option>\n            <option value=\"scaleBar\">Scale bar</option>\n          </select>\n          <i id=\"restoreStyle\" onmouseover=\"tip('Restore default style')\" class=\"icon-ccw\"></i>\n          <div id=\"styleInputs\">\n            <div id=\"styleOverlay\">\n              <br><span>Ensure Overlay layer is active (see Layout tab)</span><br>\n              <br>Overlay type: <select id=\"styleOverlayType\" class=\"pureInput\">\n                <option value=\"pointyHex\" selected>Hex grid (pointy)</option>\n                <option value=\"flatHex\">Hex grid (flat)</option>\n                <option value=\"square\">Square grid</option>\n                <option value=\"windrose\">Wind rose</option>\n              </select><br>\n              <br>Size: <input id=\"styleOverlaySize\" type=\"range\" min=\"2\" max=\"50\" step=\"0.1\" value=\"10\">\n              <output id=\"styleOverlaySizeOutput\" onmouseover=\"tip('Overlay size')\">10</output>\n              <output id=\"styleOverlaySizeFriendly\" onmouseover=\"tip('Size between two adjacent cells in map scale')\">(52 mi)</output>\n            </div>\n            <div id=\"styleOcean\">\n              <br>Elements:\n              <input id=\"styleOceanPattern\" class=\"checkbox\" type=\"checkbox\" checked>\n              <label for=\"styleOceanPattern\" onmouseover=\"tip('Toggle ocean pattern')\" class=\"checkbox-label\">Pattern</label>\n              <input id=\"styleOceanLayers\" class=\"checkbox\" type=\"checkbox\" checked>\n              <label for=\"styleOceanLayers\" onmouseover=\"tip('Toggle ocean layers')\" class=\"checkbox-label\">Layers</label><br>\n              Background: <input id=\"styleOceanBack\" type=\"color\" value=\"#000000\"/><output id=\"styleOceanBackOutput\">#000000</output><br>\n              Foreground: <input id=\"styleOceanFore\" type=\"color\" value=\"#53679f\"/><output id=\"styleOceanForeOutput\">#53679f</output>\n            </div>\n            <div id=\"styleFill\">\n              Fill: <input id=\"styleFillInput\" type=\"color\" value=\"#5E4FA2\"/>\n              <output id=\"styleFillOutput\">#5E4FA2</output>\n            </div>\n            <div id=\"styleStroke\">\n              Stroke: <input id=\"styleStrokeInput\" type=\"color\" value=\"#5E4FA2\"/>\n              <output id=\"styleStrokeOutput\">#5E4FA2</output>\n            </div>\n            <div id=\"styleStrokeWidth\">\n              <br>Stroke width: <input id=\"styleStrokeWidthInput\" type=\"range\" min=\"0\" max=\"3\" step=\"0.01\" value=\"1\">\n              <output id=\"styleStrokeWidthOutput\">1</output>\n            </div>\n            <div id=\"styleStrokeDasharray\">\n              <br>Stroke dasharray: <input id=\"styleStrokeDasharrayInput\" class=\"pureInput\" value=\"1 2\">\n            </div>\n            <div id=\"styleStrokeLinecap\">\n              <br>Stroke linecap: <select id=\"styleStrokeLinecapInput\" class=\"pureInput\">\n                <option value=\"inherit\" selected>Inherit</option>\n                <option value=\"butt\">Butt</option>\n                <option value=\"round\">Round</option>\n                <option value=\"square\">Square</option>\n              </select>\n            </div>\n            <div id=\"styleFontSize\">\n              <br>Font size: <button class=\"whiteButton\" onmouseover=\"tip('Multiply all Fonts size by 1.1')\" id=\"styleFontPlus\">+</button><button class=\"whiteButton\" onmouseover=\"tip('Multiply all Fonts size by 0.9')\" id=\"styleFontMinus\">-</button>\n            </div>\n            <div id=\"styleSize\">\n              <br>Radius: <button class=\"whiteButton\" onmouseover=\"tip('Multiply Radius by 1.1')\" id=\"styleFillPlus\">+</button><button class=\"whiteButton\" onmouseover=\"tip('Multiply Radius by 0.9')\" id=\"styleFillMinus\">-</button>\n              <span> Stroke: </span><button class=\"whiteButton\" onmouseover=\"tip('Multiply Stroke-width by 1.1')\" id=\"styleStrokePlus\">+</button><button class=\"whiteButton\" onmouseover=\"tip('Multiply Stroke-width by 0.9')\" id=\"styleStrokeMinus\">-</button>\n            </div>\n\n            <div id=\"styleOpacity\">\n              <br>Opacity: <input id=\"styleOpacityInput\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value=\"1\">\n              <output id=\"styleOpacityOutput\">1</output>\n            </div>\n            <div id=\"styleFilter\">\n              <br>Filter: <select id=\"styleFilterInput\" class=\"pureInput\">\n                <option value=\"\" selected>None</option>\n                <option value=\"url(#blurFilter)\">Blur 0.2</option>\n                <option value=\"url(#blur1)\">Blur 1</option>\n                <option value=\"url(#blur5)\">Blur 5</option>\n                <option value=\"url(#blur10)\">Blur 10</option>\n                <option value=\"url(#splotch)\">Splotch</option>\n                <option value=\"url(#bluredSplotch)\">Blured Splotch</option>\n                <option value=\"url(#dropShadow01)\">Shadow 0.1</option>\n                <option value=\"url(#dropShadow05)\">Shadow 0.5</option>\n                <option value=\"url(#dropShadow)\">Shadow 2</option>\n                <option value=\"url(#outline)\">Outline</option>\n                <option value=\"url(#pencil)\">Pencil</option>\n                <option value=\"url(#turbulence)\">Turbulence</option>\n              </select>\n            </div>\n            <div id=\"styleScheme\">\n              <br>Color scheme: <select id=\"styleSchemeInput\" class=\"pureInput\">\n                <option value=\"bright\" selected>Bright</option>\n                <option value=\"light\">Light</option>\n                <option value=\"green\">Green</option>\n                <option value=\"monochrome\">Monochrome</option>\n              </select>\n            </div>\n            <div id=\"styleLabelGroups\">\n              <fieldset>\n                <legend>Label groups:</legend>\n                <input id=\"hideLabels\" class=\"checkbox\" type=\"checkbox\" checked>\n                <label for=\"hideLabels\" onmouseover=\"tip('Allow system to hide labels if their size in too small on that scale)')\" class=\"checkbox-label\">Toggle visibility automatically</label>\n                <div id=\"styleLabelGroupItems\"></div>\n              </fieldset>\n            </div>\n          </div>\n          <div id=\"mapFilters\">\n            <p>Toggle filters:</p>\n            <button id=\"grayscale\" class=\"radio\">Grayscale</button>\n            <button id=\"sepia\" class=\"radio\">Sepia</button>\n            <button id=\"dingy\" class=\"radio\">Dingy</button>\n            <button id=\"tint\" class=\"radio\">Tint</button>\n          </div>\n        </div>\n        <div id=\"optionsContent\" class=\"tabcontent\">\n          <p onmouseover=\"tip('Map generation setting. Generate a new map to apply the settings')\">Generation options (new map to apply):</p>\n          <table>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Map canvas height and width in pixels. Highly affects performance')\">Map size</td>\n              <td style=\"width: 130px;\">\n                <span onmouseover=\"tip('Map width')\">w:</span>\n                <input class=\"pairedNumber\" id=\"mapWidthInput\" type=\"number\" min=\"240\" value=\"960\">\n                <span onmouseover=\"tip('Map height')\">h:</span>\n                <input class=\"pairedNumber\" id=\"mapHeightInput\" type=\"number\" min=\"135\" value=\"540\">\n              </td>\n              <td>\n                <i onmouseover=\"tip('Fit map to screen size')\" id=\"updateFullscreen\" class=\"icon-resize-full-alt\"></i>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Cells density controls underlying graph size and hightly affects performance')\">Map cells density</td>\n              <td>\n                <input id=\"sizeInput\" type=\"range\" min=\"1\" max=\"3\" value=\"1\">\n              </td>\n              <td>\n                <output id=\"sizeOutput\">1</output>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockTemplateInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Select template to be used for a Heightmap generation')\">Heightmap template</td>\n              <td>\n                <select id=\"templateInput\">\n                  <option value=\"Volcano\">Volcano</option>\n                  <option value=\"High Island\">High Island</option>\n                  <option value=\"Low Island\">Low Island</option>\n                  <option value=\"Continents\">Continents</option>\n                  <option value=\"Archipelago\">Archipelago</option>\n                  <option value=\"Atoll\">Atoll</option>\n                  <option value=\"Mainland\">Mainland</option>\n                  <option value=\"Peninsulas\">Peninsulas</option>\n                </select>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockManorsInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Define how many Settlements should be placed')\">Burgs count</td>\n              <td>\n                <input id=\"manorsInput\" type=\"range\" min=\"0\" max=\"999\" value=\"500\">\n              </td>\n              <td>\n                <output id=\"manorsOutput\">500</output>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockRegionsInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Define how many Countries should be created')\">States count</td>\n              <td>\n                <input id=\"regionsInput\" type=\"range\" min=\"0\" max=\"100\" value=\"13\">\n              </td>\n              <td>\n                <output id=\"regionsOutput\">13</output>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockPowerInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Define Countries size variety. Set to 0 to have all countries sized the same')\">States disbalance</td>\n              <td>\n                <input id=\"powerInput\" type=\"range\" min=\"0\" max=\"10\" step=\"0.2\" value=\"5\">\n              </td>\n              <td>\n                <output id=\"powerOutput\">5</output><br>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Unlock to allow option randomization on new map generation')\" data-locked=1 id=\"lockNeutralInput\" class=\"icon-lock\"></i>\n              </td>\n              <td onmouseover=\"tip('Minimal distance to closest burg to consider land neutral')\">Neutral distance</td>\n              <td>\n                <input id=\"neutralInput\" type=\"range\" min=\"1\" max=\"500\" step=\"1\" value=\"200\">\n              </td>\n              <td>\n                <output id=\"neutralOutput\">200</output>\n              </td>\n            </tr>\n            <tr style=\"display:none\">\n              <td>\n                <i onmouseover=\"tip('Unlock to allow option randomization on new map generation')\" data-locked=1 id=\"lockNamesInput\" class=\"icon-lock\"></i>\n              </td>\n              <td onmouseover=\"tip('Define name generation style for burgs. Only the first one works offline')\">Burg names style</td>\n              <td>\n                <select id=\"namesInput\">\n                  <option value=0>Pseudo-real (Culture based simulation; internal generation)</option>\n                  <option value=1>High Fantasy (English only; external resource)</option>\n                </select>\n              </td>\n              <td></td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockCulturesInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Define how many Cultures should be generated')\">Cultures count</td>\n              <td>\n                <input id=\"culturesInput\" type=\"range\" min=\"1\" max=\"13\" value=\"7\">\n              </td>\n              <td>\n                <output id=\"culturesOutput\">7</output>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Lock to restrict option randomization on new map generation')\" data-locked=0 id=\"lockPrecInput\" class=\"icon-lock-open\"></i>\n              </td>\n              <td onmouseover=\"tip('Set precipitation level. Controls river quantity and power')\">Precipitation</td>\n              <td>\n                <input id=\"precInput\" type=\"range\" min=\"0\" max=\"25\" value=\"10\">\n              </td>\n              <td>\n                <output id=\"precOutput\">15</output>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i onmouseover=\"tip('Unlock to allow option randomization on new map generation')\" data-locked=1 id=\"lockSwampinessInput\" class=\"icon-lock\"></i>\n              </td>\n              <td onmouseover=\"tip('Define the land swampiness. Increase to see more marshes on Relief map')\">Swampiness</td>\n              <td>\n                <input id=\"swampinessInput\" type=\"range\" min=\"0\" max=\"100\" value=\"10\">\n              </td>\n              <td>\n                <output id=\"swampinessOutput\">10</output>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Define the coast outline contours scheme')\">Ocean layers</td>\n              <td>\n                <select id=\"outlineLayersInput\">\n                  <option value=\"random\">Random</option>\n                  <option value=\"none\">No outline</option>\n                  <option value=\"-6,-3,-1\" selected>Standard 3</option>\n                  <option value=\"-6,-4,-2\">Indented 3</option>\n                  <option value=\"-9,-6,-3,-1\">Standard 4</option>\n                  <option value=\"-6,-5,-4,-3,-2,-1\">Smooth 6</option>\n                  <option value=\"-9,-8,-7,-6,-5,-4,-3,-2,-1\">Smooth 9</option>\n                </select>\n              </td>\n              <td></td>\n            </tr>\n          </table>\n          <p onmouseover=\"tip('Generator settings. Getting applied immediately on change')\">Generator settings:</p>\n          <table>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Set dialog and tool windows transparency')\">Transparency</td>\n              <td>\n                <input id=\"transparencyInput\" type=\"range\" min=\"0\" max=\"100\" value=\"0\" oninput=\"transparencyOutput.value = this.value\">\n              </td>\n              <td>\n                <output id=\"transparencyOutput\">0</output>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Define relative size of a saved png images. Consider saving big images is slow')\">PNG resolution</td>\n              <td>\n                <input id=\"pngResolutionInput\" type=\"range\" min=\"1\" max=\"10\" value=\"5\" oninput=\"pngResolutionOutput.value = this.value + 'x'\">\n              </td>\n              <td>\n                <output id=\"pngResolutionOutput\">5x</output>\n              </td>\n            </tr>\n            <tr>\n              <td></td>\n              <td onmouseover=\"tip('Set mininum and maximum zoom level')\">Zoom extent</td>\n              <td style=\"width: 130px;\">\n                <span onmouseover=\"tip('Zoom out limit')\">o:</span>\n                <input class=\"pairedNumber\" id=\"zoomExtentMin\" type=\"number\" min=\"0.2\" step=\"0.1\" max=\"20\" value=\"1\">\n                <span onmouseover=\"tip('Zoom in limit')\">i:</span>\n                <input class=\"pairedNumber\" id=\"zoomExtentMax\" type=\"number\" min=\"1\" max=\"50\" value=\"20\">\n              </td>\n              <td>\n                <i onmouseover=\"tip('Restore default [1, 20] zoom extent')\" id=\"zoomExtentDefault\" class=\"icon-ccw\"></i>\n              </td>\n            </tr>\n          </table>\n          <button id=\"optionsReset\" onmouseover=\"tip('Click to restore default options')\">Reset Defaults</button>\n        </div>\n        <div id=\"customizeContent\" class=\"tabcontent\" style=\"display: block;\">\n          <div id=\"openEditor\">\n            <p>Customize:</p>\n            <button id=\"editHeightmap\" onmouseover=\"tip('Click to open Heightmap customization menu')\">Heightmap</button>\n            <button id=\"editCountries\" onmouseover=\"tip('Click to open Countries Editor')\">Countries</button>\n            <button id=\"editCultures\" onmouseover=\"tip('Click to open Cultures Editor')\">Cultures</button>\n            <button id=\"editScale\" onmouseover=\"tip('Click to open Scale Editor')\">Scale</button>\n          </div>\n          <div id=\"customizeHeightmap\" style=\"display: none;\">\n            <p>Heightmap customization:</p>\n            <div>\n              <button onmouseover=\"tip('Edit the current Heightmap')\" id=\"fromHeightmap\">Edit</button>\n              <button onmouseover=\"tip('Remove all data and start from scratch')\" id=\"fromScratch\">Clear all</button>\n              <button class=\"buttonoff\" onmouseover=\"tip('Finalize the Heightmap. Not allowed if landmass area is insufficient')\" id=\"getMap\">Complete</button>\n            </div>\n            <div id=\"customizationMenu\" class=\"hidden\">\n              <div id=\"customizeTools\">\n                <label onmouseover=\"tip('Customization Tools')\">Tools:</label><br>\n                <button onmouseover=\"tip('Display brushes panel')\" id=\"paintBrushes\">Paint Brushes</button>\n                <button onmouseover=\"tip('Open template editor')\" id=\"applyTemplate\">Template Editor</button>\n                <button onmouseover=\"tip('Open Image Converter')\" id=\"convertImage\">Image Converter</button>\n                <button onmouseover=\"tip('Show Heightmap in perspective')\" id=\"perspectiveView\">Perspective View</button>\n              </div>\n              <div id=\"customizeOptions\">\n                <input id=\"renderOcean\" class=\"checkbox\" type=\"checkbox\">\n                <label for=\"renderOcean\" onmouseover=\"tip('Render cells below sea level')\" class=\"checkbox-label\">Render ocean cells</label>\n                <input id=\"changeHeights\" class=\"checkbox\" type=\"checkbox\">\n                <label for=\"changeHeights\" onmouseover=\"tip('Allow system to change custom heights if reasonable')\" class=\"checkbox-label\">Change heights</label>\n              </div>\n              <label onmouseover=\"tip('Number of Land cells and landmass/ocean ratio')\">Landmass:\n                <span id=\"landmassCounter\">0</span> (<span id=\"landmassRatio\">0</span>%); Average Elevation: <span id=\"landmassAverage\">0</span>\n              </label><hr>\n            </div>\n          </div>\n          <div id=\"addFeature\">\n            <p>Click to add:</p>\n            <button id=\"addBurg\" onmouseover=\"tip('Click on map to place a burg')\">Burg</button>\n            <button id=\"addLabel\" onmouseover=\"tip('Click on map to place label')\">Label</button>\n            <button id=\"addRelief\" onmouseover=\"tip('Click on map to place a relief icon')\">Relief Icon</button>\n            <button id=\"addRiver\" onmouseover=\"tip('Click on map to place new river or extend an existing one')\">River</button>\n            <button id=\"addRoute\" onmouseover=\"tip('Click on map to place a route')\">Route</button>\n            <button id=\"addMarker\" onmouseover=\"tip('Click on map to place a marker')\">Marker</button>\n          </div>\n          <div id=\"cellInfo\">\n            <p>Cell info:</p>\n            <div>\n              Coord: <span id=\"infoX\">0</span>/<span id=\"infoY\">0</span><br>\n              Cell: <span id=\"infoCell\">0</span><br>\n              Area: <span id=\"infoArea\">0</span><br>\n              Height: <span id=\"infoHeight\">0</span><br>\n              Flux: <span id=\"infoFlux\">0</span>\n            </div>\n            <div>\n              Type: <span id=\"infoFeature\">n/a</span><br>\n              Country: <span id=\"infoCountry\">n/a</span><br>\n              Culture: <span id=\"infoCulture\">n/a</span><br>\n              Population: <span id=\"infoPopulation\">0</span><br>\n              Burg: <span id=\"infoBurg\">n/a</span>\n            </div>\n          </div>\n        </div>\n        <div id=\"aboutContent\" class=\"tabcontent\">\n          <p><a href=\"https://github.com/Azgaar/Fantasy-Map-Generator\" target=\"_blank\">Fantasy Map Generator</a> is an <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/blob/master/LICENSE\" target=\"_blank\">open source</a> tool which procedurally generates fantasy maps. You may use auto-generated maps as they are, edit them or even create a map from scratch. Check out the <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Quick-Start-Tutorial\" target=\"_blank\">quick start tutorial</a> and <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki\" target=\"_blank\">project wiki</a> for guidance. Join our <a href=\"https://www.reddit.com/r/FantasyMapGenerator/\" target=\"_blank\">Reddit Community</a> if you have questions, need any help, have a suggestion or just want to share a created map.</p>\n          <p>The project is under active development. For older versions see the <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog\" target=\"_blank\">changelog</a>. Some details are covered in my <a href=\"https://azgaar.wordpress.com/\" target=\"_blank\">blog</a>. To track the current progress see the <a href=\"https://trello.com/b/7x832DG4/fantasy-map-generator\" target=\"_blank\">devboard</a>.</p>\n          <p>Please report bugs <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/issues\" target=\"_blank\">here</a>. You may also <a href=\"mailto:maxganiev@yandex.ru\" target=\"_blank\">send me</a> an email.</p>\n          <ul class=\"share-buttons\">\n            <li><a href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator%2F&quote=\" onmouseover=\"tip('Share on Facebook')\" target=\"_blank\"><img alt=\"Share on Facebook\" src=\"images/Facebook.png\" /></a></li>\n            <li><a href=\"https://twitter.com/intent/tweet?source=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator&text=%23FantasyMapGenerator%0A%0Ahttps%3A//azgaar.github.io/Fantasy-Map-Generator\" target=\"_blank\" onmouseover=\"tip('Tweet')\"><img alt=\"Tweet\" src=\"images/Twitter.png\" /></a></li>\n            <li><a href=\"http://www.tumblr.com/share?v=3&u=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator\" target=\"_blank\" onmouseover=\"tip('Post to Tumblr')\"><img alt=\"Post to Tumblr\" src=\"images/Tumblr.png\" /></a></li>\n            <li><a href=\"http://pinterest.com/pin/create/button/?url=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator\" target=\"_blank\" onmouseover=\"tip('Pin it')\"><img alt=\"Pin it\" src=\"images/Pinterest.png\" /></a></li>\n            <li><a href=\"http://www.reddit.com/submit?url=https%3A%2F%2Fazgaar.github.io%2FFantasy-Map-Generator\" target=\"_blank\" onmouseover=\"tip('Submit to Reddit')\"><img alt=\"Submit to Reddit\" src=\"images/Reddit.png\" /></a></li>\n          </ul>\n        </div>\n        <div id=\"sticked\">\n          <button id=\"randomMap\" onmouseover=\"tip('Generate a new map based on options. May take about 1 minute. Hotkey: F6')\" class=\"options\">New Map</button>\n          <button id=\"saveButton\" onmouseover=\"tip('Select file format to save map')\" class=\"options\">Save as</button>\n          <div id=\"saveDropdown\">\n            <div id=\"saveMap\" onmouseover=\"tip('Save as fully functional map in .map format. Hotkey: M')\">.map</div>\n            <div id=\"saveSVG\" onmouseover=\"tip('Download the map as .svg image (open in browser or in Inkscape. Hotkey: S)')\">.svg</div>\n            <div id=\"savePNG\" onmouseover=\"tip('Download the visible part of the map as 4K .png image. Please ensure popups are not blocked! Hotkey: P')\">.png</div>\n          </div>\n          <button id=\"loadMap\" onmouseover=\"tip('Load fully functional map in a .map format. Hotkey: L')\" class=\"options\">Load</button>\n          <button id=\"zoomReset\" onmouseover=\"tip('Reset map zoom. Hotkey: 0')\" class=\"options\">Reset Zoom</button>\n        </div>\n      </div>\n    </div>\n\n    <div id=\"dialogs\" style=\"background-color: #ffffff\">\n\n      <div id=\"labelEditor\" class=\"dialog\" style=\"display: none\">\n        <button id=\"labelGroupButton\" onmouseover=\"tip('Edit label Group')\" class=\"icon-tags\"></button>\n        <div id=\"labelGroupButtons\" style=\"display: none\">\n          <select id=\"labelGroupSelect\" onmouseover=\"tip('Select Group for this label')\"></select>\n          <input id=\"labelGroupInput\" placeholder=\"new group name\" onmouseover=\"tip('Declare new Group for this label')\"/>\n          <span id=\"labelGroupNew\" onmouseover=\"tip('Declare new Group for this label')\" class=\"icon-plus\"></span>\n          <span id=\"labelGroupRemove\" onmouseover=\"tip('Remove the Group with all labels')\" class=\"icon-trash\"></span>\n        </div>\n\n        <button id=\"labelTextButton\" onmouseover=\"tip('Edit label Text')\" class=\"icon-pencil\"></button>\n        <div id=\"labelTextButtons\" style=\"display: none\">\n          <input id=\"labelText\"/>\n          <span id=\"labelTextRandom\" onmouseover=\"tip('Generate random name')\" class=\"icon-shuffle\"></span>\n        </div>\n\n        <button id=\"labelFontButton\" onmouseover=\"tip('Select Font for the entire Group')\" class=\"icon-font\"></button>\n        <div id=\"labelFontButtons\" style=\"display: none\">\n          <span id=\"labelExternalFont\" onmouseover=\"tip('Fetch fonts by linking @font-face declaration, just populate with font name if using Google font (fonts.google.com)')\" class=\"icon-plus\"></span>\n          <select id=\"labelFontSelect\" onmouseover=\"tip('Select one of the default Fonts')\"></select>\n          <input id=\"labelFontInput\" placeholder=\"link to @font-face\" onmouseover=\"tip('Fetch fonts by linking @font-face declaration')\"/ class=\"hidden\">\n          <i id=\"labelSizeIcon\" class=\"icon-text-height\"></i>\n          <input id=\"labelSize\" onmouseover=\"tip('Change Font size for the label Group')\" value=\"14\" type=\"number\" min=\"1\" max=\"100\" step=\".5\" class=\"editNumber\"/>\n        </div>\n\n        <button id=\"labelStyleButton\" onmouseover=\"tip('Select text color and opacity for the label Group')\" class=\"icon-brush\"></button>\n        <div id=\"labelStyleButtons\" style=\"display: none\">\n          <input id=\"labelColor\" type=\"color\" class=\"editColor\" value=\"#3e3e4b\">\n          <i id=\"labelOpacityIcon\" class=\"icon-adjust hidden\"></i>\n          <input id=\"labelOpacity\" onmouseover=\"tip('Change Opacity for the entire Group')\" value=\"1\" type=\"number\" min=\"0\" max=\"1\" step=\"0.02\" class=\"editNumber\">\n          <i id=\"labelShadowIcon\" class=\"icon-clone hidden\"></i>\n          <input id=\"labelShadow\" onmouseover=\"tip('Change Shadow for the entire Group')\" value=\"1\" type=\"number\" min=\"0\" max=\"1\" step=\"0.02\" disabled>\n        </div>\n\n        <button id=\"labelAngleButton\" onmouseover=\"tip('Rotate the label')\" class=\"icon-ccw\"></button>\n        <div id=\"labelAngleButtons\" style=\"display: none\">\n          <input id=\"labelAngle\" value=\"0\" type=\"range\" min=\"-90\" max=\"90\" step=\"0.2\" class=\"editRange\">\n          <span id=\"labelAngleValue\" class=\"labelValue\">0°</span>\n          <button id=\"labelCurve\" onmouseover=\"tip('Show control points to curve the label')\" class=\"icon-arc\"></button>\n          <button id=\"labelCurveCancel\" onmouseover=\"tip('Convert curved label into a normal one')\" class=\"icon-minus\"></button>\n        </div>\n\n        <button id=\"labelLegend\" onmouseover=\"tip('Edit free text notes (legend) for this label')\" class=\"icon-edit\"></button>\n        <button id=\"labelCopy\" onmouseover=\"tip('Copy the label')\" class=\"icon-clone\"></button>\n        <button id=\"labelRemoveSingle\" onmouseover=\"tip('Remove the label')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"riverEditor\" class=\"dialog\" style=\"display: none\">\n        <button id=\"riverWidth\" onmouseover=\"tip('Change river width and widening')\" class=\"icon-sort-alt-up\" onclick='$(\"#riverEditor > *\").not(this).not(\"#riverResizeButtons\").toggle();'></button>\n        <div id=\"riverWidthButtons\" style=\"display: none\">\n          <i id=\"riverWidthIcon\" onmouseover=\"tip('Change river width')\" class=\"icon-w\"></i>\n          <input id=\"riverWidthInput\" onmouseover=\"tip('Change river width')\" value=\"1\" type=\"range\" min=\"0.2\" max=\"5\" step=\"0.1\">\n          <i id=\"riverIncrementIcon\" onmouseover=\"tip('Change river bed increment (widening speed)')\" class=\"icon-i\"></i>\n          <input id=\"riverIncrement\" onmouseover=\"tip('Change river bed increment (widening speed)')\" value=\"1\" type=\"range\" min=\"0.02\" max=\"2\" step=\"0.02\">\n        </div>\n        <button id=\"riverRegenerate\" onmouseover=\"tip('Regenerate river')\" class=\"icon-shuffle\"></button>\n        <button id=\"riverResize\" onmouseover=\"tip('Visually transform (rotate, rescale) river')\" class=\"icon-ccw\" onclick='$(\"#riverEditor > *\").not(this).not(\"#riverWidthButtons\").toggle();'></button>\n        <div id=\"riverResizeButtons\" style=\"display: none\">\n          <i id=\"riverAngleIcon\" onmouseover=\"tip('Rotate river (set angle)')\" class=\"icon-a\"></i>\n          <input id=\"riverAngle\" onmouseover=\"tip('Rotate river (set angle)')\" value=\"0\" type=\"range\" min=\"-90\" max=\"90\" step=\"0.2\">\n          <span id=\"riverAngleValue\">0°</span>\n          <i id=\"riverScaleIcon\" onmouseover=\"tip('Change river scale')\" class=\"icon-s\"></i>\n          <input id=\"riverScale\" onmouseover=\"tip('Change river scale')\" value=\"1\" type=\"number\" min=\"0.1\" max=\"3\" step=\"0.01\">\n          <span id=\"riverReset\" onmouseover=\"tip('Reset transformation to default')\" class=\"icon-cancel pointer\"></span>\n        </div>\n        <button id=\"riverCopy\" onmouseover=\"tip('Copy river')\" class=\"icon-clone\"></button>\n        <button id=\"riverLegend\" onmouseover=\"tip('Edit free text notes (legend) for the river')\" class=\"icon-edit\"></button>\n        <button id=\"riverNew\" onmouseover=\"tip('Create new river clicking on map')\" class=\"icon-map-pin\"></button>\n        <button id=\"riverRemove\" onmouseover=\"tip('Remove river')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"routeEditor\" class=\"dialog\" style=\"display: none\">\n        <button id=\"routeGroups\" onmouseover=\"tip('Change path group')\" class=\"icon-map-signs\" onclick=\"$('#routeEditor').children().not(this).toggle()\"></button>\n        <div id=\"routeGroupsSelection\" style=\"display: none\">\n          <select id=\"routeGroup\" onmouseover=\"tip('Select a group for this route')\">\n            <option value=\"roads\" selected>roads</option>\n          </select>\n        </div>\n        <button id=\"routeLength\">0</button>\n        <button id=\"routeSplit\" onmouseover=\"tip('Click on a control point to split the route')\" class=\"icon-unlink\" onclick=\"$(this).toggleClass('pressed')\"></button>\n        <button id=\"routeLegend\" onmouseover=\"tip('Edit free text notes (legend) for the route')\" class=\"icon-edit\"></button>\n        <button id=\"routeNew\" onmouseover=\"tip('Create new route clicking on map')\" class=\"icon-map-pin\"></button>\n        <button id=\"routeRemove\" onmouseover=\"tip('Remove route')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"iconEditor\" class=\"dialog\" style=\"display: none\">\n        <button id=\"iconGroups\" onmouseover=\"tip('Change icon group')\" class=\"icon-tags\"></button>\n        <div id=\"iconGroupsSelection\" style=\"display: none\">\n          <select id=\"iconGroup\" onmouseover=\"tip('Select a group for this icon')\"></select>\n          <i id=\"iconRemoveGroup\" onmouseover=\"tip('Remove selected icon group')\" class=\"icon-trash pointer\"></i>\n        </div>\n        <button id=\"iconColors\" onmouseover=\"tip('Change icon colors')\" class=\"editButton icon-brush\"></button>\n        <div id=\"iconColorsSection\" style=\"display: none\">\n            <i onmouseover=\"tip('Change group fill color')\" class=\"icon-f\"></i>\n            <input id=\"iconFillColor\" onmouseover=\"tip('Change group fill color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n            <i onmouseover=\"tip('Change group stroke color')\" class=\"icon-s\"></i>\n            <input id=\"iconStrokeColor\" onmouseover=\"tip('Change group stroke color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n        </div>\n        <button id=\"iconSetSize\" onmouseover=\"tip('Change group size')\" class=\"icon-resize-full\"></button>\n        <div id=\"iconSizeSection\" style=\"display: none\">\n          <i onmouseover=\"tip('Change size for group icon')\" class=\"icon-s\"></i>\n          <input id=\"iconSize\" onmouseover=\"tip('Change size for group icon')\" type=\"range\" class=\"editRange\" value=\"1\" min=\".5\" max=\"10\" step=\".05\"></select>\n          <i onmouseover=\"tip('Change group stroke-width')\" class=\"icon-w\"></i>\n          <input id=\"iconStrokeWidth\" onmouseover=\"tip('Change group stroke-width')\" type=\"number\" class=\"editNumber\" value=\"1\" min=\"0\" max=\"5\" step=\".02\"></select>\n        </div>\n        <button id=\"iconCopy\" onmouseover=\"tip('Copy the icon')\" class=\"icon-clone\"></button>\n        <button id=\"iconRemove\" onmouseover=\"tip('Remove icon')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"reliefEditor\" class=\"dialog\" style=\"display: none\">\n\n        <button id=\"reliefGroups\" onmouseover=\"tip('Change relief icon')\" class=\"icon-tags\"></button>\n        <div id=\"reliefGroupsSelection\" style=\"display: none\">\n          <select id=\"reliefGroup\" onmouseover=\"tip('Change relief icon')\">\n            <option value=\"mounts\" selected>mounts</option>\n            <option value=\"hills\">hills</option>\n            <option value=\"swamps\">swamps</option>\n            <option value=\"forests\">forests</option>\n          </select>\n          <i id=\"reliefRemoveGroup\" onmouseover=\"tip('Remove all icons within selected group')\" class=\"icon-trash pointer\"></i>\n        </div>\n\n        <button id=\"reliefCopy\" onmouseover=\"tip('Copy the relief icon')\" class=\"icon-clone\"></button>\n        <button id=\"reliefAddfromEditor\" onmouseover=\"tip('Add relief Icon')\" class=\"icon-plus\"></button>\n\n        <button id=\"reliefBulkRemove\" onmouseover=\"tip('Erase all relief icons in radius')\" class=\"icon-eraser\"></button>\n        <div id=\"reliefBulkRemoveSection\" style=\"display: none\">\n          <input id=\"reliefBulkRemoveRadius\" oninput=\"tip('Eraser brush size: '+this.value); reliefBulkRemoveRadiusNumber.value = this.value\" type=\"range\" min=\"1\" max=\"7\" value=\"3\">\n          <input id=\"reliefBulkRemoveRadiusNumber\" oninput=\"tip('Eraser brush size: '+this.value); reliefBulkRemoveRadius.value = this.value\" type=\"number\" min=\"1\" max=\"7\" value=\"3\">\n        </div>\n\n        <button id=\"reliefRemove\" onmouseover=\"tip('Remove this relief icon')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"burgEditor\" class=\"dialog\" style=\"display: none\">\n        <button id=\"burgGroup\" onmouseover=\"tip('Change Burg Group')\" class=\"icon-tags\"></button>\n        <div id=\"burgGroupSection\" style=\"display: none\">\n          <select id=\"burgSelectGroup\" onmouseover=\"tip('Select a Group for this Burg')\" style=\"width: 117px;\"></select>\n          <input id=\"burgInputGroup\" placeholder=\"type new Group name\" onmouseover=\"tip('Create new Group for the Burg')\" style=\"display: none; width: 113px;\"/>\n          <i id=\"burgAddGroup\" onmouseover=\"tip('Create new Group for the Burg')\" class=\"icon-plus pointer\"></i>\n          <i id=\"burgRemoveGroup\" onmouseover=\"tip('Remove selected Burg Group')\" class=\"icon-trash pointer\"></i>\n        </div>\n\n        <button id=\"burgEditLabel\" onmouseover=\"tip('Change label for the Burg Group')\" class=\"icon-map-signs\"></button>\n        <div id=\"burgEditLabelSection\" style=\"display: none\">\n\n          <button id=\"burgName\" onmouseover=\"tip('Change Burg name')\" class=\"icon-pencil\"></button>\n          <div id=\"burgNameSection\" style=\"display: none\">\n            <input id=\"burgNameInput\" onmouseover=\"tip('Populate to rename the Burg')\" style=\"width: 117px\"/>\n            <span id=\"burgNameReCulture\" onmouseover=\"tip('Generate culture-specific name for the Burg')\" class=\"icon-book pointer\"></span>\n            <span id=\"burgNameReRandom\" onmouseover=\"tip('Generate random name for the Burg')\" class=\"icon-globe pointer\"></span>\n          </div>\n          <button id=\"burgSelectFont\" onmouseover=\"tip('Select font for the Burg Group label')\" class=\"icon-font\"></button>\n          <div id=\"burgSelectFontSection\" style=\"display: none\">\n            <i id=\"burgToggleExternalFont\" onmouseover=\"tip('Fetch fonts by linking @font-face declaration, just populate with font name if using Google font (fonts.google.com)')\" class=\"icon-link pointer\"></i>\n            <input id=\"burgInputExternalFont\" placeholder=\"link to @font-face\" onmouseover=\"tip('Fetch fonts by linking @font-face declaration')\" style=\"display: none; width: 113px;\"/>\n            <select id=\"burgSelectDefaultFont\" onmouseover=\"tip('Select a font for the Group')\" style=\"width: 117px;\"></select>\n          </div>\n\n          <button id=\"burgSetFontSize\" onmouseover=\"tip('Set font size for the Burg Group label')\" class=\"icon-text-height\"></button>\n          <div id=\"burgFontSizeSection\" style=\"display: none\">\n            <input id=\"burgSetLabelSize\" onmouseover=\"tip('Set font size for the Burg Group label')\" value=\"14\" type=\"number\" min=\"1\" max=\"100\" step=\".5\" style=\"width: 117px\"/>\n          </div>\n\n          <button id=\"burgLabelColor\" onmouseover=\"tip('Set label color for the Burg Group')\" class=\"icon-brush\"></button>\n          <div id=\"burgLabelColorSection\" style=\"display: none\">\n            <input onmouseover=\"tip('Set label color for the Burg Group')\" id=\"burgLabelColorInput\" type=\"color\" class=\"editColor\" value=\"#3e3e4b\">\n            <i onmouseover=\"tip('Set label opacity for the Burg Group')\" class=\"icon-adjust\"></i>\n            <input onmouseover=\"tip('Set label opacity for the Burg Group')\" id=\"burgLabelOpacity\" value=\"1\" type=\"number\" min=\"0\" max=\"1\" step=\"0.02\">\n          </div>\n\n          <button id=\"burgLabelRotation\" onmouseover=\"tip('Rotate the label')\" class=\"icon-ccw\"></button>\n          <div id=\"burgLabelRotationSection\" style=\"display: none; width: 142px;\">\n            <input id=\"burgLabelAngle\" value=\"0\" type=\"range\" min=\"-90\" max=\"90\" step=\"0.2\" style=\"width: 98px\">\n            <output id=\"burgLabelAngleOutput\">0°</output>\n          </div>\n        </div>\n\n        <button id=\"burgEditIcon\" onmouseover=\"tip('Change icon for the Burg Group')\" class=\"icon-fort-awesome\"></button>\n        <div id=\"burgEditIconSection\" style=\"display: none\">\n\n          <button id=\"burgIconFill\" onmouseover=\"tip('Change icon fill')\" class=\"icon-dot-circled\"></button>\n          <div id=\"burgIconFillSection\" style=\"display: none;\">\n            <i onmouseover=\"tip('Change icon size')\" class=\"icon-resize-full\"></i>\n            <input id=\"burgIconSize\" onmouseover=\"tip('Change icon size')\" type=\"range\" class=\"editRange\" value=\"1\" min=\".1\" max=\"5\" step=\".05\" style=\"width: 60px;\"></select>\n            <i onmouseover=\"tip('Set icon fill opacity')\" class=\"icon-adjust\"></i>\n            <input id=\"burgIconFillOpacity\" onmouseover=\"tip('Set icon fill opacity')\" value=\"1\" type=\"number\" min=\"0\" max=\"1\" step=\"0.02\" style=\"width: 40px;\">\n            <input id=\"burgIconFillColor\" onmouseover=\"tip('Change icon fill color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n          </div>\n\n          <button id=\"burgIconStroke\" onmouseover=\"tip('Change icon stroke')\" class=\"icon-circle-empty\"></button>\n          <div id=\"burgIconStrokeSection\" style=\"display: none;\">\n            <i onmouseover=\"tip('Change icon stroke width')\" class=\"icon-resize-horizontal\"></i>\n            <input id=\"burgIconStrokeWidth\" onmouseover=\"tip('Change icon stroke width')\" type=\"number\" value=\"1\" min=\"0\" max=\"2\" step=\".02\" style=\"width: 40px;\"></select>\n            <i onmouseover=\"tip('Set icon stroke opacity')\" class=\"icon-adjust\"></i>\n            <input id=\"burgIconStrokeOpacity\" onmouseover=\"tip('Set icon stroke opacity')\" value=\"1\" type=\"number\" min=\"0\" max=\"1\" step=\"0.02\" style=\"width: 40px;\">\n            <input id=\"burgIconStrokeColor\" onmouseover=\"tip('Change icon stroke color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n          </div>\n        </div>\n\n        <button id=\"burgFeatures\" onmouseover=\"tip('Change Burg features')\" class=\"icon-cog-alt\"></button>\n        <div id=\"burgFeaturesSection\" style=\"display: none\">\n          <button id=\"burgToggleCapital\" onmouseover=\"tip('Mark the Burg as country capital. Neutral burg cannot be a capital')\" class=\"icon-star\"></button>\n          <button id=\"burgTogglePort\" onmouseover=\"tip('Mark the Burg as port (toggle anchor icon)')\" class=\"icon-anchor\"></button>\n          <i onmouseover=\"tip('Set Burg population')\" class=\"icon-users\"></i>\n          <input id=\"burgPopulation\" onmouseover=\"tip('Set Burg population (in population points)')\" type=\"number\" value=\"1\" min=\"0\" step=\"1\" style=\"width: 40px;\"></select>\n          <output id=\"burgPopulationFriendly\" onmouseover=\"tip('Burg population (in people)')\">1000</output>\n        </div>\n\n        <button id=\"burgSeeInMFCG\" onmouseover=\"tip('See the burg representation in Medieval Fantasy City Generator by watabou')\" class=\"icon-map\"></button>\n        <button id=\"burgRelocate\" onmouseover=\"tip('Move burg to a different cell')\" class=\"icon-target\"></button>\n        <button id=\"burglLegend\" onmouseover=\"tip('Edit free text notes (legend) for this burg')\" class=\"icon-edit\"></button>\n        <button id=\"burgAddfromEditor\" onmouseover=\"tip('Add new Burg')\" class=\"icon-plus\"></button>\n        <button id=\"burgRemove\" onmouseover=\"tip('Remove the Burg')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"markerEditor\" class=\"dialog\" style=\"display: none\">\n\n        <button id=\"markerGroup\" onmouseover=\"tip('Change marker type')\" class=\"icon-tags\"></button>\n        <div id=\"markerGroupSection\" style=\"display: none\">\n          <select id=\"markerSelectGroup\" onmouseover=\"tip('Select type for the selected marker')\" style=\"width: 117px;\"></select>\n          <input id=\"markerInputGroup\" placeholder=\"type new type name\" onmouseover=\"tip('Create new type for selected marker')\" style=\"display: none; width: 113px;\"/>\n          <i id=\"markerAddGroup\" onmouseover=\"tip('Pick out selected marker into a new type')\" class=\"icon-plus pointer\"></i>\n          <i id=\"markerRemoveGroup\" onmouseover=\"tip('Remove all markers of that type')\" class=\"icon-trash pointer\"></i>\n        </div>\n\n        <button id=\"markerIconButton\" onmouseover=\"tip('Change marker icon and edit positioning')\" class=\"icon-star\"></button>\n        <div id=\"markerIconButtons\" style=\"display: none\">\n          <i onmouseover=\"tip('Change marker icon size')\" class=\"icon-resize-full\"></i>\n          <input id=\"markerIconSize\" onmouseover=\"tip('Change marker icon size')\" value=\"22\" type=\"range\" min=\"10\" max=\"30\" step=\"0.5\" class=\"editRange\">\n          <i onmouseover=\"tip('Change marker horizontal shift')\" class=\"icon-resize-horizontal\"></i>\n          <input id=\"markerIconShiftX\" onmouseover=\"tip('Change marker horizontal shift')\" value=\"50\" type=\"number\" min=\"0\" max=\"100\" style=\"width: 38px;\">\n          <i onmouseover=\"tip('Change marker vertical shift')\" class=\"icon-resize-vertical\"></i>\n          <input id=\"markerIconShiftY\" onmouseover=\"tip('Change marker vertical shift')\" value=\"50\" type=\"number\" min=\"0\" max=\"100\" style=\"width: 38px;\">\n          <i onmouseover=\"tip('Paste custom unicode symbol to use as icon')\" class=\"icon-pencil\"></i>\n          <input id=\"markerIconCustom\" onmouseover=\"tip('Paste custom unicode symbol to use as icon')\" style=\"width: 38px;\">\n          <table id=\"markerIconTable\"></table>\n          <div style=\"font-style: italic; color: darkgrey;\">Please note icons look different in different browsers!</div>\n        </div>\n\n        <button id=\"markerStyleButton\" onmouseover=\"tip('Change marker size and colors')\" class=\"icon-brush\"></button>\n        <div id=\"markerStyleButtons\" style=\"display: none\">\n          <i onmouseover=\"tip('Change marker base style')\" class=\"icon-map-pin\"></i>:\n          <input id=\"markerSize\" onmouseover=\"tip('Change marker size')\" value=\"1\" type=\"range\" min=\"0.1\" max=\"10\" step=\"0.2\" class=\"editRange\">\n          <input id=\"markerBase\" onmouseover=\"tip('Change marker base color')\" type=\"color\" class=\"editColor\" value=\"#ffffff\">\n          <input id=\"markerFill\" onmouseover=\"tip('Change marker fill color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n          <br><i onmouseover=\"tip('Change marker icon style')\" class=\"icon-star\"></i>:\n          <input id=\"markerIconFill\" onmouseover=\"tip('Change marker icon fill color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n          <input id=\"markerIconStrokeWidth\" onmouseover=\"tip('Change marker icon stroke width')\" value=\"0\" type=\"number\" min=\"0\" max=\"2\" step=\"0.1\" style=\"width: 40px;\">\n          <input id=\"markerIconStroke\" onmouseover=\"tip('Change marker icon stroke color')\" type=\"color\" class=\"editColor\" value=\"#000000\">\n        </div>\n\n        <button id=\"markerToggleBubble\" onmouseover=\"tip('Toggle marker bubble display')\" class=\"icon-info-circled\"></button>\n        <button id=\"markerLegendButton\" onmouseover=\"tip('Edit place legend (free text notes)')\" class=\"icon-edit\"></button>\n        <button id=\"markerAdd\" onmouseover=\"tip('Add additional marker of that type')\" class=\"icon-plus\"></button>\n        <button id=\"markerRemove\" onmouseover=\"tip('Remove the marker')\" class=\"icon-trash\"></button>\n      </div>\n\n      <div id=\"templateEditor\" class=\"dialog stable\" style=\"display: none\">\n        <div id=\"templateTop\">\n          Base template: <select id=\"templateSelect\" data-prev=\"templateCustom\" onmouseover=\"tip('Select base template')\">\n            <option value=\"templateCustom\" selected>Custom</option>\n            <option value=\"templateVolcano\">Volcano</option>\n            <option value=\"templateHighIsland\">High Island</option>\n            <option value=\"templateLowIsland\">Low Island</option>\n            <option value=\"templateContinents\">Continents</option>\n            <option value=\"templateArchipelago\">Archipelago</option>\n            <option value=\"templateAtoll\">Atoll</option>\n            <option value=\"templateMainland\">Mainland</option>\n            <option value=\"templatePeninsulas\">Peninsulas</option>\n          </select>\n        </div>\n        <div id=\"templateTools\">\n          <button id=\"templateMountain\" onmouseover=\"tip('Mountain: high big blob. Can be placed only once and only as a first step')\" class=\"noicon\">M</button>\n          <button id=\"templateHill\" onmouseover=\"tip('Hill: small blob')\" class=\"noicon\">H</button>\n          <button id=\"templatePit\" onmouseover=\"tip('Pit: round depression')\" class=\"noicon\">P</button>\n          <button id=\"templateRange\" onmouseover=\"tip('Range: elongated elevation')\" class=\"noicon\">R</button>\n          <button id=\"templateTrough\" onmouseover=\"tip('Trough: elongated depression')\" class=\"noicon\">T</button>\n          <button id=\"templateStrait\" onmouseover=\"tip('Strait: centered vertical depression')\" class=\"noicon\">S</button>\n          <button id=\"templateAdd\" onmouseover=\"tip('Add or subtract value from all heights')\" class=\"noicon\">+</button>\n          <button id=\"templateMultiply\" onmouseover=\"tip('Multiply all heights by factor')\" class=\"noicon\">*</button>\n          <button id=\"templateSmooth\" onmouseover=\"tip('Smooth the map replacing cell heights by an average values of its neighbors')\" class=\"noicon\">~</button>\n        </div>\n        <div id=\"templateBody\" data-changed=0>\n          <div data-type=\"Mountain\">Mountain\n            <span onmouseover=\"tip('Remove step')\" class=\"icon-trash-empty\" onclick=\"this.parentNode.parentNode.removeChild(this.parentNode)\"></span>\n          </div>\n        </div>\n        <div id=\"templateBottom\">\n          <button id=\"templateRun\" onmouseover=\"tip('Apply current template')\" class=\"icon-play-circled2\"></button>\n          <button id=\"templateUndo\" onmouseover=\"tip('Undo the latest action')\" class=\"icon-ccw\" disabled></button>\n          <button id=\"templateRedo\" onmouseover=\"tip('Redo the action')\" class=\"icon-cw\" disabled></button>\n          <button id=\"templateComplete\" onmouseover=\"tip('Finalize the Heightmap. Not allowed if insufficient land area available')\" class=\"icon-check\"></button>\n          <button id=\"templateSave\" onmouseover=\"tip('Save template')\" class=\"icon-download\"></button>\n          <button id=\"templateLoad\" onmouseover=\"tip('Open previously saved template')\" class=\"icon-upload\"></button>\n          <button id=\"templateMail\" onclick=\"window.open('mailto:maxganiev@yandex.com?Subject=Template%20suggestion', '_blank')\" onmouseover=\"tip('Send a template suggestion to me')\" class=\"icon-mail-alt\"></button>\n        </div>\n      </div>\n\n      <div id=\"imageConverter\" class=\"dialog stable\" style=\"display: none\">\n        <div id=\"convertImageButtons\">\n          <button id=\"convertImageLoad\" onmouseover=\"tip('Load image to convert')\" class=\"icon-upload\"></button>\n          <button id=\"convertAutoLum\" onmouseover=\"tip('Auto-assign colors based on liminosity')\" class=\"icon-adjust\"></button>\n          <button id=\"convertAutoHue\" onmouseover=\"tip('Auto-assign colors based on hue')\" class=\"icon-brush\"></button>\n          <button id=\"convertColorsMinus\" onmouseover=\"tip('Reduce the number of colors. Minimal number is 3')\" class=\"icon-minus-squared\"></button>\n          <button id=\"convertColorsPlus\" onmouseover=\"tip('Increase the number of colors. Maximum number is 256')\" class=\"icon-plus-squared\"></button>\n          <input id=\"convertColors\" value=\"12\" style=\"display: none;\"/>\n          <button id=\"convertImageGrid\" onmouseover=\"tip('Toggle grid')\" class=\"icon-eye\"></button>\n          <button id=\"convertOverlayButton\" onmouseover=\"tip('Change overlay opacity')\" class=\"icon-clone\"></button>\n          <input id=\"convertOverlay\" onmouseover=\"tip('Change overlay opacity')\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value=\"0\" style=\"display: none;\">\n          <span id=\"convertOverlayValue\" onmouseover=\"tip('Overlay opacity')\" style=\"display: none;\">0</span>\n          <button id=\"convertComplete\" onmouseover=\"tip('Complete conversion. All unassigned colors will be considered as ocean')\" class=\"icon-check\"></button>\n        </div>\n        <div id=\"colorsSelect\">\n          <div id=\"colorScheme\"></div>\n          <span id=\"colorsSelectValue\">0</span>\n        </div>\n        <div id=\"colorsAssigned\" style=\"display: none\">\n          <label>Assigned colors: </label><br>\n        </div>\n        <div id=\"colorsUnassigned\" style=\"display: none\">\n          <label>Unassigned colors: </label><br>\n        </div>\n      </div>\n\n      <div id=\"brushesPanel\" class=\"dialog stable\" style=\"display: none\">\n        <div id=\"brushesButtons\">\n          <button id=\"brushElevate\" onmouseover=\"tip('Click and drag the map to increase cells elevation')\" class=\"noicon\">↥</button>\n          <button id=\"brushDepress\" onmouseover=\"tip('Click and drag the map to decrease cells elevation')\" class=\"noicon\">↧</button>\n          <button id=\"brushAlign\" onmouseover=\"tip('Click and drag the map to align cells elevation')\" class=\"noicon\">=</button>\n          <button id=\"brushSmooth\" onmouseover=\"tip('Click and drag the map to smooth cells elevation')\" class=\"noicon\">~</button>\n          <button id=\"brushHill\" onmouseover=\"tip('Click on the map to place a Hill')\" class=\"feature noicon\">H</button>\n          <button id=\"brushPit\" onmouseover=\"tip('Click on the map to place a Pit')\" class=\"feature noicon\">P</button>\n          <button id=\"brushRange\" onmouseover=\"tip('Select two points to place a Range')\" class=\"feature noicon\">R</button>\n          <button id=\"brushTrough\" onmouseover=\"tip('Select two points to place a Trought')\" class=\"feature noicon\">T</button>\n      </div>\n        <div style=\"display: table;\">\n          <label id=\"brushRadiusLabel\" onmouseover=\"tip('Set the brush effective radius. Works only with 4 brushes above')\" class=\"disabled italic\">R:</label>\n          <input id=\"brushRadius\" oninput=\"tip('Brush radius: '+this.value)\" type=\"range\" min=\"1\" max=\"10\" value=\"3\" class=\"disabled\" disabled>\n          <label onmouseover=\"tip('Set the brush power in points of height')\" class=\"italic\">H:</label>\n          <input id=\"brushPower\" oninput=\"tip('Brush power: '+this.value)\" type=\"range\" min=\"1\" max=\"30\" value=\"5\">\n        </div>\n        <div id=\"modifyButtons\">\n          <button id=\"undo\" onmouseover=\"tip('Undo the latest action (Ctrl + Z)')\" class=\"icon-ccw\" disabled></button>\n          <button id=\"redo\" onmouseover=\"tip('Redo the action (Ctrl + Y)')\" class=\"icon-cw\" disabled></button>\n          <button id=\"rescaleButton\" onmouseover=\"tip('Show rescaler slider')\" class=\"icon-exchange\"></button>\n          <input id=\"rescaler\" onmouseover=\"tip('Slide to change map height')\" type=\"range\" min=\"1\" max=\"10\" step=\"0.1\" value=\"5\" class=\"hidden\">\n          <button id=\"rescaleCondButton\" onmouseover=\"tip('Conditional rescaler')\" class=\"icon-if\"></button>\n          <label class=\"condition hidden\">h ≥</label>\n          <input id=\"rescaleLower\" class=\"condition hidden\" onmouseover=\"tip('Set lower threshold')\" value=\"20\" type=\"number\" min=\"0\" max=\"100\">\n          <label class=\"condition hidden\">≤</label>\n          <input id=\"rescaleHigher\" class=\"condition hidden\" onmouseover=\"tip('Set higher threshold')\" value=\"100\" type=\"number\" min=\"1\" max=\"100\">\n          <label class=\"condition hidden\">⇒</label>\n          <select class=\"condition hidden\" id=\"conditionSign\">\n            <option value=\"×\" selected>×</option>\n            <option value=\"÷\">÷</option>\n            <option value=\"+\">+</option>\n            <option value=\"-\">-</option>\n            <option value=\"^\">^</option>\n          </select>\n          <input id=\"rescaleModifier\" onmouseover=\"tip('Set modifier value')\" type=\"number\" value=\"0.9\" min=\"0\" max=\"1.5\" step=\"0.01\" class=\"condition hidden\">\n          <button id=\"rescaleExecute\" onmouseover=\"tip('Run condition')\" class=\"icon-play-circled2 condition hidden\"></button>\n          <button id=\"smoothHeights\" onmouseover=\"tip('Smooth all heights')\" class=\"icon-smooth\"></button>\n          <button id=\"disruptHeights\" onmouseover=\"tip('Disrupt (randomize) heights')\" class=\"icon-disrupt\"></button>\n          <button id=\"brushClear\" onmouseover=\"tip('Clear all height')\" class=\"icon-eraser\"></button>\n        </div>\n      </div>\n\n      <div id=\"perspectivePanel\" class=\"dialog stable\" style=\"display: none\">\n        <canvas id=\"perspective\" width=\"480\" height=\"150\"></canvas>\n      </div>\n\n      <div id=\"countriesEditor\" class=\"dialog stable\" style=\"display: none\" data-type=\"absolute\">\n        <div id=\"countriesHeader\">\n          <div style=\"margin-left: 14px\" onmouseover=\"tip('Click to sort alphabetically by country name')\" class=\"sortable alphabetically\" data-sortby=\"country\">Country&nbsp;</div>\n          <div style=\"margin-left: 30px\" onmouseover=\"tip('Click to sort alphabetically by capital name')\" class=\"sortable alphabetically\" data-sortby=\"capital\">Capital&nbsp;</div>\n          <div style=\"margin-left: 24px\" onmouseover=\"tip('Click to sort by country expansion value')\" class=\"sortable hidden\" data-sortby=\"expansion\">Expan.&nbsp;</div>\n          <div style=\"margin-left: 30px\" onmouseover=\"tip('Click to sort by country cells count')\" class=\"sortable\" data-sortby=\"cells\">Cells&nbsp;</div>\n          <div style=\"margin-left: 6px\" onmouseover=\"tip('Click to sort by country burgs count')\" class=\"sortable\" data-sortby=\"burgs\">Burgs&nbsp;</div>\n          <div style=\"margin-left: 20px\" onmouseover=\"tip('Click to sort by country area')\" class=\"sortable\" data-sortby=\"area\">Area&nbsp;</div>\n          <div style=\"margin-left: 22px\" onmouseover=\"tip('Click to sort by country population')\" class=\"sortable\" data-sortby=\"population\">Population&nbsp;</div>\n        </div>\n        <div id=\"countriesBody\"></div>\n        <div id=\"countriesFooter\" class=\"totalLine\">\n          <div style=\"margin-left: 5px\">Countries:&nbsp;<span id=\"countriesFooterCountries\">0</span></div>\n          <div style=\"margin-left: 20px\">Burgs:&nbsp;<span id=\"countriesFooterBurgs\">0</span></div>\n          <div style=\"margin-left: 20px\">Land Area:&nbsp;<span id=\"countriesFooterArea\">0</span></div>\n          <div style=\"margin-left: 20px\">Population:&nbsp;<span id=\"countriesFooterPopulation\">0</span></div>\n        </div>\n        <div id=\"countriesBottom\">\n          <button id=\"editScaleCountries\" onmouseover=\"tip('Change demographical and geographical measurements')\" class=\"icon-map-signs\"></button>\n          <button id=\"countriesPercentage\" onmouseover=\"tip('Toggle percentage / absolut values views')\" class=\"icon-percent\"></button>\n          <button id=\"countriesRegenerate\" onmouseover=\"tip('Regenerate countries based on amended Expansion values')\" class=\"icon-cog-alt\"></button>\n          <button id=\"countriesManually\" onmouseover=\"tip('Manually re-assign countries')\" class=\"icon-brush\"></button>\n          <div id=\"countriesManuallyButtons\" style=\"display: none\">\n            <button id=\"countriesManuallyComplete\" onmouseover=\"tip('Apply assignment')\" class=\"icon-check\"></button>\n            <button id=\"countriesAddM\" onmouseover=\"tip('Proclaim a new country')\" class=\"icon-flag\"></button>\n            <button id=\"countriesManuallyCancel\" onmouseover=\"tip('Cancel assignment')\" class=\"icon-cancel\"></button>\n            <label onmouseover=\"tip('Set the brush size')\" class=\"italic\">Brush size:</label>\n            <input id=\"countriesManuallyBrush\" oninput=\"tip('Brush size: '+this.value); countriesManuallyBrushNumber.value = this.value\" type=\"range\" min=\"1\" max=\"7\" value=\"3\">\n            <input id=\"countriesManuallyBrushNumber\" oninput=\"tip('Brush size: '+this.value); countriesManuallyBrush.value = this.value\" type=\"number\" min=\"1\" max=\"7\" value=\"3\">\n          </div>\n          <div id=\"countriesRegenerateButtons\" style=\"display: none\">\n            <button id=\"countriesApply\" onmouseover=\"tip('Apply assignment')\" class=\"icon-check\"></button>\n            <button id=\"countriesRandomize\" onmouseover=\"tip('Randomize countries Expansion value')\" class=\"icon-shuffle\"></button>\n            <button id=\"countriesAddR\" onmouseover=\"tip('Proclaim a new country')\" class=\"icon-flag\"></button>\n            <label onmouseover=\"tip('Distance to a consider a land as neutral')\" class=\"italic\">Neutral distance:</label>\n            <input id=\"countriesNeutral\" oninput=\"tip('Neutral distance: '+this.value); countriesNeutralNumber.value = this.value\" type=\"range\" min=\"1\" max=\"500\" value=\"200\">\n            <input id=\"countriesNeutralNumber\" oninput=\"tip('Neutral distance: '+this.value); countriesNeutral.value = this.value\" type=\"number\" min=\"1\" max=\"500\" value=\"200\" style=\"width:42px\">\n          </div>\n          <button id=\"countriesAddG\" onmouseover=\"tip('Proclaim a new country')\" class=\"icon-flag\"></button>\n          <button id=\"countriesRegenerateNames\" onmouseover=\"tip('Regenerate countries names')\" class=\"icon-arrows-cw\"></button>\n          <button id=\"countriesExport\" onmouseover=\"tip('Save country-related data as a text file (.csv)')\" class=\"icon-download\"></button>\n          <button id=\"burgNamesImport\" onmouseover=\"tip('Load burg names from a text file. Each name should be on a new line!')\" class=\"icon-upload\"></button>\n          <button id=\"removeCountries\" onmouseover=\"tip('Remove all countries')\" class=\"icon-trash\"></button>\n        </div>\n      </div>\n\n      <div id=\"burgsEditor\" class=\"dialog stable\" style=\"display: none\">\n        <div id=\"burgsHeader\">\n          <div style=\"margin-left: 19px\" onmouseover=\"tip('Click to sort alphabetically by burg name')\" class=\"sortable alphabetically\" data-sortby=\"burg\">Burg&nbsp;</div>\n          <div style=\"margin-left: 29px\" onmouseover=\"tip('Click to sort alphabetically by culture name')\" class=\"sortable alphabetically\" data-sortby=\"culture\">Culture&nbsp;</div>\n          <div style=\"margin-left: 14px\" onmouseover=\"tip('Click to sort by country population')\" class=\"sortable\" data-sortby=\"population\">Population&nbsp;</div>\n          <div style=\"margin-left: 6px\" onmouseover=\"tip('Click to sort by country burg type')\" class=\"sortable alphabetically\" data-sortby=\"type\">Type&nbsp;</div>\n        </div>\n        <div id=\"burgsBody\"></div>\n        <div id=\"burgsFooter\" class=\"totalLine\">\n          <div onmouseover=\"tip('Burgs number')\" style=\"margin-left: 4px\">Burgs:&nbsp;<span onmouseover=\"tip('Burgs number')\" id=\"burgsFooterBurgs\">0</span></div>\n          <div style=\"margin-left: 10px\">Average burg: &nbsp;\n            <span onmouseover=\"tip('Dominant culture')\" class=\"icon-book\"></span>\n            <span onmouseover=\"tip('Dominant culture')\" id=\"burgsFooterCulture\">no</span>&nbsp;\n            <span onmouseover=\"tip('Average burg population')\" class=\"icon-male\"></span>\n            <input onmouseover=\"tip('Average burg population. Change to recalculate population for all burgs within country')\" id=\"burgsFooterPopulation\" type=\"number\" min=\"1\" max=\"1000000\" step=\"100\" value=\"0\">\n          </div>\n        </div>\n        <div id=\"burgsBottom\">\n          <button id=\"editScaleBurgs\" onmouseover=\"tip('Change demographical and geographical measurements')\" class=\"icon-map-signs\"></button>\n          <button id=\"changeCapital\" onmouseover=\"tip('Click on a burg line to make it a new capital')\" class=\"icon-star\"></button>\n          <button id=\"regenerateBurgNames\" onmouseover=\"tip('Regenerate burg names based on assigned culture')\" class=\"icon-arrows-cw\"></button>\n          <button id=\"burgAdd\" onmouseover=\"tip('Add new burg')\" class=\"icon-fort-awesome\"></button>\n          <button id=\"removeBurgs\" onmouseover=\"tip('Remove all burgs')\" class=\"icon-trash\"></button>\n        </div>\n      </div>\n\n      <div id=\"culturesEditor\" class=\"dialog stable\" style=\"display: none\" data-type=\"absolute\">\n        <div id=\"culturesHeader\">\n          <div style=\"margin-left: 14px\" onmouseover=\"tip('Click to sort by culture name')\" class=\"sortable alphabetically\" data-sortby=\"culture\">Culture&nbsp;</div>\n          <div style=\"margin-left: 16px\" onmouseover=\"tip('Click to sort by culture cells count')\" class=\"sortable\" data-sortby=\"cells\">Cells&nbsp;</div>\n          <div style=\"margin-left: 18px\" onmouseover=\"tip('Click to sort by culture area')\" class=\"sortable\" data-sortby=\"area\">Area&nbsp;</div>\n          <div style=\"margin-left: 30px\" onmouseover=\"tip('Click to sort by culture population')\" class=\"sortable\" data-sortby=\"population\">Population&nbsp;</div>\n          <div style=\"margin-left: 3px\" onmouseover=\"tip('Click to sort by culture namesbase')\" class=\"sortable alphabetically\" data-sortby=\"base\">Namesbase&nbsp;</div>\n        </div>\n        <div id=\"culturesBody\"></div>\n\n        <div id=\"culturesFooter\" class=\"totalLine\">\n          <div onmouseover=\"tip('Cultures number (active / total)')\" style=\"margin-left: 7px\">Cultures:&nbsp;<span id=\"culturesFooterCultures\">0 / 7</span></div>\n          <div onmouseover=\"tip('Total Land cells number')\" style=\"margin-left: 7px\">Cells:&nbsp;<span id=\"culturesFooterCells\">0</span></div>\n          <div onmouseover=\"tip('Total Land Area')\" style=\"margin-left: 7px\">Area:&nbsp;<span id=\"culturesFooterArea\">0</span></div>\n          <div onmouseover=\"tip('Total Population')\" style=\"margin-left: 7px\">Population:&nbsp;<span id=\"culturesFooterPopulation\">0</span></div>\n        </div>\n\n        <div id=\"culturesBottom\">\n          <button id=\"culturesPercentage\" onmouseover=\"tip('Toggle percentage / absolut values views')\" class=\"icon-percent\"></button>\n          <button id=\"culturesManually\" onmouseover=\"tip('Manually re-assign cultures')\" class=\"icon-brush\"></button>\n          <div id=\"culturesManuallyButtons\" style=\"display: none\">\n            <button id=\"culturesManuallyComplete\" onmouseover=\"tip('Apply assignment')\" class=\"icon-check\"></button>\n            <button id=\"culturesManuallyCancel\" onmouseover=\"tip('Cancel assignment')\" class=\"icon-cancel\"></button>\n            <label onmouseover=\"tip('Set the brush size')\" class=\"italic\">Brush size:</label>\n            <input id=\"culturesManuallyBrush\" oninput=\"tip('Brush size: '+this.value); culturesManuallyBrushNumber.value = this.value\" type=\"range\" min=\"1\" max=\"7\" value=\"3\">\n            <input id=\"culturesManuallyBrushNumber\" oninput=\"tip('Brush size: '+this.value); culturesManuallyBrush.value = this.value\" type=\"number\" min=\"1\" max=\"7\" value=\"3\">\n          </div>\n          <button id=\"culturesRandomize\" onmouseover=\"tip('Randomly re-distribute cultures')\" class=\"icon-shuffle\"></button>\n          <button id=\"culturesRegenerateNames\" onmouseover=\"tip('Re-generate all Burg names based on assigned culture')\" class=\"icon-arrows-cw\"></button>\n          <button id=\"culturesEditNamesBase\" onmouseover=\"tip('Edit a database used for names generation')\" class=\"icon-list-bullet\"></button>\n          <button id=\"culturesAdd\" onmouseover=\"tip('Add a new culture')\" class=\"icon-plus\"></button>\n          <button id=\"culturesExport\" onmouseover=\"tip('Save cultures-related data as a text file (.csv)')\" class=\"icon-download\"></button>\n        </div>\n      </div>\n\n      <div id=\"namesbaseEditor\" class=\"dialog stable textual\" style=\"display: none\">\n        <div id=\"namesbaseBasesTop\">\n          <span>Select base: </span>\n          <select id=\"namesbaseSelect\" onmouseover=\"tip('Select base to edit')\" value=\"0\"></select>\n          <span>Base name: </span>\n          <input id=\"namesbaseName\" onmouseover=\"tip('Type to change a base name')\" placeholder=\"Base name\" autocorrect=\"off\" spellcheck=\"false\"/>\n        </div>\n        <div id=\"namesbaseBody\">\n          <span>Names data:</span><br>\n          <textarea id=\"namesbaseTextarea\" data-base=\"0\" cols=\"70\" rows=\"10\" onmouseover=\"tip('Names data: a comma separated list of source names used for names generation')\" placeholder=\"Provide a names data: a comma separated list of source names\" autocorrect=\"off\" spellcheck=\"false\"></textarea>\n          <br>\n          <div>\n            <span>Method: </span><select onmouseover=\"tip('Select generation method')\" id=\"namesbaseMethod\">\n              <option value=\"let-to-let\">Markov let-to-let</option>\n              <option value=\"let-to-syl\">Markov let-to-syl</option>\n              <option value=\"syl-to-syl\">Markov syl-to-syl</option>\n              <option value=\"selection\">Random selection</option>\n            </select><span>   Length: </span>\n            <input id=\"namesbaseMin\" onmouseover=\"tip('Minimal name length recommendation')\" type=\"number\" min=\"2\" max=\"100\" value=\"4\">\n            <input id=\"namesbaseMax\" onmouseover=\"tip('Maximal name length recommendation')\" type=\"number\" min=\"2\" value=\"10\">\n            <span>Dublication: </span>\n            <input id=\"namesbaseDouble\" onmouseover=\"tip('Populate with letters that can used twice in a row')\" autocorrect=\"off\" spellcheck=\"false\" value=\"abc\">\n          </div>\n          <fieldset>\n            <legend>Generated examples: </legend>\n            <div id=\"namesbaseExamples\" onmouseover=\"tip('Generated examples. Click to re-gererate')\"></div>\n          </fieldset>\n        </div>\n        <div id=\"namesbaseBottom\">\n          <button id=\"namesbaseDefault\" onmouseover=\"tip('Restore default namesbase')\" class=\"icon-cancel\"></button>\n          <button id=\"namesbaseAdd\" onmouseover=\"tip('Add a new base')\" class=\"icon-plus\"></button>\n          <button id=\"namesbaseUpdateExamples\" onmouseover=\"tip('Re-generate examples based on provided data and generation method')\" class=\"icon-cw\"></button>\n          <button id=\"namesbaseDownload\" onmouseover=\"tip('Download namesbase to PC')\" class=\"icon-download\"></button>\n          <button id=\"namesbaseUpload\" onmouseover=\"tip('Upload a namesbase from PC')\" class=\"icon-upload\"></button>\n          <button id=\"namesbaseMail\" onclick=\"window.open('mailto:maxganiev@yandex.com?Subject=Namesbase%20suggestion', '_blank')\" onmouseover=\"tip('Send a namesbase suggestion to me')\" class=\"icon-mail-alt\"></button>\n        </div>\n      </div>\n\n    <div id=\"legendEditor\" class=\"dialog stable textual\" style=\"display: none\">\n      <div>\n        <span>Select object: </span>\n        <select id=\"legendSelect\" onmouseover=\"tip('Select object')\" style=\"width: 120px;\"></select>\n        <span>Object name: </span>\n        <input id=\"legendName\" onmouseover=\"tip('Type to change object name')\" autocorrect=\"off\" spellcheck=\"false\" style=\"width: 120px;\">\n      </div>\n      <div>\n        <span>Legend:</span><br>\n        <textarea id=\"legendText\" cols=\"70\" rows=\"7\" onmouseover=\"tip('Legend is a free text note, enter any object description you like')\" placeholder=\"Legend is a free text note, enter any object description you like\"></textarea>\n      </div>\n      <div>\n        <button id=\"legendFocus\" onmouseover=\"tip('Focus map on selected object')\" class=\"icon-target\"></button>\n        <button id=\"legendDownload\" onmouseover=\"tip('Download legends to PC')\" class=\"icon-download\"></button>\n        <button id=\"legendUpload\" onmouseover=\"tip('Upload legends from PC')\" class=\"icon-upload\"></button>\n        <button id=\"legendRemove\" onmouseover=\"tip('Remove this note')\" class=\"icon-trash\"></button>\n      </div>\n    </div>\n\n      <div id=\"scaleEditor\" class=\"dialog stable\" style=\"display: none\">\n        <div id=\"scaleBody\">\n          <div class=\"scaleHeader\">\n            <span class=\"icon-map-signs\"></span>\n            <div>Distances: </div>\n          </div>\n          <div>\n            <div>Distance unit: </div>\n            <select onmouseover=\"tip('Select Distance unit')\" id=\"distanceUnit\">\n              <option value=\"mi\" selected>Mile</option>\n              <option value=\"km\">Kilometer</option>\n              <option value=\"lg\">League</option>\n              <option value=\"vr\">Versta</option>\n              <option value=\"custom_name\">Custom name</option>\n            </select>\n          </div>\n          <div>\n            <div onmouseover=\"tip('Select how many distance unit are in one pixel')\">1 map pixel =</div>\n            <input id=\"distanceScale\" onmouseover=\"tip('Select how many distance unit are in one pixel')\" type=\"range\" min=\"0.1\" max=\"10\" value=\"3\" step=\"0.1\">\n            <input id=\"scaleOutput\" onmouseover=\"tip('Enter how many distance unit are in one pixel')\" type=\"text\" class=\"output\" value=\"3 mi\">\n          </div>\n          <div>\n            <div onmouseover=\"tip('Type area unit name, leave `square` just to add ² to the distance unit selected above')\">Area unit: </div>\n            <input id=\"areaUnit\" onmouseover=\"tip('Type area unit name, leave `square` just to add ² to the distance unit selected above')\" type=\"text\" value=\"square\">\n          </div>\n\n          <div class=\"scaleHeader\">\n            <span class=\"icon-signal\"></span>\n            <div>Altitude: </div>\n          </div>\n          <div>\n            <div>Height unit: </div>\n            <select onmouseover=\"tip('Select Height unit')\" id=\"heightUnit\">\n              <option value=\"ft\" selected>Feet</option>\n              <option value=\"m\">Meters</option>\n              <option value=\"f\">Fathoms</option>\n            </select>\n          </div>\n          <div>\n            <div onmouseover=\"tip('Select height exponent, i.e. a value showing altitude change sharpness')\">Exponent: </div>\n            <input id=\"heightExponent\" onmouseover=\"tip('Select height exponent, i.e. a value showing altitude change sharpness')\" onchange=\"heightOutput.value = this.value\" type=\"range\" min=\"1.5\" max=\"2\" value=\"1.73\" step=\"0.01\">\n            <input id=\"heightOutput\" onmouseover=\"tip('Select height exponent, i.e. a value showing altitude change sharpness')\" type=\"text\" class=\"output\" value=\"1.73\">\n          </div>\n\n          <div class=\"scaleHeader\">\n            <span class=\"icon-minus\"></span>\n            <div>Scale bar: </div>\n          </div>\n          <div>\n            <div onmouseover=\"tip('Change scale bar size')\">Scale bar size: </div>\n            <input id=\"barSize\" onmouseover=\"tip('Set scale bar size')\" type=\"range\" min=\"0.5\" max=\"4\" value=\"2\" step=\"0.1\">\n            <output id=\"barSizeOutput\">1</output>\n          </div>\n          <div>\n            <div onmouseover=\"tip('Change scale bar label, leave blank to hide label')\">Scale bar label: </div>\n            <input id=\"barLabel\" onmouseover=\"tip('Set scale bar label, leave blank to hide label')\" type=\"text\" placeholder=\"hidden\" value=\"\">\n          </div>\n          <div>\n            <div onmouseover=\"tip('Set background for Scale bar')\">Background opacity: </div>\n            <input id=\"barBackOpacity\" onmouseover=\"tip('Set Scale bar background opacity')\" type=\"range\" min=\"0\" max=\"1\" value=\"0.2\" step=\"0.01\">\n            <input id=\"barBackColor\" onmouseover=\"tip('Set Scale bar background color')\" type=\"color\" value=\"#ffffff\">\n          </div>\n          <div class=\"scaleHeader\">\n            <span class=\"icon-male\"></span>\n            <div>Population: </div>\n          </div>\n          <div>\n            <div onmouseover=\"tip('Set how many people are in one population point')\">1 population point =</div>\n            <input id=\"populationRate\" onmouseover=\"tip('Set how many people are in one population point, in Kilos')\" type=\"range\" min=\"0.1\" max=\"10\" value=\"1\" step=\"0.1\">\n            <input id=\"populationRateOutput\" onmouseover=\"tip('Enter the population rate, in Kilos')\" type=\"text\" class=\"output\" value=\"1K\">\n          </div>\n          <div>\n            <div>Urbanization rate: </div>\n            <input id=\"urbanization\" onmouseover=\"tip('Set the ubranization (burgs population relative to all population) rate')\" type=\"range\" min=\"0.01\" max=\"5\" value=\"1\" step=\"0.01\">\n            <input id=\"urbanizationOutput\" onmouseover=\"tip('Enter the ubranization (burgs population relative to all population) rate')\" type=\"text\" class=\"output\" value=\"1\">\n          </div>\n        </div>\n        <div id=\"scaleBottom\">\n          <button id=\"toggleScaleBar\" onmouseover=\"tip('Click to toggle scale bar')\" class=\"icon-align-center\"></button>\n          <button onmouseover=\"tip('Click to toggle rulers (measurers)')\" class=\"icon-eye-off\" onclick='$(\"#ruler\").fadeToggle()'></button>\n          <button id=\"addOpisometer\" onmouseover=\"tip('Drag to measure curve length with opisometer')\" class=\"icon-brush\"></button>\n          <button id=\"addRuler\" onmouseover=\"tip('Click to place additional linear ruler')\" class=\"icon-resize-horizontal\"></button>\n          <button id=\"addPlanimeter\" onmouseover=\"tip('Drag to measure a polygon area with planimeter')\" class=\"icon-check-empty\"></button>\n          <button id=\"removeAllRulers\" onmouseover=\"tip('Remove all rulers from the map. Click on ruler label to remove ruler separately')\" class=\"icon-trash\"></button>\n        </div>\n      </div>\n\n      <div id=\"alert\" style=\"display: none\">\n        <p id=\"alertMessage\">Warning!</p>\n      </div>\n    </div>\n\n    <div id=\"map-dragged\" style=\"display: none\">\n      <p>Drop to upload</p>\n    </div>\n\n    <div id=\"legend\">\n      <div id=\"legendHeader\"></div>\n      <div id=\"legendBody\"></div>\n    </div>\n\n    <div id=\"tooltip\" data-main=\"Сlick the arrow button to open options\">Сlick the arrow button to open options</div>\n\n    <div id=\"fileInputs\" class=\"hidden\">\n      <input type=\"file\" accept=\".map\" id=\"mapToLoad\">\n      <input type=\"file\" accept=\".txt,.csv\" id=\"burgsListToLoad\">\n      <input type=\"file\" accept=\".txt\" id=\"lagendsToLoad\">\n      <input type=\"file\" accept=\"image/*\" id=\"imageToLoad\">\n      <input type=\"file\" accept=\".txt\" id=\"templateToLoad\">\n      <input type=\"file\" accept=\".txt\" id=\"namesbaseToLoad\">\n    </div>\n  </div>\n</template>\n\n<script>\n\n/* eslint-disable */\n\nexport default {\n  name: 'FantasyMapGenerator',\n  mounted (){\n    console.log(\"mounted\")\n    fantasyMap();\n  },\n  props: {\n    msg: String\n  }\n}\n\n// Fantasy Map Generator main script\n// Azgaar (maxganiev@yandex.com). Minsk, 2017-2018\n// https://github.com/Azgaar/Fantasy-Map-Generator\n// GNU General Public License v3.0\n\n// To programmers:\n  // I don't mind of any help with programming\n  // I know the code is badly structurized and it's hard to read it as a single page\n  // Meanwhile a core part takes only 300-500 lines\n\n// What should be done generally:\n  // Refactor the code\n  // Modernize the code (ES6)\n  // Optimize the code\n  // Modulize the code\n\n// And particularry:\n  // Migrate from d3-voronoi to mapbox-delunator or d3-delaunay\n  // Use typed arrays instead of array of objects\n  // Get rid of jQuery as d3.js can almost all the same and more\n  // Re-build UI on reactive approach, vue.js\n\n\"use strict\";\n//fantasyMap();\nfunction fantasyMap() {\n  // Version control\n  const version = \"0.60b\";\n  document.title += \" v. \" + version;\n\n  // Declare variables\n  let svg = d3.select(\"svg\");\n  let defs = svg.select(\"#deftemp\");\n  let viewbox = svg.append(\"g\").attr(\"id\", \"viewbox\");\n  let ocean = viewbox.append(\"g\").attr(\"id\", \"ocean\");\n  let oceanLayers = ocean.append(\"g\").attr(\"id\", \"oceanLayers\");\n  let oceanPattern = ocean.append(\"g\").attr(\"id\", \"oceanPattern\");\n  let landmass = viewbox.append(\"g\").attr(\"id\", \"landmass\");\n  let terrs = viewbox.append(\"g\").attr(\"id\", \"terrs\");\n  let grid = viewbox.append(\"g\").attr(\"id\", \"grid\");\n  let overlay = viewbox.append(\"g\").attr(\"id\", \"overlay\");\n  let rivers = viewbox.append(\"g\").attr(\"id\", \"rivers\");\n  let terrain = viewbox.append(\"g\").attr(\"id\", \"terrain\");\n  let cults = viewbox.append(\"g\").attr(\"id\", \"cults\");\n  let regions = viewbox.append(\"g\").attr(\"id\", \"regions\");\n  let borders = viewbox.append(\"g\").attr(\"id\", \"borders\");\n  let stateBorders = borders.append(\"g\").attr(\"id\", \"stateBorders\");\n  let neutralBorders = borders.append(\"g\").attr(\"id\", \"neutralBorders\");\n  let lakes = viewbox.append(\"g\").attr(\"id\", \"lakes\");\n  let routes = viewbox.append(\"g\").attr(\"id\", \"routes\");\n  let roads = routes.append(\"g\").attr(\"id\", \"roads\").attr(\"data-type\", \"land\");\n  let trails = routes.append(\"g\").attr(\"id\", \"trails\").attr(\"data-type\", \"land\");\n  let searoutes = routes.append(\"g\").attr(\"id\", \"searoutes\").attr(\"data-type\", \"sea\");\n  let coastline = viewbox.append(\"g\").attr(\"id\", \"coastline\");\n  let labels = viewbox.append(\"g\").attr(\"id\", \"labels\");\n  let burgLabels = labels.append(\"g\").attr(\"id\", \"burgLabels\");\n  let icons = viewbox.append(\"g\").attr(\"id\", \"icons\");\n  let burgIcons = icons.append(\"g\").attr(\"id\", \"burgIcons\");\n  let markers = viewbox.append(\"g\").attr(\"id\", \"markers\");\n  let ruler = viewbox.append(\"g\").attr(\"id\", \"ruler\");\n  let debug = viewbox.append(\"g\").attr(\"id\", \"debug\");\n\n  labels.append(\"g\").attr(\"id\", \"countries\");\n  burgIcons.append(\"g\").attr(\"id\", \"capitals\");\n  burgLabels.append(\"g\").attr(\"id\", \"capitals\");\n  burgIcons.append(\"g\").attr(\"id\", \"towns\");\n  burgLabels.append(\"g\").attr(\"id\", \"towns\");\n  icons.append(\"g\").attr(\"id\", \"capital-anchors\");\n  icons.append(\"g\").attr(\"id\", \"town-anchors\");\n  terrain.append(\"g\").attr(\"id\", \"hills\");\n  terrain.append(\"g\").attr(\"id\", \"mounts\");\n  terrain.append(\"g\").attr(\"id\", \"swamps\");\n  terrain.append(\"g\").attr(\"id\", \"forests\");\n\n  // append ocean pattern\n  oceanPattern.append(\"rect\").attr(\"fill\", \"url(#oceanic)\").attr(\"stroke\", \"none\");\n  oceanLayers.append(\"rect\").attr(\"id\", \"oceanBase\");\n\n  // main data variables\n  let seed;\n  let params;\n  let voronoi;\n  let diagram;\n  let polygons;\n  let spacing;\n  let points = [];\n  let heights;\n  // Common variables\n  const modules = {};\n  let customization = 0;\n  let history = [];\n  let historyStage = 0;\n  let elSelected;\n  let autoResize = true;\n  let graphSize;\n  let cells = [];\n  let land = [];\n  let riversData = [];\n  let manors = [];\n  let states = [];\n  let features = [];\n  let notes = [];\n  let queue = [];\n  const fonts = [\"Almendra+SC\", \"Georgia\", \"Times+New+Roman\", \"Comic+Sans+MS\", \"Lucida+Sans+Unicode\", \"Courier+New\"];\n\n  // Cultures-related data\n  let defaultCultures = [];\n  let cultures = [];\n  const chain = {};\n  let nameBases = [];\n  let nameBase = [];\n  let cultureTree;\n  const vowels = \"aeiouy\";\n\n  // canvas element for raster images\n  const canvas = document.getElementById(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  // Color schemes\n  let color = d3.scaleSequential(d3.interpolateSpectral);\n  const colors8 = d3.scaleOrdinal(d3.schemeSet2);\n  const colors20 = d3.scaleOrdinal(d3.schemeCategory20);\n\n  // D3 drag and zoom behavior\n  let scale = 1, viewX = 0, viewY = 0;\n  const zoom = d3.zoom().scaleExtent([1, 20]).on(\"zoom\", zoomed);\n  svg.call(zoom);\n\n  // D3 Line generator variables\n  const lineGen = d3.line().x(function (d) {\n    return d.scX;\n  }).y(function (d) {\n    return d.scY;\n  }).curve(d3.curveCatmullRom);\n\n  applyStoredOptions();\n  let graphWidth = +mapWidthInput.value; // voronoi graph extention, should be stable for each map\n  let graphHeight = +mapHeightInput.value;\n  let svgWidth = graphWidth, svgHeight = graphHeight;  // svg canvas resolution, can vary for each map\n\n  // toggle off loading screen and on menus\n  $(\"#loading, #initial\").remove();\n  svg.style(\"background-color\", \"#000000\");\n  $(\"#optionsContainer, #tooltip\").show();\n  if (localStorage.getItem(\"disable_click_arrow_tooltip\")) {\n    tooltip.innerHTML = \"\";\n    tooltip.setAttribute(\"data-main\", \"\");\n    $(\"#optionsTrigger\").removeClass(\"glow\");\n  }\n\n  $(\"#optionsContainer\").draggable({handle: \".drag-trigger\", snap: \"svg\", snapMode: \"both\"});\n  $(\"#mapLayers\").sortable({items: \"li:not(.solid)\", cancel: \".solid\", update: moveLayer});\n  $(\"#templateBody\").sortable({items: \"div:not(div[data-type='Mountain'])\"});\n  $(\"#mapLayers, #templateBody\").disableSelection();\n\n  const drag = d3.drag()\n    .container(function () {\n      return this;\n    })\n    .subject(function () {\n      const p = [d3.event.x, d3.event.y];\n      return [p, p];\n    })\n    .on(\"start\", dragstarted);\n\n  function zoomed() {\n    const scaleDiff = Math.abs(scale - d3.event.transform.k);\n    scale = d3.event.transform.k;\n    viewX = d3.event.transform.x;\n    viewY = d3.event.transform.y;\n    viewbox.attr(\"transform\", d3.event.transform);\n    // rescale only if zoom is significally changed\n    if (scaleDiff > 0.001) {\n      invokeActiveZooming();\n      drawScaleBar();\n    }\n  }\n\n  // Manually update viewbox\n  function zoomUpdate(duration) {\n    const dur = duration || 0;\n    const transform = d3.zoomIdentity.translate(viewX, viewY).scale(scale);\n    svg.transition().duration(dur).call(zoom.transform, transform);\n  }\n\n  // Zoom to specific point (x,y - coods, z - scale, d - duration)\n  function zoomTo(x, y, z, d) {\n    const transform = d3.zoomIdentity.translate(x * -z + graphWidth / 2, y * -z + graphHeight / 2).scale(z);\n    svg.transition().duration(d).call(zoom.transform, transform);\n  }\n\n  // Reset zoom to initial\n  function resetZoom(duration) {\n    zoom.transform(svg, d3.zoomIdentity);\n  }\n\n  // Active zooming\n  function invokeActiveZooming() {\n    // toggle shade/blur filter on zoom\n    let filter = scale > 2.6 ? \"url(#blurFilter)\" : \"url(#dropShadow)\";\n    if (scale > 1.5 && scale <= 2.6) filter = null;\n    coastline.attr(\"filter\", filter);\n    // rescale lables on zoom (active zooming)\n    labels.selectAll(\"g\").each(function(d) {\n      const el = d3.select(this);\n      if (el.attr(\"id\") === \"burgLabels\") return;\n      const desired = +el.attr(\"data-size\");\n      let relative = rn((desired + desired / scale) / 2, 2);\n      if (relative < 2) relative = 2;\n      el.attr(\"font-size\", relative);\n      if (hideLabels.checked) {\n        el.classed(\"hidden\", relative * scale < 6);\n        updateLabelGroups();\n      }\n    });\n\n    // rescale map markers\n    markers.selectAll(\"use\").each(function(d) {\n      const el = d3.select(this);\n      let x = +el.attr(\"data-x\"), y = +el.attr(\"data-y\");\n      const desired = +el.attr(\"data-size\");\n      let size = desired * 5 + 25 / scale;\n      if (size < 1) size = 1;\n      el.attr(\"x\", x - size / 2).attr(\"y\", y - size).attr(\"width\", size).attr(\"height\", size);\n    });\n\n    if (ruler.size()) {\n      if (ruler.style(\"display\") !== \"none\") {\n        if (ruler.selectAll(\"g\").size() < 1) {return;}\n        const factor = rn(1 / Math.pow(scale, 0.3), 1);\n        ruler.selectAll(\"circle:not(.center)\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor);\n        ruler.selectAll(\"circle.center\").attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor);\n        ruler.selectAll(\"text\").attr(\"font-size\", 10 * factor);\n        ruler.selectAll(\"line, path\").attr(\"stroke-width\", factor);\n      }\n    }\n  }\n\n  addDragToUpload();\n\n  // Changelog dialog window\n  const storedVersion = localStorage.getItem(\"version\"); // show message on load\n  if (storedVersion != version) {\n    alertMessage.innerHTML = `<b>2018-29-23</b>:\n      The <i>Fantasy Map Generator</i> is updated up to version <b>${version}</b>.\n      Main changes:<br><br>\n      <li>Map Markers</li>\n      <li>Legend Editor (text notes)</li>\n      <li>Bug fixes</li>\n      <br>See a <a href='https://www.reddit.com/r/FantasyMapGenerator/comments/9iarje/update_new_version_is_published_v060b' target='_blank'>dedicated post</a> for the details.\n      <br><br>\n      <i>Join our <a href='https://www.reddit.com/r/FantasyMapGenerator/' target='_blank'>Reddit community</a>\n      to share created maps, discuss the Generator, report bugs, ask questions and propose new features.\n      You may also report bugs <a href='https://github.com/Azgaar/Fantasy-Map-Generator/issues' target='_blank'>here</a>.</i>`;\n\n    $(\"#alert\").dialog(\n      {resizable: false, title: \"Fantasy Map Generator update\", width: 320,\n      buttons: {\n        \"Don't show again\": function() {\n          localStorage.setItem(\"version\", version);\n          $(this).dialog(\"close\");\n        },\n        Close: function() {$(this).dialog(\"close\");}\n      },\n      position: {my: \"center\", at: \"center\", of: \"svg\"}\n    });\n  }\n\n  getSeed(); // get and set random generator seed\n  applyNamesData(); // apply default namesbase on load\n  generate(); // generate map on load\n  applyDefaultStyle(); // apply style on load\n  focusOn(); // based on searchParams focus on point, cell or burg from MFCG\n  invokeActiveZooming(); // to hide what need to be hidden\n\n  function generate() {\n    console.group(\"Random map\");\n    console.time(\"TOTAL\");\n    applyMapSize();\n    randomizeOptions();\n    placePoints();\n    calculateVoronoi(points);\n    detectNeighbors();\n    drawScaleBar();\n    defineHeightmap();\n    markFeatures();\n    drawOcean();\n    elevateLakes();\n    resolveDepressionsPrimary();\n    reGraph();\n    resolveDepressionsSecondary();\n    flux();\n    addLakes();\n    drawCoastline();\n    drawRelief();\n    generateCultures();\n    manorsAndRegions();\n    cleanData();\n    console.timeEnd(\"TOTAL\");\n    console.groupEnd(\"Random map\");\n  }\n\n  // get or generate map seed\n  function getSeed() {\n    const url = new URL(window.location.href);\n    params = url.searchParams;\n    seed = params.get(\"seed\") || Math.floor(Math.random() * 1e9);\n    console.log(\" seed: \" + seed);\n    optionsSeed.value = seed;\n    Math.seedrandom(seed);\n  }\n\n  // generate new map seed\n  function changeSeed() {\n    seed = Math.floor(Math.random() * 1e9);\n    console.log(\" seed: \" + seed);\n    optionsSeed.value = seed;\n    Math.seedrandom(seed);\n  }\n\n  function updateURL() {\n    const url = new URL(window.location.href);\n    url.searchParams.set(\"seed\", seed);\n    if (url.protocol !== \"file:\") window.history.pushState({seed}, \"\", \"url.search\");\n  }\n\n  // load options from LocalStorage is any\n  function applyStoredOptions() {\n    if (localStorage.getItem(\"mapWidth\") && localStorage.getItem(\"mapHeight\")) {\n      mapWidthInput.value = localStorage.getItem(\"mapWidth\");\n      mapHeightInput.value = localStorage.getItem(\"mapHeight\");\n    } else {\n      mapWidthInput.value = window.innerWidth;\n      mapHeightInput.value = window.innerHeight;\n    }\n    if (localStorage.getItem(\"graphSize\")) {\n      graphSize = localStorage.getItem(\"graphSize\");\n      sizeInput.value = sizeOutput.value = graphSize;\n    } else {\n      graphSize = +sizeInput.value;\n    }\n    if (localStorage.getItem(\"template\")) {\n      templateInput.value = localStorage.getItem(\"template\");\n      lockTemplateInput.setAttribute(\"data-locked\", 1);\n      lockTemplateInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"manors\")) {\n      manorsInput.value = manorsOutput.value = localStorage.getItem(\"manors\");\n      lockManorsInput.setAttribute(\"data-locked\", 1);\n      lockManorsInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"regions\")) {\n      regionsInput.value = regionsOutput.value = localStorage.getItem(\"regions\");\n      lockRegionsInput.setAttribute(\"data-locked\", 1);\n      lockRegionsInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"power\")) {\n      powerInput.value = powerOutput.value = localStorage.getItem(\"power\");\n      lockPowerInput.setAttribute(\"data-locked\", 1);\n      lockPowerInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"neutral\")) neutralInput.value = neutralOutput.value = localStorage.getItem(\"neutral\");\n    if (localStorage.getItem(\"names\")) {\n      namesInput.value = localStorage.getItem(\"names\");\n      lockNamesInput.setAttribute(\"data-locked\", 1);\n      lockNamesInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"cultures\")) {\n      culturesInput.value = culturesOutput.value = localStorage.getItem(\"cultures\");\n      lockCulturesInput.setAttribute(\"data-locked\", 1);\n      lockCulturesInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"prec\")) {\n      precInput.value = precOutput.value = localStorage.getItem(\"prec\");\n      lockPrecInput.setAttribute(\"data-locked\", 1);\n      lockPrecInput.className = \"icon-lock\";\n    }\n    if (localStorage.getItem(\"swampiness\")) swampinessInput.value = swampinessOutput.value = localStorage.getItem(\"swampiness\");\n    if (localStorage.getItem(\"outlineLayers\")) outlineLayersInput.value = localStorage.getItem(\"outlineLayers\");\n    if (localStorage.getItem(\"pngResolution\")) {\n      pngResolutionInput.value = localStorage.getItem(\"pngResolution\");\n      pngResolutionOutput.value = pngResolutionInput.value + \"x\";\n    }\n    if (localStorage.getItem(\"transparency\")) {\n      transparencyInput.value = transparencyOutput.value = localStorage.getItem(\"transparency\");\n      changeDialogsTransparency(transparencyInput.value);\n    } else {changeDialogsTransparency(0);}\n  }\n\n  function restoreDefaultOptions() {\n    // remove ALL saved data from LocalStorage\n    localStorage.clear();\n    // set defaut values\n    mapWidthInput.value = window.innerWidth;\n    mapHeightInput.value = window.innerHeight;\n    changeMapSize();\n    graphSize = sizeInput.value = sizeOutput.value = 1;\n    $(\"#options i[class^='icon-lock']\").each(function() {\n      this.setAttribute(\"data-locked\", 0);\n      this.className = \"icon-lock-open\";\n      if (this.id === \"lockNeutralInput\" || this.id === \"lockSwampinessInput\") {\n        this.setAttribute(\"data-locked\", 1);\n        this.className = \"icon-lock\";\n      }\n    });\n    neutralInput.value = neutralOutput.value = 200;\n    swampinessInput.value = swampinessOutput.value = 10;\n    outlineLayersInput.value = \"-6,-3,-1\";\n    transparencyInput.value = transparencyOutput.value = 0;\n    changeDialogsTransparency(0);\n    pngResolutionInput.value = 5;\n    pngResolutionOutput.value = \"5x\";\n    randomizeOptions();\n  }\n\n  // apply names data from localStorage if available\n  function applyNamesData() {\n    applyDefaultNamesData();\n    defaultCultures = [\n      {name:\"Shwazen\", color:\"#b3b3b3\", base:0},\n      {name:\"Angshire\", color:\"#fca463\", base:1},\n      {name:\"Luari\", color:\"#99acfb\", base:2},\n      {name:\"Tallian\", color:\"#a6d854\", base:3},\n      {name:\"Toledi\", color:\"#ffd92f\", base:4},\n      {name:\"Slovian\", color:\"#e5c494\", base:5},\n      {name:\"Norse\", color:\"#dca3e4\", base:6},\n      {name:\"Elladian\", color:\"#66c4a0\", base:7},\n      {name:\"Latian\", color:\"#ff7174\", base:8},\n      {name:\"Soomi\", color:\"#85c8fa\", base:9},\n      {name:\"Koryo\", color:\"#578880\", base:10},\n      {name:\"Hantzu\", color:\"#becb8d\", base:11},\n      {name:\"Yamoto\", color:\"#ffd9da\", base:12}\n    ];\n  }\n\n  // apply default names data\n  function applyDefaultNamesData() {\n    nameBases = [                                                                   // min; max; mean; common\n      {name: \"German\", method: \"let-to-syl\", min: 4, max: 11, d: \"lt\", m: 0.1},     // real: 3; 17; 8.6; 8\n      {name: \"English\", method: \"let-to-syl\", min: 5, max: 10, d: \"\", m: 0.3},      // real: 4; 13; 7.9; 8\n      {name: \"French\", method: \"let-to-syl\", min: 4, max: 10, d: \"lns\", m: 0.3},    // real: 3; 15; 7.6; 6\n      {name: \"Italian\", method: \"let-to-syl\", min: 4, max: 11, d: \"clrt\", m: 0.2},  // real: 4; 14; 7.7; 7\n      {name: \"Castillian\", method: \"let-to-syl\", min: 4, max: 10, d: \"lr\", m: 0},   // real: 2; 13; 7.5; 8\n      {name: \"Ruthenian\", method: \"let-to-syl\", min: 4, max: 9, d: \"\", m: 0},       // real: 3; 12; 7.1; 7\n      {name: \"Nordic\", method: \"let-to-syl\", min: 5, max: 9, d: \"kln\", m: 0.1},     // real: 3; 12; 7.5; 6\n      {name: \"Greek\", method: \"let-to-syl\", min: 4, max: 10, d: \"ls\", m: 0.2},      // real: 3; 14; 7.1; 6\n      {name: \"Roman\", method: \"let-to-syl\", min: 5, max: 10, d: \"\", m: 1},          // real: 3; 15; 8.0; 7\n      {name: \"Finnic\", method: \"let-to-syl\", min: 3, max: 10, d: \"aktu\", m: 0},     // real: 3; 13; 7.5; 6\n      {name: \"Korean\", method: \"let-to-syl\", min: 5, max: 10, d: \"\", m: 0},         // real: 3; 13; 6.8; 7\n      {name: \"Chinese\", method: \"let-to-syl\", min: 5, max: 9, d: \"\", m: 0},         // real: 4; 11; 6.9; 6\n      {name: \"Japanese\", method: \"let-to-syl\", min: 3, max: 9, d: \"\", m: 0}         // real: 2; 15; 6.8; 6\n    ];\n    nameBase = [\n      [\"Achern\",\"Aichhalden\",\"Aitern\",\"Albbruck\",\"Alpirsbach\",\"Altensteig\",\"Althengstett\",\"Appenweier\",\"Auggen\",\"Wildbad\",\"Badenen\",\"Badenweiler\",\"Baiersbronn\",\"Ballrechten\",\"Bellingen\",\"Berghaupten\",\"Bernau\",\"Biberach\",\"Biederbach\",\"Binzen\",\"Birkendorf\",\"Birkenfeld\",\"Bischweier\",\"Blumberg\",\"Bollen\",\"Bollschweil\",\"Bonndorf\",\"Bosingen\",\"Braunlingen\",\"Breisach\",\"Breisgau\",\"Breitnau\",\"Brigachtal\",\"Buchenbach\",\"Buggingen\",\"Buhl\",\"Buhlertal\",\"Calw\",\"Dachsberg\",\"Dobel\",\"Donaueschingen\",\"Dornhan\",\"Dornstetten\",\"Dottingen\",\"Dunningen\",\"Durbach\",\"Durrheim\",\"Ebhausen\",\"Ebringen\",\"Efringen\",\"Egenhausen\",\"Ehrenkirchen\",\"Ehrsberg\",\"Eimeldingen\",\"Eisenbach\",\"Elzach\",\"Elztal\",\"Emmendingen\",\"Endingen\",\"Engelsbrand\",\"Enz\",\"Enzklosterle\",\"Eschbronn\",\"Ettenheim\",\"Ettlingen\",\"Feldberg\",\"Fischerbach\",\"Fischingen\",\"Fluorn\",\"Forbach\",\"Freiamt\",\"Freiburg\",\"Freudenstadt\",\"Friedenweiler\",\"Friesenheim\",\"Frohnd\",\"Furtwangen\",\"Gaggenau\",\"Geisingen\",\"Gengenbach\",\"Gernsbach\",\"Glatt\",\"Glatten\",\"Glottertal\",\"Gorwihl\",\"Gottenheim\",\"Grafenhausen\",\"Grenzach\",\"Griesbach\",\"Gutach\",\"Gutenbach\",\"Hag\",\"Haiterbach\",\"Hardt\",\"Harmersbach\",\"Hasel\",\"Haslach\",\"Hausach\",\"Hausen\",\"Hausern\",\"Heitersheim\",\"Herbolzheim\",\"Herrenalb\",\"Herrischried\",\"Hinterzarten\",\"Hochenschwand\",\"Hofen\",\"Hofstetten\",\"Hohberg\",\"Horb\",\"Horben\",\"Hornberg\",\"Hufingen\",\"Ibach\",\"Ihringen\",\"Inzlingen\",\"Kandern\",\"Kappel\",\"Kappelrodeck\",\"Karlsbad\",\"Karlsruhe\",\"Kehl\",\"Keltern\",\"Kippenheim\",\"Kirchzarten\",\"Konigsfeld\",\"Krozingen\",\"Kuppenheim\",\"Kussaberg\",\"Lahr\",\"Lauchringen\",\"Lauf\",\"Laufenburg\",\"Lautenbach\",\"Lauterbach\",\"Lenzkirch\",\"Liebenzell\",\"Loffenau\",\"Loffingen\",\"Lorrach\",\"Lossburg\",\"Mahlberg\",\"Malsburg\",\"Malsch\",\"March\",\"Marxzell\",\"Marzell\",\"Maulburg\",\"Monchweiler\",\"Muhlenbach\",\"Mullheim\",\"Munstertal\",\"Murg\",\"Nagold\",\"Neubulach\",\"Neuenburg\",\"Neuhausen\",\"Neuried\",\"Neuweiler\",\"Niedereschach\",\"Nordrach\",\"Oberharmersbach\",\"Oberkirch\",\"Oberndorf\",\"Oberbach\",\"Oberried\",\"Oberwolfach\",\"Offenburg\",\"Ohlsbach\",\"Oppenau\",\"Ortenberg\",\"otigheim\",\"Ottenhofen\",\"Ottersweier\",\"Peterstal\",\"Pfaffenweiler\",\"Pfalzgrafenweiler\",\"Pforzheim\",\"Rastatt\",\"Renchen\",\"Rheinau\",\"Rheinfelden\",\"Rheinmunster\",\"Rickenbach\",\"Rippoldsau\",\"Rohrdorf\",\"Rottweil\",\"Rummingen\",\"Rust\",\"Sackingen\",\"Sasbach\",\"Sasbachwalden\",\"Schallbach\",\"Schallstadt\",\"Schapbach\",\"Schenkenzell\",\"Schiltach\",\"Schliengen\",\"Schluchsee\",\"Schomberg\",\"Schonach\",\"Schonau\",\"Schonenberg\",\"Schonwald\",\"Schopfheim\",\"Schopfloch\",\"Schramberg\",\"Schuttertal\",\"Schwenningen\",\"Schworstadt\",\"Seebach\",\"Seelbach\",\"Seewald\",\"Sexau\",\"Simmersfeld\",\"Simonswald\",\"Sinzheim\",\"Solden\",\"Staufen\",\"Stegen\",\"Steinach\",\"Steinen\",\"Steinmauern\",\"Straubenhardt\",\"Stuhlingen\",\"Sulz\",\"Sulzburg\",\"Teinach\",\"Tiefenbronn\",\"Tiengen\",\"Titisee\",\"Todtmoos\",\"Todtnau\",\"Todtnauberg\",\"Triberg\",\"Tunau\",\"Tuningen\",\"uhlingen\",\"Unterkirnach\",\"Reichenbach\",\"Utzenfeld\",\"Villingen\",\"Villingendorf\",\"Vogtsburg\",\"Vohrenbach\",\"Waldachtal\",\"Waldbronn\",\"Waldkirch\",\"Waldshut\",\"Wehr\",\"Weil\",\"Weilheim\",\"Weisenbach\",\"Wembach\",\"Wieden\",\"Wiesental\",\"Wildberg\",\"Winzeln\",\"Wittlingen\",\"Wittnau\",\"Wolfach\",\"Wutach\",\"Wutoschingen\",\"Wyhlen\",\"Zavelstein\"],\n      [\"Abingdon\",\"Albrighton\",\"Alcester\",\"Almondbury\",\"Altrincham\",\"Amersham\",\"Andover\",\"Appleby\",\"Ashboume\",\"Atherstone\",\"Aveton\",\"Axbridge\",\"Aylesbury\",\"Baldock\",\"Bamburgh\",\"Barton\",\"Basingstoke\",\"Berden\",\"Bere\",\"Berkeley\",\"Berwick\",\"Betley\",\"Bideford\",\"Bingley\",\"Birmingham\",\"Blandford\",\"Blechingley\",\"Bodmin\",\"Bolton\",\"Bootham\",\"Boroughbridge\",\"Boscastle\",\"Bossinney\",\"Bramber\",\"Brampton\",\"Brasted\",\"Bretford\",\"Bridgetown\",\"Bridlington\",\"Bromyard\",\"Bruton\",\"Buckingham\",\"Bungay\",\"Burton\",\"Calne\",\"Cambridge\",\"Canterbury\",\"Carlisle\",\"Castleton\",\"Caus\",\"Charmouth\",\"Chawleigh\",\"Chichester\",\"Chillington\",\"Chinnor\",\"Chipping\",\"Chisbury\",\"Cleobury\",\"Clifford\",\"Clifton\",\"Clitheroe\",\"Cockermouth\",\"Coleshill\",\"Combe\",\"Congleton\",\"Crafthole\",\"Crediton\",\"Cuddenbeck\",\"Dalton\",\"Darlington\",\"Dodbrooke\",\"Drax\",\"Dudley\",\"Dunstable\",\"Dunster\",\"Dunwich\",\"Durham\",\"Dymock\",\"Exeter\",\"Exning\",\"Faringdon\",\"Felton\",\"Fenny\",\"Finedon\",\"Flookburgh\",\"Fowey\",\"Frampton\",\"Gateshead\",\"Gatton\",\"Godmanchester\",\"Grampound\",\"Grantham\",\"Guildford\",\"Halesowen\",\"Halton\",\"Harbottle\",\"Harlow\",\"Hatfield\",\"Hatherleigh\",\"Haydon\",\"Helston\",\"Henley\",\"Hertford\",\"Heytesbury\",\"Hinckley\",\"Hitchin\",\"Holme\",\"Hornby\",\"Horsham\",\"Kendal\",\"Kenilworth\",\"Kilkhampton\",\"Kineton\",\"Kington\",\"Kinver\",\"Kirby\",\"Knaresborough\",\"Knutsford\",\"Launceston\",\"Leighton\",\"Lewes\",\"Linton\",\"Louth\",\"Luton\",\"Lyme\",\"Lympstone\",\"Macclesfield\",\"Madeley\",\"Malborough\",\"Maldon\",\"Manchester\",\"Manningtree\",\"Marazion\",\"Marlborough\",\"Marshfield\",\"Mere\",\"Merryfield\",\"Middlewich\",\"Midhurst\",\"Milborne\",\"Mitford\",\"Modbury\",\"Montacute\",\"Mousehole\",\"Newbiggin\",\"Newborough\",\"Newbury\",\"Newenden\",\"Newent\",\"Norham\",\"Northleach\",\"Noss\",\"Oakham\",\"Olney\",\"Orford\",\"Ormskirk\",\"Oswestry\",\"Padstow\",\"Paignton\",\"Penkneth\",\"Penrith\",\"Penzance\",\"Pershore\",\"Petersfield\",\"Pevensey\",\"Pickering\",\"Pilton\",\"Pontefract\",\"Portsmouth\",\"Preston\",\"Quatford\",\"Reading\",\"Redcliff\",\"Retford\",\"Rockingham\",\"Romney\",\"Rothbury\",\"Rothwell\",\"Salisbury\",\"Saltash\",\"Seaford\",\"Seasalter\",\"Sherston\",\"Shifnal\",\"Shoreham\",\"Sidmouth\",\"Skipsea\",\"Skipton\",\"Solihull\",\"Somerton\",\"Southam\",\"Southwark\",\"Standon\",\"Stansted\",\"Stapleton\",\"Stottesdon\",\"Sudbury\",\"Swavesey\",\"Tamerton\",\"Tarporley\",\"Tetbury\",\"Thatcham\",\"Thaxted\",\"Thetford\",\"Thornbury\",\"Tintagel\",\"Tiverton\",\"Torksey\",\"Totnes\",\"Towcester\",\"Tregoney\",\"Trematon\",\"Tutbury\",\"Uxbridge\",\"Wallingford\",\"Wareham\",\"Warenmouth\",\"Wargrave\",\"Warton\",\"Watchet\",\"Watford\",\"Wendover\",\"Westbury\",\"Westcheap\",\"Weymouth\",\"Whitford\",\"Wickwar\",\"Wigan\",\"Wigmore\",\"Winchelsea\",\"Winkleigh\",\"Wiscombe\",\"Witham\",\"Witheridge\",\"Wiveliscombe\",\"Woodbury\",\"Yeovil\"],\n      [\"Adon\",\"Aillant\",\"Amilly\",\"Andonville\",\"Ardon\",\"Artenay\",\"Ascheres\",\"Ascoux\",\"Attray\",\"Aubin\",\"Audeville\",\"Aulnay\",\"Autruy\",\"Auvilliers\",\"Auxy\",\"Aveyron\",\"Baccon\",\"Bardon\",\"Barville\",\"Batilly\",\"Baule\",\"Bazoches\",\"Beauchamps\",\"Beaugency\",\"Beaulieu\",\"Beaune\",\"Bellegarde\",\"Boesses\",\"Boigny\",\"Boiscommun\",\"Boismorand\",\"Boisseaux\",\"Bondaroy\",\"Bonnee\",\"Bonny\",\"Bordes\",\"Bou\",\"Bougy\",\"Bouilly\",\"Boulay\",\"Bouzonville\",\"Bouzy\",\"Boynes\",\"Bray\",\"Breteau\",\"Briare\",\"Briarres\",\"Bricy\",\"Bromeilles\",\"Bucy\",\"Cepoy\",\"Cercottes\",\"Cerdon\",\"Cernoy\",\"Cesarville\",\"Chailly\",\"Chaingy\",\"Chalette\",\"Chambon\",\"Champoulet\",\"Chanteau\",\"Chantecoq\",\"Chapell\",\"Charme\",\"Charmont\",\"Charsonville\",\"Chateau\",\"Chateauneuf\",\"Chatel\",\"Chatenoy\",\"Chatillon\",\"Chaussy\",\"Checy\",\"Chevannes\",\"Chevillon\",\"Chevilly\",\"Chevry\",\"Chilleurs\",\"Choux\",\"Chuelles\",\"Clery\",\"Coinces\",\"Coligny\",\"Combleux\",\"Combreux\",\"Conflans\",\"Corbeilles\",\"Corquilleroy\",\"Cortrat\",\"Coudroy\",\"Coullons\",\"Coulmiers\",\"Courcelles\",\"Courcy\",\"Courtemaux\",\"Courtempierre\",\"Courtenay\",\"Cravant\",\"Crottes\",\"Dadonville\",\"Dammarie\",\"Dampierre\",\"Darvoy\",\"Desmonts\",\"Dimancheville\",\"Donnery\",\"Dordives\",\"Dossainville\",\"Douchy\",\"Dry\",\"Echilleuses\",\"Egry\",\"Engenville\",\"Epieds\",\"Erceville\",\"Ervauville\",\"Escrennes\",\"Escrignelles\",\"Estouy\",\"Faverelles\",\"Fay\",\"Feins\",\"Ferolles\",\"Ferrieres\",\"Fleury\",\"Fontenay\",\"Foret\",\"Foucherolles\",\"Freville\",\"Gatinais\",\"Gaubertin\",\"Gemigny\",\"Germigny\",\"Gidy\",\"Gien\",\"Girolles\",\"Givraines\",\"Gondreville\",\"Grangermont\",\"Greneville\",\"Griselles\",\"Guigneville\",\"Guilly\",\"Gyleslonains\",\"Huetre\",\"Huisseau\",\"Ingrannes\",\"Ingre\",\"Intville\",\"Isdes\",\"Jargeau\",\"Jouy\",\"Juranville\",\"Bussiere\",\"Laas\",\"Ladon\",\"Lailly\",\"Langesse\",\"Leouville\",\"Ligny\",\"Lombreuil\",\"Lorcy\",\"Lorris\",\"Loury\",\"Louzouer\",\"Malesherbois\",\"Marcilly\",\"Mardie\",\"Mareau\",\"Marigny\",\"Marsainvilliers\",\"Melleroy\",\"Menestreau\",\"Merinville\",\"Messas\",\"Meung\",\"Mezieres\",\"Migneres\",\"Mignerette\",\"Mirabeau\",\"Montargis\",\"Montbarrois\",\"Montbouy\",\"Montcresson\",\"Montereau\",\"Montigny\",\"Montliard\",\"Mormant\",\"Morville\",\"Moulinet\",\"Moulon\",\"Nancray\",\"Nargis\",\"Nesploy\",\"Neuville\",\"Neuvy\",\"Nevoy\",\"Nibelle\",\"Nogent\",\"Noyers\",\"Ocre\",\"Oison\",\"Olivet\",\"Ondreville\",\"Onzerain\",\"Orleans\",\"Ormes\",\"Orville\",\"Oussoy\",\"Outarville\",\"Ouzouer\",\"Pannecieres\",\"Pannes\",\"Patay\",\"Paucourt\",\"Pers\",\"Pierrefitte\",\"Pithiverais\",\"Pithiviers\",\"Poilly\",\"Potier\",\"Prefontaines\",\"Presnoy\",\"Pressigny\",\"Puiseaux\",\"Quiers\",\"Ramoulu\",\"Rebrechien\",\"Rouvray\",\"Rozieres\",\"Rozoy\",\"Ruan\",\"Sandillon\",\"Santeau\",\"Saran\",\"Sceaux\",\"Seichebrieres\",\"Semoy\",\"Sennely\",\"Sermaises\",\"Sigloy\",\"Solterre\",\"Sougy\",\"Sully\",\"Sury\",\"Tavers\",\"Thignonville\",\"Thimory\",\"Thorailles\",\"Thou\",\"Tigy\",\"Tivernon\",\"Tournoisis\",\"Trainou\",\"Treilles\",\"Trigueres\",\"Trinay\",\"Vannes\",\"Varennes\",\"Vennecy\",\"Vieilles\",\"Vienne\",\"Viglain\",\"Vignes\",\"Villamblain\",\"Villemandeur\",\"Villemoutiers\",\"Villemurlin\",\"Villeneuve\",\"Villereau\",\"Villevoques\",\"Villorceau\",\"Vimory\",\"Vitry\",\"Vrigny\",\"Ivre\"],\n      [\"Accumoli\",\"Acquafondata\",\"Acquapendente\",\"Acuto\",\"Affile\",\"Agosta\",\"Alatri\",\"Albano\",\"Allumiere\",\"Alvito\",\"Amaseno\",\"Amatrice\",\"Anagni\",\"Anguillara\",\"Anticoli\",\"Antrodoco\",\"Anzio\",\"Aprilia\",\"Aquino\",\"Arce\",\"Arcinazzo\",\"Ardea\",\"Ariccia\",\"Arlena\",\"Arnara\",\"Arpino\",\"Arsoli\",\"Artena\",\"Ascrea\",\"Atina\",\"Ausonia\",\"Bagnoregio\",\"Barbarano\",\"Bassano\",\"Bassiano\",\"Bellegra\",\"Belmonte\",\"Blera\",\"Bolsena\",\"Bomarzo\",\"Borbona\",\"Borgo\",\"Borgorose\",\"Boville\",\"Bracciano\",\"Broccostella\",\"Calcata\",\"Camerata\",\"Campagnano\",\"Campodimele\",\"Campoli\",\"Canale\",\"Canepina\",\"Canino\",\"Cantalice\",\"Cantalupo\",\"Canterano\",\"Capena\",\"Capodimonte\",\"Capranica\",\"Caprarola\",\"Carbognano\",\"Casalattico\",\"Casalvieri\",\"Casape\",\"Casaprota\",\"Casperia\",\"Cassino\",\"Castelforte\",\"Castelliri\",\"Castello\",\"Castelnuovo\",\"Castiglione\",\"Castro\",\"Castrocielo\",\"Cave\",\"Ceccano\",\"Celleno\",\"Cellere\",\"Ceprano\",\"Cerreto\",\"Cervara\",\"Cervaro\",\"Cerveteri\",\"Ciampino\",\"Ciciliano\",\"Cineto\",\"Cisterna\",\"Cittaducale\",\"Cittareale\",\"Civita\",\"Civitavecchia\",\"Civitella\",\"Colfelice\",\"Collalto\",\"Colle\",\"Colleferro\",\"Collegiove\",\"Collepardo\",\"Collevecchio\",\"Colli\",\"Colonna\",\"Concerviano\",\"Configni\",\"Contigliano\",\"Corchiano\",\"Coreno\",\"Cori\",\"Cottanello\",\"Esperia\",\"Fabrica\",\"Faleria\",\"Falvaterra\",\"Fara\",\"Farnese\",\"Ferentino\",\"Fiamignano\",\"Fiano\",\"Filacciano\",\"Filettino\",\"Fiuggi\",\"Fiumicino\",\"Fondi\",\"Fontana\",\"Fonte\",\"Fontechiari\",\"Forano\",\"Formello\",\"Formia\",\"Frascati\",\"Frasso\",\"Frosinone\",\"Fumone\",\"Gaeta\",\"Gallese\",\"Gallicano\",\"Gallinaro\",\"Gavignano\",\"Genazzano\",\"Genzano\",\"Gerano\",\"Giuliano\",\"Gorga\",\"Gradoli\",\"Graffignano\",\"Greccio\",\"Grottaferrata\",\"Grotte\",\"Guarcino\",\"Guidonia\",\"Ischia\",\"Isola\",\"Itri\",\"Jenne\",\"Labico\",\"Labro\",\"Ladispoli\",\"Lanuvio\",\"Lariano\",\"Latera\",\"Lenola\",\"Leonessa\",\"Licenza\",\"Longone\",\"Lubriano\",\"Maenza\",\"Magliano\",\"Mandela\",\"Manziana\",\"Marano\",\"Marcellina\",\"Marcetelli\",\"Marino\",\"Marta\",\"Mazzano\",\"Mentana\",\"Micigliano\",\"Minturno\",\"Mompeo\",\"Montalto\",\"Montasola\",\"Monte\",\"Montebuono\",\"Montefiascone\",\"Monteflavio\",\"Montelanico\",\"Monteleone\",\"Montelibretti\",\"Montenero\",\"Monterosi\",\"Monterotondo\",\"Montopoli\",\"Montorio\",\"Moricone\",\"Morlupo\",\"Morolo\",\"Morro\",\"Nazzano\",\"Nemi\",\"Nepi\",\"Nerola\",\"Nespolo\",\"Nettuno\",\"Norma\",\"Olevano\",\"Onano\",\"Oriolo\",\"Orte\",\"Orvinio\",\"Paganico\",\"Palestrina\",\"Paliano\",\"Palombara\",\"Pastena\",\"Patrica\",\"Percile\",\"Pescorocchiano\",\"Pescosolido\",\"Petrella\",\"Piansano\",\"Picinisco\",\"Pico\",\"Piedimonte\",\"Piglio\",\"Pignataro\",\"Pisoniano\",\"Pofi\",\"Poggio\",\"Poli\",\"Pomezia\",\"Pontecorvo\",\"Pontinia\",\"Ponza\",\"Ponzano\",\"Posta\",\"Pozzaglia\",\"Priverno\",\"Proceno\",\"Prossedi\",\"Riano\",\"Rieti\",\"Rignano\",\"Riofreddo\",\"Ripi\",\"Rivodutri\",\"Rocca\",\"Roccagiovine\",\"Roccagorga\",\"Roccantica\",\"Roccasecca\",\"Roiate\",\"Ronciglione\",\"Roviano\",\"Sabaudia\",\"Sacrofano\",\"Salisano\",\"Sambuci\",\"Santa\",\"Santi\",\"Santopadre\",\"Saracinesco\",\"Scandriglia\",\"Segni\",\"Selci\",\"Sermoneta\",\"Serrone\",\"Settefrati\",\"Sezze\",\"Sgurgola\",\"Sonnino\",\"Sora\",\"Soriano\",\"Sperlonga\",\"Spigno\",\"Stimigliano\",\"Strangolagalli\",\"Subiaco\",\"Supino\",\"Sutri\",\"Tarano\",\"Tarquinia\",\"Terelle\",\"Terracina\",\"Tessennano\",\"Tivoli\",\"Toffia\",\"Tolfa\",\"Torre\",\"Torri\",\"Torrice\",\"Torricella\",\"Torrita\",\"Trevi\",\"Trevignano\",\"Trivigliano\",\"Turania\",\"Tuscania\",\"Vacone\",\"Valentano\",\"Vallecorsa\",\"Vallemaio\",\"Vallepietra\",\"Vallerano\",\"Vallerotonda\",\"Vallinfreda\",\"Valmontone\",\"Varco\",\"Vasanello\",\"Vejano\",\"Velletri\",\"Ventotene\",\"Veroli\",\"Vetralla\",\"Vicalvi\",\"Vico\",\"Vicovaro\",\"Vignanello\",\"Viterbo\",\"Viticuso\",\"Vitorchiano\",\"Vivaro\",\"Zagarolo\"],\n      [\"Abanades\",\"Ablanque\",\"Adobes\",\"Ajofrin\",\"Alameda\",\"Alaminos\",\"Alarilla\",\"Albalate\",\"Albares\",\"Albarreal\",\"Albendiego\",\"Alcabon\",\"Alcanizo\",\"Alcaudete\",\"Alcocer\",\"Alcolea\",\"Alcoroches\",\"Aldea\",\"Aldeanueva\",\"Algar\",\"Algora\",\"Alhondiga\",\"Alique\",\"Almadrones\",\"Almendral\",\"Almoguera\",\"Almonacid\",\"Almorox\",\"Alocen\",\"Alovera\",\"Alustante\",\"Angon\",\"Anguita\",\"Anover\",\"Anquela\",\"Arbancon\",\"Arbeteta\",\"Arcicollar\",\"Argecilla\",\"Arges\",\"Armallones\",\"Armuna\",\"Arroyo\",\"Atanzon\",\"Atienza\",\"Aunon\",\"Azuqueca\",\"Azutan\",\"Baides\",\"Banos\",\"Banuelos\",\"Barcience\",\"Bargas\",\"Barriopedro\",\"Belvis\",\"Berninches\",\"Borox\",\"Brihuega\",\"Budia\",\"Buenaventura\",\"Bujalaro\",\"Burguillos\",\"Burujon\",\"Bustares\",\"Cabanas\",\"Cabanillas\",\"Calera\",\"Caleruela\",\"Calzada\",\"Camarena\",\"Campillo\",\"Camunas\",\"Canizar\",\"Canredondo\",\"Cantalojas\",\"Cardiel\",\"Carmena\",\"Carranque\",\"Carriches\",\"Casa\",\"Casarrubios\",\"Casas\",\"Casasbuenas\",\"Caspuenas\",\"Castejon\",\"Castellar\",\"Castilforte\",\"Castillo\",\"Castilnuevo\",\"Cazalegas\",\"Cebolla\",\"Cedillo\",\"Cendejas\",\"Centenera\",\"Cervera\",\"Checa\",\"Chequilla\",\"Chillaron\",\"Chiloeches\",\"Chozas\",\"Chueca\",\"Cifuentes\",\"Cincovillas\",\"Ciruelas\",\"Ciruelos\",\"Cobeja\",\"Cobeta\",\"Cobisa\",\"Cogollor\",\"Cogolludo\",\"Condemios\",\"Congostrina\",\"Consuegra\",\"Copernal\",\"Corduente\",\"Corral\",\"Cuerva\",\"Domingo\",\"Dosbarrios\",\"Driebes\",\"Duron\",\"El\",\"Embid\",\"Erustes\",\"Escalona\",\"Escalonilla\",\"Escamilla\",\"Escariche\",\"Escopete\",\"Espinosa\",\"Espinoso\",\"Esplegares\",\"Esquivias\",\"Estables\",\"Estriegana\",\"Fontanar\",\"Fuembellida\",\"Fuensalida\",\"Fuentelsaz\",\"Gajanejos\",\"Galve\",\"Galvez\",\"Garciotum\",\"Gascuena\",\"Gerindote\",\"Guadamur\",\"Henche\",\"Heras\",\"Herreria\",\"Herreruela\",\"Hijes\",\"Hinojosa\",\"Hita\",\"Hombrados\",\"Hontanar\",\"Hontoba\",\"Horche\",\"Hormigos\",\"Huecas\",\"Huermeces\",\"Huerta\",\"Hueva\",\"Humanes\",\"Illan\",\"Illana\",\"Illescas\",\"Iniestola\",\"Irueste\",\"Jadraque\",\"Jirueque\",\"Lagartera\",\"Las\",\"Layos\",\"Ledanca\",\"Lillo\",\"Lominchar\",\"Loranca\",\"Los\",\"Lucillos\",\"Lupiana\",\"Luzaga\",\"Luzon\",\"Madridejos\",\"Magan\",\"Majaelrayo\",\"Malaga\",\"Malaguilla\",\"Malpica\",\"Mandayona\",\"Mantiel\",\"Manzaneque\",\"Maqueda\",\"Maranchon\",\"Marchamalo\",\"Marjaliza\",\"Marrupe\",\"Mascaraque\",\"Masegoso\",\"Matarrubia\",\"Matillas\",\"Mazarete\",\"Mazuecos\",\"Medranda\",\"Megina\",\"Mejorada\",\"Mentrida\",\"Mesegar\",\"Miedes\",\"Miguel\",\"Millana\",\"Milmarcos\",\"Mirabueno\",\"Miralrio\",\"Mocejon\",\"Mochales\",\"Mohedas\",\"Molina\",\"Monasterio\",\"Mondejar\",\"Montarron\",\"Mora\",\"Moratilla\",\"Morenilla\",\"Muduex\",\"Nambroca\",\"Navalcan\",\"Negredo\",\"Noblejas\",\"Noez\",\"Nombela\",\"Noves\",\"Numancia\",\"Nuno\",\"Ocana\",\"Ocentejo\",\"Olias\",\"Olmeda\",\"Ontigola\",\"Orea\",\"Orgaz\",\"Oropesa\",\"Otero\",\"Palmaces\",\"Palomeque\",\"Pantoja\",\"Pardos\",\"Paredes\",\"Pareja\",\"Parrillas\",\"Pastrana\",\"Pelahustan\",\"Penalen\",\"Penalver\",\"Pepino\",\"Peralejos\",\"Peralveche\",\"Pinilla\",\"Pioz\",\"Piqueras\",\"Polan\",\"Portillo\",\"Poveda\",\"Pozo\",\"Pradena\",\"Prados\",\"Puebla\",\"Puerto\",\"Pulgar\",\"Quer\",\"Quero\",\"Quintanar\",\"Quismondo\",\"Rebollosa\",\"Recas\",\"Renera\",\"Retamoso\",\"Retiendas\",\"Riba\",\"Rielves\",\"Rillo\",\"Riofrio\",\"Robledillo\",\"Robledo\",\"Romanillos\",\"Romanones\",\"Rueda\",\"Sacecorbo\",\"Sacedon\",\"Saelices\",\"Salmeron\",\"San\",\"Santa\",\"Santiuste\",\"Santo\",\"Sartajada\",\"Sauca\",\"Sayaton\",\"Segurilla\",\"Selas\",\"Semillas\",\"Sesena\",\"Setiles\",\"Sevilleja\",\"Sienes\",\"Siguenza\",\"Solanillos\",\"Somolinos\",\"Sonseca\",\"Sotillo\",\"Sotodosos\",\"Talavera\",\"Tamajon\",\"Taragudo\",\"Taravilla\",\"Tartanedo\",\"Tembleque\",\"Tendilla\",\"Terzaga\",\"Tierzo\",\"Tordellego\",\"Tordelrabano\",\"Tordesilos\",\"Torija\",\"Torralba\",\"Torre\",\"Torrecilla\",\"Torrecuadrada\",\"Torrejon\",\"Torremocha\",\"Torrico\",\"Torrijos\",\"Torrubia\",\"Tortola\",\"Tortuera\",\"Tortuero\",\"Totanes\",\"Traid\",\"Trijueque\",\"Trillo\",\"Turleque\",\"Uceda\",\"Ugena\",\"Ujados\",\"Urda\",\"Utande\",\"Valdarachas\",\"Valdesotos\",\"Valhermoso\",\"Valtablado\",\"Valverde\",\"Velada\",\"Viana\",\"Vinuelas\",\"Yebes\",\"Yebra\",\"Yelamos\",\"Yeles\",\"Yepes\",\"Yuncler\",\"Yunclillos\",\"Yuncos\",\"Yunquera\",\"Zaorejas\",\"Zarzuela\",\"Zorita\"],\n      [\"Belgorod\",\"Beloberezhye\",\"Belyi\",\"Belz\",\"Berestiy\",\"Berezhets\",\"Berezovets\",\"Berezutsk\",\"Bobruisk\",\"Bolonets\",\"Borisov\",\"Borovsk\",\"Bozhesk\",\"Bratslav\",\"Bryansk\",\"Brynsk\",\"Buryn\",\"Byhov\",\"Chechersk\",\"Chemesov\",\"Cheremosh\",\"Cherlen\",\"Chern\",\"Chernigov\",\"Chernitsa\",\"Chernobyl\",\"Chernogorod\",\"Chertoryesk\",\"Chetvertnia\",\"Demyansk\",\"Derevesk\",\"Devyagoresk\",\"Dichin\",\"Dmitrov\",\"Dorogobuch\",\"Dorogobuzh\",\"Drestvin\",\"Drokov\",\"Drutsk\",\"Dubechin\",\"Dubichi\",\"Dubki\",\"Dubkov\",\"Dveren\",\"Galich\",\"Glebovo\",\"Glinsk\",\"Goloty\",\"Gomiy\",\"Gorodets\",\"Gorodische\",\"Gorodno\",\"Gorohovets\",\"Goroshin\",\"Gorval\",\"Goryshon\",\"Holm\",\"Horobor\",\"Hoten\",\"Hotin\",\"Hotmyzhsk\",\"Ilovech\",\"Ivan\",\"Izborsk\",\"Izheslavl\",\"Kamenets\",\"Kanev\",\"Karachev\",\"Karna\",\"Kavarna\",\"Klechesk\",\"Klyapech\",\"Kolomyya\",\"Kolyvan\",\"Kopyl\",\"Korec\",\"Kornik\",\"Korochunov\",\"Korshev\",\"Korsun\",\"Koshkin\",\"Kotelno\",\"Kovyla\",\"Kozelsk\",\"Kozelsk\",\"Kremenets\",\"Krichev\",\"Krylatsk\",\"Ksniatin\",\"Kulatsk\",\"Kursk\",\"Kursk\",\"Lebedev\",\"Lida\",\"Logosko\",\"Lomihvost\",\"Loshesk\",\"Loshichi\",\"Lubech\",\"Lubno\",\"Lubutsk\",\"Lutsk\",\"Luchin\",\"Luki\",\"Lukoml\",\"Luzha\",\"Lvov\",\"Mtsensk\",\"Mdin\",\"Medniki\",\"Melecha\",\"Merech\",\"Meretsk\",\"Mescherskoe\",\"Meshkovsk\",\"Metlitsk\",\"Mezetsk\",\"Mglin\",\"Mihailov\",\"Mikitin\",\"Mikulino\",\"Miloslavichi\",\"Mogilev\",\"Mologa\",\"Moreva\",\"Mosalsk\",\"Moschiny\",\"Mozyr\",\"Mstislav\",\"Mstislavets\",\"Muravin\",\"Nemech\",\"Nemiza\",\"Nerinsk\",\"Nichan\",\"Novgorod\",\"Novogorodok\",\"Obolichi\",\"Obolensk\",\"Obolensk\",\"Oleshsk\",\"Olgov\",\"Omelnik\",\"Opoka\",\"Opoki\",\"Oreshek\",\"Orlets\",\"Osechen\",\"Oster\",\"Ostrog\",\"Ostrov\",\"Perelai\",\"Peremil\",\"Peremyshl\",\"Pererov\",\"Peresechen\",\"Perevitsk\",\"Pereyaslav\",\"Pinsk\",\"Ples\",\"Polotsk\",\"Pronsk\",\"Proposhesk\",\"Punia\",\"Putivl\",\"Rechitsa\",\"Rodno\",\"Rogachev\",\"Romanov\",\"Romny\",\"Roslavl\",\"Rostislavl\",\"Rostovets\",\"Rsha\",\"Ruza\",\"Rybchesk\",\"Rylsk\",\"Rzhavesk\",\"Rzhev\",\"Rzhischev\",\"Sambor\",\"Serensk\",\"Serensk\",\"Serpeysk\",\"Shilov\",\"Shuya\",\"Sinech\",\"Sizhka\",\"Skala\",\"Slovensk\",\"Slutsk\",\"Smedin\",\"Sneporod\",\"Snitin\",\"Snovsk\",\"Sochevo\",\"Sokolec\",\"Starica\",\"Starodub\",\"Stepan\",\"Sterzh\",\"Streshin\",\"Sutesk\",\"Svinetsk\",\"Svisloch\",\"Terebovl\",\"Ternov\",\"Teshilov\",\"Teterin\",\"Tiversk\",\"Torchevsk\",\"Toropets\",\"Torzhok\",\"Tripolye\",\"Trubchevsk\",\"Tur\",\"Turov\",\"Usvyaty\",\"Uteshkov\",\"Vasilkov\",\"Velil\",\"Velye\",\"Venev\",\"Venicha\",\"Verderev\",\"Vereya\",\"Veveresk\",\"Viazma\",\"Vidbesk\",\"Vidychev\",\"Voino\",\"Volodimer\",\"Volok\",\"Volyn\",\"Vorobesk\",\"Voronich\",\"Voronok\",\"Vorotynsk\",\"Vrev\",\"Vruchiy\",\"Vselug\",\"Vyatichsk\",\"Vyatka\",\"Vyshegorod\",\"Vyshgorod\",\"Vysokoe\",\"Yagniatin\",\"Yaropolch\",\"Yasenets\",\"Yuryev\",\"Yuryevets\",\"Zaraysk\",\"Zhitomel\",\"Zholvazh\",\"Zizhech\",\"Zubkov\",\"Zudechev\",\"Zvenigorod\"],\n      [\"Akureyri\",\"Aldra\",\"Alftanes\",\"Andenes\",\"Austbo\",\"Auvog\",\"Bakkafjordur\",\"Ballangen\",\"Bardal\",\"Beisfjord\",\"Bifrost\",\"Bildudalur\",\"Bjerka\",\"Bjerkvik\",\"Bjorkosen\",\"Bliksvaer\",\"Blokken\",\"Blonduos\",\"Bolga\",\"Bolungarvik\",\"Borg\",\"Borgarnes\",\"Bosmoen\",\"Bostad\",\"Bostrand\",\"Botsvika\",\"Brautarholt\",\"Breiddalsvik\",\"Bringsli\",\"Brunahlid\",\"Budardalur\",\"Byggdakjarni\",\"Dalvik\",\"Djupivogur\",\"Donnes\",\"Drageid\",\"Drangsnes\",\"Egilsstadir\",\"Eiteroga\",\"Elvenes\",\"Engavogen\",\"Ertenvog\",\"Eskifjordur\",\"Evenes\",\"Eyrarbakki\",\"Fagernes\",\"Fallmoen\",\"Fellabaer\",\"Fenes\",\"Finnoya\",\"Fjaer\",\"Fjelldal\",\"Flakstad\",\"Flateyri\",\"Flostrand\",\"Fludir\",\"Gardabær\",\"Gardur\",\"Gimstad\",\"Givaer\",\"Gjeroy\",\"Gladstad\",\"Godoya\",\"Godoynes\",\"Granmoen\",\"Gravdal\",\"Grenivik\",\"Grimsey\",\"Grindavik\",\"Grytting\",\"Hafnir\",\"Halsa\",\"Hauganes\",\"Haugland\",\"Hauknes\",\"Hella\",\"Helland\",\"Hellissandur\",\"Hestad\",\"Higrav\",\"Hnifsdalur\",\"Hofn\",\"Hofsos\",\"Holand\",\"Holar\",\"Holen\",\"Holkestad\",\"Holmavik\",\"Hopen\",\"Hovden\",\"Hrafnagil\",\"Hrisey\",\"Husavik\",\"Husvik\",\"Hvammstangi\",\"Hvanneyri\",\"Hveragerdi\",\"Hvolsvollur\",\"Igeroy\",\"Indre\",\"Inndyr\",\"Innhavet\",\"Innes\",\"Isafjordur\",\"Jarklaustur\",\"Jarnsreykir\",\"Junkerdal\",\"Kaldvog\",\"Kanstad\",\"Karlsoy\",\"Kavosen\",\"Keflavik\",\"Kjelde\",\"Kjerstad\",\"Klakk\",\"Kopasker\",\"Kopavogur\",\"Korgen\",\"Kristnes\",\"Krutoga\",\"Krystad\",\"Kvina\",\"Lande\",\"Laugar\",\"Laugaras\",\"Laugarbakki\",\"Laugarvatn\",\"Laupstad\",\"Leines\",\"Leira\",\"Leiren\",\"Leland\",\"Lenvika\",\"Loding\",\"Lodingen\",\"Lonsbakki\",\"Lopsmarka\",\"Lovund\",\"Luroy\",\"Maela\",\"Melahverfi\",\"Meloy\",\"Mevik\",\"Misvaer\",\"Mornes\",\"Mosfellsbær\",\"Moskenes\",\"Myken\",\"Naurstad\",\"Nesberg\",\"Nesjahverfi\",\"Nesset\",\"Nevernes\",\"Obygda\",\"Ofoten\",\"Ogskardet\",\"Okervika\",\"Oknes\",\"Olafsfjordur\",\"Oldervika\",\"Olstad\",\"Onstad\",\"Oppeid\",\"Oresvika\",\"Orsnes\",\"Orsvog\",\"Osmyra\",\"Overdal\",\"Prestoya\",\"Raudalaekur\",\"Raufarhofn\",\"Reipo\",\"Reykholar\",\"Reykholt\",\"Reykjahlid\",\"Rif\",\"Rinoya\",\"Rodoy\",\"Rognan\",\"Rosvika\",\"Rovika\",\"Salhus\",\"Sanden\",\"Sandgerdi\",\"Sandoker\",\"Sandset\",\"Sandvika\",\"Saudarkrokur\",\"Selfoss\",\"Selsoya\",\"Sennesvik\",\"Setso\",\"Siglufjordur\",\"Silvalen\",\"Skagastrond\",\"Skjerstad\",\"Skonland\",\"Skorvogen\",\"Skrova\",\"Sleneset\",\"Snubba\",\"Softing\",\"Solheim\",\"Solheimar\",\"Sorarnoy\",\"Sorfugloy\",\"Sorland\",\"Sormela\",\"Sorvaer\",\"Sovika\",\"Stamsund\",\"Stamsvika\",\"Stave\",\"Stokka\",\"Stokkseyri\",\"Storjord\",\"Storo\",\"Storvika\",\"Strand\",\"Straumen\",\"Strendene\",\"Sudavik\",\"Sudureyri\",\"Sundoya\",\"Sydalen\",\"Thingeyri\",\"Thorlakshofn\",\"Thorshofn\",\"Tjarnabyggd\",\"Tjotta\",\"Tosbotn\",\"Traelnes\",\"Trofors\",\"Trones\",\"Tverro\",\"Ulvsvog\",\"Unnstad\",\"Utskor\",\"Valla\",\"Vandved\",\"Varmahlid\",\"Vassos\",\"Vevelstad\",\"Vidrek\",\"Vik\",\"Vikholmen\",\"Vogar\",\"Vogehamn\",\"Vopnafjordur\"],\n      [\"Abdera\",\"Abila\",\"Abydos\",\"Acanthus\",\"Acharnae\",\"Actium\",\"Adramyttium\",\"Aegae\",\"Aegina\",\"Aegium\",\"Aenus\",\"Agrinion\",\"Aigosthena\",\"Akragas\",\"Akrai\",\"Akrillai\",\"Akroinon\",\"Akrotiri\",\"Alalia\",\"Alexandreia\",\"Alexandretta\",\"Alexandria\",\"Alinda\",\"Amarynthos\",\"Amaseia\",\"Ambracia\",\"Amida\",\"Amisos\",\"Amnisos\",\"Amphicaea\",\"Amphigeneia\",\"Amphipolis\",\"Amphissa\",\"Ankon\",\"Antigona\",\"Antipatrea\",\"Antioch\",\"Antioch\",\"Antiochia\",\"Andros\",\"Apamea\",\"Aphidnae\",\"Apollonia\",\"Argos\",\"Arsuf\",\"Artanes\",\"Artemita\",\"Argyroupoli\",\"Asine\",\"Asklepios\",\"Aspendos\",\"Assus\",\"Astacus\",\"Athenai\",\"Athmonia\",\"Aytos\",\"Ancient\",\"Baris\",\"Bhrytos\",\"Borysthenes\",\"Berge\",\"Boura\",\"Bouthroton\",\"Brauron\",\"Byblos\",\"Byllis\",\"Byzantium\",\"Bythinion\",\"Callipolis\",\"Cebrene\",\"Chalcedon\",\"Calydon\",\"Carystus\",\"Chamaizi\",\"Chalcis\",\"Chersonesos\",\"Chios\",\"Chytri\",\"Clazomenae\",\"Cleonae\",\"Cnidus\",\"Colosse\",\"Corcyra\",\"Croton\",\"Cyme\",\"Cyrene\",\"Cythera\",\"Decelea\",\"Delos\",\"Delphi\",\"Demetrias\",\"Dicaearchia\",\"Dimale\",\"Didyma\",\"Dion\",\"Dioscurias\",\"Dodona\",\"Dorylaion\",\"Dyme\",\"Edessa\",\"Elateia\",\"Eleusis\",\"Eleutherna\",\"Emporion\",\"Ephesus\",\"Ephyra\",\"Epidamnos\",\"Epidauros\",\"Eresos\",\"Eretria\",\"Erythrae\",\"Eubea\",\"Gangra\",\"Gaza\",\"Gela\",\"Golgi\",\"Gonnos\",\"Gorgippia\",\"Gournia\",\"Gortyn\",\"Gythium\",\"Hagios\",\"Hagia\",\"Halicarnassus\",\"Halieis\",\"Helike\",\"Heliopolis\",\"Hellespontos\",\"Helorus\",\"Hemeroskopeion\",\"Heraclea\",\"Hermione\",\"Hermonassa\",\"Hierapetra\",\"Hierapolis\",\"Himera\",\"Histria\",\"Hubla\",\"Hyele\",\"Ialysos\",\"Iasus\",\"Idalium\",\"Imbros\",\"Iolcus\",\"Itanos\",\"Ithaca\",\"Juktas\",\"Kallipolis\",\"Kamares\",\"Kameiros\",\"Kannia\",\"Kamarina\",\"Kasmenai\",\"Katane\",\"Kerkinitida\",\"Kepoi\",\"Kimmerikon\",\"Kios\",\"Klazomenai\",\"Knidos\",\"Knossos\",\"Korinthos\",\"Kos\",\"Kourion\",\"Kume\",\"Kydonia\",\"Kynos\",\"Kyrenia\",\"Lamia\",\"Lampsacus\",\"Laodicea\",\"Lapithos\",\"Larissa\",\"Lato\",\"Laus\",\"Lebena\",\"Lefkada\",\"Lekhaion\",\"Leibethra\",\"Leontinoi\",\"Lepreum\",\"Lessa\",\"Lilaea\",\"Lindus\",\"Lissus\",\"Epizephyrian\",\"Madytos\",\"Magnesia\",\"Mallia\",\"Mantineia\",\"Marathon\",\"Marmara\",\"Maroneia\",\"Masis\",\"Massalia\",\"Megalopolis\",\"Megara\",\"Mesembria\",\"Messene\",\"Metapontum\",\"Methana\",\"Methone\",\"Methumna\",\"Miletos\",\"Misenum\",\"Mochlos\",\"Monastiraki\",\"Morgantina\",\"Mulai\",\"Mukenai\",\"Mylasa\",\"Myndus\",\"Myonia\",\"Myra\",\"Myrmekion\",\"Mutilene\",\"Myos\",\"Nauplios\",\"Naucratis\",\"Naupactus\",\"Naxos\",\"Neapoli\",\"Neapolis\",\"Nemea\",\"Nicaea\",\"Nicopolis\",\"Nirou\",\"Nymphaion\",\"Nysa\",\"Oenoe\",\"Oenus\",\"Odessos\",\"Olbia\",\"Olous\",\"Olympia\",\"Olynthus\",\"Opus\",\"Orchomenus\",\"Oricos\",\"Orestias\",\"Oreus\",\"Oropus\",\"Onchesmos\",\"Pactye\",\"Pagasae\",\"Palaikastro\",\"Pandosia\",\"Panticapaeum\",\"Paphos\",\"Parium\",\"Paros\",\"Parthenope\",\"Patrae\",\"Pavlopetri\",\"Pegai\",\"Pelion\",\"Peiraieús\",\"Pella\",\"Percote\",\"Pergamum\",\"Petsofa\",\"Phaistos\",\"Phaleron\",\"Phanagoria\",\"Pharae\",\"Pharnacia\",\"Pharos\",\"Phaselis\",\"Philippi\",\"Pithekussa\",\"Philippopolis\",\"Platanos\",\"Phlius\",\"Pherae\",\"Phocaea\",\"Pinara\",\"Pisa\",\"Pitane\",\"Pitiunt\",\"Pixous\",\"Plataea\",\"Poseidonia\",\"Potidaea\",\"Priapus\",\"Priene\",\"Prousa\",\"Pseira\",\"Psychro\",\"Pteleum\",\"Pydna\",\"Pylos\",\"Pyrgos\",\"Rhamnus\",\"Rhegion\",\"Rhithymna\",\"Rhodes\",\"Rhypes\",\"Rizinia\",\"Salamis\",\"Same\",\"Samos\",\"Scyllaeum\",\"Selinus\",\"Seleucia\",\"Semasus\",\"Sestos\",\"Scidrus\",\"Sicyon\",\"Side\",\"Sidon\",\"Siteia\",\"Sinope\",\"Siris\",\"Sklavokampos\",\"Smyrna\",\"Soli\",\"Sozopolis\",\"Sparta\",\"Stagirus\",\"Stratos\",\"Stymphalos\",\"Sybaris\",\"Surakousai\",\"Taras\",\"Tanagra\",\"Tanais\",\"Tauromenion\",\"Tegea\",\"Temnos\",\"Tenedos\",\"Tenea\",\"Teos\",\"Thapsos\",\"Thassos\",\"Thebai\",\"Theodosia\",\"Therma\",\"Thespiae\",\"Thronion\",\"Thoricus\",\"Thurii\",\"Thyreum\",\"Thyria\",\"Tiruns\",\"Tithoraea\",\"Tomis\",\"Tragurion\",\"Trapeze\",\"Trapezus\",\"Tripolis\",\"Troizen\",\"Troliton\",\"Troy\",\"Tylissos\",\"Tyras\",\"Tyros\",\"Tyritake\",\"Vasiliki\",\"Vathypetros\",\"Zakynthos\",\"Zakros\",\"Zankle\"],\n      [\"Abila\",\"Adflexum\",\"Adnicrem\",\"Aelia\",\"Aelius\",\"Aeminium\",\"Aequum\",\"Agrippina\",\"Agrippinae\",\"Ala\",\"Albanianis\",\"Ambianum\",\"Andautonia\",\"Apulum\",\"Aquae\",\"Aquaegranni\",\"Aquensis\",\"Aquileia\",\"Aquincum\",\"Arae\",\"Argentoratum\",\"Ariminum\",\"Ascrivium\",\"Atrebatum\",\"Atuatuca\",\"Augusta\",\"Aurelia\",\"Aurelianorum\",\"Batavar\",\"Batavorum\",\"Belum\",\"Biriciana\",\"Blestium\",\"Bonames\",\"Bonna\",\"Bononia\",\"Borbetomagus\",\"Bovium\",\"Bracara\",\"Brigantium\",\"Burgodunum\",\"Caesaraugusta\",\"Caesarea\",\"Caesaromagus\",\"Calleva\",\"Camulodunum\",\"Cannstatt\",\"Cantiacorum\",\"Capitolina\",\"Castellum\",\"Castra\",\"Castrum\",\"Cibalae\",\"Clausentum\",\"Colonia\",\"Concangis\",\"Condate\",\"Confluentes\",\"Conimbriga\",\"Corduba\",\"Coria\",\"Corieltauvorum\",\"Corinium\",\"Coriovallum\",\"Cornoviorum\",\"Danum\",\"Deva\",\"Divodurum\",\"Dobunnorum\",\"Drusi\",\"Dubris\",\"Dumnoniorum\",\"Durnovaria\",\"Durocobrivis\",\"Durocornovium\",\"Duroliponte\",\"Durovernum\",\"Durovigutum\",\"Eboracum\",\"Edetanorum\",\"Emerita\",\"Emona\",\"Euracini\",\"Faventia\",\"Flaviae\",\"Florentia\",\"Forum\",\"Gerulata\",\"Gerunda\",\"Glevensium\",\"Hadriani\",\"Herculanea\",\"Isca\",\"Italica\",\"Iulia\",\"Iuliobrigensium\",\"Iuvavum\",\"Lactodurum\",\"Lagentium\",\"Lauri\",\"Legionis\",\"Lemanis\",\"Lentia\",\"Lepidi\",\"Letocetum\",\"Lindinis\",\"Lindum\",\"Londinium\",\"Lopodunum\",\"Lousonna\",\"Lucus\",\"Lugdunum\",\"Luguvalium\",\"Lutetia\",\"Mancunium\",\"Marsonia\",\"Martius\",\"Massa\",\"Matilo\",\"Mattiacorum\",\"Mediolanum\",\"Mod\",\"Mogontiacum\",\"Moridunum\",\"Mursa\",\"Naissus\",\"Nervia\",\"Nida\",\"Nigrum\",\"Novaesium\",\"Noviomagus\",\"Olicana\",\"Ovilava\",\"Parisiorum\",\"Partiscum\",\"Paterna\",\"Pistoria\",\"Placentia\",\"Pollentia\",\"Pomaria\",\"Pons\",\"Portus\",\"Praetoria\",\"Praetorium\",\"Pullum\",\"Ragusium\",\"Ratae\",\"Raurica\",\"Regina\",\"Regium\",\"Regulbium\",\"Rigomagus\",\"Roma\",\"Romula\",\"Rutupiae\",\"Salassorum\",\"Salernum\",\"Salona\",\"Scalabis\",\"Segovia\",\"Silurum\",\"Sirmium\",\"Siscia\",\"Sorviodurum\",\"Sumelocenna\",\"Tarraco\",\"Taurinorum\",\"Theranda\",\"Traiectum\",\"Treverorum\",\"Tungrorum\",\"Turicum\",\"Ulpia\",\"Valentia\",\"Venetiae\",\"Venta\",\"Verulamium\",\"Vesontio\",\"Vetera\",\"Victoriae\",\"Victrix\",\"Villa\",\"Viminacium\",\"Vindelicorum\",\"Vindobona\",\"Vinovia\",\"Viroconium\"],\n      [\"Aanekoski\",\"Abjapaluoja\",\"Ahlainen\",\"Aholanvaara\",\"Ahtari\",\"Aijala\",\"Aimala\",\"Akaa\",\"Alajarvi\",\"Alatornio\",\"Alavus\",\"Antsla\",\"Aspo\",\"Bennas\",\"Bjorkoby\",\"Elva\",\"Emasalo\",\"Espoo\",\"Esse\",\"Evitskog\",\"Forssa\",\"Haapajarvi\",\"Haapamaki\",\"Haapavesi\",\"Haapsalu\",\"Haavisto\",\"Hameenlinna\",\"Hameenmaki\",\"Hamina\",\"Hanko\",\"Harjavalta\",\"Hattuvaara\",\"Haukipudas\",\"Hautajarvi\",\"Havumaki\",\"Heinola\",\"Hetta\",\"Hinkabole\",\"Hirmula\",\"Hossa\",\"Huittinen\",\"Husula\",\"Hyryla\",\"Hyvinkaa\",\"Iisalmi\",\"Ikaalinen\",\"Ilmola\",\"Imatra\",\"Inari\",\"Iskmo\",\"Itakoski\",\"Jamsa\",\"Jarvenpaa\",\"Jeppo\",\"Jioesuu\",\"Jiogeva\",\"Joensuu\",\"Jokela\",\"Jokikyla\",\"Jokisuu\",\"Jormua\",\"Juankoski\",\"Jungsund\",\"Jyvaskyla\",\"Kaamasmukka\",\"Kaarina\",\"Kajaani\",\"Kalajoki\",\"Kallaste\",\"Kankaanpaa\",\"Kannus\",\"Kardla\",\"Karesuvanto\",\"Karigasniemi\",\"Karkkila\",\"Karkku\",\"Karksinuia\",\"Karpankyla\",\"Kaskinen\",\"Kasnas\",\"Kauhajoki\",\"Kauhava\",\"Kauniainen\",\"Kauvatsa\",\"Kehra\",\"Keila\",\"Kellokoski\",\"Kelottijarvi\",\"Kemi\",\"Kemijarvi\",\"Kerava\",\"Keuruu\",\"Kiikka\",\"Kiipu\",\"Kilinginiomme\",\"Kiljava\",\"Kilpisjarvi\",\"Kitee\",\"Kiuruvesi\",\"Kivesjarvi\",\"Kiviioli\",\"Kivisuo\",\"Klaukkala\",\"Klovskog\",\"Kohtlajarve\",\"Kokemaki\",\"Kokkola\",\"Kolho\",\"Koria\",\"Koskue\",\"Kotka\",\"Kouva\",\"Kouvola\",\"Kristiina\",\"Kaupunki\",\"Kuhmo\",\"Kunda\",\"Kuopio\",\"Kuressaare\",\"Kurikka\",\"Kusans\",\"Kuusamo\",\"Kylmalankyla\",\"Lahti\",\"Laitila\",\"Lankipohja\",\"Lansikyla\",\"Lappeenranta\",\"Lapua\",\"Laurila\",\"Lautiosaari\",\"Lepsama\",\"Liedakkala\",\"Lieksa\",\"Lihula\",\"Littoinen\",\"Lohja\",\"Loimaa\",\"Loksa\",\"Loviisa\",\"Luohuanylipaa\",\"Lusi\",\"Maardu\",\"Maarianhamina\",\"Malmi\",\"Mantta\",\"Masaby\",\"Masala\",\"Matasvaara\",\"Maula\",\"Miiluranta\",\"Mikkeli\",\"Mioisakula\",\"Munapirtti\",\"Mustvee\",\"Muurahainen\",\"Naantali\",\"Nappa\",\"Narpio\",\"Nickby\",\"Niinimaa\",\"Niinisalo\",\"Nikkila\",\"Nilsia\",\"Nivala\",\"Nokia\",\"Nummela\",\"Nuorgam\",\"Nurmes\",\"Nuvvus\",\"Obbnas\",\"Oitti\",\"Ojakkala\",\"Ollola\",\"onningeby\",\"Orimattila\",\"Orivesi\",\"Otanmaki\",\"Otava\",\"Otepaa\",\"Oulainen\",\"Oulu\",\"Outokumpu\",\"Paavola\",\"Paide\",\"Paimio\",\"Pakankyla\",\"Paldiski\",\"Parainen\",\"Parkano\",\"Parkumaki\",\"Parola\",\"Perttula\",\"Pieksamaki\",\"Pietarsaari\",\"Pioltsamaa\",\"Piolva\",\"Pohjavaara\",\"Porhola\",\"Pori\",\"Porrasa\",\"Porvoo\",\"Pudasjarvi\",\"Purmo\",\"Pussi\",\"Pyhajarvi\",\"Raahe\",\"Raasepori\",\"Raisio\",\"Rajamaki\",\"Rakvere\",\"Rapina\",\"Rapla\",\"Rauma\",\"Rautio\",\"Reposaari\",\"Riihimaki\",\"Rovaniemi\",\"Roykka\",\"Ruonala\",\"Ruottala\",\"Rutalahti\",\"Saarijarvi\",\"Salo\",\"Sastamala\",\"Saue\",\"Savonlinna\",\"Seinajoki\",\"Sillamae\",\"Sindi\",\"Siuntio\",\"Somero\",\"Sompujarvi\",\"Suonenjoki\",\"Suurejaani\",\"Syrjantaka\",\"Tampere\",\"Tamsalu\",\"Tapa\",\"Temmes\",\"Tiorva\",\"Tormasenvaara\",\"Tornio\",\"Tottijarvi\",\"Tulppio\",\"Turenki\",\"Turi\",\"Tuukkala\",\"Tuurala\",\"Tuuri\",\"Tuuski\",\"Ulvila\",\"Unari\",\"Upinniemi\",\"Utti\",\"Uusikaarlepyy\",\"Uusikaupunki\",\"Vaaksy\",\"Vaalimaa\",\"Vaarinmaja\",\"Vaasa\",\"Vainikkala\",\"Valga\",\"Valkeakoski\",\"Vantaa\",\"Varkaus\",\"Vehkapera\",\"Vehmasmaki\",\"Vieki\",\"Vierumaki\",\"Viitasaari\",\"Viljandi\",\"Vilppula\",\"Viohma\",\"Vioru\",\"Virrat\",\"Ylike\",\"Ylivieska\",\"Ylojarvi\"],\n      [\"Sabi\",\"Wiryeseong\",\"Hwando\",\"Gungnae\",\"Ungjin\",\"Wanggeomseong\",\"Ganggyeong\",\"Jochiwon\",\"Cheorwon\",\"Beolgyo\",\"Gangjin\",\"Gampo\",\"Yecheon\",\"Geochang\",\"Janghang\",\"Hadong\",\"Goseong\",\"Yeongdong\",\"Yesan\",\"Sintaein\",\"Geumsan\",\"Boseong\",\"Jangheung\",\"Uiseong\",\"Jumunjin\",\"Janghowon\",\"Hongseong\",\"Gimhwa\",\"Gwangcheon\",\"Guryongpo\",\"Jinyeong\",\"Buan\",\"Damyang\",\"Jangseong\",\"Wando\",\"Angang\",\"Okcheon\",\"Jeungpyeong\",\"Waegwan\",\"Cheongdo\",\"Gwangyang\",\"Gochang\",\"Haenam\",\"Yeonggwang\",\"Hanam\",\"Eumseong\",\"Daejeong\",\"Hanrim\",\"Samrye\",\"Yongjin\",\"Hamyang\",\"Buyeo\",\"Changnyeong\",\"Yeongwol\",\"Yeonmu\",\"Gurye\",\"Hwasun\",\"Hampyeong\",\"Namji\",\"Samnangjin\",\"Dogye\",\"Hongcheon\",\"Munsan\",\"Gapyeong\",\"Ganghwa\",\"Geojin\",\"Sangdong\",\"Jeongseon\",\"Sabuk\",\"Seonghwan\",\"Heunghae\",\"Hapdeok\",\"Sapgyo\",\"Taean\",\"Boeun\",\"Geumwang\",\"Jincheon\",\"Bongdong\",\"Doyang\",\"Geoncheon\",\"Pungsan\",\"Punggi\",\"Geumho\",\"Wonju\",\"Gaun\",\"Hayang\",\"Yeoju\",\"Paengseong\",\"Yeoncheon\",\"Yangpyeong\",\"Ganseong\",\"Yanggu\",\"Yangyang\",\"Inje\",\"Galmal\",\"Pyeongchang\",\"Hwacheon\",\"Hoengseong\",\"Seocheon\",\"Cheongyang\",\"Goesan\",\"Danyang\",\"Hamyeol\",\"Muju\",\"Sunchang\",\"Imsil\",\"Jangsu\",\"Jinan\",\"Goheung\",\"Gokseong\",\"Muan\",\"Yeongam\",\"Jindo\",\"Seonsan\",\"Daegaya\",\"Gunwi\",\"Bonghwa\",\"Seongju\",\"Yeongdeok\",\"Yeongyang\",\"Ulleung\",\"Uljin\",\"Cheongsong\",\"wayang\",\"Namhae\",\"Sancheong\",\"Uiryeong\",\"Gaya\",\"Hapcheon\",\"Wabu\",\"Dongsong\",\"Sindong\",\"Wondeok\",\"Maepo\",\"Anmyeon\",\"Okgu\",\"Sariwon\",\"Dolsan\",\"Daedeok\",\"Gwansan\",\"Geumil\",\"Nohwa\",\"Baeksu\",\"Illo\",\"Jido\",\"Oedong\",\"Ocheon\",\"Yeonil\",\"Hamchang\",\"Pyeonghae\",\"Gijang\",\"Jeonggwan\",\"Aewor\",\"Gujwa\",\"Seongsan\",\"Jeongok\",\"Seonggeo\",\"Seungju\",\"Hongnong\",\"Jangan\",\"Jocheon\",\"Gohan\",\"Jinjeop\",\"Bubal\",\"Beobwon\",\"Yeomchi\",\"Hwado\",\"Daesan\",\"Hwawon\",\"Apo\",\"Nampyeong\",\"Munsan\",\"Sinbuk\",\"Munmak\",\"Judeok\",\"Bongyang\",\"Ungcheon\",\"Yugu\",\"Unbong\",\"Mangyeong\",\"Dong\",\"Naeseo\",\"Sanyang\",\"Soheul\",\"Onsan\",\"Eonyang\",\"Nongong\",\"Dasa\",\"Goa\",\"Jillyang\",\"Bongdam\",\"Naesu\",\"Beomseo\",\"Opo\",\"Gongdo\",\"Jingeon\",\"Onam\",\"Baekseok\",\"Jiksan\",\"Mokcheon\",\"Jori\",\"Anjung\",\"Samho\",\"Ujeong\",\"Buksam\",\"Tongjin\",\"Chowol\",\"Gonjiam\",\"Pogok\",\"Seokjeok\",\"Poseung\",\"Ochang\",\"Hyangnam\",\"Baebang\",\"Gochon\",\"Songak\",\"Samhyang\",\"Yangchon\",\"Osong\",\"Aphae\",\"Ganam\",\"Namyang\",\"Chirwon\",\"Andong\",\"Ansan\",\"Anseong\",\"Anyang\",\"Asan\",\"Boryeong\",\"Bucheon\",\"Busan\",\"Changwon\",\"Cheonan\",\"Cheongju\",\"Chuncheon\",\"Chungju\",\"Daegu\",\"Daejeon\",\"Dangjin\",\"Dongducheon\",\"Donghae\",\"Gangneung\",\"Geoje\",\"Gimcheon\",\"Gimhae\",\"Gimje\",\"Gimpo\",\"Gongju\",\"Goyang\",\"Gumi\",\"Gunpo\",\"Gunsan\",\"Guri\",\"Gwacheon\",\"Gwangju\",\"Gwangju\",\"Gwangmyeong\",\"Gyeongju\",\"Gyeongsan\",\"Gyeryong\",\"Hwaseong\",\"Icheon\",\"Iksan\",\"Incheon\",\"Jecheon\",\"Jeongeup\",\"Jeonju\",\"Jeju\",\"Jinju\",\"Naju\",\"Namyangju\",\"Namwon\",\"Nonsan\",\"Miryang\",\"Mokpo\",\"Mungyeong\",\"Osan\",\"Paju\",\"Pocheon\",\"Pohang\",\"Pyeongtaek\",\"Sacheon\",\"Sangju\",\"Samcheok\",\"Sejong\",\"Seogwipo\",\"Seongnam\",\"Seosan\",\"Seoul\",\"Siheung\",\"Sokcho\",\"Suncheon\",\"Suwon\",\"Taebaek\",\"Tongyeong\",\"Uijeongbu\",\"Uiwang\",\"Ulsan\",\"Yangju\",\"Yangsan\",\"Yeongcheon\",\"Yeongju\",\"Yeosu\",\"Yongin\",\"Chungmu\",\"Daecheon\",\"Donggwangyang\",\"Geumseong\",\"Gyeongseong\",\"Iri\",\"Jangseungpo\",\"Jeomchon\",\"Jeongju\",\"Migeum\",\"Onyang\",\"Samcheonpo\",\"Busan\",\"Busan\",\"Cheongju\",\"Chuncheon\",\"Daegu\",\"Daegu\",\"Daejeon\",\"Daejeon\",\"Gunsan\",\"Gwangju\",\"Gwangju\",\"Gyeongseong\",\"Incheon\",\"Incheon\",\"Iri\",\"Jeonju\",\"Jinhae\",\"Jinju\",\"Masan\",\"Masan\",\"Mokpo\",\"Songjeong\",\"Songtan\",\"Ulsan\",\"Yeocheon\",\"Cheongjin\",\"Gaeseong\",\"Haeju\",\"Hamheung\",\"Heungnam\",\"Jinnampo\",\"Najin\",\"Pyeongyang\",\"Seongjin\",\"Sineuiju\",\"Songnim\",\"Wonsan\"],\n      [\"Anding\",\"Anlu\",\"Anqing\",\"Anshun\",\"Baan\",\"Baixing\",\"Banyang\",\"Baoding\",\"Baoqing\",\"Binzhou\",\"Caozhou\",\"Changbai\",\"Changchun\",\"Changde\",\"Changling\",\"Changsha\",\"Changtu\",\"Changzhou\",\"Chaozhou\",\"Cheli\",\"Chengde\",\"Chengdu\",\"Chenzhou\",\"Chizhou\",\"Chongqing\",\"Chuxiong\",\"Chuzhou\",\"Dading\",\"Dali\",\"Daming\",\"Datong\",\"Daxing\",\"Dean\",\"Dengke\",\"Dengzhou\",\"Deqing\",\"Dexing\",\"Dihua\",\"Dingli\",\"Dongan\",\"Dongchang\",\"Dongchuan\",\"Dongping\",\"Duyun\",\"Fengtian\",\"Fengxiang\",\"Fengyang\",\"Fenzhou\",\"Funing\",\"Fuzhou\",\"Ganzhou\",\"Gaoyao\",\"Gaozhou\",\"Gongchang\",\"Guangnan\",\"Guangning\",\"Guangping\",\"Guangxin\",\"Guangzhou\",\"Guide\",\"Guilin\",\"Guiyang\",\"Hailong\",\"Hailun\",\"Hangzhou\",\"Hanyang\",\"Hanzhong\",\"Heihe\",\"Hejian\",\"Henan\",\"Hengzhou\",\"Hezhong\",\"Huaian\",\"Huaide\",\"Huaiqing\",\"Huanglong\",\"Huangzhou\",\"Huining\",\"Huizhou\",\"Hulan\",\"Huzhou\",\"Jiading\",\"Jian\",\"Jianchang\",\"Jiande\",\"Jiangning\",\"Jiankang\",\"Jianning\",\"Jiaxing\",\"Jiayang\",\"Jilin\",\"Jinan\",\"Jingjiang\",\"Jingzhao\",\"Jingzhou\",\"Jinhua\",\"Jinzhou\",\"Jiujiang\",\"Kaifeng\",\"Kaihua\",\"Kangding\",\"Kuizhou\",\"Laizhou\",\"Lanzhou\",\"Leizhou\",\"Liangzhou\",\"Lianzhou\",\"Liaoyang\",\"Lijiang\",\"Linan\",\"Linhuang\",\"Linjiang\",\"Lintao\",\"Liping\",\"Liuzhou\",\"Longan\",\"Longjiang\",\"Longqing\",\"Longxing\",\"Luan\",\"Lubin\",\"Lubin\",\"Luzhou\",\"Mishan\",\"Nanan\",\"Nanchang\",\"Nandian\",\"Nankang\",\"Nanning\",\"Nanyang\",\"Nenjiang\",\"Ningan\",\"Ningbo\",\"Ningguo\",\"Ninguo\",\"Ningwu\",\"Ningxia\",\"Ningyuan\",\"Pingjiang\",\"Pingle\",\"Pingliang\",\"Pingyang\",\"Puer\",\"Puzhou\",\"Qianzhou\",\"Qingyang\",\"Qingyuan\",\"Qingzhou\",\"Qiongzhou\",\"Qujing\",\"Quzhou\",\"Raozhou\",\"Rende\",\"Ruian\",\"Ruizhou\",\"Runing\",\"Shafeng\",\"Shajing\",\"Shaoqing\",\"Shaowu\",\"Shaoxing\",\"Shaozhou\",\"Shinan\",\"Shiqian\",\"Shouchun\",\"Shuangcheng\",\"Shulei\",\"Shunde\",\"Shunqing\",\"Shuntian\",\"Shuoping\",\"Sicheng\",\"Sien\",\"Sinan\",\"Sizhou\",\"Songjiang\",\"Suiding\",\"Suihua\",\"Suining\",\"Suzhou\",\"Taian\",\"Taibei\",\"Tainan\",\"Taiping\",\"Taiwan\",\"Taiyuan\",\"Taizhou\",\"Taonan\",\"Tengchong\",\"Tieli\",\"Tingzhou\",\"Tongchuan\",\"Tongqing\",\"Tongren\",\"Tongzhou\",\"Weihui\",\"Wensu\",\"Wenzhou\",\"Wuchang\",\"Wuding\",\"Wuzhou\",\"Xian\",\"Xianchun\",\"Xianping\",\"Xijin\",\"Xiliang\",\"Xincheng\",\"Xingan\",\"Xingde\",\"Xinghua\",\"Xingjing\",\"Xingqing\",\"Xingyi\",\"Xingyuan\",\"Xingzhong\",\"Xining\",\"Xinmen\",\"Xiping\",\"Xuanhua\",\"Xunzhou\",\"Xuzhou\",\"Yanan\",\"Yangzhou\",\"Yanji\",\"Yanping\",\"Yanqi\",\"Yanzhou\",\"Yazhou\",\"Yichang\",\"Yidu\",\"Yilan\",\"Yili\",\"Yingchang\",\"Yingde\",\"Yingtian\",\"Yingzhou\",\"Yizhou\",\"Yongchang\",\"Yongping\",\"Yongshun\",\"Yongzhou\",\"Yuanzhou\",\"Yuezhou\",\"Yulin\",\"Yunnan\",\"Yunyang\",\"Zezhou\",\"Zhangde\",\"Zhangzhou\",\"Zhaoqing\",\"Zhaotong\",\"Zhenan\",\"Zhending\",\"Zhengding\",\"Zhenhai\",\"Zhenjiang\",\"Zhenxi\",\"Zhenyun\",\"Zhongshan\",\"Zunyi\"],\n      [\"Nanporo\",\"Naie\",\"Kamisunagawa\",\"Yuni\",\"Naganuma\",\"Kuriyama\",\"Tsukigata\",\"Urausu\",\"Shintotsukawa\",\"Moseushi\",\"Chippubetsu\",\"Uryu\",\"Hokuryu\",\"Numata\",\"Tobetsu\",\"Suttsu\",\"Kuromatsunai\",\"Rankoshi\",\"Niseko\",\"Kimobetsu\",\"Kyogoku\",\"Kutchan\",\"Kyowa\",\"Iwanai\",\"Shakotan\",\"Furubira\",\"Niki\",\"Yoichi\",\"Toyoura\",\"Toyako\",\"Sobetsu\",\"Shiraoi\",\"Atsuma\",\"Abira\",\"Mukawa\",\"Hidaka\",\"Biratori\",\"Niikappu\",\"Urakawa\",\"Samani\",\"Erimo\",\"Shinhidaka\",\"Matsumae\",\"Fukushima\",\"Shiriuchi\",\"Kikonai\",\"Nanae\",\"Shikabe\",\"Mori\",\"Yakumo\",\"Oshamambe\",\"Esashi\",\"Kaminokuni\",\"Assabu\",\"Otobe\",\"Okushiri\",\"Imakane\",\"Setana\",\"Takasu\",\"Higashikagura\",\"Toma\",\"Pippu\",\"Aibetsu\",\"Kamikawa\",\"Higashikawa\",\"Biei\",\"Kamifurano\",\"Nakafurano\",\"Minamifurano\",\"Horokanai\",\"Wassamu\",\"Kenbuchi\",\"Shimokawa\",\"Bifuka\",\"Nakagawa\",\"Mashike\",\"Obira\",\"Tomamae\",\"Haboro\",\"Enbetsu\",\"Teshio\",\"Hamatonbetsu\",\"Nakatonbetsu\",\"Esashi\",\"Toyotomi\",\"Horonobe\",\"Rebun\",\"Rishiri\",\"Rishirifuji\",\"Bihoro\",\"Tsubetsu\",\"Ozora\",\"Shari\",\"Kiyosato\",\"Koshimizu\",\"Kunneppu\",\"Oketo\",\"Saroma\",\"Engaru\",\"Yubetsu\",\"Takinoue\",\"Okoppe\",\"Omu\",\"Otofuke\",\"Shihoro\",\"Kamishihoro\",\"Shikaoi\",\"Shintoku\",\"Shimizu\",\"Memuro\",\"Taiki\",\"Hiroo\",\"Makubetsu\",\"Ikeda\",\"Toyokoro\",\"Honbetsu\",\"Ashoro\",\"Rikubetsu\",\"Urahoro\",\"Kushiro\",\"Akkeshi\",\"Hamanaka\",\"Shibecha\",\"Teshikaga\",\"Shiranuka\",\"Betsukai\",\"Nakashibetsu\",\"Shibetsu\",\"Rausu\",\"Hiranai\",\"Imabetsu\",\"Sotogahama\",\"Ajigasawa\",\"Fukaura\",\"Fujisaki\",\"Owani\",\"Itayanagi\",\"Tsuruta\",\"Nakadomari\",\"Noheji\",\"Shichinohe\",\"Rokunohe\",\"Yokohama\",\"Tohoku\",\"Oirase\",\"Oma\",\"Sannohe\",\"Gonohe\",\"Takko\",\"Nanbu\",\"Hashikami\",\"Shizukuishi\",\"Kuzumaki\",\"Iwate\",\"Shiwa\",\"Yahaba\",\"Nishiwaga\",\"Kanegasaki\",\"Hiraizumi\",\"Sumita\",\"Otsuchi\",\"Yamada\",\"Iwaizumi\",\"Karumai\",\"Hirono\",\"Ichinohe\",\"Zao\",\"Shichikashuku\",\"Ogawara\",\"Murata\",\"Shibata\",\"Kawasaki\",\"Marumori\",\"Watari\",\"Yamamoto\",\"Matsushima\",\"Shichigahama\",\"Rifu\",\"Taiwa\",\"Osato\",\"Shikama\",\"Kami\",\"Wakuya\",\"Misato\",\"Onagawa\",\"Minamisanriku\",\"Kosaka\",\"Fujisato\",\"Mitane\",\"Happo\",\"Gojome\",\"Hachirogata\",\"Ikawa\",\"Misato\",\"Ugo\",\"Yamanobe\",\"Nakayama\",\"Kahoku\",\"Nishikawa\",\"Asahi\",\"Oe\",\"Oishida\",\"Kaneyama\",\"Mogami\",\"Funagata\",\"Mamurogawa\",\"Takahata\",\"Kawanishi\",\"Oguni\",\"Shirataka\",\"Iide\",\"Mikawa\",\"Shonai\",\"Yuza\",\"Koori\",\"Kunimi\",\"Kawamata\",\"Kagamiishi\",\"Shimogo\",\"Tadami\",\"Minamiaizu\",\"Nishiaizu\",\"Bandai\",\"Inawashiro\",\"Aizubange\",\"Yanaizu\",\"Mishima\",\"Kaneyama\",\"Aizumisato\",\"Yabuki\",\"Tanagura\",\"Yamatsuri\",\"Hanawa\",\"Ishikawa\",\"Asakawa\",\"Furudono\",\"Miharu\",\"Ono\",\"Hirono\",\"Naraha\",\"Tomioka\",\"Okuma\",\"Futaba\",\"Namie\",\"Shinchi\",\"Ibaraki\",\"Oarai\",\"Shirosato\",\"Daigo\",\"Ami\",\"Kawachi\",\"Yachiyo\",\"Goka\",\"Sakai\",\"Tone\",\"Kaminokawa\",\"Mashiko\",\"Motegi\",\"Ichikai\",\"Haga\",\"Mibu\",\"Nogi\",\"Shioya\",\"Takanezawa\",\"Nasu\",\"Nakagawa\",\"Yoshioka\",\"Kanna\",\"Shimonita\",\"Kanra\",\"Nakanojo\",\"Naganohara\",\"Kusatsu\",\"Higashiagatsuma\",\"Minakami\",\"Tamamura\",\"Itakura\",\"Meiwa\",\"Chiyoda\",\"Oizumi\",\"Ora\",\"Ina\",\"Miyoshi\",\"Moroyama\",\"Ogose\",\"Namegawa\",\"Ranzan\",\"Ogawa\",\"Kawajima\",\"Yoshimi\",\"Hatoyama\",\"Tokigawa\",\"Yokoze\",\"Minano\",\"Nagatoro\",\"Ogano\",\"Misato\",\"Kamikawa\",\"Kamisato\",\"Yorii\",\"Miyashiro\",\"Sugito\",\"Matsubushi\",\"Shisui\",\"Sakae\",\"Kozaki\",\"Tako\",\"Tonosho\",\"Kujukuri\",\"Shibayama\",\"Yokoshibahikari\",\"Ichinomiya\",\"Mutsuzawa\",\"Shirako\",\"Nagara\",\"Chonan\",\"Otaki\",\"Onjuku\",\"Kyonan\",\"Mizuho\",\"Hinode\",\"Okutama\",\"Oshima\",\"Hachijo\",\"Aikawa\",\"Hayama\",\"Samukawa\",\"Oiso\",\"Ninomiya\",\"Nakai\",\"Oi\",\"Matsuda\",\"Yamakita\",\"Kaisei\",\"Hakone\",\"Manazuru\",\"Yugawara\",\"Seiro\",\"Tagami\",\"Aga\",\"Izumozaki\",\"Yuzawa\",\"Tsunan\",\"Kamiichi\",\"Tateyama\",\"Nyuzen\",\"Asahi\",\"Kawakita\",\"Tsubata\",\"Uchinada\",\"Shika\",\"Hodatsushimizu\",\"Nakanoto\",\"Anamizu\",\"Noto\",\"Eiheiji\",\"Ikeda\",\"Minamiechizen\",\"Echizen\",\"Mihama\",\"Takahama\",\"Oi\",\"Wakasa\",\"Ichikawamisato\",\"Hayakawa\",\"Minobu\",\"Nanbu\",\"Fujikawa\",\"Showa\",\"Nishikatsura\",\"Fujikawaguchiko\",\"Koumi\",\"Sakuho\",\"Karuizawa\",\"Miyota\",\"Tateshina\",\"Nagawa\",\"Shimosuwa\",\"Fujimi\",\"Tatsuno\",\"Minowa\",\"Iijima\",\"Matsukawa\",\"Takamori\",\"Anan\",\"Agematsu\",\"Nagiso\",\"Kiso\",\"Ikeda\",\"Sakaki\",\"Obuse\",\"Yamanouchi\",\"Shinano\",\"Iizuna\",\"Ginan\",\"Kasamatsu\",\"Yoro\",\"Tarui\",\"Sekigahara\",\"Godo\",\"Wanouchi\",\"Anpachi\",\"Ibigawa\",\"Ono\",\"Ikeda\",\"Kitagata\",\"Sakahogi\",\"Tomika\",\"Kawabe\",\"Hichiso\",\"Yaotsu\",\"Shirakawa\",\"Mitake\",\"Higashiizu\",\"Kawazu\",\"Minamiizu\",\"Matsuzaki\",\"Nishiizu\",\"Kannami\",\"Shimizu\",\"Nagaizumi\",\"Oyama\",\"Yoshida\",\"Kawanehon\",\"Mori\",\"Togo\",\"Toyoyama\",\"Oguchi\",\"Fuso\",\"Oharu\",\"Kanie\",\"Agui\",\"Higashiura\",\"Minamichita\",\"Mihama\",\"Taketoyo\",\"Mihama\",\"Kota\",\"Shitara\",\"Toei\",\"Kisosaki\",\"Toin\",\"Komono\",\"Asahi\",\"Kawagoe\",\"Taki\",\"Meiwa\",\"Odai\",\"Tamaki\",\"Watarai\",\"Taiki\",\"Minamiise\",\"Kihoku\",\"Mihama\",\"Kiho\",\"Hino\",\"Ryuo\",\"Aisho\",\"Toyosato\",\"Kora\",\"Taga\",\"Oyamazaki\",\"Kumiyama\",\"Ide\",\"Ujitawara\",\"Kasagi\",\"Wazuka\",\"Seika\",\"Kyotamba\",\"Ine\",\"Yosano\",\"Shimamoto\",\"Toyono\",\"Nose\",\"Tadaoka\",\"Kumatori\",\"Tajiri\",\"Misaki\",\"Taishi\",\"Kanan\",\"Inagawa\",\"Taka\",\"Inami\",\"Harima\",\"Ichikawa\",\"Fukusaki\",\"Kamikawa\",\"Taishi\",\"Kamigori\",\"Sayo\",\"Kami\",\"Shinonsen\",\"Heguri\",\"Sango\",\"Ikaruga\",\"Ando\",\"Kawanishi\",\"Miyake\",\"Tawaramoto\",\"Takatori\",\"Kanmaki\",\"Oji\",\"Koryo\",\"Kawai\",\"Yoshino\",\"Oyodo\",\"Shimoichi\",\"Kushimoto\",\"Kimino\",\"Katsuragi\",\"Kudoyama\",\"Koya\",\"Yuasa\",\"Hirogawa\",\"Aridagawa\",\"Mihama\",\"Hidaka\",\"Yura\",\"Inami\",\"Minabe\",\"Hidakagawa\",\"Shirahama\",\"Kamitonda\",\"Susami\",\"Nachikatsuura\",\"Taiji\",\"Kozagawa\",\"Iwami\",\"Wakasa\",\"Chizu\",\"Yazu\",\"Misasa\",\"Yurihama\",\"Kotoura\",\"Hokuei\",\"Daisen\",\"Nanbu\",\"Hoki\",\"Nichinan\",\"Hino\",\"Kofu\",\"Okuizumo\",\"Iinan\",\"Kawamoto\",\"Misato\",\"Onan\",\"Tsuwano\",\"Yoshika\",\"Ama\",\"Nishinoshima\",\"Okinoshima\",\"Wake\",\"Hayashima\",\"Satosho\",\"Yakage\",\"Kagamino\",\"Shoo\",\"Nagi\",\"Kumenan\",\"Misaki\",\"Kibichuo\",\"Fuchu\",\"Kaita\",\"Kumano\",\"Saka\",\"Kitahiroshima\",\"Akiota\",\"Osakikamijima\",\"Sera\",\"Jinsekikogen\",\"Suooshima\",\"Waki\",\"Kaminoseki\",\"Tabuse\",\"Hirao\",\"Abu\",\"Katsuura\",\"Kamikatsu\",\"Ishii\",\"Kamiyama\",\"Naka\",\"Mugi\",\"Minami\",\"Kaiyo\",\"Matsushige\",\"Kitajima\",\"Aizumi\",\"Itano\",\"Kamiita\",\"Tsurugi\",\"Higashimiyoshi\",\"Tonosho\",\"Shodoshima\",\"Miki\",\"Naoshima\",\"Utazu\",\"Ayagawa\",\"Kotohira\",\"Tadotsu\",\"Manno\",\"Kamijima\",\"Kumakogen\",\"Masaki\",\"Tobe\",\"Uchiko\",\"Ikata\",\"Kihoku\",\"Matsuno\",\"Ainan\",\"Toyo\",\"Nahari\",\"Tano\",\"Yasuda\",\"Motoyama\",\"Otoyo\",\"Tosa\",\"Ino\",\"Niyodogawa\",\"Nakatosa\",\"Sakawa\",\"Ochi\",\"Yusuhara\",\"Tsuno\",\"Shimanto\",\"Otsuki\",\"Kuroshio\",\"Nakagawa\",\"Umi\",\"Sasaguri\",\"Shime\",\"Sue\",\"Shingu\",\"Hisayama\",\"Kasuya\",\"Ashiya\",\"Mizumaki\",\"Okagaki\",\"Onga\",\"Kotake\",\"Kurate\",\"Keisen\",\"Chikuzen\",\"Tachiarai\",\"Oki\",\"Hirokawa\",\"Kawara\",\"Soeda\",\"Itoda\",\"Kawasaki\",\"Oto\",\"Fukuchi\",\"Kanda\",\"Miyako\",\"Yoshitomi\",\"Koge\",\"Chikujo\",\"Yoshinogari\",\"Kiyama\",\"Kamimine\",\"Miyaki\",\"Genkai\",\"Arita\",\"Omachi\",\"Kohoku\",\"Shiroishi\",\"Tara\",\"Nagayo\",\"Togitsu\",\"Higashisonogi\",\"Kawatana\",\"Hasami\",\"Ojika\",\"Saza\",\"Shinkamigoto\",\"Misato\",\"Gyokuto\",\"Nankan\",\"Nagasu\",\"Nagomi\",\"Ozu\",\"Kikuyo\",\"Minamioguni\",\"Oguni\",\"Takamori\",\"Mifune\",\"Kashima\",\"Mashiki\",\"Kosa\",\"Yamato\",\"Hikawa\",\"Ashikita\",\"Tsunagi\",\"Nishiki\",\"Taragi\",\"Yunomae\",\"Asagiri\",\"Reihoku\",\"Hiji\",\"Kusu\",\"Kokonoe\",\"Mimata\",\"Takaharu\",\"Kunitomi\",\"Aya\",\"Takanabe\",\"Shintomi\",\"Kijo\",\"Kawaminami\",\"Tsuno\",\"Kadogawa\",\"Misato\",\"Takachiho\",\"Hinokage\",\"Gokase\",\"Satsuma\",\"Nagashima\",\"Yusui\",\"Osaki\",\"Higashikushira\",\"Kinko\",\"Minamiosumi\",\"Kimotsuki\",\"Nakatane\",\"Minamitane\",\"Yakushima\",\"Setouchi\",\"Tatsugo\",\"Kikai\",\"Tokunoshima\",\"Amagi\",\"Isen\",\"Wadomari\",\"China\",\"Yoron\",\"Motobu\",\"Kin\",\"Kadena\",\"Chatan\",\"Nishihara\",\"Yonabaru\",\"Haebaru\",\"Kumejima\",\"Yaese\",\"Taketomi\",\"Yonaguni\"]\n    ];\n  }\n\n  // randomize options if randomization is allowed in option\n  function randomizeOptions() {\n    const mod = rn((graphWidth + graphHeight) / 1500, 2); // add mod for big screens\n    if (lockRegionsInput.getAttribute(\"data-locked\") == 0) regionsInput.value = regionsOutput.value = rand(7, 17);\n    if (lockManorsInput.getAttribute(\"data-locked\") == 0) {\n      const manors = regionsInput.value * 20 + rand(180 * mod);\n      manorsInput.value = manorsOutput.innerHTML = manors;\n    }\n    if (lockPowerInput.getAttribute(\"data-locked\") == 0) powerInput.value = powerOutput.value = rand(2, 8);\n    if (lockNeutralInput.getAttribute(\"data-locked\") == 0) neutralInput.value = neutralOutput.value = rand(100, 300);\n    if (lockNamesInput.getAttribute(\"data-locked\") == 0) namesInput.value = rand(0, 1);\n    if (lockCulturesInput.getAttribute(\"data-locked\") == 0) culturesInput.value = culturesOutput.value = rand(5, 10);\n    if (lockPrecInput.getAttribute(\"data-locked\") == 0) precInput.value = precOutput.value = rand(3, 12);\n    if (lockSwampinessInput.getAttribute(\"data-locked\") == 0) swampinessInput.value = swampinessOutput.value = rand(100);\n  }\n\n  // Locate points to calculate Voronoi diagram\n  function placePoints() {\n    console.time(\"placePoints\");\n    points = [];\n    points = getJitteredGrid();\n    heights = new Uint8Array(points.length);\n    console.timeEnd(\"placePoints\");\n  }\n\n  // Calculate Voronoi Diagram\n  function calculateVoronoi(points) {\n    console.time(\"calculateVoronoi\");\n    diagram = voronoi(points);\n    // round edges to simplify future calculations\n    diagram.edges.forEach(function(e) {\n      e[0][0] = rn(e[0][0],2);\n      e[0][1] = rn(e[0][1],2);\n      e[1][0] = rn(e[1][0],2);\n      e[1][1] = rn(e[1][1],2);\n    });\n    polygons = diagram.polygons();\n    console.log(\" cells: \" + points.length);\n    console.timeEnd(\"calculateVoronoi\");\n  }\n\n  // Get cell info on mouse move (useful for debugging)\n  function moved() {\n    const point = d3.mouse(this);\n    const i = diagram.find(point[0],point[1]).index;\n\n    // update cellInfo\n    if (i) {\n      const p = cells[i]; // get cell\n      infoX.innerHTML = rn(point[0]);\n      infoY.innerHTML = rn(point[1]);\n      infoCell.innerHTML = i;\n      infoArea.innerHTML = ifDefined(p.area, \"n/a\", 2);\n      if (customization === 1) {infoHeight.innerHTML = getFriendlyHeight(heights[i]);}\n      else {infoHeight.innerHTML = getFriendlyHeight(p.height);}\n      infoFlux.innerHTML = ifDefined(p.flux, \"n/a\", 2);\n      let country = p.region === undefined ? \"n/a\" : p.region === \"neutral\" ? \"neutral\" : states[p.region].name + \" (\" + p.region + \")\";\n      infoCountry.innerHTML = country;\n      let culture = ifDefined(p.culture) !== \"no\" ? cultures[p.culture].name + \" (\" + p.culture + \")\" : \"n/a\";\n      infoCulture.innerHTML = culture;\n      infoPopulation.innerHTML = ifDefined(p.pop, \"n/a\", 2);\n      infoBurg.innerHTML = ifDefined(p.manor) !== \"no\" ? manors[p.manor].name + \" (\" + p.manor + \")\" : \"no\";\n      const feature = features[p.fn];\n      if (feature !== undefined) {\n        const fType = feature.land ? \"Island\" : feature.border ? \"Ocean\" : \"Lake\";\n        infoFeature.innerHTML = fType + \" (\" + p.fn + \")\";\n      } else {\n        infoFeature.innerHTML = \"n/a\";\n      }\n    }\n\n    // update tooltip\n    if (toggleTooltips.checked) {\n      tooltip.innerHTML = tooltip.getAttribute(\"data-main\");\n      const tag = event.target.tagName;\n      const path = event.composedPath();\n      const group = path[path.length - 7].id;\n      const subgroup = path[path.length - 8].id;\n      if (group === \"rivers\") tip(\"Click to open River Editor\");\n      if (group === \"routes\") tip(\"Click to open Route Editor\");\n      if (group === \"terrain\") tip(\"Click to open Relief Icon Editor\");\n      if (group === \"labels\") tip(\"Click to open Label Editor\");\n      if (group === \"icons\") tip(\"Click to open Icon Editor\");\n      if (group === \"markers\") tip(\"Click to open Marker Editor\");\n      if (group === \"ruler\") {\n        if (tag === \"path\" || tag === \"line\") tip(\"Drag to move the measurer\");\n        if (tag === \"text\") tip(\"Click to remove the measurer\");\n        if (tag === \"circle\") tip(\"Drag to adjust the measurer\");\n      }\n      if (subgroup === \"burgIcons\") tip(\"Click to open Burg Editor\");\n      if (subgroup === \"burgLabels\") tip(\"Click to open Burg Editor\");\n\n      // show legend on hover (if any)\n      let id = event.target.id;\n      if (id === \"\") id = event.target.parentNode.id;\n      if (subgroup === \"burgLabels\") id = \"burg\" + event.target.getAttribute(\"data-id\");\n\n      let note = notes.find(note => note.id === id);\n      let legend = document.getElementById(\"legend\");\n      let legendHeader = document.getElementById(\"legendHeader\");\n      let legendBody = document.getElementById(\"legendBody\");\n      if (note !== undefined && note.legend !== \"\") {\n        legend.style.display = \"block\";\n        legendHeader.innerHTML = note.name;\n        legendBody.innerHTML = note.legend;\n      } else {\n        legend.style.display = \"none\";\n        legendHeader.innerHTML = \"\";\n        legendBody.innerHTML = \"\";\n      }\n    }\n\n    // draw line for ranges placing for heightmap Customization\n    if (customization === 1) {\n      const line = debug.selectAll(\".line\");\n      if (debug.selectAll(\".tag\").size() === 1) {\n        const x = +debug.select(\".tag\").attr(\"cx\");\n        const y = +debug.select(\".tag\").attr(\"cy\");\n        if (line.size()) {line.attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", point[0]).attr(\"y2\", point[1]);}\n        else {debug.insert(\"line\", \":first-child\").attr(\"class\", \"line\")\n      .attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", point[0]).attr(\"y2\", point[1]);}\n      } else {\n         line.remove();\n      }\n    }\n\n    // change radius circle for Customization\n    if (customization > 0) {\n      const brush = $(\"#brushesButtons > .pressed\");\n      const brushId = brush.attr(\"id\");\n      if (brushId === \"brushRange\" || brushId === \"brushTrough\") return;\n      if (customization !== 5 && !brush.length && !$(\"div.selected\").length) return;\n      let radius = 0;\n      if (customization === 1) {\n        radius = brushRadius.value;\n        if (brushId === \"brushHill\" || brushId === \"brushPit\") {\n          radius = Math.pow(brushPower.value * 4, .5);\n        }\n      }\n      else if (customization === 2) radius = countriesManuallyBrush.value;\n      else if (customization === 4) radius = culturesManuallyBrush.value;\n      else if (customization === 5) radius = reliefBulkRemoveRadius.value;\n\n      const r = rn(6 / graphSize * radius, 1);\n      let clr = \"#373737\";\n      if (customization === 2) {\n        const state = +$(\"div.selected\").attr(\"id\").slice(5);\n        clr = states[state].color === \"neutral\" ? \"white\" : states[state].color;\n      }\n      if (customization === 4) {\n        const culture = +$(\"div.selected\").attr(\"id\").slice(7);\n        clr = cultures[culture].color;\n      }\n      moveCircle(point[0], point[1], r, clr);\n    }\n  }\n\n  // return value (v) if defined with specified number of decimals (d)\n  // else return \"no\" or attribute (r)\n  function ifDefined(v, r, d) {\n    if (v === null || v === undefined) return r || \"no\";\n    if (d) return v.toFixed(d);\n    return v;\n  }\n\n  // get user-friendly (real-world) height value from map data\n  function getFriendlyHeight(h) {\n    let exponent = +heightExponent.value;\n    let unit = heightUnit.value;\n    let unitRatio = 1; // default calculations are in meters\n    if (unit === \"ft\") unitRatio = 3.28; // if foot\n    if (unit === \"f\") unitRatio = 0.5468; // if fathom\n    let height = -990;\n    if (h >= 20) height = Math.pow(h - 18, exponent);\n    if (h < 20 && h > 0) height = (h - 20) / h * 50;\n    return h + \" (\" + rn(height * unitRatio) + \" \" + unit + \")\";\n  }\n\n  // move brush radius circle\n  function moveCircle(x, y, r, c) {\n    let circle = debug.selectAll(\".circle\");\n    if (!circle.size()) circle = debug.insert(\"circle\", \":first-child\").attr(\"class\", \"circle\");\n    circle.attr(\"cx\", x).attr(\"cy\", y);\n    if (r) circle.attr(\"r\", r);\n    if (c) circle.attr(\"stroke\", c);\n  }\n\n  // Drag actions\n  function dragstarted() {\n    const x0 = d3.event.x, y0 = d3.event.y,\n      c0 = diagram.find(x0, y0).index;\n    let c1 = c0;\n    let x1, y1;\n    const opisometer = $(\"#addOpisometer\").hasClass(\"pressed\");\n    const planimeter = $(\"#addPlanimeter\").hasClass(\"pressed\");\n    const factor = rn(1 / Math.pow(scale, 0.3), 1);\n\n    if (opisometer || planimeter) {\n      $(\"#ruler\").show();\n      const type = opisometer ? \"opisometer\" : \"planimeter\";\n      var rulerNew = ruler.append(\"g\").attr(\"class\", type).call(d3.drag().on(\"start\", elementDrag));\n      var points = [{scX: rn(x0, 2), scY: rn(y0, 2)}];\n      if (opisometer) {\n        var curve = rulerNew.append(\"path\").attr(\"class\", \"opisometer white\").attr(\"stroke-width\", factor);\n        const dash = rn(30 / distanceScale.value, 2);\n        var curveGray = rulerNew.append(\"path\").attr(\"class\", \"opisometer gray\").attr(\"stroke-dasharray\", dash).attr(\"stroke-width\", factor);\n      } else {\n        var curve = rulerNew.append(\"path\").attr(\"class\", \"planimeter\").attr(\"stroke-width\", factor);\n      }\n      var text = rulerNew.append(\"text\").attr(\"dy\", -1).attr(\"font-size\", 10 * factor);\n    }\n\n    d3.event.on(\"drag\", function() {\n      x1 = d3.event.x, y1 = d3.event.y;\n      const c2 = diagram.find(x1, y1).index;\n\n      // Heightmap customization\n      if (customization === 1) {\n        if (c2 === c1 && x1 !== x0 && y1 !== y0) return;\n        c1 = c2;\n        const brush = $(\"#brushesButtons > .pressed\");\n        const id = brush.attr(\"id\");\n        const power = +brushPower.value;\n        if (id === \"brushHill\") {add(c2, \"hill\", power); updateHeightmap();}\n        if (id === \"brushPit\") {addPit(1, power, c2); updateHeightmap();}\n        if (id !== \"brushRange\" || id !== \"brushTrough\") {\n          // move a circle to show approximate change radius\n          moveCircle(x1, y1);\n          updateCellsInRadius(c2, c0);\n        }\n      }\n\n      // Countries / cultures manuall assignment\n      if (customization === 2 || customization === 4) {\n        if ($(\"div.selected\").length === 0) return;\n        if (c2 === c1) return;\n        c1 = c2;\n        let radius = customization === 2 ? +countriesManuallyBrush.value : +culturesManuallyBrush.value;\n        const r = rn(6 / graphSize * radius, 1);\n        moveCircle(x1, y1, r);\n        let selection = defineBrushSelection(c2, radius);\n        if (selection) {\n          if (customization === 2) changeStateForSelection(selection);\n          if (customization === 4) changeCultureForSelection(selection);\n        }\n      }\n\n      if (opisometer || planimeter) {\n        const l = points[points.length - 1];\n        const diff = Math.hypot(l.scX - x1, l.scY - y1);\n        if (diff > 5) {points.push({scX: x1, scY: y1});}\n        if (opisometer) {\n          lineGen.curve(d3.curveBasis);\n          var d = round(lineGen(points));\n          curve.attr(\"d\", d);\n          curveGray.attr(\"d\", d);\n          const dist = rn(curve.node().getTotalLength());\n          const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n          text.attr(\"x\", x1).attr(\"y\", y1 - 10).text(label);\n        } else {\n          lineGen.curve(d3.curveBasisClosed);\n          var d = round(lineGen(points));\n          curve.attr(\"d\", d);\n        }\n      }\n    });\n\n    d3.event.on(\"end\", function() {\n      if (customization === 1) updateHistory();\n      if (opisometer || planimeter) {\n        $(\"#addOpisometer, #addPlanimeter\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n        if (opisometer) {\n          const dist = rn(curve.node().getTotalLength());\n          var c = curve.node().getPointAtLength(dist / 2);\n          const p = curve.node().getPointAtLength((dist / 2) - 1);\n          const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n          const atan = p.x > c.x ? Math.atan2(p.y - c.y, p.x - c.x) : Math.atan2(c.y - p.y, c.x - p.x);\n          const angle = rn(atan * 180 / Math.PI, 3);\n          const tr = \"rotate(\" + angle + \" \" + c.x + \" \" + c.y + \")\";\n          text.attr(\"data-points\", JSON.stringify(points)).attr(\"data-dist\", dist).attr(\"x\", c.x).attr(\"y\", c.y).attr(\"transform\", tr).text(label).on(\"click\", removeParent);\n          rulerNew.append(\"circle\").attr(\"cx\", points[0].scX).attr(\"cy\", points[0].scY).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor)\n            .attr(\"data-edge\", \"start\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n          rulerNew.append(\"circle\").attr(\"cx\", points[points.length - 1].scX).attr(\"cy\", points[points.length - 1].scY).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor)\n            .attr(\"data-edge\", \"end\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n        } else {\n          const vertices = points.map(function (p) {\n            return [p.scX, p.scY]\n          });\n          const area = rn(Math.abs(d3.polygonArea(vertices))); // initial area as positive integer\n          let areaConv = area * Math.pow(distanceScale.value, 2); // convert area to distanceScale\n          areaConv = si(areaConv);\n          if (areaUnit.value === \"square\") {areaConv += \" \" + distanceUnit.value + \"²\"} else {areaConv += \" \" + areaUnit.value;}\n          var c = polylabel([vertices],1.0); // pole of inaccessibility\n          text.attr(\"x\", rn(c[0],2)).attr(\"y\", rn(c[1],2)).attr(\"data-area\", area).text(areaConv).on(\"click\", removeParent);\n        }\n      }\n    });\n  }\n\n  // restore default drag (map panning) and cursor\n  function restoreDefaultEvents() {\n    viewbox.style(\"cursor\", \"default\").on(\".drag\", null).on(\"click\", null);\n  }\n\n  // remove parent element (usually if child is clicked)\n  function removeParent() {\n    $(this.parentNode).remove();\n  }\n\n  // define selection based on radius\n  function defineBrushSelection(center, r) {\n    let radius = r;\n    let selection = [center];\n    if (radius > 1) selection = selection.concat(cells[center].neighbors);\n    selection = $.grep(selection, function(e) {return cells[e].height >= 20;});\n    if (radius === 2) return selection;\n    let frontier = cells[center].neighbors;\n    while (radius > 2) {\n      let cycle = frontier.slice();\n      frontier = [];\n      cycle.map(function(s) {\n        cells[s].neighbors.forEach(function(e) {\n          if (selection.indexOf(e) !== -1) return;\n          // if (cells[e].height < 20) return;\n          selection.push(e);\n          frontier.push(e);\n        });\n      });\n      radius--;\n    }\n    selection = $.grep(selection, function(e) {return cells[e].height >= 20;});\n    return selection;\n  }\n\n  // change region within selection\n  function changeStateForSelection(selection) {\n    if (selection.length === 0) return;\n    const temp = regions.select(\"#temp\");\n    const stateNew = +$(\"div.selected\").attr(\"id\").slice(5);\n    const color = states[stateNew].color === \"neutral\" ? \"white\" : states[stateNew].color;\n    selection.map(function(index) {\n      // keep stateOld and stateNew as integers!\n      const exists = temp.select(\"path[data-cell='\"+index+\"']\");\n      const region = cells[index].region === \"neutral\" ? states.length - 1 : cells[index].region;\n      const stateOld = exists.size() ? +exists.attr(\"data-state\") : region;\n      if (stateNew === stateOld) return;\n      if (states[stateOld].capital === cells[index].manor) return; // not allowed to re-draw calitals\n      // change of append new element\n      if (exists.size()) {\n        exists.attr(\"data-state\", stateNew).attr(\"fill\", color).attr(\"stroke\", color);\n      } else {\n        temp.append(\"path\").attr(\"data-cell\", index).attr(\"data-state\", stateNew)\n          .attr(\"d\", \"M\" + polygons[index].join(\"L\") + \"Z\")\n          .attr(\"fill\", color).attr(\"stroke\", color);\n      }\n    });\n  }\n\n  // change culture within selection\n  function changeCultureForSelection(selection) {\n    if (selection.length === 0) return;\n    const cultureNew = +$(\"div.selected\").attr(\"id\").slice(7);\n    const clr = cultures[cultureNew].color;\n    selection.map(function(index) {\n      const cult = cults.select(\"#cult\"+index);\n      const cultureOld = cult.attr(\"data-culture\") !== null\n        ? +cult.attr(\"data-culture\")\n        : cells[index].culture;\n      if (cultureOld === cultureNew) return;\n      cult.attr(\"data-culture\", cultureNew).attr(\"fill\", clr).attr(\"stroke\", clr);\n    });\n  }\n\n  // update cells in radius if non-feature brush selected\n  function updateCellsInRadius(cell, source) {\n    const power = +brushPower.value;\n    let radius = +brushRadius.value;\n    const brush = $(\"#brushesButtons > .pressed\").attr(\"id\");\n    if ($(\"#brushesButtons > .pressed\").hasClass(\"feature\")) {return;}\n    // define selection besed on radius\n    let selection = [cell];\n    if (radius > 1) selection = selection.concat(cells[cell].neighbors);\n    if (radius > 2) {\n      let frontier = cells[cell].neighbors;\n      while (radius > 2) {\n        let cycle = frontier.slice();\n        frontier = [];\n        cycle.map(function(s) {\n          cells[s].neighbors.forEach(function(e) {\n            if (selection.indexOf(e) !== -1) {return;}\n            selection.push(e);\n            frontier.push(e);\n          });\n        });\n        radius--;\n      }\n    }\n    // change each cell in the selection\n    const sourceHeight = heights[source];\n    selection.map(function(s) {\n      // calculate changes\n      if (brush === \"brushElevate\") {\n        if (heights[s] < 20) {heights[s] = 20;}\n        else {heights[s] += power;}\n        if (heights[s] > 100) heights[s] = 100;\n      }\n      if (brush === \"brushDepress\") {\n        heights[s] -= power;\n       if (heights[s] > 100) heights[s] = 0;\n      }\n      if (brush === \"brushAlign\") {heights[s] = sourceHeight;}\n      if (brush === \"brushSmooth\") {\n        let hs = [heights[s]];\n        cells[s].neighbors.forEach(function(e) {hs.push(heights[e]);});\n        heights[s] = (heights[s] + d3.mean(hs)) / 2;\n      }\n    });\n    updateHeightmapSelection(selection);\n  }\n\n  // Mouseclick events\n  function placeLinearFeature() {\n    const point = d3.mouse(this);\n    const index = getIndex(point);\n    let tag = debug.selectAll(\".tag\");\n    if (!tag.size()) {\n      tag = debug.append(\"circle\").attr(\"data-cell\", index).attr(\"class\", \"tag\")\n        .attr(\"r\", 3).attr(\"cx\", point[0]).attr(\"cy\", point[1]);\n    } else {\n      const from = +tag.attr(\"data-cell\");\n      debug.selectAll(\".tag, .line\").remove();\n      const power = +brushPower.value;\n      const mod = $(\"#brushesButtons > .pressed\").attr(\"id\") === \"brushRange\" ? 1 : -1;\n      const selection = addRange(mod, power, from, index);\n      updateHeightmapSelection(selection);\n    }\n  }\n\n  // turn D3 polygons array into cell array, define neighbors for each cell\n  function detectNeighbors(withGrid) {\n    console.time(\"detectNeighbors\");\n    let gridPath = \"\"; // store grid as huge single path string\n    cells = [];\n    polygons.map(function(i, d) {\n      const neighbors = [];\n      let type; // define cell type\n      if (withGrid) {gridPath += \"M\" + i.join(\"L\") + \"Z\";} // grid path\n      diagram.cells[d].halfedges.forEach(function(e) {\n        const edge = diagram.edges[e];\n        if (edge.left && edge.right) {\n          const ea = edge.left.index === d ? edge.right.index : edge.left.index;\n          neighbors.push(ea);\n        } else {\n          type = \"border\"; // polygon is on border if it has edge without opposite side polygon\n        }\n      });\n      cells.push({index: d, data: i.data, height: 0, type, neighbors});\n    });\n    if (withGrid) {grid.append(\"path\").attr(\"d\", round(gridPath, 1));}\n    console.timeEnd(\"detectNeighbors\");\n  }\n\n  // Generate Heigtmap routine\n  function defineHeightmap() {\n    console.time('defineHeightmap');\n    if (lockTemplateInput.getAttribute(\"data-locked\") == 0) {\n      const rnd = Math.random();\n      if (rnd > 0.95) {templateInput.value = \"Volcano\";}\n      else if (rnd > 0.75) {templateInput.value = \"High Island\";}\n      else if (rnd > 0.55) {templateInput.value = \"Low Island\";}\n      else if (rnd > 0.35) {templateInput.value = \"Continents\";}\n      else if (rnd > 0.15) {templateInput.value = \"Archipelago\";}\n      else if (rnd > 0.10) {templateInput.value = \"Mainland\";}\n      else if (rnd > 0.01) {templateInput.value = \"Peninsulas\";}\n      else {templateInput.value = \"Atoll\";}\n    }\n    const mapTemplate = templateInput.value;\n    if (mapTemplate === \"Volcano\") templateVolcano();\n    if (mapTemplate === \"High Island\") templateHighIsland();\n    if (mapTemplate === \"Low Island\") templateLowIsland();\n    if (mapTemplate === \"Continents\") templateContinents();\n    if (mapTemplate === \"Archipelago\") templateArchipelago();\n    if (mapTemplate === \"Atoll\") templateAtoll();\n    if (mapTemplate === \"Mainland\") templateMainland();\n    if (mapTemplate === \"Peninsulas\") templatePeninsulas();\n    console.log(\" template: \" + mapTemplate);\n    console.timeEnd('defineHeightmap');\n  }\n\n  // Heighmap Template: Volcano\n  function templateVolcano(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(5, 0.35);\n    addRange(3);\n    addRange(-4);\n  }\n\n// Heighmap Template: High Island\n  function templateHighIsland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addRange(6);\n    addHill(12, 0.25);\n    addRange(-3);\n    modifyHeights(\"land\", 0, 0.75);\n    addPit(1);\n    addHill(3, 0.15);\n  }\n\n// Heighmap Template: Low Island\n  function templateLowIsland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    smoothHeights(2);\n    addRange(2);\n    addHill(4, 0.4);\n    addHill(12, 0.2);\n    addRange(-8);\n    modifyHeights(\"land\", 0, 0.35);\n  }\n\n  // Heighmap Template: Continents\n  function templateContinents(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(30, 0.25);\n    const count = Math.ceil(Math.random() * 4 + 4);\n    addStrait(count);\n    addPit(10);\n    addRange(-10);\n    modifyHeights(\"land\", 0, 0.6);\n    smoothHeights(2);\n    addRange(3);\n  }\n\n  // Heighmap Template: Archipelago\n  function templateArchipelago(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(12, 0.15);\n    addRange(8);\n    const count = Math.ceil(Math.random() * 2 + 2);\n    addStrait(count);\n    addRange(-15);\n    addPit(10);\n    modifyHeights(\"land\", -5, 0.7);\n    smoothHeights(3);\n  }\n\n  // Heighmap Template: Atoll\n  function templateAtoll(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(2, 0.35);\n    addRange(2);\n    smoothHeights(1);\n    modifyHeights(\"27-100\", 0, 0.1);\n  }\n\n  // Heighmap Template: Mainland\n  function templateMainland(mod) {\n    addMountain();\n    modifyHeights(\"all\", 10, 1);\n    addHill(30, 0.2);\n    addRange(10);\n    addPit(20);\n    addHill(10, 0.15);\n    addRange(-10);\n    modifyHeights(\"land\", 0, 0.4);\n    addRange(10);\n    smoothHeights(3);\n  }\n\n  // Heighmap Template: Peninsulas\n  function templatePeninsulas(mod) {\n    addMountain();\n    modifyHeights(\"all\", 15, 1);\n    addHill(30, 0);\n    addRange(5);\n    addPit(15);\n    const count = Math.ceil(Math.random() * 5 + 15);\n    addStrait(count);\n  }\n\n  function addMountain() {\n    const x = Math.floor(Math.random() * graphWidth / 3 + graphWidth / 3);\n    const y = Math.floor(Math.random() * graphHeight * 0.2 + graphHeight * 0.4);\n    const cell = diagram.find(x, y).index;\n    const height = Math.random() * 10 + 90; // 90-99\n    add(cell, \"mountain\", height);\n  }\n\n  // place with shift 0-0.5\n  function addHill(count, shift) {\n    for (let c = 0; c < count; c++) {\n      let limit = 0, cell, height;\n      do {\n        height = Math.random() * 40 + 10; // 10-50\n        const x = Math.floor(Math.random() * graphWidth * (1 - shift * 2) + graphWidth * shift);\n        const y = Math.floor(Math.random() * graphHeight * (1 - shift * 2) + graphHeight * shift);\n        cell = diagram.find(x, y).index;\n        limit++;\n      } while (heights[cell] + height > 90 && limit < 100);\n      add(cell, \"hill\", height);\n    }\n  }\n\n  function add(start, type, height) {\n    const session = Math.ceil(Math.random() * 1e5);\n    let radius;\n    let hRadius;\n    let mRadius;\n    switch (+graphSize) {\n      case 1: hRadius = 0.991; mRadius = 0.91; break;\n      case 2: hRadius = 0.9967; mRadius = 0.951; break;\n      case 3: hRadius = 0.999; mRadius = 0.975; break;\n      case 4: hRadius = 0.9994; mRadius = 0.98; break;\n    }\n    radius = type === \"mountain\" ? mRadius : hRadius;\n    const queue = [start];\n    if (type === \"mountain\") heights[start] = height;\n    for (let i=0; i < queue.length && height >= 1; i++) {\n      if (type === \"mountain\") {height = heights[queue[i]] * radius - height / 100;}\n      else {height *= radius;}\n      cells[queue[i]].neighbors.forEach(function(e) {\n        if (cells[e].used === session) return;\n        const mod = Math.random() * 0.2 + 0.9; // 0.9-1.1 random factor\n        heights[e] += height * mod;\n        if (heights[e] > 100) heights[e] = 100;\n        cells[e].used = session;\n        queue.push(e);\n      });\n    }\n  }\n\n  function addRange(mod, height, from, to) {\n    const session = Math.ceil(Math.random() * 100000);\n    const count = Math.abs(mod);\n    let range = [];\n    for (let c = 0; c < count; c++) {\n      range = [];\n      let diff = 0, start = from, end = to;\n      if (!start || !end) {\n        do {\n          const xf = Math.floor(Math.random() * (graphWidth * 0.7)) + graphWidth * 0.15;\n          const yf = Math.floor(Math.random() * (graphHeight * 0.6)) + graphHeight * 0.2;\n          start = diagram.find(xf, yf).index;\n          const xt = Math.floor(Math.random() * (graphWidth * 0.7)) + graphWidth * 0.15;\n          const yt = Math.floor(Math.random() * (graphHeight * 0.6)) + graphHeight * 0.2;\n          end = diagram.find(xt, yt).index;\n          diff = Math.hypot(xt - xf, yt - yf);\n        } while (diff < 150 / graphSize || diff > 300  / graphSize)\n      }\n      if (start && end) {\n        for (let l = 0; start != end && l < 10000; l++) {\n          let min = 10000;\n          cells[start].neighbors.forEach(function(e) {\n            diff = Math.hypot(cells[end].data[0] - cells[e].data[0],cells[end].data[1] - cells[e].data[1]);\n            if (Math.random() > 0.8) diff = diff / 2;\n            if (diff < min) {min = diff, start = e;}\n          });\n          range.push(start);\n        }\n      }\n      const change = height ? height : Math.random() * 10 + 10;\n      range.map(function(r) {\n        let rnd = Math.random() * 0.4 + 0.8;\n        if (mod > 0) heights[r] += change * rnd;\n        else if (heights[r] >= 10) {heights[r] -= change * rnd;}\n        cells[r].neighbors.forEach(function(e) {\n          if (cells[e].used === session) return;\n          cells[e].used = session;\n          rnd = Math.random() * 0.4 + 0.8;\n          const ch = change / 2 * rnd;\n          if (mod > 0) {heights[e] += ch;} else if (heights[e] >= 10) {heights[e] -= ch;}\n          if (heights[e] > 100) heights[e] = mod > 0 ? 100 : 5;\n        });\n        if (heights[r] > 100) heights[r] = mod > 0 ? 100 : 5;\n      });\n    }\n    return range;\n  }\n\n  function addStrait(width) {\n    const session = Math.ceil(Math.random() * 100000);\n    const top = Math.floor(Math.random() * graphWidth * 0.35 + graphWidth * 0.3);\n    const bottom = Math.floor((graphWidth - top) - (graphWidth * 0.1) + (Math.random() * graphWidth * 0.2));\n    let start = diagram.find(top, graphHeight * 0.1).index;\n    const end = diagram.find(bottom, graphHeight * 0.9).index;\n    let range = [];\n    for (let l = 0; start !== end && l < 1000; l++) {\n      let min = 10000; // dummy value\n      cells[start].neighbors.forEach(function(e) {\n        let diff = Math.hypot(cells[end].data[0] - cells[e].data[0], cells[end].data[1] - cells[e].data[1]);\n        if (Math.random() > 0.8) {diff = diff / 2}\n        if (diff < min) {min = diff; start = e;}\n      });\n      range.push(start);\n    }\n    const query = [];\n    for (; width > 0; width--) {\n      range.map(function(r) {\n        cells[r].neighbors.forEach(function(e) {\n          if (cells[e].used === session) {return;}\n          cells[e].used = session;\n          query.push(e);\n          heights[e] *= 0.23;\n          if (heights[e] > 100 || heights[e] < 5) heights[e] = 5;\n        });\n        range = query.slice();\n      });\n    }\n  }\n\n  function addPit(count, height, cell) {\n    const session = Math.ceil(Math.random() * 1e5);\n    for (let c = 0; c < count; c++) {\n      let change = height ? height + 10 : Math.random() * 10 + 20;\n      let start = cell;\n      if (!start) {\n        const lowlands = $.grep(cells, function(e) {return (heights[e.index] >= 20);});\n        if (!lowlands.length) return;\n        const rnd = Math.floor(Math.random() * lowlands.length);\n        start = lowlands[rnd].index;\n      }\n      let query = [start],newQuery= [];\n      // depress pit center\n      heights[start] -= change;\n      if (heights[start] < 5 || heights[start] > 100) heights[start] = 5;\n      cells[start].used = session;\n      for (let i = 1; i < 10000; i++) {\n        const rnd = Math.random() * 0.4 + 0.8;\n        change -= i / 0.6 * rnd;\n        if (change < 1) break;\n        query.map(function(p) {\n          cells[p].neighbors.forEach(function(e) {\n            if (cells[e].used === session) return;\n            cells[e].used = session;\n            if (Math.random() > 0.8) return;\n            newQuery.push(e);\n            heights[e] -= change;\n            if (heights[e] < 5 || heights[e] > 100) heights[e] = 5;\n          });\n        });\n        query = newQuery.slice();\n        newQuery = [];\n      }\n    }\n  }\n\n  // Modify heights adding or multiplying by value\n  function modifyHeights(range, add, mult) {\n    function modify(v) {\n      if (add) v += add;\n      if (mult !== 1) {\n        if (mult === \"^2\") mult = (v - 20) / 100;\n        if (mult === \"^3\") mult = ((v - 20) * (v - 20)) / 100;\n        if (range === \"land\") {v = 20 + (v - 20) * mult;}\n        else {v *=  mult;}\n      }\n      if (v < 0) v = 0;\n      if (v > 100) v = 100;\n      return v;\n    }\n    const limMin = range === \"land\" ? 20 : range === \"all\" ? 0 : +range.split(\"-\")[0];\n    const limMax = range === \"land\" || range === \"all\" ? 100 : +range.split(\"-\")[1];\n\n    for (let i=0; i < heights.length; i++) {\n      if (heights[i] < limMin || heights[i] > limMax) continue;\n      heights[i] = modify(heights[i]);\n    }\n  }\n\n  // Smooth heights using mean of neighbors\n  function smoothHeights(fraction) {\n    const fr = fraction || 2;\n    for (let i=0; i < heights.length; i++) {\n      const nHeights = [heights[i]];\n      cells[i].neighbors.forEach(function(e) {nHeights.push(heights[e]);});\n      heights[i] = (heights[i] * (fr - 1) + d3.mean(nHeights)) / fr;\n    }\n  }\n\n  // Randomize heights a bit\n  function disruptHeights() {\n    for (let i=0; i < heights.length; i++) {\n      if (heights[i] < 18) continue;\n      if (Math.random() < 0.5) continue;\n      heights[i] += 2 - Math.random() * 4;\n    }\n  }\n\n  // Mark features (ocean, lakes, islands)\n  function markFeatures() {\n    console.time(\"markFeatures\");\n    Math.seedrandom(seed); // reset seed to get the same result on heightmap edit\n    for (let i=0, queue=[0]; queue.length > 0; i++) {\n      const cell = cells[queue[0]];\n      cell.fn = i; // feature number\n      const land = heights[queue[0]] >= 20;\n      let border = cell.type === \"border\";\n      if (border && land) cell.ctype = 2;\n\n      while (queue.length) {\n        const q = queue.pop();\n        if (cells[q].type === \"border\") {\n          border = true;\n          if (land) cells[q].ctype = 2;\n        }\n\n        cells[q].neighbors.forEach(function(e) {\n          const eLand = heights[e] >= 20;\n          if (land === eLand && cells[e].fn === undefined) {\n            cells[e].fn = i;\n            queue.push(e);\n          }\n          if (land && !eLand) {\n            cells[q].ctype = 2;\n            cells[e].ctype = -1;\n            cells[q].harbor = cells[q].harbor ? cells[q].harbor + 1 : 1;\n          }\n        });\n      }\n      features.push({i, land, border});\n\n      // find unmarked cell\n      for (let c=0; c < cells.length; c++) {\n        if (cells[c].fn === undefined) {\n          queue[0] = c;\n          break;\n        }\n      }\n    }\n    console.timeEnd(\"markFeatures\");\n  }\n\n  // remove closed lakes near ocean\n  function reduceClosedLakes() {\n    console.time(\"reduceClosedLakes\");\n    const fs = JSON.parse(JSON.stringify(features));\n    let lakesInit = lakesNow = features.reduce(function(s, f) {\n      return !f.land && !f.border ? s + 1 : s;\n    }, 0);\n\n    for (let c=0; c < cells.length && lakesNow > 0; c++) {\n      if (heights[c] < 20) continue; // not land\n      if (cells[c].ctype !== 2) continue; // not near water\n      let ocean = null, lake = null;\n      // find land cells with lake and ocean nearby\n      cells[c].neighbors.forEach(function(n) {\n        if (heights[n] >= 20) return;\n        const fn = cells[n].fn;\n        if (features[fn].border !== false) ocean = fn;\n        if (fs[fn].border === false) lake = fn;\n      });\n      // if found, make it water and turn lake to ocean\n      if (ocean !== null && lake !== null) {\n        //debug.append(\"circle\").attr(\"cx\", cells[c].data[0]).attr(\"cy\", cells[c].data[1]).attr(\"r\", 2).attr(\"fill\", \"red\");\n        lakesNow --;\n        fs[lake].border = ocean;\n        heights[c] = 19;\n        cells[c].fn = ocean;\n        cells[c].ctype = -1;\n        cells[c].neighbors.forEach(function(e) {if (heights[e] >= 20) cells[e].ctype = 2;});\n      }\n    }\n\n    if (lakesInit === lakesNow) return; // nothing was changed\n    for (let i=0; i < cells.length; i++) {\n      if (heights[i] >= 20) continue; // not water\n      const fn = cells[i].fn;\n      if (fs[fn].border !== features[fn].border) {\n        cells[i].fn = fs[fn].border;\n        //debug.append(\"circle\").attr(\"cx\", cells[i].data[0]).attr(\"cy\", cells[i].data[1]).attr(\"r\", 1).attr(\"fill\", \"blue\");\n      }\n    }\n    console.timeEnd(\"reduceClosedLakes\");\n  }\n\n  function drawOcean() {\n    console.time(\"drawOcean\");\n    let limits = [];\n    let odd = 0.8; // initial odd for ocean layer is 80%\n    // Define type of ocean cells based on cell distance form land\n    let frontier = $.grep(cells, function(e) {return e.ctype === -1;});\n    if (Math.random() < odd) {limits.push(-1); odd = 0.2;}\n    for (let c = -2; frontier.length > 0 && c > -10; c--) {\n      if (Math.random() < odd) {limits.unshift(c); odd = 0.2;} else {odd += 0.2;}\n      frontier.map(function(i) {\n        i.neighbors.forEach(function(e) {\n          if (!cells[e].ctype) cells[e].ctype = c;\n        });\n      });\n      frontier = $.grep(cells, function(e) {return e.ctype === c;});\n    }\n    if (outlineLayersInput.value === \"none\") return;\n    if (outlineLayersInput.value !== \"random\") limits = outlineLayersInput.value.split(\",\");\n    // Define area edges\n    const opacity = rn(0.4 / limits.length, 2);\n    for (let l=0; l < limits.length; l++) {\n      const edges = [];\n      const lim = +limits[l];\n      for (let i = 0; i < cells.length; i++) {\n        if (cells[i].ctype < lim || cells[i].ctype === undefined) continue;\n        if (cells[i].ctype > lim && cells[i].type !== \"border\") continue;\n        const cell = diagram.cells[i];\n        cell.halfedges.forEach(function(e) {\n          const edge = diagram.edges[e];\n          const start = edge[0].join(\" \");\n          const end = edge[1].join(\" \");\n          if (edge.left && edge.right) {\n            const ea = edge.left.index === i ? edge.right.index : edge.left.index;\n            if (cells[ea].ctype < lim) edges.push({start, end});\n          } else {\n            edges.push({start, end});\n          }\n        });\n      }\n      lineGen.curve(d3.curveBasis);\n      let relax = 0.8 - l / 10;\n      if (relax < 0.2) relax = 0.2;\n      const line = getContinuousLine(edges, 0, relax);\n      oceanLayers.append(\"path\").attr(\"d\", line).attr(\"fill\", \"#ecf2f9\").style(\"opacity\", opacity);\n    }\n    console.timeEnd(\"drawOcean\");\n  }\n\n  // recalculate Voronoi Graph to pack cells\n  function reGraph() {\n    console.time(\"reGraph\");\n    const tempCells = [], newPoints = []; // to store new data\n    // get average precipitation based on graph size\n    const avPrec = precInput.value / 5000;\n    const smallLakesMax = 500;\n    let smallLakes = 0;\n    const evaporation = 2;\n    cells.map(function(i, d) {\n      let height = i.height || heights[d];\n      if (height > 100) height = 100;\n      const pit = i.pit;\n      const ctype = i.ctype;\n      if (ctype !== -1 && ctype !== -2 && height < 20) return; // exclude all deep ocean points\n      const x = rn(i.data[0],1), y = rn(i.data[1],1);\n      const fn = i.fn;\n      const harbor = i.harbor;\n      let lake = i.lake;\n      // mark potential cells for small lakes to add additional point there\n      if (smallLakes < smallLakesMax && !lake && pit > evaporation && ctype !== 2) {\n        lake = 2;\n        smallLakes++;\n      }\n      const region = i.region; // handle value for edit heightmap mode only\n      const culture = i.culture; // handle value for edit heightmap mode only\n      let copy = $.grep(newPoints, function(e) {return (e[0] == x && e[1] == y);});\n      if (!copy.length) {\n        newPoints.push([x, y]);\n        tempCells.push({index:tempCells.length, data:[x, y],height, pit, ctype, fn, harbor, lake, region, culture});\n      }\n      // add additional points for cells along coast\n      if (ctype === 2 || ctype === -1) {\n        if (i.type === \"border\") return;\n        if (!features[fn].land && !features[fn].border) return;\n        i.neighbors.forEach(function(e) {\n          if (cells[e].ctype === ctype) {\n            let x1 = (x * 2 + cells[e].data[0]) / 3;\n            let y1 = (y * 2 + cells[e].data[1]) / 3;\n            x1 = rn(x1, 1), y1 = rn(y1, 1);\n            copy = $.grep(newPoints, function(e) {return e[0] === x1 && e[1] === y1;});\n            if (copy.length) return;\n            newPoints.push([x1, y1]);\n            tempCells.push({index:tempCells.length, data:[x1, y1],height, pit, ctype, fn, harbor, lake, region, culture});\n          }\n        });\n      }\n      if (lake === 2) { // add potential small lakes\n        polygons[i.index].forEach(function(e) {\n          if (Math.random() > 0.8) return;\n          let rnd = Math.random() * 0.6 + 0.8;\n          const x1 = rn((e[0] * rnd + i.data[0]) / (1 + rnd), 2);\n          rnd = Math.random() * 0.6 + 0.8;\n          const y1 = rn((e[1] * rnd + i.data[1]) / (1 + rnd), 2);\n          copy = $.grep(newPoints, function(c) {return x1 === c[0] && y1 === c[1];});\n          if (copy.length) return;\n          newPoints.push([x1, y1]);\n          tempCells.push({index:tempCells.length, data:[x1, y1],height, pit, ctype, fn, region, culture});\n        });\n      }\n    });\n    console.log( \"small lakes candidates: \" + smallLakes);\n    cells = tempCells; // use tempCells as the only cells array\n    calculateVoronoi(newPoints); // recalculate Voronoi diagram using new points\n    let gridPath = \"\"; // store grid as huge single path string\n    cells.map(function(i, d) {\n      if (i.height >= 20) {\n        // calc cell area\n        i.area = rn(Math.abs(d3.polygonArea(polygons[d])), 2);\n        const prec = rn(avPrec * i.area, 2);\n        i.flux = i.lake ? prec * 10 : prec;\n      }\n      const neighbors = []; // re-detect neighbors\n      diagram.cells[d].halfedges.forEach(function(e) {\n        const edge = diagram.edges[e];\n        if (edge.left === undefined || edge.right === undefined) {\n          if (i.height >= 20) i.ctype = 99; // border cell\n          return;\n        }\n        const ea = edge.left.index === d ? edge.right.index : edge.left.index;\n        neighbors.push(ea);\n        if (d < ea && i.height >= 20 && i.lake !== 1 && cells[ea].height >= 20 && cells[ea].lake !== 1) {\n          gridPath += \"M\" + edge[0][0] + \",\" + edge[0][1] + \"L\" + edge[1][0] + \",\" + edge[1][1];\n        }\n      });\n      i.neighbors = neighbors;\n      if (i.region === undefined) delete i.region;\n      if (i.culture === undefined) delete i.culture;\n    });\n    grid.append(\"path\").attr(\"d\", gridPath);\n    console.timeEnd(\"reGraph\");\n  }\n\n  // redraw all cells for Customization 1 mode\n  function mockHeightmap() {\n    let landCells = 0;\n    $(\"#landmass\").empty();\n    const limit = renderOcean.checked ? 1 : 20;\n    for (let i=0; i < heights.length; i++) {\n      if (heights[i] < limit) continue;\n      if (heights[i] > 100) heights[i] = 100;\n      const clr = color(1 - heights[i] / 100);\n      landmass.append(\"path\").attr(\"id\", \"cell\"+i)\n        .attr(\"d\", \"M\" + polygons[i].join(\"L\") + \"Z\")\n        .attr(\"fill\", clr).attr(\"stroke\", clr);\n    }\n  }\n\n  $(\"#renderOcean\").click(mockHeightmap);\n\n  // draw or update all cells\n  function updateHeightmap() {\n    const limit = renderOcean.checked ? 1 : 20;\n    for (let i=0; i < heights.length; i++) {\n      if (heights[i] > 100) heights[i] = 100;\n      let cell = landmass.select(\"#cell\"+i);\n      const clr = color(1 - heights[i] / 100);\n      if (cell.size()) {\n        if (heights[i] < limit) {cell.remove();}\n        else {cell.attr(\"fill\", clr).attr(\"stroke\", clr);}\n      } else if (heights[i] >= limit) {\n        cell = landmass.append(\"path\").attr(\"id\", \"cell\"+i)\n          .attr(\"d\", \"M\" + polygons[i].join(\"L\") + \"Z\")\n          .attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    }\n  }\n\n  // draw or update cells from the selection\n  function updateHeightmapSelection(selection) {\n    if (selection === undefined) return;\n    const limit = renderOcean.checked ? 1 : 20;\n    selection.map(function(s) {\n      if (heights[s] > 100) heights[s] = 100;\n      let cell = landmass.select(\"#cell\"+s);\n      const clr = color(1 - heights[s] / 100);\n      if (cell.size()) {\n        if (heights[s] < limit) {cell.remove();}\n        else {cell.attr(\"fill\", clr).attr(\"stroke\", clr);}\n      } else if (heights[s] >= limit) {\n        cell = landmass.append(\"path\").attr(\"id\", \"cell\"+s)\n          .attr(\"d\", \"M\" + polygons[s].join(\"L\") + \"Z\")\n          .attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    });\n  }\n\n  function updateHistory() {\n    let landCells = 0; // count number of land cells\n    if (renderOcean.checked) {\n      landCells = heights.reduce(function(s, v) {if (v >= 20) {return s + 1;} else {return s;}}, 0);\n    } else {\n      landCells = landmass.selectAll(\"*\").size();\n    }\n    history = history.slice(0, historyStage);\n    history[historyStage] = heights.slice();\n    historyStage++;\n    undo.disabled = templateUndo.disabled = historyStage <= 1;\n    redo.disabled = templateRedo.disabled = true;\n    const landMean = Math.trunc(d3.mean(heights));\n    const landRatio = rn(landCells / heights.length * 100);\n    landmassCounter.innerHTML = landCells;\n    landmassRatio.innerHTML = landRatio;\n    landmassAverage.innerHTML = landMean;\n    // if perspective view dialog is opened, update it\n    if ($(\"#perspectivePanel\").is(\":visible\")) drawPerspective();\n  }\n\n  // restoreHistory\n  function restoreHistory(step) {\n    historyStage = step;\n    redo.disabled = templateRedo.disabled = historyStage >= history.length;\n    undo.disabled = templateUndo.disabled = historyStage <= 1;\n    if (history[historyStage - 1] === undefined) return;\n    heights = history[historyStage - 1].slice();\n    updateHeightmap();\n  }\n\n  // restart history from 1st step\n  function restartHistory() {\n    history = [];\n    historyStage = 0;\n    redo.disabled = templateRedo.disabled = true;\n    undo.disabled = templateUndo.disabled = true;\n    updateHistory();\n  }\n\n  // Detect and draw the coasline\n  function drawCoastline() {\n    console.time('drawCoastline');\n    Math.seedrandom(seed); // reset seed to get the same result on heightmap edit\n    const shape = defs.append(\"mask\").attr(\"id\", \"shape\").attr(\"fill\", \"black\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", \"100%\").attr(\"height\", \"100%\");\n    $(\"#landmass\").empty();\n    let minX = graphWidth, maxX = 0; // extreme points\n    let minXedge, maxXedge; // extreme edges\n    const oceanEdges = [],lakeEdges = [];\n    for (let i=0; i < land.length; i++) {\n      const id = land[i].index, cell = diagram.cells[id];\n      const f = land[i].fn;\n      land[i].height = Math.trunc(land[i].height);\n      if (!oceanEdges[f]) {oceanEdges[f] = []; lakeEdges[f] = [];}\n      cell.halfedges.forEach(function(e) {\n  \t\t\tconst edge = diagram.edges[e];\n  \t\t\tconst start = edge[0].join(\" \");\n  \t\t\tconst end = edge[1].join(\" \");\n  \t\t\tif (edge.left && edge.right) {\n  \t\t\t\tconst ea = edge.left.index === id ? edge.right.index : edge.left.index;\n          cells[ea].height = Math.trunc(cells[ea].height);\n  \t\t\t\tif (cells[ea].height < 20) {\n            cells[ea].ctype = -1;\n            if (land[i].ctype !== 1) {\n              land[i].ctype = 1; // mark coastal land cells\n            \t// move cell point closer to coast\n            \tconst x = (land[i].data[0] + cells[ea].data[0]) / 2;\n            \tconst y = (land[i].data[1] + cells[ea].data[1]) / 2;\n            \tland[i].haven = ea; // harbor haven (oposite water cell)\n            \tland[i].coastX = rn(x + (land[i].data[0] - x) * 0.1, 1);\n              land[i].coastY = rn(y + (land[i].data[1] - y) * 0.1, 1);\n            \tland[i].data[0] = rn(x + (land[i].data[0] - x) * 0.5, 1);\n            \tland[i].data[1] = rn(y + (land[i].data[1] - y) * 0.5, 1);\n            }\n  \t\t\t\t\tif (features[cells[ea].fn].border) {\n  \t\t\t\t\t\toceanEdges[f].push({start, end});\n  \t\t\t\t\t\t// island extreme points\n  \t\t\t\t\t\tif (edge[0][0] < minX) {minX = edge[0][0]; minXedge = edge[0]}\n  \t\t\t\t\t\tif (edge[1][0] < minX) {minX = edge[1][0]; minXedge = edge[1]}\n  \t\t\t\t\t\tif (edge[0][0] > maxX) {maxX = edge[0][0]; maxXedge = edge[0]}\n  \t\t\t\t\t\tif (edge[1][0] > maxX) {maxX = edge[1][0]; maxXedge = edge[1]}\n  \t\t\t\t\t} else {\n              const l = cells[ea].fn;\n              if (!lakeEdges[f][l]) lakeEdges[f][l] = [];\n  \t\t\t\t\t\tlakeEdges[f][l].push({start, end});\n  \t\t\t\t\t}\n  \t\t\t\t}\n  \t\t\t} else {\n  \t\t\t\toceanEdges[f].push({start, end});\n  \t\t\t}\n  \t\t});\n    }\n\n    for (let f = 0; f < features.length; f++) {\n    \tif (!oceanEdges[f]) continue;\n      if (!oceanEdges[f].length && lakeEdges[f].length) {\n        const m = lakeEdges[f].indexOf(d3.max(lakeEdges[f]));\n        oceanEdges[f] = lakeEdges[f][m];\n        lakeEdges[f][m] = [];\n      }\n      lineGen.curve(d3.curveCatmullRomClosed.alpha(0.1));\n    \tconst oceanCoastline = getContinuousLine(oceanEdges[f],3, 0);\n      if (oceanCoastline) {\n        shape.append(\"path\").attr(\"d\", oceanCoastline).attr(\"fill\", \"white\"); // draw the mask\n        coastline.append(\"path\").attr(\"d\", oceanCoastline); // draw the coastline\n      }\n      lineGen.curve(d3.curveBasisClosed);\n      lakeEdges[f].forEach(function(l) {\n        const lakeCoastline = getContinuousLine(l, 3, 0);\n        if (lakeCoastline) {\n          shape.append(\"path\").attr(\"d\", lakeCoastline).attr(\"fill\", \"black\"); // draw the mask\n        \tlakes.append(\"path\").attr(\"d\", lakeCoastline); // draw the lakes\n        }\n      });\n    }\n    landmass.append(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight); // draw the landmass\n    drawDefaultRuler(minXedge, maxXedge);\n    console.timeEnd('drawCoastline');\n  }\n\n  // draw default scale bar\n  function drawScaleBar() {\n    if ($(\"#scaleBar\").hasClass(\"hidden\")) return; // no need to re-draw hidden element\n    svg.select(\"#scaleBar\").remove(); // fully redraw every time\n    // get size\n    const size = +barSize.value;\n    const dScale = distanceScale.value;\n    const unit = distanceUnit.value;\n    const scaleBar = svg.append(\"g\").attr(\"id\", \"scaleBar\")\n      .on(\"click\", editScale)\n      .on(\"mousemove\", function () {\n        tip(\"Click to open Scale Editor, drag to move\");\n      })\n      .call(d3.drag().on(\"start\", elementDrag));\n    const init = 100; // actual length in pixels if scale, dScale and size = 1;\n    let val = init * size * dScale / scale; // bar length in distance unit\n    if (val > 900) {val = rn(val, -3);} // round to 1000\n    else if (val > 90) {val = rn(val, -2);} // round to 100\n    else if (val > 9) {val = rn(val, -1);} // round to 10\n    else {val = rn(val)} // round to 1\n    const l = val * scale / dScale; // actual length in pixels on this scale\n    const x = 0, y = 0; // initial position\n    scaleBar.append(\"line\").attr(\"x1\", x+0.5).attr(\"y1\", y).attr(\"x2\", x+l+size-0.5).attr(\"y2\", y).attr(\"stroke-width\", size).attr(\"stroke\", \"white\");\n    scaleBar.append(\"line\").attr(\"x1\", x).attr(\"y1\", y + size).attr(\"x2\", x+l+size).attr(\"y2\", y + size).attr(\"stroke-width\", size).attr(\"stroke\", \"#3d3d3d\");\n    const dash = size + \" \" + rn(l / 5 - size, 2);\n    scaleBar.append(\"line\").attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", x+l+size).attr(\"y2\", y)\n      .attr(\"stroke-width\", rn(size * 3, 2)).attr(\"stroke-dasharray\", dash).attr(\"stroke\", \"#3d3d3d\");\n    // big scale\n    for (let b = 0; b < 6; b++) {\n      const value = rn(b * l / 5, 2);\n      const label = rn(value * dScale / scale);\n      if (b === 5) {\n        scaleBar.append(\"text\").attr(\"x\", x + value).attr(\"y\", y - 2 * size).attr(\"font-size\", rn(5 * size, 1)).text(label + \" \" + unit);\n      } else {\n        scaleBar.append(\"text\").attr(\"x\", x + value).attr(\"y\", y - 2 * size).attr(\"font-size\", rn(5 * size, 1)).text(label);\n      }\n    }\n    if (barLabel.value !== \"\") {\n      scaleBar.append(\"text\").attr(\"x\", x + (l+1) / 2).attr(\"y\", y + 2 * size)\n        .attr(\"dominant-baseline\", \"text-before-edge\")\n        .attr(\"font-size\", rn(5 * size, 1)).text(barLabel.value);\n    }\n    const bbox = scaleBar.node().getBBox();\n    // append backbround rectangle\n    scaleBar.insert(\"rect\", \":first-child\").attr(\"x\", -10).attr(\"y\", -20).attr(\"width\", bbox.width + 10).attr(\"height\", bbox.height + 15)\n      .attr(\"stroke-width\", size).attr(\"stroke\", \"none\").attr(\"filter\", \"url(#blur5)\")\n      .attr(\"fill\", barBackColor.value).attr(\"opacity\", +barBackOpacity.value);\n    fitScaleBar();\n  }\n\n  // draw default ruler measiring land x-axis edges\n  function drawDefaultRuler(minXedge, maxXedge) {\n    const rulerNew = ruler.append(\"g\").attr(\"class\", \"linear\").call(d3.drag().on(\"start\", elementDrag));\n    if (!minXedge) minXedge = [0, 0];\n    if (!maxXedge) maxXedge = [svgWidth, svgHeight];\n    const x1 = rn(minXedge[0],2), y1 = rn(minXedge[1],2), x2 = rn(maxXedge[0],2), y2 = rn(maxXedge[1],2);\n    rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x2).attr(\"y2\", y2).attr(\"class\", \"white\");\n    rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x2).attr(\"y2\", y2).attr(\"class\", \"gray\").attr(\"stroke-dasharray\", 10);\n    rulerNew.append(\"circle\").attr(\"r\", 2).attr(\"cx\", x1).attr(\"cy\", y1).attr(\"stroke-width\", 0.5).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    rulerNew.append(\"circle\").attr(\"r\", 2).attr(\"cx\", x2).attr(\"cy\", y2).attr(\"stroke-width\", 0.5).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    const x0 = rn((x1 + x2) / 2, 2), y0 = rn((y1 + y2) / 2, 2);\n    rulerNew.append(\"circle\").attr(\"r\", 1.2).attr(\"cx\", x0).attr(\"cy\", y0).attr(\"stroke-width\", 0.3).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n    const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n    const tr = \"rotate(\" + angle + \" \" + x0 + \" \" + y0 +\")\";\n    const dist = rn(Math.hypot(x1 - x2, y1 - y2));\n    const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n    rulerNew.append(\"text\").attr(\"x\", x0).attr(\"y\", y0).attr(\"dy\", -1).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label).on(\"click\", removeParent).attr(\"font-size\", 10);\n  }\n\n  // drag any element changing transform\n  function elementDrag() {\n    const el = d3.select(this);\n    const tr = parseTransform(el.attr(\"transform\"));\n    const dx = +tr[0] - d3.event.x, dy = +tr[1] - d3.event.y;\n\n    d3.event.on(\"drag\", function() {\n      const x = d3.event.x, y = d3.event.y;\n      const transform = `translate(${(dx+x)},${(dy+y)}) rotate(${tr[2]} ${tr[3]} ${tr[4]})`;\n      el.attr(\"transform\", transform);\n      const pp = this.parentNode.parentNode.id;\n      if (pp === \"burgIcons\" || pp === \"burgLabels\") {\n        tip('Use dragging for fine-tuning only, to move burg to a different cell use \"Relocate\" button');\n      }\n      if (pp === \"labels\") {\n        // also transform curve control circle\n        debug.select(\"circle\").attr(\"transform\", transform);\n      }\n    });\n\n    d3.event.on(\"end\", function() {\n      // remember scaleBar bottom-right position\n      if (el.attr(\"id\") === \"scaleBar\") {\n        const xEnd = d3.event.x, yEnd = d3.event.y;\n        const diff = Math.abs(dx - xEnd) + Math.abs(dy - yEnd);\n        if (diff > 5) {\n          const bbox = el.node().getBoundingClientRect();\n          sessionStorage.setItem(\"scaleBar\", [bbox.right, bbox.bottom]);\n        }\n      }\n    });\n  }\n\n  // draw ruler circles and update label\n  function rulerEdgeDrag() {\n    const group = d3.select(this.parentNode);\n    const edge = d3.select(this).attr(\"data-edge\");\n    const x = d3.event.x, y = d3.event.y;\n    let x0, y0;\n    d3.select(this).attr(\"cx\", x).attr(\"cy\", y);\n    const line = group.selectAll(\"line\");\n    if (edge === \"left\") {\n      line.attr(\"x1\", x).attr(\"y1\", y);\n      x0 = +line.attr(\"x2\"), y0 = +line.attr(\"y2\");\n    } else {\n      line.attr(\"x2\", x).attr(\"y2\", y);\n      x0 = +line.attr(\"x1\"), y0 = +line.attr(\"y1\");\n    }\n    const xc = rn((x + x0) / 2, 2), yc = rn((y + y0) / 2, 2);\n    group.select(\".center\").attr(\"cx\", xc).attr(\"cy\", yc);\n    const dist = rn(Math.hypot(x0 - x, y0 - y));\n    const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n    const atan = x0 > x ? Math.atan2(y0 - y, x0 - x) : Math.atan2(y - y0, x - x0);\n    const angle = rn(atan * 180 / Math.PI, 3);\n    const tr = \"rotate(\" + angle + \" \" + xc + \" \" + yc + \")\";\n    group.select(\"text\").attr(\"x\", xc).attr(\"y\", yc).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label);\n  }\n\n  // draw ruler center point to split ruler into 2 parts\n  function rulerCenterDrag() {\n    let xc1, yc1, xc2, yc2;\n    const group = d3.select(this.parentNode); // current ruler group\n    let x = d3.event.x, y = d3.event.y; // current coords\n    const line = group.selectAll(\"line\"); // current lines\n    const x1 = +line.attr(\"x1\"), y1 = +line.attr(\"y1\"), x2 = +line.attr(\"x2\"), y2 = +line.attr(\"y2\"); // initial line edge points\n    const rulerNew = ruler.insert(\"g\", \":first-child\");\n    rulerNew.attr(\"transform\", group.attr(\"transform\")).call(d3.drag().on(\"start\", elementDrag));\n    const factor = rn(1 / Math.pow(scale, 0.3), 1);\n    rulerNew.append(\"line\").attr(\"class\", \"white\").attr(\"stroke-width\", factor);\n    const dash = +group.select(\".gray\").attr(\"stroke-dasharray\");\n    rulerNew.append(\"line\").attr(\"class\", \"gray\").attr(\"stroke-dasharray\", dash).attr(\"stroke-width\", factor);\n    rulerNew.append(\"text\").attr(\"dy\", -1).on(\"click\", removeParent).attr(\"font-size\", 10 * factor).attr(\"stroke-width\", factor);\n\n    d3.event.on(\"drag\", function() {\n      x = d3.event.x, y = d3.event.y;\n      d3.select(this).attr(\"cx\", x).attr(\"cy\", y);\n      // change first part\n      line.attr(\"x1\", x1).attr(\"y1\", y1).attr(\"x2\", x).attr(\"y2\", y);\n      let dist = rn(Math.hypot(x1 - x, y1 - y));\n      let label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      let atan = x1 > x ? Math.atan2(y1 - y, x1 - x) : Math.atan2(y - y1, x - x1);\n      xc1 = rn((x + x1) / 2, 2), yc1 = rn((y + y1) / 2, 2);\n      let tr = \"rotate(\" + rn(atan * 180 / Math.PI, 3) + \" \" + xc1 + \" \" + yc1 + \")\";\n      group.select(\"text\").attr(\"x\", xc1).attr(\"y\", yc1).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label);\n      // change second (new) part\n      dist = rn(Math.hypot(x2 - x, y2 - y));\n      label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      atan = x2 > x ? Math.atan2(y2 - y, x2 - x) : Math.atan2(y - y2, x - x2);\n      xc2 = rn((x + x2) / 2, 2), yc2 = rn((y + y2) / 2, 2);\n      tr = \"rotate(\" + rn(atan * 180 / Math.PI, 3) + \" \" + xc2 + \" \" + yc2 +\")\";\n      rulerNew.selectAll(\"line\").attr(\"x1\", x).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y2);\n      rulerNew.select(\"text\").attr(\"x\", xc2).attr(\"y\", yc2).attr(\"transform\", tr).attr(\"data-dist\", dist).text(label);\n    });\n\n    d3.event.on(\"end\", function() {\n      // circles for 1st part\n      group.selectAll(\"circle\").remove();\n      group.append(\"circle\").attr(\"cx\", x1).attr(\"cy\", y1).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      group.append(\"circle\").attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      group.append(\"circle\").attr(\"cx\", xc1).attr(\"cy\", yc1).attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n      // circles for 2nd part\n      rulerNew.append(\"circle\").attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"cx\", x2).attr(\"cy\", y2).attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"cx\", xc2).attr(\"cy\", yc2).attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n    });\n  }\n\n  function opisometerEdgeDrag() {\n    const el = d3.select(this);\n    const x0 = +el.attr(\"cx\"), y0 = +el.attr(\"cy\");\n    const group = d3.select(this.parentNode);\n    const curve = group.select(\".white\");\n    const curveGray = group.select(\".gray\");\n    const text = group.select(\"text\");\n    const points = JSON.parse(text.attr(\"data-points\"));\n    if (x0 === points[0].scX && y0 === points[0].scY) {points.reverse();}\n\n    d3.event.on(\"drag\", function() {\n      const x = d3.event.x, y = d3.event.y;\n      el.attr(\"cx\", x).attr(\"cy\", y);\n      const l = points[points.length - 1];\n      const diff = Math.hypot(l.scX - x, l.scY - y);\n      if (diff > 5) {points.push({scX: x, scY: y});} else {return;}\n      lineGen.curve(d3.curveBasis);\n      const d = round(lineGen(points));\n      curve.attr(\"d\", d);\n      curveGray.attr(\"d\", d);\n      const dist = rn(curve.node().getTotalLength());\n      const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      text.attr(\"x\", x).attr(\"y\", y).text(label);\n    });\n\n    d3.event.on(\"end\", function() {\n      const dist = rn(curve.node().getTotalLength());\n      const c = curve.node().getPointAtLength(dist / 2);\n      const p = curve.node().getPointAtLength((dist / 2) - 1);\n      const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      const atan = p.x > c.x ? Math.atan2(p.y - c.y, p.x - c.x) : Math.atan2(c.y - p.y, c.x - p.x);\n      const angle = rn(atan * 180 / Math.PI, 3);\n      const tr = \"rotate(\" + angle + \" \" + c.x + \" \" + c.y + \")\";\n      text.attr(\"data-points\", JSON.stringify(points)).attr(\"data-dist\", dist).attr(\"x\", c.x).attr(\"y\", c.y).attr(\"transform\", tr).text(label);\n    });\n  }\n\n  function getContinuousLine(edges, indention, relax) {\n    let line = \"\";\n    if (edges.length < 3) return \"\";\n    while (edges.length > 2) {\n      let edgesOrdered = []; // to store points in a correct order\n      let start = edges[0].start;\n      let end = edges[0].end;\n      edges.shift();\n      let spl = start.split(\" \");\n      edgesOrdered.push({scX: +spl[0],scY: +spl[1]});\n      spl = end.split(\" \");\n      edgesOrdered.push({scX: +spl[0],scY: +spl[1]});\n      let x0 = +spl[0],y0 = +spl[1];\n      for (let i = 0; end !== start && i < 100000; i++) {\n        let next = null, index = null;\n        for (let e = 0; e < edges.length; e++) {\n          const edge = edges[e];\n          if (edge.start == end || edge.end == end) {\n            next = edge;\n            end = next.start == end ? next.end : next.start;\n            index = e;\n            break;\n          }\n        }\n        if (!next) {\n          console.error(\"Next edge is not found\");\n          return \"\";\n        }\n        spl = end.split(\" \");\n        if (indention || relax) {\n          const dist = Math.hypot(+spl[0] - x0, +spl[1] - y0);\n          if (dist >= indention && Math.random() > relax) {\n            edgesOrdered.push({scX: +spl[0],scY: +spl[1]});\n            x0 = +spl[0],y0 = +spl[1];\n          }\n        } else {\n          edgesOrdered.push({scX: +spl[0],scY: +spl[1]});\n        }\n        edges.splice(index, 1);\n        if (i === 100000-1) {\n          console.error(\"Line not ended, limit reached\");\n          break;\n        }\n      }\n      line += lineGen(edgesOrdered);\n    }\n    return round(line, 1);\n  }\n\n  // temporary elevate lakes to min neighbors heights to correctly flux the water\n  function elevateLakes() {\n    console.time('elevateLakes');\n    const lakes = $.grep(cells, function(e, d) {return heights[d] < 20 && !features[e.fn].border;});\n    lakes.sort(function(a, b) {return heights[b.index] - heights[a.index];});\n    for (let i=0; i < lakes.length; i++) {\n      const hs = [],id = lakes[i].index;\n      cells[id].height = heights[id]; // use height on object level\n      lakes[i].neighbors.forEach(function(n) {\n        const nHeight = cells[n].height || heights[n];\n        if (nHeight >= 20) hs.push(nHeight);\n      });\n      if (hs.length) cells[id].height = d3.min(hs) - 1;\n      if (cells[id].height < 20) cells[id].height = 20;\n      lakes[i].lake = 1;\n    }\n    console.timeEnd('elevateLakes');\n  }\n\n  // Depression filling algorithm (for a correct water flux modeling; phase1)\n  function resolveDepressionsPrimary() {\n    console.time('resolveDepressionsPrimary');\n    land = $.grep(cells, function(e, d) {\n      if (!e.height) e.height = heights[d]; // use height on object level\n      return e.height >= 20;\n    });\n    land.sort(function(a, b) {return b.height - a.height;});\n    const limit = 10;\n    for (let l = 0, depression = 1; depression > 0 && l < limit; l++) {\n      depression = 0;\n      for (let i = 0; i < land.length; i++) {\n        const id = land[i].index;\n        if (land[i].type === \"border\") continue;\n        const hs = land[i].neighbors.map(function(n) {return cells[n].height;});\n        const minHigh = d3.min(hs);\n        if (cells[id].height <= minHigh) {\n          depression++;\n          land[i].pit = land[i].pit ? land[i].pit + 1 : 1;\n          cells[id].height = minHigh + 2;\n        }\n      }\n      if (l === 0) console.log(\" depressions init: \" + depression);\n    }\n    console.timeEnd('resolveDepressionsPrimary');\n  }\n\n  // Depression filling algorithm (for a correct water flux modeling; phase2)\n  function resolveDepressionsSecondary() {\n    console.time('resolveDepressionsSecondary');\n    land = $.grep(cells, function(e) {return e.height >= 20;});\n    land.sort(function(a, b) {return b.height - a.height;});\n    const limit = 100;\n    for (let l = 0, depression = 1; depression > 0 && l < limit; l++) {\n      depression = 0;\n      for (let i = 0; i < land.length; i++) {\n        if (land[i].ctype === 99) continue;\n        const nHeights = land[i].neighbors.map(function(n) {return cells[n].height});\n        const minHigh = d3.min(nHeights);\n        if (land[i].height <= minHigh) {\n          depression++;\n          land[i].pit = land[i].pit ? land[i].pit + 1 : 1;\n          land[i].height = Math.trunc(minHigh + 2);\n        }\n      }\n      if (l === 0) console.log(\" depressions reGraphed: \" + depression);\n      if (l === limit - 1) console.error(\"Error: resolveDepressions iteration limit\");\n    }\n    console.timeEnd('resolveDepressionsSecondary');\n  }\n\n  // restore initial heights if user don't want system to change heightmap\n  function restoreCustomHeights() {\n    land.forEach(function(l) {\n      if (!l.pit) return;\n      l.height = Math.trunc(l.height - l.pit * 2);\n      if (l.height < 20) l.height = 20;\n    });\n  }\n\n  function flux() {\n    console.time('flux');\n    riversData = [];\n    let riverNext = 0;\n    land.sort(function(a, b) {return b.height - a.height;});\n    for (let i = 0; i < land.length; i++) {\n      const id = land[i].index;\n      const sx = land[i].data[0];\n      const sy = land[i].data[1];\n      let fn = land[i].fn;\n      if (land[i].ctype === 99) {\n        if (land[i].river !== undefined) {\n          let x, y;\n          const min = Math.min(sy, graphHeight - sy, sx, graphWidth - sx);\n          if (min === sy) {x = sx; y = 0;}\n          if (min === graphHeight - sy) {x = sx; y = graphHeight;}\n          if (min === sx) {x = 0; y = sy;}\n          if (min === graphWidth - sx) {x = graphWidth; y = sy;}\n          riversData.push({river: land[i].river, cell: id, x, y});\n        }\n        continue;\n      }\n      if (features[fn].river !== undefined) {\n        if (land[i].river !== features[fn].river) {\n          land[i].river = undefined;\n          land[i].flux = 0;\n        }\n      }\n      let minHeight = 1000, min;\n      land[i].neighbors.forEach(function(e) {\n        if (cells[e].height < minHeight) {\n          minHeight = cells[e].height;\n          min = e;\n        }\n      });\n      // Define river number\n      if (min !== undefined && land[i].flux > 1) {\n        if (land[i].river === undefined) {\n          // State new River\n          land[i].river = riverNext;\n          riversData.push({river: riverNext, cell: id, x: sx, y: sy});\n          riverNext += 1;\n        }\n        // Assing existing River to the downhill cell\n        if (cells[min].river == undefined) {\n          cells[min].river = land[i].river;\n        } else {\n          const riverTo = cells[min].river;\n          const iRiver = $.grep(riversData, function (e) {\n            return (e.river == land[i].river);\n          });\n          const minRiver = $.grep(riversData, function (e) {\n            return (e.river == riverTo);\n          });\n          let iRiverL = iRiver.length;\n          let minRiverL = minRiver.length;\n          // re-assing river nunber if new part is greater\n          if (iRiverL >= minRiverL) {\n            cells[min].river = land[i].river;\n            iRiverL += 1;\n            minRiverL -= 1;\n          }\n          // mark confluences\n          if (cells[min].height >= 20 && iRiverL > 1 && minRiverL > 1) {\n            if (!cells[min].confluence) {\n              cells[min].confluence = minRiverL-1;\n            } else {\n              cells[min].confluence += minRiverL-1;\n            }\n          }\n        }\n      }\n      if (cells[min].flux) cells[min].flux += land[i].flux;\n      if (land[i].river !== undefined) {\n        const px = cells[min].data[0];\n        const py = cells[min].data[1];\n        if (cells[min].height < 20) {\n          // pour water to the sea\n          const x = (px + sx) / 2 + (px - sx) / 10;\n          const y = (py + sy) / 2 + (py - sy) / 10;\n          riversData.push({river: land[i].river, cell: id, x, y});\n        } else {\n          if (cells[min].lake === 1) {\n            fn = cells[min].fn;\n            if (features[fn].river === undefined) features[fn].river = land[i].river;\n          }\n          // add next River segment\n          riversData.push({river: land[i].river, cell: min, x: px, y: py});\n        }\n      }\n    }\n    console.timeEnd('flux');\n    drawRiverLines(riverNext);\n  }\n\n  function drawRiverLines(riverNext) {\n    console.time('drawRiverLines');\n    for (let i = 0; i < riverNext; i++) {\n      const dataRiver = $.grep(riversData, function (e) {\n        return e.river === i;\n      });\n      if (dataRiver.length > 1) {\n        const riverAmended = amendRiver(dataRiver, 1);\n        const width = rn(0.8 + Math.random() * 0.4, 1);\n        const increment = rn(0.8 + Math.random() * 0.4, 1);\n        const d = drawRiver(riverAmended, width, increment);\n        rivers.append(\"path\").attr(\"d\", d).attr(\"id\", \"river\"+i).attr(\"data-width\", width).attr(\"data-increment\", increment);\n      }\n    }\n    rivers.selectAll(\"path\").on(\"click\", editRiver);\n    console.timeEnd('drawRiverLines');\n  }\n\n  // add more river points on 1/3 and 2/3 of length\n  function amendRiver(dataRiver, rndFactor) {\n    const riverAmended = [];\n    let side = 1;\n    for (let r = 0; r < dataRiver.length; r++) {\n      const dX = dataRiver[r].x;\n      const dY = dataRiver[r].y;\n      const cell = dataRiver[r].cell;\n      const c = cells[cell].confluence || 0;\n      riverAmended.push([dX, dY, c]);\n      if (r+1 < dataRiver.length) {\n        const eX = dataRiver[r + 1].x;\n        const eY = dataRiver[r + 1].y;\n        const angle = Math.atan2(eY - dY, eX - dX);\n        const serpentine = 1 / (r + 1);\n        const meandr = serpentine + 0.3 + Math.random() * 0.3 * rndFactor;\n        if (Math.random() > 0.5) {\n          side *= -1\n        }\n        const dist = Math.hypot(eX - dX, eY - dY);\n        // if dist is big or river is small add 2 extra points\n        if (dist > 8 || (dist > 4 && dataRiver.length < 6)) {\n          let stX = (dX * 2 + eX) / 3;\n          let stY = (dY * 2 + eY) / 3;\n          let enX = (dX + eX * 2) / 3;\n          let enY = (dY + eY * 2) / 3;\n          stX += -Math.sin(angle) * meandr * side;\n          stY += Math.cos(angle) * meandr * side;\n          if (Math.random() > 0.8) {\n            side *= -1\n          }\n          enX += Math.sin(angle) * meandr * side;\n          enY += -Math.cos(angle) * meandr * side;\n          riverAmended.push([stX, stY],[enX, enY]);\n        // if dist is medium or river is small add 1 extra point\n        } else if (dist > 4 || dataRiver.length < 6) {\n          let scX = (dX + eX) / 2;\n          let scY = (dY + eY) / 2;\n          scX += -Math.sin(angle) * meandr * side;\n          scY += Math.cos(angle) * meandr * side;\n          riverAmended.push([scX, scY]);\n        }\n      }\n    }\n    return riverAmended;\n  }\n\n  // draw river polygon using arrpoximation\n  function drawRiver(points, width, increment) {\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n    let extraOffset = 0.03; // start offset to make river source visible\n      width = width || 1; // river width modifier\n      increment = increment || 1; // river bed widening modifier\n    let riverLength = 0;\n    points.map(function(p, i) {\n        if (i === 0) {return 0;}\n        riverLength += Math.hypot(p[0] - points[i-1][0],p[1] - points[i-1][1]);\n      });\n    const widening = rn((1000 + (riverLength * 30)) * increment);\n    const riverPointsLeft = [], riverPointsRight = [];\n    const last = points.length - 1;\n    const factor = riverLength / points.length;\n\n    // first point\n    let x = points[0][0], y = points[0][1], c;\n    let angle = Math.atan2(y - points[1][1], x - points[1][0]);\n    let xLeft = x + -Math.sin(angle) * extraOffset, yLeft = y + Math.cos(angle) * extraOffset;\n    riverPointsLeft.push({scX:xLeft, scY:yLeft});\n    let xRight = x + Math.sin(angle) * extraOffset, yRight = y + -Math.cos(angle) * extraOffset;\n    riverPointsRight.unshift({scX:xRight, scY:yRight});\n\n      // middle points\n      for (let p = 1; p < last; p ++) {\n        x = points[p][0],y = points[p][1],c = points[p][2];\n        if (c) {extraOffset += Math.atan(c * 10 / widening);} // confluence\n        const xPrev = points[p - 1][0], yPrev = points[p - 1][1];\n        const xNext = points[p + 1][0], yNext = points[p + 1][1];\n        angle = Math.atan2(yPrev - yNext, xPrev - xNext);\n        var offset = (Math.atan(Math.pow(p * factor, 2) / widening) / 2 * width) + extraOffset;\n        xLeft = x + -Math.sin(angle) * offset, yLeft = y + Math.cos(angle) * offset;\n        riverPointsLeft.push({scX:xLeft, scY:yLeft});\n        xRight = x + Math.sin(angle) * offset, yRight = y + -Math.cos(angle) * offset;\n        riverPointsRight.unshift({scX:xRight, scY:yRight});\n      }\n\n      // end point\n      x = points[last][0],y = points[last][1],c = points[last][2];\n      if (c) {extraOffset += Math.atan(c * 10 / widening);} // confluence\n      angle = Math.atan2(points[last-1][1] - y, points[last-1][0] - x);\n      xLeft = x + -Math.sin(angle) * offset, yLeft = y + Math.cos(angle) * offset;\n      riverPointsLeft.push({scX:xLeft, scY:yLeft});\n      xRight = x + Math.sin(angle) * offset, yRight = y + -Math.cos(angle) * offset;\n      riverPointsRight.unshift({scX:xRight, scY:yRight});\n\n      // generate path and return\n    const right = lineGen(riverPointsRight);\n    let left = lineGen(riverPointsLeft);\n    left = left.substring(left.indexOf(\"C\"));\n      return round(right + left, 2);\n  }\n\n  // draw river polygon with best quality\n  function drawRiverSlow(points, width, increment) {\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n      width = width || 1;\n    const extraOffset = 0.02 * width;\n    increment = increment || 1;\n    const riverPoints = points.map(function (p) {\n      return {scX: p[0], scY: p[1]};\n    });\n    const river = defs.append(\"path\").attr(\"d\", lineGen(riverPoints));\n    const riverLength = river.node().getTotalLength();\n    const widening = rn((1000 + (riverLength * 30)) * increment);\n    const riverPointsLeft = [], riverPointsRight = [];\n\n    for (let l = 0; l < riverLength; l++) {\n        var point = river.node().getPointAtLength(l);\n        var from = river.node().getPointAtLength(l - 0.1);\n        const to = river.node().getPointAtLength(l + 0.1);\n        var angle = Math.atan2(from.y - to.y, from.x - to.x);\n        var offset = (Math.atan(Math.pow(l, 2) / widening) / 2 * width) + extraOffset;\n        var xLeft = point.x + -Math.sin(angle) * offset;\n        var yLeft = point.y + Math.cos(angle) * offset;\n        riverPointsLeft.push({scX:xLeft, scY:yLeft});\n        var xRight = point.x + Math.sin(angle) * offset;\n        var yRight = point.y + -Math.cos(angle) * offset;\n        riverPointsRight.unshift({scX:xRight, scY:yRight});\n      }\n\n      var point = river.node().getPointAtLength(riverLength);\n      var from = river.node().getPointAtLength(riverLength - 0.1);\n      var angle = Math.atan2(from.y - point.y, from.x - point.x);\n      var offset = (Math.atan(Math.pow(riverLength, 2) / widening) / 2 * width) + extraOffset;\n      var xLeft = point.x + -Math.sin(angle) * offset;\n      var yLeft = point.y + Math.cos(angle) * offset;\n      riverPointsLeft.push({scX:xLeft, scY:yLeft});\n      var xRight = point.x + Math.sin(angle) * offset;\n      var yRight = point.y + -Math.cos(angle) * offset;\n      riverPointsRight.unshift({scX:xRight, scY:yRight});\n\n      river.remove();\n      // generate path and return\n    const right = lineGen(riverPointsRight);\n    let left = lineGen(riverPointsLeft);\n    left = left.substring(left.indexOf(\"C\"));\n      return round(right + left, 2);\n  }\n\n  // add lakes on depressed points on river course\n  function addLakes() {\n    console.time('addLakes');\n    let smallLakes = 0;\n    for (let i=0; i < land.length; i++) {\n      // elavate all big lakes\n      if (land[i].lake === 1) {\n        land[i].height = 19;\n        land[i].ctype = -1;\n      }\n      // define eligible small lakes\n      if (land[i].lake === 2 && smallLakes < 100) {\n        if (land[i].river !== undefined) {\n          land[i].height = 19;\n          land[i].ctype = -1;\n          land[i].fn = -1;\n          smallLakes++;\n        } else {\n          land[i].lake = undefined;\n          land[i].neighbors.forEach(function(n) {\n            if (cells[n].lake !== 1 && cells[n].river !== undefined) {\n              cells[n].lake = 2;\n              cells[n].height = 19;\n              cells[n].ctype = -1;\n              cells[n].fn = -1;\n              smallLakes++;\n            } else if (cells[n].lake === 2) {\n              cells[n].lake = undefined;\n            }\n          });\n        }\n      }\n    }\n    console.log( \"small lakes: \" + smallLakes);\n\n    // mark small lakes\n    let unmarked = $.grep(land, function(e) {return e.fn === -1});\n    while (unmarked.length) {\n      let fn = -1, queue = [unmarked[0].index],lakeCells = [];\n      unmarked[0].session = \"addLakes\";\n      while (queue.length) {\n        const q = queue.pop();\n        lakeCells.push(q);\n        if (cells[q].fn !== -1) fn = cells[q].fn;\n        cells[q].neighbors.forEach(function(e) {\n          if (cells[e].lake && cells[e].session !== \"addLakes\") {\n            cells[e].session = \"addLakes\";\n            queue.push(e);\n          }\n        });\n      }\n      if (fn === -1) {\n        fn = features.length;\n        features.push({i: fn, land: false, border: false});\n      }\n      lakeCells.forEach(function(c) {cells[c].fn = fn;});\n      unmarked = $.grep(land, function(e) {return e.fn === -1});\n    }\n\n    land = $.grep(cells, function(e) {return e.height >= 20;});\n    console.timeEnd('addLakes');\n  }\n\n  function editLabel() {\n    if (customization) return;\n\n    unselect();\n    closeDialogs(\"#labelEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n\n    // update group parameters\n    let group = d3.select(this.parentNode);\n    updateGroupOptions();\n    labelGroupSelect.value = group.attr(\"id\");\n    labelFontSelect.value = fonts.indexOf(group.attr(\"data-font\"));\n    labelSize.value = group.attr(\"data-size\");\n    labelColor.value = toHEX(group.attr(\"fill\"));\n    labelOpacity.value = group.attr(\"opacity\");\n    labelText.value = elSelected.text();\n    const tr = parseTransform(elSelected.attr(\"transform\"));\n    labelAngle.value = tr[2];\n    labelAngleValue.innerHTML = Math.abs(+tr[2]) + \"°\";\n\n    $(\"#labelEditor\").dialog({\n      title: \"Edit Label: \" + labelText.value,\n      minHeight: 30, width: \"auto\", maxWidth: 275, resizable: false,\n      position: {my: \"center top+10\", at: \"bottom\", of: this},\n      close: unselect\n    });\n\n    if (modules.editLabel) return;\n    modules.editLabel = true;\n\n    loadDefaultFonts();\n\n    function updateGroupOptions() {\n      labelGroupSelect.innerHTML = \"\";\n      labels.selectAll(\"g:not(#burgLabels)\").each(function(d) {\n        if (this.parentNode.id === \"burgLabels\") return;\n        let id = d3.select(this).attr(\"id\");\n        let opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = id;\n        labelGroupSelect.add(opt);\n      });\n    }\n\n    $(\"#labelGroupButton\").click(function() {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelGroupButtons\").toggle();\n    });\n\n    // on group change\n    document.getElementById(\"labelGroupSelect\").addEventListener(\"change\", function() {\n      document.getElementById(this.value).appendChild(elSelected.remove().node());\n    });\n\n    // toggle inputs to declare a new group\n    document.getElementById(\"labelGroupNew\").addEventListener(\"click\", function() {\n      if ($(\"#labelGroupInput\").css(\"display\") === \"none\") {\n        $(\"#labelGroupInput\").css(\"display\", \"inline-block\");\n        $(\"#labelGroupSelect\").css(\"display\", \"none\");\n        labelGroupInput.focus();\n      } else {\n        $(\"#labelGroupSelect\").css(\"display\", \"inline-block\");\n        $(\"#labelGroupInput\").css(\"display\", \"none\");\n      }\n    });\n\n    // toggle inputs to select a group\n    document.getElementById(\"labelExternalFont\").addEventListener(\"click\", function() {\n      if ($(\"#labelFontInput\").css(\"display\") === \"none\") {\n        $(\"#labelFontInput\").css(\"display\", \"inline-block\");\n        $(\"#labelFontSelect\").css(\"display\", \"none\");\n        labelFontInput.focus();\n      } else {\n        $(\"#labelFontSelect\").css(\"display\", \"inline-block\");\n        $(\"#labelFontInput\").css(\"display\", \"none\");\n      }\n    });\n\n    // on new group creation\n    document.getElementById(\"labelGroupInput\").addEventListener(\"change\", function() {\n      if (!this.value) {\n        tip(\"Please provide a valid group name\");\n        return;\n      }\n      let group = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+group.charAt(0))) group = \"g\" + group;\n      // if el with this id exists, add size to id\n      while (labels.selectAll(\"#\"+group).size()) {group += \"_new\";}\n      createNewLabelGroup(group);\n    });\n\n    function createNewLabelGroup(g) {\n      let group = elSelected.node().parentNode.cloneNode(false);\n      let groupNew = labels.append(f => group).attr(\"id\", g);\n      groupNew.append(f => elSelected.remove().node());\n      updateGroupOptions();\n      $(\"#labelGroupSelect, #labelGroupInput\").toggle();\n      labelGroupInput.value = \"\";\n      labelGroupSelect.value = g;\n      updateLabelGroups();\n    }\n\n    // remove label group on click\n    document.getElementById(\"labelGroupRemove\").addEventListener(\"click\", function() {\n      let group = d3.select(elSelected.node().parentNode);\n      let id = group.attr(\"id\");\n      let count = group.selectAll(\"text\").size();\n      // remove group with < 2 label without ask\n      if (count < 2) {\n        removeAllLabelsInGroup(id);\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n      alertMessage.innerHTML = \"Are you sure you want to remove all labels (\" + count + \") of that group?\";\n      $(\"#alert\").dialog({resizable: false, title: \"Remove label group\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            removeAllLabelsInGroup(id);\n            $(\"#labelEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    $(\"#labelTextButton\").click(function() {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelTextButtons\").toggle();\n    });\n\n    // on label text change\n    document.getElementById(\"labelText\").addEventListener(\"input\", function() {\n      if (!this.value) {\n        tip(\"Name should not be blank, set opacity to 0 to hide label or click remove button to delete\");\n        return;\n      }\n      // change Label text\n      if (elSelected.select(\"textPath\").size()) elSelected.select(\"textPath\").text(this.value);\n      else elSelected.text(this.value);\n      $(\"div[aria-describedby='labelEditor'] .ui-dialog-title\").text(\"Edit Label: \" + this.value);\n      // check if label is a country name\n      let id = elSelected.attr(\"id\") || \"\";\n      if (id.includes(\"regionLabel\")) {\n        let state = +elSelected.attr(\"id\").slice(11);\n        states[state].name = this.value;\n      }\n    });\n\n    // generate a random country name\n    document.getElementById(\"labelTextRandom\").addEventListener(\"click\", function() {\n      let name = elSelected.text();\n      let id = elSelected.attr(\"id\") || \"\";\n      if (id.includes(\"regionLabel\")) {\n        // label is a country name\n        let state = +elSelected.attr(\"id\").slice(11);\n        name = generateStateName(state.i);\n        states[state].name = name;\n      } else {\n        // label is not a country name, use random culture\n        let c = elSelected.node().getBBox();\n        let closest = cultureTree.find((c.x + c.width / 2), (c.y + c.height / 2));\n        let culture = Math.floor(Math.random() * cultures.length);\n        name = generateName(culture);\n      }\n      labelText.value = name;\n      $(\"div[aria-describedby='labelEditor'] .ui-dialog-title\").text(\"Edit Label: \" + name);\n      // change Label text\n      if (elSelected.select(\"textPath\").size()) elSelected.select(\"textPath\").text(name);\n      else elSelected.text(name);\n    });\n\n    $(\"#labelFontButton\").click(function() {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelFontButtons\").toggle();\n    });\n\n    // on label font change\n    document.getElementById(\"labelFontSelect\").addEventListener(\"change\", function() {\n      let group = elSelected.node().parentNode;\n      let font = fonts[this.value].split(':')[0].replace(/\\+/g, \" \");\n      group.setAttribute(\"font-family\", font);\n      group.setAttribute(\"data-font\", fonts[this.value]);\n    });\n\n    // on adding custom font\n    document.getElementById(\"labelFontInput\").addEventListener(\"change\", function() {\n      fetchFonts(this.value).then(fetched => {\n        if (!fetched) return;\n        labelExternalFont.click();\n        labelFontInput.value = \"\";\n        if (fetched === 1) $(\"#labelFontSelect\").val(fonts.length - 1).change();\n      });\n    });\n\n    // on label size input\n    document.getElementById(\"labelSize\").addEventListener(\"input\", function() {\n      let group = elSelected.node().parentNode;\n      let size = +this.value;\n      group.setAttribute(\"data-size\", size);\n      group.setAttribute(\"font-size\", rn((size + (size / scale)) / 2, 2))\n    });\n\n    $(\"#labelStyleButton\").click(function() {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelStyleButtons\").toggle();\n    });\n\n    // on label fill color input\n    document.getElementById(\"labelColor\").addEventListener(\"input\", function() {\n      let group = elSelected.node().parentNode;\n      group.setAttribute(\"fill\", this.value);\n    });\n\n    // on label opacity input\n    document.getElementById(\"labelOpacity\").addEventListener(\"input\", function() {\n      let group = elSelected.node().parentNode;\n      group.setAttribute(\"opacity\", this.value);\n    });\n\n    $(\"#labelAngleButton\").click(function() {\n      $(\"#labelEditor > button\").not(this).toggle();\n      $(\"#labelAngleButtons\").toggle();\n    });\n\n    // on label angle input\n    document.getElementById(\"labelAngle\").addEventListener(\"input\", function() {\n      const tr = parseTransform(elSelected.attr(\"transform\"));\n      labelAngleValue.innerHTML = Math.abs(+this.value) + \"°\";\n      const c = elSelected.node().getBBox();\n      const angle = +this.value;\n      const transform = `translate(${tr[0]},${tr[1]}) rotate(${angle} ${(c.x+c.width/2)} ${(c.y+c.height/2)})`;\n      elSelected.attr(\"transform\", transform);\n    });\n\n    // display control points to curve label (place on path)\n    document.getElementById(\"labelCurve\").addEventListener(\"click\", function() {\n      let c = elSelected.node().getBBox();\n      let cx = c.x + c.width / 2, cy = c.y + c.height / 2;\n\n      if (!elSelected.select(\"textPath\").size()) {\n        let id = elSelected.attr(\"id\");\n        let pathId = \"#textPath_\" + id;\n        let path = `M${cx-c.width},${cy} q${c.width},0 ${c.width * 2},0`;\n        let text = elSelected.text(), x = elSelected.attr(\"x\"), y = elSelected.attr(\"y\");\n        elSelected.text(null).attr(\"data-x\", x).attr(\"data-y\", y).attr(\"x\", null).attr(\"y\", null);\n        defs.append(\"path\").attr(\"id\", \"textPath_\" + id).attr(\"d\", path);\n        elSelected.append(\"textPath\").attr(\"href\", pathId).attr(\"startOffset\", \"50%\").text(text);\n      }\n\n      if (!debug.select(\"circle\").size()) {\n        debug.append(\"circle\").attr(\"id\", \"textPathControl\").attr(\"r\", 1.6)\n          .attr(\"cx\", cx).attr(\"cy\", cy).attr(\"transform\", elSelected.attr(\"transform\") || null)\n          .call(d3.drag().on(\"start\", textPathControlDrag));\n      }\n    });\n\n    // drag textPath controle point to curve the label\n    function textPathControlDrag() {\n      let textPath = defs.select(\"#textPath_\" + elSelected.attr(\"id\"));\n      let path = textPath.attr(\"d\").split(\" \");\n      let M = path[0].split(\",\");\n      let q = path[1].split(\",\"); // +q[1] to get qy - the only changeble value\n      let y = d3.event.y;\n\n      d3.event.on(\"drag\", function() {\n        let dy = d3.event.y - y;\n        let total = +q[1] + dy * 8;\n        d3.select(this).attr(\"cy\", d3.event.y);\n        textPath.attr(\"d\", `${M[0]},${+M[1] - dy} ${q[0]},${total} ${path[2]}`);\n      });\n    }\n\n    // cancel label curvature\n    document.getElementById(\"labelCurveCancel\").addEventListener(\"click\", function() {\n      if (!elSelected.select(\"textPath\").size()) return;\n      let text = elSelected.text(), x = elSelected.attr(\"data-x\"), y = elSelected.attr(\"data-y\");\n      elSelected.text();\n      elSelected.attr(\"x\", x).attr(\"y\", y).attr(\"data-x\", null).attr(\"data-y\", null).text(text);\n      defs.select(\"#textPath_\" + elSelected.attr(\"id\")).remove();\n      debug.select(\"circle\").remove();\n    });\n\n    // open legendsEditor\n    document.getElementById(\"labelLegend\").addEventListener(\"click\", function() {\n      let id = elSelected.attr(\"id\");\n      let name = elSelected.text();\n      editLegends(id, name);\n    });\n\n    // copy label on click\n    document.getElementById(\"labelCopy\").addEventListener(\"click\", function() {\n      let group = d3.select(elSelected.node().parentNode);\n      copy = group.append(f => elSelected.node().cloneNode(true));\n      let id = \"label\" + Date.now().toString().slice(7);\n      copy.attr(\"id\", id).attr(\"class\", null).on(\"click\", editLabel);\n      let shift = +group.attr(\"font-size\") + 1;\n      if (copy.select(\"textPath\").size()) {\n        let path = defs.select(\"#textPath_\" + elSelected.attr(\"id\")).attr(\"d\");\n        let textPath = defs.append(\"path\").attr(\"id\", \"textPath_\" + id);\n        copy.select(\"textPath\").attr(\"href\", \"#textPath_\" + id);\n        let pathArray = path.split(\" \");\n        let x = +pathArray[0].split(\",\")[0].slice(1);\n        let y = +pathArray[0].split(\",\")[1];\n        textPath.attr(\"d\", `M${x-shift},${y-shift} ${pathArray[1]} ${pathArray[2]}`);shift\n      } else {\n        let x = +elSelected.attr(\"x\") - shift;\n        let y = +elSelected.attr(\"y\") - shift;\n        while (group.selectAll(\"text[x='\" + x + \"']\").size()) {x -= shift; y -= shift;}\n        copy.attr(\"x\", x).attr(\"y\", y);\n      }\n    });\n\n    // remove label on click\n    document.getElementById(\"labelRemoveSingle\").addEventListener(\"click\", function() {\n      alertMessage.innerHTML = \"Are you sure you want to remove the label?\";\n      $(\"#alert\").dialog({resizable: false, title: \"Remove label\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            defs.select(\"#textPath_\" + elSelected.attr(\"id\")).remove();\n            $(\"#labelEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n  }\n\n  function editRiver() {\n    if (customization) return;\n    if (elSelected) {\n      const self = d3.select(this).attr(\"id\") === elSelected.attr(\"id\");\n      const point = d3.mouse(this);\n      if (elSelected.attr(\"data-river\") === \"new\") {\n        addRiverPoint([point[0],point[1]]);\n        completeNewRiver();\n        return;\n      } else if (self) {\n        riverAddControlPoint(point);\n        return;\n      }\n    }\n\n    unselect();\n    closeDialogs(\"#riverEditor, .stable\");\n    elSelected = d3.select(this);\n    elSelected.call(d3.drag().on(\"start\", riverDrag));\n\n    const tr = parseTransform(elSelected.attr(\"transform\"));\n    riverAngle.value = tr[2];\n    riverAngleValue.innerHTML = Math.abs(+tr[2]) + \"°\";\n    riverScale.value = tr[5];\n    riverWidthInput.value = +elSelected.attr(\"data-width\");\n    riverIncrement.value = +elSelected.attr(\"data-increment\");\n\n    $(\"#riverEditor\").dialog({\n      title: \"Edit River\",\n      minHeight: 30, width: \"auto\", resizable: false,\n      position: {my: \"center top+20\", at: \"top\", of: d3.event},\n      close: function() {\n        if ($(\"#riverNew\").hasClass('pressed')) completeNewRiver();\n        unselect();\n      }\n    });\n\n    if (!debug.select(\".controlPoints\").size()) debug.append(\"g\").attr(\"class\", \"controlPoints\");\n    riverDrawPoints();\n\n    if (modules.editRiver) {return;}\n    modules.editRiver = true;\n\n    function riverAddControlPoint(point) {\n      let dists = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const x = +d3.select(this).attr(\"cx\");\n        const y = +d3.select(this).attr(\"cy\");\n        dists.push(Math.hypot(point[0] - x, point[1] - y));\n      });\n      let index = dists.length;\n      if (dists.length > 1) {\n        const sorted = dists.slice(0).sort(function(a, b) {return a-b;});\n        const closest = dists.indexOf(sorted[0]);\n        const next = dists.indexOf(sorted[1]);\n        if (closest <= next) {index = closest+1;} else {index = next+1;}\n      }\n      const before = \":nth-child(\" + (index + 1) + \")\";\n      debug.select(\".controlPoints\").insert(\"circle\", before)\n        .attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35)\n        .call(d3.drag().on(\"drag\", riverPointDrag))\n        .on(\"click\", function(d) {\n          $(this).remove();\n          redrawRiver();\n        });\n      redrawRiver();\n    }\n\n    function riverDrawPoints() {\n      const node = elSelected.node();\n      // river is a polygon, so divide length by 2 to get course length\n      const l = node.getTotalLength() / 2;\n      const parts = (l / 5) >> 0; // number of points\n      let inc = l / parts; // increment\n      if (inc === Infinity) {inc = l;} // 2 control points for short rivers\n      // draw control points\n      for (let i = l, c = l; i > 0; i -= inc, c += inc) {\n        const p1 = node.getPointAtLength(i);\n        const p2 = node.getPointAtLength(c);\n        const p = [(p1.x + p2.x) / 2, (p1.y + p2.y) / 2];\n        addRiverPoint(p);\n      }\n      // last point should be accurate\n      const lp1 = node.getPointAtLength(0);\n      const lp2 = node.getPointAtLength(l * 2);\n      const p = [(lp1.x + lp2.x) / 2, (lp1.y + lp2.y) / 2];\n      addRiverPoint(p);\n    }\n\n    function addRiverPoint(point) {\n      debug.select(\".controlPoints\").append(\"circle\")\n        .attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35)\n        .call(d3.drag().on(\"drag\", riverPointDrag))\n        .on(\"click\", function(d) {\n          $(this).remove();\n          redrawRiver();\n        });\n    }\n\n    function riverPointDrag() {\n      d3.select(this).attr(\"cx\", d3.event.x).attr(\"cy\", d3.event.y);\n      redrawRiver();\n    }\n\n    function riverDrag() {\n      const x = d3.event.x, y = d3.event.y;\n      const tr = parseTransform(elSelected.attr(\"transform\"));\n      d3.event.on(\"drag\", function() {\n        let xc = d3.event.x, yc = d3.event.y;\n        let transform = `translate(${(+tr[0]+xc-x)},${(+tr[1]+yc-y)}) rotate(${tr[2]} ${tr[3]} ${tr[4]}) scale(${tr[5]})`;\n        elSelected.attr(\"transform\", transform);\n        debug.select(\".controlPoints\").attr(\"transform\", transform);\n      });\n    }\n\n    function redrawRiver() {\n      let points = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const el = d3.select(this);\n        points.push([+el.attr(\"cx\"), +el.attr(\"cy\")]);\n      });\n      const width = +riverWidthInput.value;\n      const increment = +riverIncrement.value;\n      const d = drawRiverSlow(points, width, increment);\n      elSelected.attr(\"d\", d);\n    }\n\n    $(\"#riverWidthInput, #riverIncrement\").change(function() {\n      const width = +riverWidthInput.value;\n      const increment = +riverIncrement.value;\n      elSelected.attr(\"data-width\", width).attr(\"data-increment\", increment);\n      redrawRiver();\n    });\n\n    $(\"#riverRegenerate\").click(function() {\n      let points = [],amended = [],x, y, p1, p2;\n      const node = elSelected.node();\n      const l = node.getTotalLength() / 2;\n      const parts = (l / 8) >> 0; // number of points\n      let inc = l / parts; // increment\n      if (inc === Infinity) {inc = l;} // 2 control points for short rivers\n      for (let i = l, e = l; i > 0; i -= inc, e += inc) {\n        p1 = node.getPointAtLength(i);\n        p2 = node.getPointAtLength(e);\n        x = (p1.x + p2.x) / 2, y = (p1.y + p2.y) / 2;\n        points.push([x, y]);\n      }\n      // last point should be accurate\n      p1 = node.getPointAtLength(0);\n      p2 = node.getPointAtLength(l * 2);\n      x = (p1.x + p2.x) / 2, y = (p1.y + p2.y) / 2;\n      points.push([x, y]);\n      // amend points\n      const rndFactor = 0.3 + Math.random() * 1.4; // random factor in range 0.2-1.8\n      for (let i = 0; i < points.length; i++) {\n        x = points[i][0],y = points[i][1];\n        amended.push([x, y]);\n        // add additional semi-random point\n        if (i + 1 < points.length) {\n          const x2 = points[i+1][0],y2 = points[i+1][1];\n          let side = Math.random() > 0.5 ? 1 : -1;\n          const angle = Math.atan2(y2 - y, x2 - x);\n          const serpentine = 2 / (i+1);\n          const meandr = serpentine + 0.3 + Math.random() * rndFactor;\n          x = (x + x2) / 2, y = (y + y2) / 2;\n          x += -Math.sin(angle) * meandr * side;\n          y += Math.cos(angle) * meandr * side;\n          amended.push([x, y]);\n        }\n      }\n      const width = +riverWidthInput.value * 0.6 + Math.random();\n      const increment = +riverIncrement.value * 0.9 + Math.random() * 0.2;\n      riverWidthInput.value = width;\n      riverIncrement.value = increment;\n      elSelected.attr(\"data-width\", width).attr(\"data-increment\", increment);\n      const d = drawRiverSlow(amended, width, increment);\n      elSelected.attr(\"d\", d).attr(\"data-width\", width).attr(\"data-increment\", increment);\n      debug.select(\".controlPoints\").selectAll(\"*\").remove();\n      amended.map(function(p) {addRiverPoint(p);});\n    });\n\n    $(\"#riverAngle\").on(\"input\", function() {\n      const tr = parseTransform(elSelected.attr(\"transform\"));\n      riverAngleValue.innerHTML = Math.abs(+this.value) + \"°\";\n      const c = elSelected.node().getBBox();\n      const angle = +this.value, scale = +tr[5];\n      const transform = `translate(${tr[0]},${tr[1]}) rotate(${angle} ${(c.x+c.width/2)*scale} ${(c.y+c.height/2)*scale}) scale(${scale})`;\n      elSelected.attr(\"transform\", transform);\n      debug.select(\".controlPoints\").attr(\"transform\", transform);\n    });\n\n    $(\"#riverReset\").click(function() {\n      elSelected.attr(\"transform\", \"\");\n      debug.select(\".controlPoints\").attr(\"transform\", \"\");\n      riverAngle.value = 0;\n      riverAngleValue.innerHTML = \"0°\";\n      riverScale.value = 1;\n    });\n\n    $(\"#riverScale\").change(function() {\n      const tr = parseTransform(elSelected.attr(\"transform\"));\n      const scaleOld = +tr[5],scale = +this.value;\n      const c = elSelected.node().getBBox();\n      const cx = c.x + c.width / 2, cy = c.y + c.height / 2;\n      const trX = +tr[0] + cx * (scaleOld - scale);\n      const trY = +tr[1] + cy * (scaleOld - scale);\n      const scX = +tr[3] * scale/scaleOld;\n      const scY = +tr[4] * scale/scaleOld;\n      const transform = `translate(${trX},${trY}) rotate(${tr[2]} ${scX} ${scY}) scale(${scale})`;\n      elSelected.attr(\"transform\", transform);\n      debug.select(\".controlPoints\").attr(\"transform\", transform);\n    });\n\n    $(\"#riverNew\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        completeNewRiver();\n      } else {\n        // enter creation mode\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        if (elSelected) elSelected.call(d3.drag().on(\"drag\", null));\n        debug.select(\".controlPoints\").selectAll(\"*\").remove();\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", newRiverAddPoint);\n      }\n    });\n\n    function newRiverAddPoint() {\n      const point = d3.mouse(this);\n      addRiverPoint([point[0],point[1]]);\n      if (!elSelected || elSelected.attr(\"data-river\") !== \"new\") {\n        const id = +$(\"#rivers > path\").last().attr(\"id\").slice(5) + 1;\n        elSelected = rivers.append(\"path\").attr(\"data-river\", \"new\").attr(\"id\", \"river\"+id)\n          .attr(\"data-width\", 2).attr(\"data-increment\", 1).on(\"click\", completeNewRiver);\n      } else {\n        redrawRiver();\n        let cell = diagram.find(point[0],point[1]).index;\n        let f = cells[cell].fn;\n        let ocean = !features[f].land && features[f].border;\n        if (ocean && debug.select(\".controlPoints\").selectAll(\"circle\").size() > 5) completeNewRiver();\n      }\n    }\n\n    function completeNewRiver() {\n      $(\"#riverNew\").removeClass('pressed');\n      restoreDefaultEvents();\n      if (!elSelected || elSelected.attr(\"data-river\") !== \"new\") return;\n      redrawRiver();\n      elSelected.attr(\"data-river\", \"\");\n      elSelected.call(d3.drag().on(\"start\", riverDrag)).on(\"click\", editRiver);\n      const r = +elSelected.attr(\"id\").slice(5);\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const x = +d3.select(this).attr(\"cx\");\n        const y = +d3.select(this).attr(\"cy\");\n        const cell = diagram.find(x, y, 3);\n        if (!cell) return;\n        if (cells[cell.index].river === undefined) cells[cell.index].river = r;\n      });\n      unselect();\n      debug.append(\"g\").attr(\"class\", \"controlPoints\");\n    }\n\n    $(\"#riverCopy\").click(function() {\n      const tr = parseTransform(elSelected.attr(\"transform\"));\n      const d = elSelected.attr(\"d\");\n      let x = 2, y = 2;\n      let transform = `translate(${tr[0]-x},${tr[1]-y}) rotate(${tr[2]} ${tr[3]} ${tr[4]}) scale(${tr[5]})`;\n      while (rivers.selectAll(\"[transform='\" + transform + \"'][d='\" + d + \"']\").size() > 0) {\n        x += 2; y += 2;\n        transform = `translate(${tr[0]-x},${tr[1]-y}) rotate(${tr[2]} ${tr[3]} ${tr[4]}) scale(${tr[5]})`;\n      }\n      const river = +$(\"#rivers > path\").last().attr(\"id\").slice(5) + 1;\n      rivers.append(\"path\").attr(\"d\", d)\n        .attr(\"transform\", transform)\n        .attr(\"id\", \"river\"+river).on(\"click\", editRiver)\n        .attr(\"data-width\", elSelected.attr(\"data-width\"))\n        .attr(\"data-increment\", elSelected.attr(\"data-increment\"));\n      unselect();\n    });\n\n    // open legendsEditor\n    document.getElementById(\"riverLegend\").addEventListener(\"click\", function() {\n      let id = elSelected.attr(\"id\");\n      editLegends(id, id);\n    });\n\n    $(\"#riverRemove\").click(function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the river?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove river\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            const river = +elSelected.attr(\"id\").slice(5);\n            const avPrec = rn(precInput.value / Math.sqrt(cells.length), 2);\n            land.map(function(l) {\n              if (l.river === river) {\n                l.river = undefined;\n                l.flux = avPrec;\n              }\n            });\n            elSelected.remove();\n            unselect();\n            $(\"#riverEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      })\n    });\n\n  }\n\n  function editRoute() {\n    if (customization) {return;}\n    if (elSelected) {\n      const self = d3.select(this).attr(\"id\") === elSelected.attr(\"id\");\n      const point = d3.mouse(this);\n      if (elSelected.attr(\"data-route\") === \"new\") {\n        addRoutePoint({x:point[0],y:point[1]});\n        completeNewRoute();\n        return;\n      } else if (self) {\n        routeAddControlPoint(point);\n        return;\n      }\n    }\n\n    unselect();\n    closeDialogs(\"#routeEditor, .stable\");\n\n    if (this && this !== window) {\n      elSelected = d3.select(this);\n      if (!debug.select(\".controlPoints\").size()) debug.append(\"g\").attr(\"class\", \"controlPoints\");\n      routeDrawPoints();\n      routeUpdateGroups();\n      let routeType = d3.select(this.parentNode).attr(\"id\");\n      routeGroup.value = routeType;\n\n      $(\"#routeEditor\").dialog({\n        title: \"Edit Route\",\n        minHeight: 30, width: \"auto\", resizable: false,\n        position: {my: \"center top+20\", at: \"top\", of: d3.event},\n        close: function() {\n          if ($(\"#addRoute\").hasClass('pressed')) completeNewRoute();\n          if ($(\"#routeSplit\").hasClass('pressed')) $(\"#routeSplit\").removeClass('pressed');\n          unselect();\n        }\n      });\n    } else {elSelected = null;}\n\n    if (modules.editRoute) {return;}\n    modules.editRoute = true;\n\n    function routeAddControlPoint(point) {\n      let dists = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const x = +d3.select(this).attr(\"cx\");\n        const y = +d3.select(this).attr(\"cy\");\n        dists.push(Math.hypot(point[0] - x, point[1] - y));\n      });\n      let index = dists.length;\n      if (dists.length > 1) {\n        const sorted = dists.slice(0).sort(function(a, b) {return a-b;});\n        const closest = dists.indexOf(sorted[0]);\n        const next = dists.indexOf(sorted[1]);\n        if (closest <= next) {index = closest+1;} else {index = next+1;}\n      }\n      const before = \":nth-child(\" + (index + 1) + \")\";\n      debug.select(\".controlPoints\").insert(\"circle\", before)\n        .attr(\"cx\", point[0]).attr(\"cy\", point[1]).attr(\"r\", 0.35)\n        .call(d3.drag().on(\"drag\", routePointDrag))\n        .on(\"click\", function(d) {\n          $(this).remove();\n          routeRedraw();\n        });\n      routeRedraw();\n    }\n\n    function routeDrawPoints() {\n      if (!elSelected.size()) return;\n      const node = elSelected.node();\n      const l = node.getTotalLength();\n      const parts = (l / 5) >> 0; // number of points\n      let inc = l / parts; // increment\n      if (inc === Infinity) inc = l; // 2 control points for short routes\n      // draw control points\n      for (let i = 0; i <= l; i += inc) {\n        const p = node.getPointAtLength(i);\n        addRoutePoint(p);\n      }\n      // convert length to distance\n      routeLength.innerHTML = rn(l * distanceScale.value) + \" \" + distanceUnit.value;\n    }\n\n    function addRoutePoint(point) {\n      const controlPoints = debug.select(\".controlPoints\").size()\n        ? debug.select(\".controlPoints\")\n        : debug.append(\"g\").attr(\"class\", \"controlPoints\");\n      controlPoints.append(\"circle\")\n        .attr(\"cx\", point.x).attr(\"cy\", point.y).attr(\"r\", 0.35)\n        .call(d3.drag().on(\"drag\", routePointDrag))\n        .on(\"click\", function(d) {\n          if ($(\"#routeSplit\").hasClass('pressed')) {\n            routeSplitInPoint(this);\n          } else {\n            $(this).remove();\n            routeRedraw();\n          }\n        });\n    }\n\n    function routePointDrag() {\n      d3.select(this).attr(\"cx\", d3.event.x).attr(\"cy\", d3.event.y);\n      routeRedraw();\n    }\n\n    function routeRedraw() {\n      let points = [];\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const el = d3.select(this);\n        points.push({scX: +el.attr(\"cx\"), scY: +el.attr(\"cy\")});\n      });\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n      elSelected.attr(\"d\", lineGen(points));\n      // get route distance\n      const l = elSelected.node().getTotalLength();\n      routeLength.innerHTML = rn(l * distanceScale.value) + \" \" + distanceUnit.value;\n    }\n\n    function addNewRoute() {\n      let routeType = elSelected && elSelected.node() ? elSelected.node().parentNode.id : \"searoutes\";\n      const group = routes.select(\"#\"+routeType);\n      const id = routeType + \"\" + group.selectAll(\"*\").size();\n      elSelected = group.append(\"path\").attr(\"data-route\", \"new\").attr(\"id\", id).on(\"click\", editRoute);\n      routeUpdateGroups();\n      $(\"#routeEditor\").dialog({\n        title: \"Edit Route\", minHeight: 30, width: \"auto\", resizable: false,\n        close: function() {\n          if ($(\"#addRoute\").hasClass('pressed')) completeNewRoute();\n          if ($(\"#routeSplit\").hasClass('pressed')) $(\"#routeSplit\").removeClass('pressed');\n          unselect();\n        }\n      });\n    }\n\n    function newRouteAddPoint() {\n      const point = d3.mouse(this);\n      const x = rn(point[0],2), y = rn(point[1],2);\n      addRoutePoint({x, y});\n      routeRedraw();\n    }\n\n    function completeNewRoute() {\n      $(\"#routeNew, #addRoute\").removeClass('pressed');\n      restoreDefaultEvents();\n      if (!elSelected.size()) return;\n      if (elSelected.attr(\"data-route\") === \"new\") {\n        routeRedraw();\n        elSelected.attr(\"data-route\", \"\");\n        const node = elSelected.node();\n        const l = node.getTotalLength();\n        let pathCells = [];\n        for (let i = 0; i <= l; i ++) {\n          const p = node.getPointAtLength(i);\n          const cell = diagram.find(p.x, p.y);\n          if (!cell) {return;}\n          pathCells.push(cell.index);\n        }\n        const uniqueCells = [...new Set(pathCells)];\n        uniqueCells.map(function(c) {\n          if (cells[c].path !== undefined) {cells[c].path += 1;}\n          else {cells[c].path = 1;}\n        });\n      }\n      tip(\"\", true);\n    }\n\n    function routeUpdateGroups() {\n      routeGroup.innerHTML = \"\";\n      routes.selectAll(\"g\").each(function() {\n        const opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = this.id;\n        routeGroup.add(opt);\n      });\n    }\n\n    function routeSplitInPoint(clicked) {\n      const group = d3.select(elSelected.node().parentNode);\n      $(\"#routeSplit\").removeClass('pressed');\n      const points1 = [],points2 = [];\n      let points = points1;\n      debug.select(\".controlPoints\").selectAll(\"circle\").each(function() {\n        const el = d3.select(this);\n        points.push({scX: +el.attr(\"cx\"), scY: +el.attr(\"cy\")});\n        if (this === clicked) {\n          points = points2;\n          points.push({scX: +el.attr(\"cx\"), scY: +el.attr(\"cy\")});\n        }\n        el.remove();\n      });\n      lineGen.curve(d3.curveCatmullRom.alpha(0.1));\n      elSelected.attr(\"d\", lineGen(points1));\n      const id = routeGroup.value + \"\" + group.selectAll(\"*\").size();\n      group.append(\"path\").attr(\"id\", id).attr(\"d\", lineGen(points2)).on(\"click\", editRoute);\n      routeDrawPoints();\n    }\n\n    $(\"#routeGroup\").change(function() {\n      $(elSelected.node()).detach().appendTo($(\"#\"+this.value));\n    });\n\n    // open legendsEditor\n    document.getElementById(\"routeLegend\").addEventListener(\"click\", function() {\n      let id = elSelected.attr(\"id\");\n      editLegends(id, id);\n    });\n\n    $(\"#routeNew\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        completeNewRoute();\n      } else {\n        // enter creation mode\n        $(\".pressed\").removeClass('pressed');\n        $(\"#routeNew, #addRoute\").addClass('pressed');\n        debug.select(\".controlPoints\").selectAll(\"*\").remove();\n        addNewRoute();\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", newRouteAddPoint);\n        tip(\"Click on map to add route point\", true);\n      }\n    });\n\n    $(\"#routeRemove\").click(function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the route?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove route\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#routeEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      })\n    });\n  }\n\n  function editIcon() {\n    if (customization) return;\n    if (elSelected) if (this.isSameNode(elSelected.node())) return;\n\n    unselect();\n    closeDialogs(\"#iconEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n\n    // update group parameters\n    const group = d3.select(this.parentNode);\n    iconUpdateGroups();\n    iconGroup.value = group.attr(\"id\");\n    iconFillColor.value = group.attr(\"fill\");\n    iconStrokeColor.value = group.attr(\"stroke\");\n    iconSize.value = group.attr(\"size\");\n    iconStrokeWidth.value = group.attr(\"stroke-width\");\n\n    $(\"#iconEditor\").dialog({\n      title: \"Edit icon: \" + group.attr(\"id\"),\n      minHeight: 30, width: \"auto\", resizable: false,\n      position: {my: \"center top+20\", at: \"top\", of: d3.event},\n      close: unselect\n    });\n\n    if (modules.editIcon) {return;}\n    modules.editIcon = true;\n\n    $(\"#iconGroups\").click(function() {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconGroupsSelection\").toggle();\n    });\n\n    function iconUpdateGroups() {\n      iconGroup.innerHTML = \"\";\n      const anchor = group.attr(\"id\").includes(\"anchor\");\n      icons.selectAll(\"g\").each(function(d) {\n        const id = d3.select(this).attr(\"id\");\n        if (id === \"burgs\") return;\n        if (!anchor && id.includes(\"anchor\")) return;\n        if (anchor && !id.includes(\"anchor\")) return;\n        const opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = id;\n        iconGroup.add(opt);\n      });\n    }\n\n    $(\"#iconGroup\").change(function() {\n      const newGroup = this.value;\n      const to = $(\"#icons > #\"+newGroup);\n      $(elSelected.node()).detach().appendTo(to);\n    });\n\n    $(\"#iconCopy\").click(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const copy = elSelected.node().cloneNode();\n      copy.removeAttribute(\"data-id\"); // remove assignment to burg if any\n      const tr = parseTransform(copy.getAttribute(\"transform\"));\n      const shift = 10 / Math.sqrt(scale);\n      let transform = \"translate(\" + rn(tr[0] - shift, 1)  + \",\" + rn(tr[1] - shift, 1)  + \")\";\n      for (let i=2; group.selectAll(\"[transform='\" + transform + \"']\").size() > 0; i++) {\n        transform = \"translate(\" + rn(tr[0] - shift * i, 1)  + \",\" + rn(tr[1] - shift * i, 1)  + \")\";\n      }\n      copy.setAttribute(\"transform\", transform);\n      group.node().insertBefore(copy, null);\n      copy.addEventListener(\"click\", editIcon);\n    });\n\n    $(\"#iconRemoveGroup\").click(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const count = group.selectAll(\"*\").size();\n      if (count < 2) {\n        group.remove();\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n      const message = \"Are you sure you want to remove all '\" + iconGroup.value + \"' icons (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove icon group\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            group.remove();\n            $(\"#iconEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    $(\"#iconColors\").click(function() {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconColorsSection\").toggle();\n    });\n\n    $(\"#iconFillColor\").change(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      group.attr(\"fill\", this.value);\n    });\n\n    $(\"#iconStrokeColor\").change(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      group.attr(\"stroke\", this.value);\n    });\n\n    $(\"#iconSetSize\").click(function() {\n      $(\"#iconEditor > button\").not(this).toggle();\n      $(\"#iconSizeSection\").toggle();\n    });\n\n    $(\"#iconSize\").change(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const size = +this.value;\n      group.attr(\"size\", size);\n      group.selectAll(\"*\").each(function() {d3.select(this).attr(\"width\", size).attr(\"height\", size)});\n    });\n\n    $(\"#iconStrokeWidth\").change(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      group.attr(\"stroke-width\", this.value);\n    });\n\n    $(\"#iconRemove\").click(function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the icon?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove icon\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#iconEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      })\n    });\n  }\n\n  function editReliefIcon() {\n    if (customization) return;\n    if (elSelected) if (this.isSameNode(elSelected.node())) return;\n\n    unselect();\n    closeDialogs(\"#reliefEditor, .stable\");\n    elSelected = d3.select(this).raise().call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n    const group = elSelected.node().parentNode.id;\n    reliefGroup.value = group;\n\n    let bulkRemoveSection = document.getElementById(\"reliefBulkRemoveSection\");\n    if (bulkRemoveSection.style.display != \"none\") reliefBulkRemove.click();\n\n    $(\"#reliefEditor\").dialog({\n      title: \"Edit relief icon\",\n      minHeight: 30, width: \"auto\", resizable: false,\n      position: {my: \"center top+40\", at: \"top\", of: d3.event},\n      close: unselect\n    });\n\n    if (modules.editReliefIcon) {return;}\n    modules.editReliefIcon = true;\n\n    $(\"#reliefGroups\").click(function() {\n      $(\"#reliefEditor > button\").not(this).toggle();\n      $(\"#reliefGroupsSelection\").toggle();\n    });\n\n    $(\"#reliefGroup\").change(function() {\n      const type = this.value;\n      const bbox = elSelected.node().getBBox();\n      const cx = bbox.x;\n      const cy = bbox.y + bbox.height / 2;\n      const cell = diagram.find(cx, cy).index;\n      const height = cell !== undefined ? cells[cell].height : 50;\n      elSelected.remove();\n      elSelected = addReliefIcon(height / 100, type, cx, cy, cell);\n      elSelected.call(d3.drag().on(\"start\", elementDrag));\n    });\n\n    $(\"#reliefCopy\").click(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const copy = elSelected.node().cloneNode(true);\n      const tr = parseTransform(copy.getAttribute(\"transform\"));\n      const shift = 10 / Math.sqrt(scale);\n      let transform = \"translate(\" + rn(tr[0] - shift, 1)  + \",\" + rn(tr[1] - shift, 1)  + \")\";\n      for (let i=2; group.selectAll(\"[transform='\" + transform + \"']\").size() > 0; i++) {\n        transform = \"translate(\" + rn(tr[0] - shift * i, 1)  + \",\" + rn(tr[1] - shift * i, 1)  + \")\";\n      }\n      copy.setAttribute(\"transform\", transform);\n      group.node().insertBefore(copy, null);\n      copy.addEventListener(\"click\", editReliefIcon);\n    });\n\n    $(\"#reliefAddfromEditor\").click(function() {\n      clickToAdd(); // to load on click event function\n      $(\"#addRelief\").click();\n    });\n\n    $(\"#reliefRemoveGroup\").click(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const count = group.selectAll(\"*\").size();\n      if (count < 2) {\n        group.selectAll(\"*\").remove();\n        $(\"#labelEditor\").dialog(\"close\");\n        return;\n      }\n      const message = \"Are you sure you want to remove all '\" + reliefGroup.value + \"' icons (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove all icons within group\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            group.selectAll(\"*\").remove();\n            $(\"#reliefEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    $(\"#reliefBulkRemove\").click(function() {\n      $(\"#reliefEditor > button\").not(this).toggle();\n      let section = document.getElementById(\"reliefBulkRemoveSection\");\n      if (section.style.display === \"none\") {\n        section.style.display = \"inline-block\";\n        tip(\"Drag to remove relief icons in radius\", true);\n        viewbox.style(\"cursor\", \"crosshair\").call(d3.drag().on(\"drag\", dragToRemoveReliefIcons));\n        customization = 5;\n      } else {\n        section.style.display = \"none\";\n        restoreDefaultEvents();\n        customization = 0;\n      }\n    });\n\n    function dragToRemoveReliefIcons() {\n      let point = d3.mouse(this);\n      let cell = diagram.find(point[0], point[1]).index;\n      let radius = +reliefBulkRemoveRadius.value;\n      let r = rn(6 / graphSize * radius, 1);\n      moveCircle(point[0], point[1], r);\n      let selection = defineBrushSelection(cell, radius);\n      if (selection) removeReliefIcons(selection);\n    }\n\n    function removeReliefIcons(selection) {\n      if (selection.length === 0) return;\n      selection.map(function(index) {\n        const selected = terrain.selectAll(\"g\").selectAll(\"g[data-cell='\"+index+\"']\");\n        selected.remove();\n      });\n    }\n\n    $(\"#reliefRemove\").click(function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the icon?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove relief icon\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#reliefEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      })\n    });\n  }\n\n  function editBurg() {\n    if (customization) return;\n    unselect();\n    closeDialogs(\"#burgEditor, .stable\");\n    elSelected = d3.select(this);\n    const id = +elSelected.attr(\"data-id\");\n    if (id === undefined) return;\n    d3.selectAll(\"[data-id='\" + id + \"']\").call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n\n    // update Burg details\n    const type = elSelected.node().parentNode.id;\n    const labelGroup = burgLabels.select(\"#\"+type);\n    const iconGroup = burgIcons.select(\"#\"+type);\n    burgNameInput.value = manors[id].name;\n    updateBurgsGroupOptions();\n    burgSelectGroup.value = labelGroup.attr(\"id\");\n    burgSelectDefaultFont.value = fonts.indexOf(labelGroup.attr(\"data-font\"));\n    burgSetLabelSize.value = labelGroup.attr(\"data-size\");\n    burgLabelColorInput.value = toHEX(labelGroup.attr(\"fill\"));\n    burgLabelOpacity.value = labelGroup.attr(\"opacity\") === undefined ? 1 : +labelGroup.attr(\"opacity\");\n    const tr = parseTransform(elSelected.attr(\"transform\"));\n    burgLabelAngle.value = tr[2];\n    burgLabelAngleOutput.innerHTML = Math.abs(+tr[2]) + \"°\";\n    burgIconSize.value = iconGroup.attr(\"size\");\n    burgIconFillOpacity.value = iconGroup.attr(\"fill-opacity\") === undefined ? 1 : +iconGroup.attr(\"fill-opacity\");\n    burgIconFillColor.value = iconGroup.attr(\"fill\");\n    burgIconStrokeWidth.value = iconGroup.attr(\"stroke-width\");\n    burgIconStrokeOpacity.value = iconGroup.attr(\"stroke-opacity\") === undefined ? 1 : +iconGroup.attr(\"stroke-opacity\");\n    burgIconStrokeColor.value = iconGroup.attr(\"stroke\");\n    const cell = cells[manors[id].cell];\n    if (cell.region !== \"neutral\" && cell.region !== undefined) {\n      burgToggleCapital.disabled = false;\n      const capital = states[manors[id].region] ? id === states[manors[id].region].capital ? 1 : 0 : 0;\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", capital);\n    } else {\n      burgToggleCapital.disabled = true;\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", false);\n    }\n    d3.select(\"#burgTogglePort\").classed(\"pressed\", cell.port !== undefined);\n    burgPopulation.value = manors[id].population;\n    burgPopulationFriendly.value = rn(manors[id].population * urbanization.value * populationRate.value * 1000);\n\n    $(\"#burgEditor\").dialog({\n      title: \"Edit Burg: \" + manors[id].name,\n      minHeight: 30, width: \"auto\", resizable: false,\n      position: {my: \"center top+40\", at: \"top\", of: d3.event},\n      close: function() {\n        d3.selectAll(\"[data-id='\" + id + \"']\").call(d3.drag().on(\"drag\", null)).classed(\"draggable\", false);\n        elSelected = null;\n      }\n    });\n\n    if (modules.editBurg) return;\n    modules.editBurg = true;\n\n    loadDefaultFonts();\n\n    function updateBurgsGroupOptions() {\n      burgSelectGroup.innerHTML = \"\";\n      burgIcons.selectAll(\"g\").each(function(d) {\n        const opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = d3.select(this).attr(\"id\");\n        burgSelectGroup.add(opt);\n      });\n    }\n\n    $(\"#burgEditor > button\").not(\"#burgAddfromEditor\").not(\"#burgRelocate\").not(\"#burgRemove\").click(function() {\n      if ($(this).next().is(\":visible\")) {\n        $(\"#burgEditor > button\").show();\n        $(this).next(\"div\").hide();\n      } else {\n        $(\"#burgEditor > *\").not(this).hide();\n        $(this).next(\"div\").show();\n      }\n    });\n\n    $(\"#burgEditor > div > button\").click(function() {\n      if ($(this).next().is(\":visible\")) {\n        $(\"#burgEditor > div > button\").show();\n        $(this).parent().prev().show();\n        $(this).next(\"div\").hide();\n      } else {\n        $(\"#burgEditor > div > button\").not(this).hide();\n        $(this).parent().prev().hide();\n        $(this).next(\"div\").show();\n      }\n    });\n\n    $(\"#burgSelectGroup\").change(function() {\n      const id = +elSelected.attr(\"data-id\");\n      const g = this.value;\n      moveBurgToGroup(id, g);\n    });\n\n    $(\"#burgInputGroup\").change(function() {\n      let newGroup = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+newGroup.charAt(0))) newGroup = \"g\" + newGroup;\n      if (burgLabels.select(\"#\"+newGroup).size()) {\n        tip('The group \"'+ newGroup + '\" is already exists');\n        return;\n      }\n      burgInputGroup.value = \"\";\n      // clone old group assigning new id\n      const id = elSelected.node().parentNode.id;\n      const l = burgLabels.select(\"#\"+id).node().cloneNode(false);\n      l.id = newGroup;\n      const i = burgIcons.select(\"#\"+id).node().cloneNode(false);\n      i.id = newGroup;\n      burgLabels.node().insertBefore(l, null);\n      burgIcons.node().insertBefore(i, null);\n      // select new group\n      const opt = document.createElement(\"option\");\n      opt.value = opt.innerHTML = newGroup;\n      burgSelectGroup.add(opt);\n      $(\"#burgSelectGroup\").val(newGroup).change();\n      $(\"#burgSelectGroup, #burgInputGroup\").toggle();\n      updateLabelGroups();\n    });\n\n    $(\"#burgAddGroup\").click(function() {\n      if ($(\"#burgInputGroup\").css(\"display\") === \"none\") {\n        $(\"#burgInputGroup\").css(\"display\", \"inline-block\");\n        $(\"#burgSelectGroup\").css(\"display\", \"none\");\n        burgInputGroup.focus();\n      } else {\n        $(\"#burgSelectGroup\").css(\"display\", \"inline-block\");\n        $(\"#burgInputGroup\").css(\"display\", \"none\");\n      }\n    });\n\n    $(\"#burgRemoveGroup\").click(function() {\n      const group = d3.select(elSelected.node().parentNode);\n      const type = group.attr(\"id\");\n      const id = +elSelected.attr(\"data-id\");\n      const count = group.selectAll(\"*\").size();\n      const message = \"Are you sure you want to remove all Burgs (\" + count + \") of that group?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove Burgs\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            group.selectAll(\"*\").each(function(d) {\n              const id = +d3.select(this).attr(\"data-id\");\n              if (id === undefined) return;\n              const cell = manors[id].cell;\n              const state = manors[id].region;\n              if (states[state]) {\n                if (states[state].capital === id) states[state].capital = \"select\";\n                states[state].burgs --;\n              }\n              manors[id].region = \"removed\";\n              cells[cell].manor = undefined;\n            });\n            burgLabels.select(\"#\"+type).selectAll(\"*\").remove();\n            burgIcons.select(\"#\"+type).selectAll(\"*\").remove();\n            $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\").parent().children().remove();\n            closeDialogs(\".stable\");\n            updateCountryEditors();\n            $(\"#burgEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n\n    });\n\n    $(\"#burgNameInput\").on(\"input\", function() {\n      if (this.value === \"\") {\n        tip(\"Name should not be blank, set opacity to 0 to hide label or remove button to delete\");\n        return;\n      }\n      const id = +elSelected.attr(\"data-id\");\n      burgLabels.selectAll(\"[data-id='\" + id + \"']\").text(this.value);\n      manors[id].name = this.value;\n      $(\"div[aria-describedby='burgEditor'] .ui-dialog-title\").text(\"Edit Burg: \" + this.value);\n    });\n\n    $(\"#burgNameReCulture, #burgNameReRandom\").click(function() {\n      const id = +elSelected.attr(\"data-id\");\n      const culture = this.id === \"burgNameReCulture\" ? manors[id].culture : Math.floor(Math.random() * cultures.length);\n      const name = generateName(culture);\n      burgLabels.selectAll(\"[data-id='\" + id + \"']\").text(name);\n      manors[id].name = name;\n      burgNameInput.value = name;\n      $(\"div[aria-describedby='burgEditor'] .ui-dialog-title\").text(\"Edit Burg: \" + name);\n    });\n\n    $(\"#burgToggleExternalFont\").click(function() {\n      if ($(\"#burgInputExternalFont\").css(\"display\") === \"none\") {\n        $(\"#burgInputExternalFont\").css(\"display\", \"inline-block\");\n        $(\"#burgSelectDefaultFont\").css(\"display\", \"none\");\n        burgInputExternalFont.focus();\n      } else {\n        $(\"#burgSelectDefaultFont\").css(\"display\", \"inline-block\");\n        $(\"#burgInputExternalFont\").css(\"display\", \"none\");\n      }\n    });\n\n    $(\"#burgSelectDefaultFont\").change(function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgLabels.select(\"#\"+type);\n      if (burgSelectDefaultFont.value === \"\") return;\n      const font = fonts[burgSelectDefaultFont.value].split(':')[0].replace(/\\+/g, \" \");\n      group.attr(\"font-family\", font).attr(\"data-font\", fonts[burgSelectDefaultFont.value]);\n    });\n\n    $(\"#burgInputExternalFont\").change(function() {\n      fetchFonts(this.value).then(fetched => {\n        if (!fetched) return;\n        burgToggleExternalFont.click();\n        burgInputExternalFont.value = \"\";\n        if (fetched === 1) $(\"#burgSelectDefaultFont\").val(fonts.length - 1).change();\n      });\n    });\n\n    $(\"#burgSetLabelSize\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgLabels.select(\"#\"+type);\n      group.attr(\"data-size\", +this.value);\n      invokeActiveZooming();\n    });\n\n    $(\"#burgLabelColorInput\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgLabels.select(\"#\"+type);\n      group.attr(\"fill\", this.value);\n    });\n\n    $(\"#burgLabelOpacity\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgLabels.select(\"#\"+type);\n      group.attr(\"opacity\", +this.value);\n    });\n\n    $(\"#burgLabelAngle\").on(\"input\", function() {\n      const id = +elSelected.attr(\"data-id\");\n      const el = burgLabels.select(\"[data-id='\"+ id +\"']\");\n      const tr = parseTransform(el.attr(\"transform\"));\n      const c = el.node().getBBox();\n      burgLabelAngleOutput.innerHTML = Math.abs(+this.value) + \"°\";\n      const angle = +this.value;\n      const transform = `translate(${tr[0]},${tr[1]}) rotate(${angle} ${(c.x+c.width/2)} ${(c.y+c.height/2)})`;\n      el.attr(\"transform\", transform);\n    });\n\n    $(\"#burgIconSize\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      const size = +this.value;\n      group.attr(\"size\", size);\n      group.selectAll(\"*\").each(function() {d3.select(this).attr(\"r\", size)});\n    });\n\n    $(\"#burgIconFillOpacity\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      group.attr(\"fill-opacity\", +this.value);\n    });\n\n    $(\"#burgIconFillColor\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      group.attr(\"fill\", this.value);\n    });\n\n    $(\"#burgIconStrokeWidth\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      group.attr(\"stroke-width\", +this.value);\n    });\n\n    $(\"#burgIconStrokeOpacity\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      group.attr(\"stroke-opacity\", +this.value);\n    });\n\n    $(\"#burgIconStrokeColor\").on(\"input\", function() {\n      const type = elSelected.node().parentNode.id;\n      const group = burgIcons.select(\"#\"+type);\n      group.attr(\"stroke\", this.value);\n    });\n\n    $(\"#burgToggleCapital\").click(function() {\n      const id = +elSelected.attr(\"data-id\");\n      const state = manors[id].region;\n      if (states[state] === undefined) return;\n      const capital = states[manors[id].region] ? id === states[manors[id].region].capital ? 0 : 1 : 1;\n      if (capital && states[state].capital !== \"select\") {\n        // move oldCapital to a town group\n        const oldCapital = states[state].capital;\n        moveBurgToGroup(oldCapital, \"towns\");\n      }\n      states[state].capital = capital ? id : \"select\";\n      d3.select(\"#burgToggleCapital\").classed(\"pressed\", capital);\n      const g = capital ? \"capitals\" : \"towns\";\n      moveBurgToGroup(id, g);\n    });\n\n    $(\"#burgTogglePort\").click(function() {\n      const id = +elSelected.attr(\"data-id\");\n      const cell = cells[manors[id].cell];\n      const markAsPort = cell.port === undefined ? true : undefined;\n      cell.port = markAsPort;\n      d3.select(\"#burgTogglePort\").classed(\"pressed\", markAsPort);\n      if (markAsPort) {\n        const type = elSelected.node().parentNode.id;\n        const ag = type === \"capitals\" ? \"#capital-anchors\" : \"#town-anchors\";\n        const group = icons.select(ag);\n        const size = +group.attr(\"size\");\n        const x = rn(manors[id].x - size * 0.47, 2);\n        const y = rn(manors[id].y - size * 0.47, 2);\n        group.append(\"use\").attr(\"xlink:href\", \"#icon-anchor\").attr(\"data-id\", id)\n          .attr(\"x\", x).attr(\"y\", y).attr(\"width\", size).attr(\"height\", size)\n          .on(\"click\", editIcon);\n      } else {\n        $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\").remove();\n      }\n    });\n\n    $(\"#burgPopulation\").on(\"input\", function() {\n      const id = +elSelected.attr(\"data-id\");\n      burgPopulationFriendly.value = rn(this.value * urbanization.value * populationRate.value * 1000);\n      manors[id].population = +this.value;\n    });\n\n    $(\"#burgRelocate\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n        tip(\"\", true);\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        const id = elSelected.attr(\"data-id\");\n        $(this).addClass('pressed').attr(\"data-id\", id);\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", relocateBurgOnClick);\n        tip(\"Click on map to relocate burg. Hold Shift for continuous move\", true);\n      }\n    });\n\n    // open legendsEditor\n    document.getElementById(\"burglLegend\").addEventListener(\"click\", function() {\n      let burg = +elSelected.attr(\"data-id\");\n      let id = \"burg\" + burg;\n      let name = manors[burg].name;\n      editLegends(id, name);\n    });\n\n    // move burg to a different cell\n    function relocateBurgOnClick() {\n      const point = d3.mouse(this);\n      const index = getIndex(point);\n      const i = +$(\"#burgRelocate\").attr(\"data-id\");\n      if (isNaN(i) || !manors[i]) return;\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place burg in the water! Select a land cell\", null, \"error\");\n        return;\n      }\n\n      if (cells[index].manor !== undefined && cells[index].manor !== i) {\n        tip(\"There is already a burg in this cell. Please select a free cell\", null, \"error\");\n        $('#grid').fadeIn();\n        d3.select(\"#toggleGrid\").classed(\"buttonoff\", false);\n        return;\n      }\n\n      let region = cells[index].region;\n      const oldRegion = manors[i].region;\n      // relocating capital to other country you \"conquer\" target cell\n      if (states[oldRegion] && states[oldRegion].capital === i) {\n        if (region !== oldRegion) {\n          tip(\"Capital cannot be moved to another country!\", null, \"error\");\n          return;\n        }\n      }\n\n      if (d3.event.shiftKey === false) {\n        $(\"#burgRelocate\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n        tip(\"\", true);\n        if (region !== oldRegion) {\n          recalculateStateData(oldRegion);\n          recalculateStateData(region);\n          updateCountryEditors();\n        }\n      }\n\n      const x = rn(point[0],2), y = rn(point[1],2);\n      burgIcons.select(\"circle[data-id='\"+i+\"']\").attr(\"transform\", null).attr(\"cx\", x).attr(\"cy\", y);\n      burgLabels.select(\"text[data-id='\"+i+\"']\").attr(\"transform\", null).attr(\"x\", x).attr(\"y\", y);\n      const anchor = icons.select(\"use[data-id='\"+i+\"']\");\n      if (anchor.size()) {\n        const size = anchor.attr(\"width\");\n        const xa = rn(x - size * 0.47, 2);\n        const ya = rn(y - size * 0.47, 2);\n        anchor.attr(\"transform\", null).attr(\"x\", xa).attr(\"y\", ya);\n      }\n      cells[index].manor = i;\n      cells[manors[i].cell].manor = undefined;\n      manors[i].x = x, manors[i].y = y, manors[i].region = region, manors[i].cell = index;\n    }\n\n    // open in MFCG\n    $(\"#burgSeeInMFCG\").click(function() {\n      const id = +elSelected.attr(\"data-id\");\n      const name = manors[id].name;\n      const cell = manors[id].cell;\n      const pop = rn(manors[id].population);\n      const size = pop > 65 ? 65 : pop < 6 ? 6 : pop;\n      const s = seed + \"\" + id;\n      const hub = cells[cell].crossroad > 2 ? 1 : 0;\n      const river = cells[cell].river ? 1 : 0;\n      const coast = cells[cell].port !== undefined ? 1 : 0;\n      const sec = pop > 40 ? 1 : Math.random() < pop / 100 ? 1 : 0;\n      const thr = sec && Math.random() < 0.8 ? 1 : 0;\n      const url = \"http://fantasycities.watabou.ru/\";\n      let params = `?name=${name}&size=${size}&seed=${s}&hub=${hub}&random=0&continuous=0`;\n      params += `&river=${river}&coast=${coast}&citadel=${id&1}&plaza=${sec}&temple=${thr}&walls=${sec}&shantytown=${sec}`;\n      const win = window.open(url+params, '_blank');\n      win.focus();\n    });\n\n    $(\"#burgAddfromEditor\").click(function() {\n      clickToAdd(); // to load on click event function\n      $(\"#addBurg\").click();\n    });\n\n    $(\"#burgRemove\").click(function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the Burg?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove Burg\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            const id = +elSelected.attr(\"data-id\");\n            d3.selectAll(\"[data-id='\" + id + \"']\").remove();\n            const cell = manors[id].cell;\n            const state = manors[id].region;\n            if (states[state]) {\n              if (states[state].capital === id) states[state].capital = \"select\";\n              states[state].burgs --;\n            }\n            manors[id].region = \"removed\";\n            cells[cell].manor = undefined;\n            closeDialogs(\".stable\");\n            updateCountryEditors();\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      })\n    });\n  }\n\n  function editMarker() {\n    if (customization) return;\n\n    unselect();\n    closeDialogs(\"#markerEditor, .stable\");\n    elSelected = d3.select(this).call(d3.drag().on(\"start\", elementDrag)).classed(\"draggable\", true);\n\n    $(\"#markerEditor\").dialog({\n      title: \"Edit Marker\",\n      minHeight: 30, width: \"auto\", maxWidth: 275, resizable: false,\n      position: {my: \"center top+30\", at: \"bottom\", of: d3.event},\n      close: unselect\n    });\n\n    // update inputs\n    let id = elSelected.attr(\"href\");\n    let symbol = d3.select(\"#defs-markers\").select(id);\n    let icon = symbol.select(\"text\");\n    markerSelectGroup.value = id.slice(1);\n    markerIconSize.value = parseFloat(icon.attr(\"font-size\"));\n    markerIconShiftX.value = parseFloat(icon.attr(\"x\"));\n    markerIconShiftY.value = parseFloat(icon.attr(\"y\"));\n    markerIconFill.value = icon.attr(\"fill\");\n    markerIconStrokeWidth.value = icon.attr(\"stroke-width\");\n    markerIconStroke.value = icon.attr(\"stroke\");\n    markerSize.value = elSelected.attr(\"data-size\");\n    markerBase.value = symbol.select(\"path\").attr(\"fill\");\n    markerFill.value = symbol.select(\"circle\").attr(\"fill\");\n    let opacity = symbol.select(\"circle\").attr(\"opacity\");\n    markerToggleBubble.className = opacity === \"0\" ? \"icon-info\" : \"icon-info-circled\";\n\n    let table = document.getElementById(\"markerIconTable\");\n    let selected = table.getElementsByClassName(\"selected\");\n    if (selected.length) selected[0].removeAttribute(\"class\");\n    selected = document.querySelectorAll(\"#markerIcon\" + icon.text().codePointAt());\n    if (selected.length) selected[0].className = \"selected\";\n    markerIconCustom.value = selected.length ? \"\" : icon.text();\n\n    if (modules.editMarker) return;\n    modules.editMarker = true;\n\n    $(\"#markerGroup\").click(function() {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerGroupSection\").toggle();\n      updateMarkerGroupOptions();\n    });\n\n    function updateMarkerGroupOptions() {\n      markerSelectGroup.innerHTML = \"\";\n      d3.select(\"#defs-markers\").selectAll(\"symbol\").each(function() {\n        let opt = document.createElement(\"option\");\n        opt.value = opt.innerHTML = this.id;\n        markerSelectGroup.add(opt);\n      });\n      let id = elSelected.attr(\"href\").slice(1);\n      markerSelectGroup.value = id;\n    }\n\n    // on add marker type click\n    document.getElementById(\"markerAddGroup\").addEventListener(\"click\", function() {\n      if ($(\"#markerInputGroup\").css(\"display\") === \"none\") {\n        $(\"#markerInputGroup\").css(\"display\", \"inline-block\");\n        $(\"#markerSelectGroup\").css(\"display\", \"none\");\n        markerInputGroup.focus();\n      } else {\n        $(\"#markerSelectGroup\").css(\"display\", \"inline-block\");\n        $(\"#markerInputGroup\").css(\"display\", \"none\");\n      }\n    });\n\n    // on marker type change\n    document.getElementById(\"markerSelectGroup\").addEventListener(\"change\", function() {\n      elSelected.attr(\"href\", \"#\"+this.value);\n      elSelected.attr(\"data-id\", \"#\"+this.value);\n    });\n\n    // on new type input\n    document.getElementById(\"markerInputGroup\").addEventListener(\"change\", function() {\n      let newGroup = this.value.toLowerCase().replace(/ /g, \"_\").replace(/[^\\w\\s]/gi, \"\");\n      if (Number.isFinite(+newGroup.charAt(0))) newGroup = \"m\" + newGroup;\n      if (d3.select(\"#defs-markers\").select(\"#\"+newGroup).size()) {\n        tip('The type \"'+ newGroup + '\" is already exists');\n        return;\n      }\n      markerInputGroup.value = \"\";\n      // clone old group assigning new id\n      let id = elSelected.attr(\"href\");\n      let l = d3.select(\"#defs-markers\").select(id).node().cloneNode(true);\n      l.id = newGroup;\n      elSelected.attr(\"href\", \"#\"+newGroup);\n      elSelected.attr(\"data-id\", \"#\"+newGroup);\n      document.getElementById(\"defs-markers\").insertBefore(l, null);\n\n      // select new group\n      let opt = document.createElement(\"option\");\n      opt.value = opt.innerHTML = newGroup;\n      markerSelectGroup.add(opt);\n      $(\"#markerSelectGroup\").val(newGroup).change();\n      $(\"#markerSelectGroup, #markerInputGroup\").toggle();\n      updateMarkerGroupOptions();\n    });\n\n    $(\"#markerIconButton\").click(function() {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerIconButtons\").toggle();\n      if (!$(\"#markerIconTable\").text()) drawIconsList(icons);\n    });\n\n    $(\"#markerRemoveGroup\").click(function() {\n      let id = elSelected.attr(\"href\");\n      let used = document.querySelectorAll(\"use[data-id='\"+id+\"']\");\n      let count = used.length === 1 ? \"1 element\" : used.length + \" elements\";\n      const message = \"Are you sure you want to remove the marker (\" + count + \")?\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove marker\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            if (id !== \"#marker0\") d3.select(\"#defs-markers\").select(id).remove();\n            used.forEach(function(e) {e.remove();});\n            updateMarkerGroupOptions();\n            $(\"#markerEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    function drawIconsList() {\n      let icons = [\n        // emoticons in FF:\n        [\"2693\", \"⚓\", \"Anchor\"],\n        [\"26EA\", \"⛪\", \"Church\"],\n        [\"1F3EF\", \"🏯\", \"Japanese Castle\"],\n        [\"1F3F0\", \"🏰\", \"Castle\"],\n        [\"1F5FC\", \"🗼\", \"Tower\"],\n        [\"1F3E0\", \"🏠\", \"House\"],\n        [\"1F3AA\", \"🎪\", \"Tent\"],\n        [\"1F3E8\", \"🏨\", \"Hotel\"],\n        [\"1F4B0\", \"💰\", \"Money bag\"],\n        [\"1F4A8\", \"💨\", \"Dashing away\"],\n        [\"1F334\", \"🌴\", \"Palm\"],\n        [\"1F335\", \"🌵\", \"Cactus\"],\n        [\"1F33E\", \"🌾\", \"Sheaf\"],\n        [\"1F5FB\", \"🗻\", \"Mountain\"],\n        [\"1F30B\", \"🌋\", \"Volcano\"],\n        [\"1F40E\", \"🐎\", \"Horse\"],\n        [\"1F434\", \"🐴\", \"Horse Face\"],\n        [\"1F42E\", \"🐮\", \"Cow\"],\n        [\"1F43A\", \"🐺\", \"Wolf Face\"],\n        [\"1F435\", \"🐵\", \"Monkey face\"],\n        [\"1F437\", \"🐷\", \"Pig face\"],\n        [\"1F414\", \"🐔\", \"Chiken\"],\n        [\"1F411\", \"🐑\", \"Eve\"],\n        [\"1F42B\", \"🐫\", \"Camel\"],\n        [\"1F418\", \"🐘\", \"Elephant\"],\n        [\"1F422\", \"🐢\", \"Turtle\"],\n        [\"1F40C\", \"🐌\", \"Snail\"],\n        [\"1F40D\", \"🐍\", \"Snake\"],\n        [\"1F433\", \"🐳\", \"Whale\"],\n        [\"1F42C\", \"🐬\", \"Dolphin\"],\n        [\"1F420\", \"🐟\", \"Fish\"],\n        [\"1F432\", \"🐲\", \"Dragon Head\"],\n        [\"1F479\", \"👹\", \"Ogre\"],\n        [\"1F47B\", \"👻\", \"Ghost\"],\n        [\"1F47E\", \"👾\", \"Alien\"],\n        [\"1F480\", \"💀\", \"Skull\"],\n        [\"1F374\", \"🍴\", \"Fork and knife\"],\n        [\"1F372\", \"🍲\", \"Food\"],\n        [\"1F35E\", \"🍞\", \"Bread\"],\n        [\"1F357\", \"🍗\", \"Poultry leg\"],\n        [\"1F347\", \"🍇\", \"Grapes\"],\n        [\"1F34F\", \"🍏\", \"Apple\"],\n        [\"1F352\", \"🍒\", \"Cherries\"],\n        [\"1F36F\", \"🍯\", \"Honey pot\"],\n        [\"1F37A\", \"🍺\", \"Beer\"],\n        [\"1F377\", \"🍷\", \"Wine glass\"],\n        [\"1F3BB\", \"🎻\", \"Violin\"],\n        [\"1F3B8\", \"🎸\", \"Guitar\"],\n        [\"26A1\", \"⚡\", \"Electricity\"],\n        [\"1F320\", \"🌠\", \"Shooting star\"],\n        [\"1F319\", \"🌙\", \"Crescent moon\"],\n        [\"1F525\", \"🔥\", \"Fire\"],\n        [\"1F4A7\", \"💧\", \"Droplet\"],\n        [\"1F30A\", \"🌊\", \"Wave\"],\n        [\"231B\", \"⌛\", \"Hourglass\"],\n        [\"1F3C6\", \"🏆\", \"Goblet\"],\n        [\"26F2\", \"⛲\", \"Fountain\"],\n        [\"26F5\", \"⛵\", \"Sailboat\"],\n        [\"26FA\", \"⛺\", \"Tend\"],\n        [\"1F489\", \"💉\", \"Syringe\"],\n        [\"1F4D6\", \"📚\", \"Books\"],\n        [\"1F3AF\", \"🎯\", \"Archery\"],\n        [\"1F52E\", \"🔮\", \"Magic ball\"],\n        [\"1F3AD\", \"🎭\", \"Performing arts\"],\n        [\"1F3A8\", \"🎨\", \"Artist palette\"],\n        [\"1F457\", \"👗\", \"Dress\"],\n        [\"1F451\", \"👑\", \"Crown\"],\n        [\"1F48D\", \"💍\", \"Ring\"],\n        [\"1F48E\", \"💎\", \"Gem\"],\n        [\"1F514\", \"🔔\", \"Bell\"],\n        [\"1F3B2\", \"🎲\", \"Die\"],\n        // black and white icons in FF:\n        [\"26A0\", \"⚠\", \"Alert\"],\n        [\"2317\", \"⌗\", \"Hash\"],\n        [\"2318\", \"⌘\", \"POI\"],\n        [\"2307\", \"⌇\", \"Wavy\"],\n        [\"21E6\", \"⇦\", \"Left arrow\"],\n        [\"21E7\", \"⇧\", \"Top arrow\"],\n        [\"21E8\", \"⇨\", \"Right arrow\"],\n        [\"21E9\", \"⇩\", \"Left arrow\"],\n        [\"21F6\", \"⇶\", \"Three arrows\"],\n        [\"2699\", \"⚙\", \"Gear\"],\n        [\"269B\", \"⚛\", \"Atom\"],\n        [\"0024\", \"$\", \"Dollar\"],\n        [\"2680\", \"⚀\", \"Die1\"],\n        [\"2681\", \"⚁\", \"Die2\"],\n        [\"2682\", \"⚂\", \"Die3\"],\n        [\"2683\", \"⚃\", \"Die4\"],\n        [\"2684\", \"⚄\", \"Die5\"],\n        [\"2685\", \"⚅\", \"Die6\"],\n        [\"26B4\", \"⚴\", \"Pallas\"],\n        [\"26B5\", \"⚵\", \"Juno\"],\n        [\"26B6\", \"⚶\", \"Vesta\"],\n        [\"26B7\", \"⚷\", \"Chiron\"],\n        [\"26B8\", \"⚸\", \"Lilith\"],\n        [\"263F\", \"☿\", \"Mercury\"],\n        [\"2640\", \"♀\", \"Venus\"],\n        [\"2641\", \"♁\", \"Earth\"],\n        [\"2642\", \"♂\", \"Mars\"],\n        [\"2643\", \"♃\", \"Jupiter\"],\n        [\"2644\", \"♄\", \"Saturn\"],\n        [\"2645\", \"♅\", \"Uranus\"],\n        [\"2646\", \"♆\", \"Neptune\"],\n        [\"2647\", \"♇\", \"Pluto\"],\n        [\"26B3\", \"⚳\", \"Ceres\"],\n        [\"2654\", \"♔\", \"Chess king\"],\n        [\"2655\", \"♕\", \"Chess queen\"],\n        [\"2656\", \"♖\", \"Chess rook\"],\n        [\"2657\", \"♗\", \"Chess bishop\"],\n        [\"2658\", \"♘\", \"Chess knight\"],\n        [\"2659\", \"♙\", \"Chess pawn\"],\n        [\"2660\", \"♠\", \"Spade\"],\n        [\"2663\", \"♣\", \"Club\"],\n        [\"2665\", \"♥\", \"Heart\"],\n        [\"2666\", \"♦\", \"Diamond\"],\n        [\"2698\", \"⚘\", \"Flower\"],\n        [\"2625\", \"☥\", \"Ankh\"],\n        [\"2626\", \"☦\", \"Orthodox\"],\n        [\"2627\", \"☧\", \"Chi Rho\"],\n        [\"2628\", \"☨\", \"Lorraine\"],\n        [\"2629\", \"☩\", \"Jerusalem\"],\n        [\"2670\", \"♰\", \"Syriac cross\"],\n        [\"2020\", \"†\", \"Dagger\"],\n        [\"262A\", \"☪\", \"Muslim\"],\n        [\"262D\", \"☭\", \"Soviet\"],\n        [\"262E\", \"☮\", \"Peace\"],\n        [\"262F\", \"☯\", \"Yin yang\"],\n        [\"26A4\", \"⚤\", \"Heterosexuality\"],\n        [\"26A2\", \"⚢\", \"Female homosexuality\"],\n        [\"26A3\", \"⚣\", \"Male homosexuality\"],\n        [\"26A5\", \"⚥\", \"Male and female\"],\n        [\"26AD\", \"⚭\", \"Rings\"],\n        [\"2690\", \"⚐\", \"White flag\"],\n        [\"2691\", \"⚑\", \"Black flag\"],\n        [\"263C\", \"☼\", \"Sun\"],\n        [\"263E\", \"☾\", \"Moon\"],\n        [\"2668\", \"♨\", \"Hot springs\"],\n        [\"2600\", \"☀\", \"Black sun\"],\n        [\"2601\", \"☁\", \"Cloud\"],\n        [\"2602\", \"☂\", \"Umbrella\"],\n        [\"2603\", \"☃\", \"Snowman\"],\n        [\"2604\", \"☄\", \"Comet\"],\n        [\"2605\", \"★\", \"Black star\"],\n        [\"2606\", \"☆\", \"White star\"],\n        [\"269D\", \"⚝\", \"Outlined star\"],\n        [\"2618\", \"☘\", \"Shamrock\"],\n        [\"21AF\", \"↯\", \"Lightning\"],\n        [\"269C\", \"⚜\", \"FleurDeLis\"],\n        [\"2622\", \"☢\", \"Radiation\"],\n        [\"2623\", \"☣\", \"Biohazard\"],\n        [\"2620\", \"☠\", \"Skull\"],\n        [\"2638\", \"☸\", \"Dharma\"],\n        [\"2624\", \"☤\", \"Caduceus\"],\n        [\"2695\", \"⚕\", \"Aeculapius staff\"],\n        [\"269A\", \"⚚\", \"Hermes staff\"],\n        [\"2697\", \"⚗\", \"Alembic\"],\n        [\"266B\", \"♫\", \"Music\"],\n        [\"2702\", \"✂\", \"Scissors\"],\n        [\"2696\", \"⚖\", \"Scales\"],\n        [\"2692\", \"⚒\", \"Hammer and pick\"],\n        [\"2694\", \"⚔\", \"Swords\"]\n      ];\n\n      let table = document.getElementById(\"markerIconTable\"), row = \"\";\n      table.addEventListener(\"click\", clickMarkerIconTable, false);\n      table.addEventListener(\"mouseover\", hoverMarkerIconTable, false);\n\n      for (let i=0; i < icons.length; i++) {\n        if (i%20 === 0) row = table.insertRow(0);\n        let cell = row.insertCell(0);\n        let icon = String.fromCodePoint(parseInt(icons[i][0],16));\n        cell.innerHTML = icon;\n        cell.id = \"markerIcon\" + icon.codePointAt();\n        cell.setAttribute(\"data-desc\", icons[i][2]);\n      }\n    }\n\n    function clickMarkerIconTable(e) {\n      if (e.target !== e.currentTarget) {\n        let table = document.getElementById(\"markerIconTable\");\n        let selected = table.getElementsByClassName(\"selected\");\n        if (selected.length) selected[0].removeAttribute(\"class\");\n        e.target.className = \"selected\";\n        let id = elSelected.attr(\"href\");\n        let icon = e.target.innerHTML;\n        d3.select(\"#defs-markers\").select(id).select(\"text\").text(icon);\n      }\n      e.stopPropagation();\n    }\n\n    function hoverMarkerIconTable(e) {\n      if (e.target !== e.currentTarget) {\n        let desc = e.target.getAttribute(\"data-desc\");\n        tip(e.target.innerHTML + \" \" + desc);\n      }\n      e.stopPropagation();\n    }\n\n    // change marker icon size\n    document.getElementById(\"markerIconSize\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"font-size\", this.value + \"px\");\n    });\n\n    // change marker icon x shift\n    document.getElementById(\"markerIconShiftX\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"x\", this.value + \"%\");\n    });\n\n    // change marker icon y shift\n    document.getElementById(\"markerIconShiftY\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"y\", this.value + \"%\");\n    });\n\n    // apply custom unicode icon on input\n    document.getElementById(\"markerIconCustom\").addEventListener(\"input\", function() {\n      if (!this.value) return;\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").text(this.value);\n    });\n\n    $(\"#markerStyleButton\").click(function() {\n      $(\"#markerEditor > button\").not(this).toggle();\n      $(\"#markerStyleButtons\").toggle();\n    });\n\n    // change marker size\n    document.getElementById(\"markerSize\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"data-id\");\n      let used = document.querySelectorAll(\"use[data-id='\"+id+\"']\");\n      let size = this.value;\n      used.forEach(function(e) {e.setAttribute(\"data-size\", size);});\n      invokeActiveZooming();\n    });\n\n    // change marker base color\n    document.getElementById(\"markerBase\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(id).select(\"path\").attr(\"fill\", this.value);\n      d3.select(id).select(\"circle\").attr(\"stroke\", this.value);\n    });\n\n    // change marker fill color\n    document.getElementById(\"markerFill\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(id).select(\"circle\").attr(\"fill\", this.value);\n    });\n\n    // change marker icon y shift\n    document.getElementById(\"markerIconFill\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"fill\", this.value);\n    });\n\n    // change marker icon y shift\n    document.getElementById(\"markerIconStrokeWidth\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"stroke-width\", this.value);\n    });\n\n    // change marker icon y shift\n    document.getElementById(\"markerIconStroke\").addEventListener(\"input\", function() {\n      let id = elSelected.attr(\"href\");\n      d3.select(\"#defs-markers\").select(id).select(\"text\").attr(\"stroke\", this.value);\n    });\n\n    // toggle marker bubble display\n    document.getElementById(\"markerToggleBubble\").addEventListener(\"click\", function() {\n      let id = elSelected.attr(\"href\");\n      let show = 1;\n      if (this.className === \"icon-info-circled\") {\n        this.className = \"icon-info\";\n        show = 0;\n      } else {\n        this.className = \"icon-info-circled\";;\n      }\n      d3.select(id).select(\"circle\").attr(\"opacity\", show);\n      d3.select(id).select(\"path\").attr(\"opacity\", show);\n    });\n\n    // open legendsEditor\n    document.getElementById(\"markerLegendButton\").addEventListener(\"click\", function() {\n      let id = elSelected.attr(\"id\");\n      let symbol = elSelected.attr(\"href\");\n      let icon = d3.select(\"#defs-markers\").select(symbol).select(\"text\").text();\n      let name = \"Marker \" + icon;\n      editLegends(id, name);\n    });\n\n    // click on master button to add new markers on click\n    document.getElementById(\"markerAdd\").addEventListener(\"click\", function() {\n      document.getElementById(\"addMarker\").click();\n    });\n\n    // remove marker on click\n    document.getElementById(\"markerRemove\").addEventListener(\"click\", function() {\n      alertMessage.innerHTML = \"Are you sure you want to remove the marker?\";\n      $(\"#alert\").dialog({resizable: false, title: \"Remove marker\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            elSelected.remove();\n            $(\"#markerEditor\").dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n  }\n\n  // clear elSelected variable\n  function unselect() {\n    tip(\"\", true);\n    restoreDefaultEvents();\n    if (customization === 5) customization = 0;\n    if (!elSelected) return;\n    elSelected.call(d3.drag().on(\"drag\", null)).attr(\"class\", null);\n    debug.selectAll(\"*\").remove();\n    viewbox.style(\"cursor\", \"default\");\n    elSelected = null;\n  }\n\n  // transform string to array [translateX,translateY,rotateDeg,rotateX,rotateY,scale]\n  function parseTransform(string) {\n    if (!string) {return [0,0,0,0,0,1];}\n    const a = string.replace(/[a-z()]/g, \"\").replace(/[ ]/g, \",\").split(\",\");\n    return [a[0] || 0, a[1] || 0, a[2] || 0, a[3] || 0, a[4] || 0, a[5] || 1];\n  }\n\n  // generic function to move any burg to any group\n  function moveBurgToGroup(id, g) {\n    $(\"#burgLabels [data-id=\" + id + \"]\").detach().appendTo($(\"#burgLabels > #\"+g));\n    $(\"#burgIcons [data-id=\" + id + \"]\").detach().appendTo($(\"#burgIcons > #\"+g));\n    const rSize = $(\"#burgIcons > #\"+g).attr(\"size\");\n    $(\"#burgIcons [data-id=\" + id + \"]\").attr(\"r\", rSize);\n    const el = $(\"#icons g[id*='anchors'] [data-id=\" + id + \"]\");\n    if (el.length) {\n      const to = g === \"towns\" ? $(\"#town-anchors\") : $(\"#capital-anchors\");\n      el.detach().appendTo(to);\n      const useSize = to.attr(\"size\");\n      const x = rn(manors[id].x - useSize * 0.47, 2);\n      const y = rn(manors[id].y - useSize * 0.47, 2);\n      el.attr(\"x\", x).attr(\"y\", y).attr(\"width\", useSize).attr(\"height\", useSize);\n    }\n    updateCountryEditors();\n  }\n\n  // generate cultures for a new map based on options and namesbase\n  function generateCultures() {\n    const count = +culturesInput.value;\n    cultures = d3.shuffle(defaultCultures).slice(0, count);\n    const centers = d3.range(cultures.length).map(function(d, i) {\n      const x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      const y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      const center = [x, y];\n      cultures[i].center = center;\n      return center;\n    });\n    cultureTree = d3.quadtree(centers);\n  }\n\n  function manorsAndRegions() {\n    console.group('manorsAndRegions');\n    calculateChains();\n    rankPlacesGeography();\n    locateCapitals();\n    generateMainRoads();\n    rankPlacesEconomy();\n    locateTowns();\n    getNames();\n    shiftSettlements();\n    checkAccessibility();\n    defineRegions(\"withCultures\");\n    generatePortRoads();\n    generateSmallRoads();\n    generateOceanRoutes();\n    calculatePopulation();\n    drawManors();\n    drawRegions();\n    console.groupEnd('manorsAndRegions');\n  }\n\n  // Assess cells geographycal suitability for settlement\n  function rankPlacesGeography() {\n    console.time('rankPlacesGeography');\n    land.map(function(c) {\n      let score = 0;\n      c.flux = rn(c.flux, 2);\n      // get base score from height (will be biom)\n      if (c.height <= 40) score = 2;\n      else if (c.height <= 50) score = 1.8;\n      else if (c.height <= 60) score = 1.6;\n      else if (c.height <= 80) score = 1.4;\n      score += (1 - c.height / 100) / 3;\n      if (c.ctype && Math.random() < 0.8 && !c.river) {\n        c.score = 0; // ignore 80% of extended cells\n      } else {\n        if (c.harbor) {\n          if (c.harbor === 1) {score += 1;} else {score -= 0.3;} // good sea harbor is valued\n        }\n        if (c.river) score += 1; // coastline is valued\n        if (c.river && c.ctype === 1) score += 1; // estuary is valued\n        if (c.flux > 1) score += Math.pow(c.flux, 0.3); // riverbank is valued\n        if (c.confluence) score += Math.pow(c.confluence, 0.7); // confluence is valued;\n        const neighbEv = c.neighbors.map(function(n) {if (cells[n].height >= 20) return cells[n].height;});\n        const difEv = c.height - d3.mean(neighbEv);\n        // if (!isNaN(difEv)) score += difEv * 10 * (1 - c.height / 100); // local height maximums are valued\n      }\n      c.score = rn(Math.random() * score + score, 3); // add random factor\n    });\n    land.sort(function(a, b) {return b.score - a.score;});\n    console.timeEnd('rankPlacesGeography');\n  }\n\n  // Assess the cells economical suitability for settlement\n  function rankPlacesEconomy() {\n    console.time('rankPlacesEconomy');\n    land.map(function(c) {\n      let score = c.score;\n      let path = c.path || 0; // roads are valued\n      if (path) {\n        path = Math.pow(path, 0.2);\n        const crossroad = c.crossroad || 0; // crossroads are valued\n        score = score + path + crossroad;\n      }\n      c.score = rn(Math.random() * score + score, 2); // add random factor\n    });\n    land.sort(function(a, b) {return b.score - a.score;});\n    console.timeEnd('rankPlacesEconomy');\n  }\n\n   // calculate population for manors, cells and states\n  function calculatePopulation() {\n    // neutral population factors < 1 as neutral lands are usually pretty wild\n    const ruralFactor = 0.5, urbanFactor = 0.9;\n\n    // calculate population for each burg (based on trade/people attractors)\n    manors.map(function(m) {\n      const cell = cells[m.cell];\n      let score = cell.score;\n      if (score <= 0) {score = rn(Math.random(), 2)}\n      if (cell.crossroad) {score += cell.crossroad;} // crossroads\n      if (cell.confluence) {score += Math.pow(cell.confluence, 0.3);} // confluences\n      if (m.i !== m.region && cell.port) {score *= 1.5;} // ports (not capital)\n      if (m.i === m.region && !cell.port) {score *= 2;} // land-capitals\n      if (m.i === m.region && cell.port) {score *= 3;} // port-capitals\n      if (m.region === \"neutral\") score *= urbanFactor;\n      const rnd = 0.6 + Math.random() * 0.8; // random factor\n      m.population = rn(score * rnd, 1);\n    });\n\n    // calculate rural population for each cell based on area + elevation (elevation to be changed to biome)\n    const graphSizeAdj = 90 / Math.sqrt(cells.length, 2); // adjust to different graphSize\n    land.map(function(l) {\n      let population = 0;\n      const elevationFactor = Math.pow(1 - l.height / 100, 3);\n      population = elevationFactor * l.area * graphSizeAdj;\n      if (l.region === \"neutral\") population *= ruralFactor;\n      l.pop = rn(population, 1);\n    });\n\n    // calculate population for each region\n    states.map(function(s, i) {\n      // define region burgs count\n      const burgs = $.grep(manors, function (e) {\n        return e.region === i;\n      });\n      s.burgs = burgs.length;\n      // define region total and burgs population\n      let burgsPop = 0; // get summ of all burgs population\n      burgs.map(function(b) {burgsPop += b.population;});\n      s.urbanPopulation = rn(burgsPop, 2);\n      const regionCells = $.grep(cells, function (e) {\n        return e.region === i;\n      });\n      let cellsPop = 0;\n      regionCells.map(function(c) {cellsPop += c.pop});\n      s.cells = regionCells.length;\n      s.ruralPopulation = rn(cellsPop, 1);\n    });\n\n    // collect data for neutrals\n    const neutralCells = $.grep(cells, function(e) {return e.region === \"neutral\";});\n    if (neutralCells.length) {\n      let burgs = 0, urbanPopulation = 0, ruralPopulation = 0, area = 0;\n      manors.forEach(function(m) {\n        if (m.region !== \"neutral\") return;\n        urbanPopulation += m.population;\n        burgs++;\n      });\n      neutralCells.forEach(function(c) {\n        ruralPopulation += c.pop;\n        area += cells[c.index].area;\n      });\n      states.push({i: states.length, color: \"neutral\", name: \"Neutrals\", capital: \"neutral\",\n        cells: neutralCells.length, burgs, urbanPopulation: rn(urbanPopulation, 2),\n        ruralPopulation: rn(ruralPopulation, 2), area: rn(area)});\n    }\n  }\n\n  function locateCapitals() {\n    console.time('locateCapitals');\n    // min distance detween capitals\n    const count = +regionsInput.value;\n    let spacing = (graphWidth + graphHeight) / 2 / count;\n    console.log(\" states: \" + count);\n\n    for (let l = 0; manors.length < count; l++) {\n      const region = manors.length;\n      const x = land[l].data[0],y = land[l].data[1];\n      let minDist = 10000; // dummy value\n      for (let c = 0; c < manors.length; c++) {\n        const dist = Math.hypot(x - manors[c].x, y - manors[c].y);\n        if (dist < minDist) minDist = dist;\n        if (minDist < spacing) break;\n      }\n      if (minDist >= spacing) {\n        const cell = land[l].index;\n        const closest = cultureTree.find(x, y);\n        const culture = getCultureId(closest);\n        manors.push({i: region, cell, x, y, region, culture});\n      }\n      if (l === land.length - 1) {\n        console.error(\"Cannot place capitals with current spacing. Trying again with reduced spacing\");\n        l = -1, manors = [], spacing /= 1.2;\n      }\n    }\n\n    // For each capital create a country\n    const scheme = count <= 8 ? colors8 : colors20;\n    const mod = +powerInput.value;\n    manors.forEach(function(m, i) {\n      const power = rn(Math.random() * mod / 2 + 1, 1);\n      const color = scheme(i / count);\n      states.push({i, color, power, capital: i});\n      const p = cells[m.cell];\n      p.manor = i;\n      p.region = i;\n      p.culture = m.culture;\n    });\n    console.timeEnd('locateCapitals');\n  }\n\n  function locateTowns() {\n    console.time('locateTowns');\n    const count = +manorsInput.value;\n    const neutral = +neutralInput.value;\n    const manorTree = d3.quadtree();\n    manors.forEach(function(m) {manorTree.add([m.x, m.y]);});\n\n    for (let l = 0; manors.length < count && l < land.length; l++) {\n      const x = land[l].data[0],y = land[l].data[1];\n      const c = manorTree.find(x, y);\n      const d = Math.hypot(x - c[0],y - c[1]);\n      if (d < 6) continue;\n      const cell = land[l].index;\n      let region = \"neutral\", culture = -1, closest = neutral;\n      for (let c = 0; c < states.length; c++) {\n        let dist = Math.hypot(manors[c].x - x, manors[c].y - y) / states[c].power;\n        const cap = manors[c].cell;\n        if (cells[cell].fn !== cells[cap].fn) dist *= 3;\n        if (dist < closest) {region = c; closest = dist;}\n      }\n      if (closest > neutral / 5 || region === \"neutral\") {\n        const closestCulture = cultureTree.find(x, y);\n        culture = getCultureId(closestCulture);\n      } else {\n        culture = manors[region].culture;\n      }\n      land[l].manor = manors.length;\n      land[l].culture = culture;\n      land[l].region = region;\n      manors.push({i: manors.length, cell, x, y, region, culture});\n      manorTree.add([x, y]);\n    }\n    if (manors.length < count) {\n      const error = \"Cannot place all burgs. Requested \" + count + \", placed \" + manors.length;\n      console.error(error);\n    }\n    console.timeEnd('locateTowns');\n  }\n\n  // shift settlements from cell point\n  function shiftSettlements() {\n    for (let i=0; i < manors.length; i++) {\n      const capital = i < regionsInput.value;\n      const cell = cells[manors[i].cell];\n      let x = manors[i].x, y = manors[i].y;\n      if ((capital && cell.harbor) || cell.harbor === 1) {\n        // port: capital with any harbor and towns with good harbors\n        if (cell.haven === undefined) {\n          cell.harbor = undefined;\n        } else {\n          cell.port = cells[cell.haven].fn;\n          x = cell.coastX;\n          y = cell.coastY;\n        }\n      }\n      if (cell.river && cell.type !== 1) {\n        let shift = 0.2 * cell.flux;\n        if (shift < 0.2) shift = 0.2;\n        if (shift > 1) shift = 1;\n        shift = Math.random() > .5 ? shift : shift * -1;\n        x = rn(x + shift, 2);\n        shift = Math.random() > .5 ? shift : shift * -1;\n        y = rn(y + shift, 2);\n      }\n      cell.data[0] = manors[i].x = x;\n      cell.data[1] = manors[i].y = y;\n    }\n  }\n\n  // Validate each island with manors has port\n  function checkAccessibility() {\n    console.time(\"checkAccessibility\");\n    for (let f = 0; f < features.length; f++) {\n      if (!features[f].land) continue;\n      const manorsOnIsland = $.grep(land, function (e) {\n        return e.manor !== undefined && e.fn === f;\n      });\n      if (!manorsOnIsland.length) continue;\n\n      // if lake port is the only port on lake, remove port\n      const lakePorts = $.grep(manorsOnIsland, function (p) {\n        return p.port && !features[p.port].border;\n      });\n      if (lakePorts.length) {\n        const lakes = [];\n        lakePorts.forEach(function(p) {lakes[p.port] = lakes[p.port] ? lakes[p.port] + 1 : 1;});\n        lakePorts.forEach(function(p) {if (lakes[p.port] === 1) p.port = undefined;});\n      }\n\n      // check how many ocean ports are there on island\n      const oceanPorts = $.grep(manorsOnIsland, function (p) {\n        return p.port && features[p.port].border;\n      });\n      if (oceanPorts.length) continue;\n      const portCandidates = $.grep(manorsOnIsland, function (c) {\n        return c.harbor && features[cells[c.harbor].fn].border && c.ctype === 1;\n      });\n      if (portCandidates.length) {\n        // No ports on island. Upgrading first burg to port\n        const candidate = portCandidates[0];\n        candidate.harbor = 1;\n        candidate.port = cells[candidate.haven].fn;\n        const manor = manors[portCandidates[0].manor];\n        candidate.data[0] = manor.x = candidate.coastX;\n        candidate.data[1] = manor.y = candidate.coastY;\n        // add score for each burg on island (as it's the only port)\n        candidate.score += Math.floor((portCandidates.length - 1) / 2);\n      } else {\n        // No ports on island. Reducing score for burgs\n        manorsOnIsland.forEach(function(e) {e.score -= 2;});\n      }\n    }\n  console.timeEnd(\"checkAccessibility\");\n  }\n\n  function generateMainRoads() {\n    console.time(\"generateMainRoads\");\n    lineGen.curve(d3.curveBasis);\n    if (states.length < 2 || manors.length < 2) return;\n    for (let f = 0; f < features.length; f++) {\n      if (!features[f].land) continue;\n      const manorsOnIsland = $.grep(land, function(e) {return e.manor !== undefined && e.fn === f;});\n      if (manorsOnIsland.length > 1) {\n        for (let d = 1; d < manorsOnIsland.length; d++) {\n          for (let m = 0; m < d; m++) {\n            const path = findLandPath(manorsOnIsland[d].index, manorsOnIsland[m].index, \"main\");\n            restorePath(manorsOnIsland[m].index, manorsOnIsland[d].index, \"main\", path);\n          }\n        }\n      }\n    }\n    console.timeEnd(\"generateMainRoads\");\n  }\n\n  // add roads from port to capital if capital is not a port\n  function generatePortRoads() {\n    console.time(\"generatePortRoads\");\n    if (!states.length || manors.length < 2) return;\n    const portless = [];\n    for (let s=0; s < states.length; s++) {\n      const cell = manors[s].cell;\n      if (cells[cell].port === undefined) portless.push(s);\n    }\n    for (let l=0; l < portless.length; l++) {\n      const ports = $.grep(land, function(l) {return l.port !== undefined && l.region === portless[l];});\n      if (!ports.length) continue;\n      let minDist = 1000, end = -1;\n      ports.map(function(p) {\n        const dist = Math.hypot(e.data[0] - p.data[0],e.data[1] - p.data[1]);\n        if (dist < minDist && dist > 1) {minDist = dist; end = p.index;}\n      });\n      if (end !== -1) {\n        const start = manors[portless[l]].cell;\n        const path = findLandPath(start, end, \"direct\");\n        restorePath(end, start, \"main\", path);\n      }\n    }\n    console.timeEnd(\"generatePortRoads\");\n  }\n\n  function generateSmallRoads() {\n    console.time(\"generateSmallRoads\");\n    if (manors.length < 2) return;\n    for (let f = 0; f < features.length; f++) {\n      const manorsOnIsland = $.grep(land, function (e) {\n        return e.manor !== undefined && e.fn === f;\n      });\n      const l = manorsOnIsland.length;\n      if (l > 1) {\n        const secondary = rn((l + 8) / 10);\n        for (let s = 0; s < secondary; s++) {\n          var start = manorsOnIsland[Math.floor(Math.random() * l)].index;\n          var end = manorsOnIsland[Math.floor(Math.random() * l)].index;\n          var dist = Math.hypot(cells[start].data[0] - cells[end].data[0],cells[start].data[1] - cells[end].data[1]);\n          if (dist > 10) {\n            var path = findLandPath(start, end, \"direct\");\n            restorePath(end, start, \"small\", path);\n          }\n        }\n        manorsOnIsland.map(function(e, d) {\n          if (!e.path && d > 0) {\n            const start = e.index;\n            let end = -1;\n            const road = $.grep(land, function (e) {\n              return e.path && e.fn === f;\n            });\n            if (road.length > 0) {\n              let minDist = 10000;\n              road.map(function(i) {\n                const dist = Math.hypot(e.data[0] - i.data[0], e.data[1] - i.data[1]);\n                if (dist < minDist) {minDist = dist; end = i.index;}\n              });\n            } else {\n              end = manorsOnIsland[0].index;\n            }\n            const path = findLandPath(start, end, \"main\");\n            restorePath(end, start, \"small\", path);\n          }\n        });\n      }\n    }\n    console.timeEnd(\"generateSmallRoads\");\n  }\n\n  function generateOceanRoutes() {\n    console.time(\"generateOceanRoutes\");\n    lineGen.curve(d3.curveBasis);\n    const cAnchors = icons.selectAll(\"#capital-anchors\");\n    const tAnchors = icons.selectAll(\"#town-anchors\");\n    const cSize = cAnchors.attr(\"size\") || 2;\n    const tSize = tAnchors.attr(\"size\") || 1;\n\n    const ports = [];\n    // groups all ports on water feature\n    for (let m = 0; m < manors.length; m++) {\n      const cell = manors[m].cell;\n      const port = cells[cell].port;\n      if (port === undefined) continue;\n      if (ports[port] === undefined) ports[port] = [];\n      ports[port].push(cell);\n\n      // draw anchor icon\n      const group = m < states.length ? cAnchors : tAnchors;\n      const size = m < states.length ? cSize : tSize;\n      const x = rn(cells[cell].data[0] - size * 0.47, 2);\n      const y = rn(cells[cell].data[1] - size * 0.47, 2);\n      group.append(\"use\").attr(\"xlink:href\", \"#icon-anchor\").attr(\"data-id\", m)\n        .attr(\"x\", x).attr(\"y\", y).attr(\"width\", size).attr(\"height\", size);\n      icons.selectAll(\"use\").on(\"click\", editIcon);\n    }\n\n    for (let w = 0; w < ports.length; w++) {\n      if (!ports[w]) continue;\n      if (ports[w].length < 2) continue;\n      const onIsland = [];\n      for (let i = 0; i < ports[w].length; i++) {\n        const cell = ports[w][i];\n        const fn = cells[cell].fn;\n        if (onIsland[fn] === undefined) onIsland[fn] = [];\n        onIsland[fn].push(cell);\n      }\n\n      for (let fn = 0; fn < onIsland.length; fn++) {\n        if (!onIsland[fn]) continue;\n        if (onIsland[fn].length < 2) continue;\n        const start = onIsland[fn][0];\n        const paths = findOceanPaths(start, -1);\n\n        for (let h=1; h < onIsland[fn].length; h++) {\n          // routes from all ports on island to 1st port on island\n          restorePath(onIsland[fn][h],start, \"ocean\", paths);\n        }\n\n        // inter-island routes\n        for (let c=fn+1; c < onIsland.length; c++) {\n          if (!onIsland[c]) continue;\n          if (!onIsland[c].length) continue;\n          if (onIsland[fn].length > 3) {\n            const end = onIsland[c][0];\n            restorePath(end, start, \"ocean\", paths);\n          }\n        }\n\n        if (features[w].border && !features[fn].border && onIsland[fn].length > 5) {\n          // encircle the island\n          onIsland[fn].sort(function(a, b) {return cells[b].cost - cells[a].cost;});\n          for (let a = 2; a < onIsland[fn].length && a < 10; a++) {\n            const from = onIsland[fn][1],to = onIsland[fn][a];\n            const dist = Math.hypot(cells[from].data[0] - cells[to].data[0],cells[from].data[1] - cells[to].data[1]);\n            const distPath = getPathDist(from, to);\n            if (distPath > dist * 4 + 10) {\n              const totalCost = cells[from].cost + cells[to].cost;\n              const pathsAdd = findOceanPaths(from, to);\n              if (cells[to].cost < totalCost) {\n                restorePath(to, from, \"ocean\", pathsAdd);\n                break;\n              }\n            }\n          }\n        }\n\n      }\n\n    }\n    console.timeEnd(\"generateOceanRoutes\");\n  }\n\n  function findLandPath(start, end, type) {\n    // A* algorithm\n    const queue = new PriorityQueue({\n      comparator: function (a, b) {\n        return a.p - b.p\n      }\n    });\n    const cameFrom = [];\n    const costTotal = [];\n    costTotal[start] = 0;\n    queue.queue({e: start, p: 0});\n    while (queue.length > 0) {\n      const next = queue.dequeue().e;\n      if (next === end) {break;}\n      const pol = cells[next];\n      pol.neighbors.forEach(function(e) {\n        if (cells[e].height >= 20) {\n          let cost = cells[e].height / 100 * 2;\n          if (cells[e].path && type === \"main\") {\n            cost = 0.15;\n          } else {\n            if (typeof e.manor === \"undefined\") {cost += 0.1;}\n            if (typeof e.river !== \"undefined\") {cost -= 0.1;}\n            if (cells[e].harbor) {cost *= 0.3;}\n            if (cells[e].path) {cost *= 0.5;}\n            cost += Math.hypot(cells[e].data[0] - pol.data[0],cells[e].data[1] - pol.data[1]) / 30;\n          }\n          const costNew = costTotal[next] + cost;\n          if (!cameFrom[e] || costNew < costTotal[e]) { //\n            costTotal[e] = costNew;\n            cameFrom[e] = next;\n            const dist = Math.hypot(cells[e].data[0] - cells[end].data[0], cells[e].data[1] - cells[end].data[1]) / 15;\n            const priority = costNew + dist;\n            queue.queue({e, p: priority});\n          }\n        }\n      });\n    }\n    return cameFrom;\n  }\n\n  function findLandPaths(start, type) {\n    // Dijkstra algorithm (not used now)\n    const queue = new PriorityQueue({comparator: function(a, b) {return a.p - b.p}});\n    const cameFrom = [],costTotal = [];\n    cameFrom[start] = \"no\", costTotal[start] = 0;\n    queue.queue({e: start, p: 0});\n    while (queue.length > 0) {\n      const next = queue.dequeue().e;\n      const pol = cells[next];\n      pol.neighbors.forEach(function(e) {\n        if (cells[e].height < 20) return;\n        let cost = cells[e].height / 100 * 2;\n        if (e.river !== undefined) cost -= 0.2;\n        if (pol.region !== cells[e].region) cost += 1;\n        if (cells[e].region === \"neutral\") cost += 1;\n        if (e.manor !== undefined) cost = 0.1;\n        const costNew = costTotal[next] + cost;\n        if (!cameFrom[e]) {\n          costTotal[e] = costNew;\n          cameFrom[e] = next;\n          queue.queue({e, p: costNew});\n        }\n      });\n    }\n    return cameFrom;\n  }\n\n  function findOceanPaths(start, end) {\n    const queue = new PriorityQueue({comparator: function(a, b) {return a.p - b.p}});\n    let next;\n    const cameFrom = [],costTotal = [];\n    cameFrom[start] = \"no\", costTotal[start] = 0;\n    queue.queue({e: start, p: 0});\n    while (queue.length > 0 && next !== end) {\n      next = queue.dequeue().e;\n      const pol = cells[next];\n      pol.neighbors.forEach(function(e) {\n        if (cells[e].ctype < 0 || cells[e].haven === next) {\n          let cost = 1;\n          if (cells[e].ctype > 0) cost += 100;\n          if (cells[e].ctype < -1) {\n            const dist = Math.hypot(cells[e].data[0] - pol.data[0],cells[e].data[1] - pol.data[1]);\n            cost += 50 + dist * 2;\n          }\n          if (cells[e].path && cells[e].ctype < 0) cost *= 0.8;\n          const costNew = costTotal[next] + cost;\n          if (!cameFrom[e]) {\n            costTotal[e] = costNew;\n            cells[e].cost = costNew;\n            cameFrom[e] = next;\n            queue.queue({e, p: costNew});\n          }\n        }\n      });\n    }\n    return cameFrom;\n  }\n\n  function getPathDist(start, end) {\n    const queue = new PriorityQueue({\n      comparator: function (a, b) {\n        return a.p - b.p\n      }\n    });\n    let next, costNew;\n    const cameFrom = [];\n    const costTotal = [];\n    cameFrom[start] = \"no\";\n    costTotal[start] = 0;\n    queue.queue({e: start, p: 0});\n    while (queue.length > 0 && next !== end) {\n      next = queue.dequeue().e;\n      const pol = cells[next];\n      pol.neighbors.forEach(function(e) {\n        if (cells[e].path && (cells[e].ctype === -1 || cells[e].haven === next)) {\n          const dist = Math.hypot(cells[e].data[0] - pol.data[0], cells[e].data[1] - pol.data[1]);\n          costNew = costTotal[next] + dist;\n          if (!cameFrom[e]) {\n            costTotal[e] = costNew;\n            cameFrom[e] = next;\n            queue.queue({e, p: costNew});\n          }\n        }\n      });\n    }\n    return costNew;\n  }\n\n  function restorePath(end, start, type, from) {\n    let path = [], current = end;\n    const limit = 1000;\n    let prev = cells[end];\n    if (type === \"ocean\" || !prev.path) {path.push({scX: prev.data[0],scY: prev.data[1],i: end});}\n    if (!prev.path) {prev.path = 1;}\n    for (let i = 0; i < limit; i++) {\n      current = from[current];\n      let cur = cells[current];\n      if (!cur) {break;}\n      if (cur.path) {\n        cur.path += 1;\n        path.push({scX: cur.data[0],scY: cur.data[1],i: current});\n        prev = cur;\n        drawPath();\n      } else {\n        cur.path = 1;\n        if (prev) {path.push({scX: prev.data[0],scY: prev.data[1],i: prev.index});}\n        prev = undefined;\n        path.push({scX: cur.data[0],scY: cur.data[1],i: current});\n      }\n      if (current === start || !from[current]) {break;}\n    }\n    drawPath();\n    function drawPath() {\n      if (path.length > 1) {\n        // mark crossroades\n        if (type === \"main\" || type === \"small\") {\n          const plus = type === \"main\" ? 4 : 2;\n          const f = cells[path[0].i];\n          if (f.path > 1) {\n            if (!f.crossroad) {f.crossroad = 0;}\n            f.crossroad += plus;\n          }\n          const t = cells[(path[path.length - 1].i)];\n          if (t.path > 1) {\n            if (!t.crossroad) {t.crossroad = 0;}\n            t.crossroad += plus;\n          }\n        }\n        // draw path segments\n        let line = lineGen(path);\n        line = round(line, 1);\n        let id = 0; // to create unique route id\n        if (type === \"main\") {\n          id = roads.selectAll(\"path\").size();\n          roads.append(\"path\").attr(\"d\", line).attr(\"id\", \"road\"+id).on(\"click\", editRoute);\n        } else if (type === \"small\") {\n          id = trails.selectAll(\"path\").size();\n          trails.append(\"path\").attr(\"d\", line).attr(\"id\", \"trail\"+id).on(\"click\", editRoute);\n        } else if (type === \"ocean\") {\n          id = searoutes.selectAll(\"path\").size();\n          searoutes.append(\"path\").attr(\"d\", line).attr(\"id\", \"searoute\"+id).on(\"click\", editRoute);\n        }\n      }\n      path = [];\n    }\n  }\n\n  // Append burg elements\n  function drawManors() {\n    console.time('drawManors');\n    const capitalIcons = burgIcons.select(\"#capitals\");\n    const capitalLabels = burgLabels.select(\"#capitals\");\n    const townIcons = burgIcons.select(\"#towns\");\n    const townLabels = burgLabels.select(\"#towns\");\n    const capitalSize = capitalIcons.attr(\"size\") || 1;\n    const townSize = townIcons.attr(\"size\") || 0.5;\n    capitalIcons.selectAll(\"*\").remove();\n    capitalLabels.selectAll(\"*\").remove();\n    townIcons.selectAll(\"*\").remove();\n    townLabels.selectAll(\"*\").remove();\n\n    for (let i = 0; i < manors.length; i++) {\n      const x = manors[i].x, y = manors[i].y;\n      const cell = manors[i].cell;\n      const name = manors[i].name;\n      const ic = i < states.length ? capitalIcons : townIcons;\n      const lb = i < states.length ? capitalLabels : townLabels;\n      const size = i < states.length ? capitalSize : townSize;\n      ic.append(\"circle\").attr(\"id\", \"burg\"+i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", size).on(\"click\", editBurg);\n      lb.append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n    }\n    console.timeEnd('drawManors');\n  }\n\n  // get settlement and country names based on option selected\n  function getNames() {\n    console.time('getNames');\n    // if names source is an external resource\n    if (namesInput.value === \"1\") {\n      const request = new XMLHttpRequest();\n      const url = \"https://archivist.xalops.com/archivist-core/api/name/settlement?count=\";\n      request.open(\"GET\", url+manors.length, true);\n      request.onload = function() {\n        const names = JSON.parse(request.responseText);\n        for (let i=0; i < manors.length; i++) {\n          manors[i].name = names[i];\n          burgLabels.select(\"[data-id='\" + i + \"']\").text(names[i]);\n          if (i < states.length) {\n            states[i].name = generateStateName(i);\n            labels.select(\"#countries\").select(\"#regionLabel\"+i).text(states[i].name);\n          }\n        }\n        console.log(names);\n      };\n      request.send(null);\n    }\n\n    if (namesInput.value !== \"0\") return;\n    for (let i=0; i < manors.length; i++) {\n      const culture = manors[i].culture;\n      manors[i].name = generateName(culture);\n      if (i < states.length) states[i].name = generateStateName(i);\n    }\n    console.timeEnd('getNames');\n  }\n\n  function calculateChains() {\n    for (let c=0; c < nameBase.length; c++) {\n      chain[c] = calculateChain(c);\n    }\n  }\n\n  // calculate Markov's chain from namesbase data\n  function calculateChain(c) {\n    const chain = [];\n    const d = nameBase[c].join(\" \").toLowerCase();\n    const method = nameBases[c].method;\n\n    for (let i = -1, prev = \" \", str = \"\"; i < d.length - 2; prev = str, i += str.length, str = \"\") {\n      let vowel = 0, f = \" \";\n      if (method === \"let-to-let\") {str = d[i+1];} else {\n        for (let c=i+1; str.length < 5; c++) {\n          if (d[c] === undefined) break;\n          str += d[c];\n          if (str === \" \") break;\n          if (d[c] !== \"o\" && d[c] !== \"e\" && vowels.includes(d[c]) && d[c+1] === d[c]) break;\n          if (d[c+2] === \" \") {str += d[c+1]; break;}\n          if (vowels.includes(d[c])) vowel++;\n          if (vowel && vowels.includes(d[c+2])) break;\n        }\n      }\n      if (i >= 0) {\n        f = d[i];\n        if (method === \"syl-to-syl\") f = prev;\n      }\n      if (chain[f] === undefined) chain[f] = [];\n      chain[f].push(str);\n    }\n    return chain;\n  }\n\n  // generate random name using Markov's chain\n  function generateName(culture, base) {\n    if (base === undefined) {\n      if (!cultures[culture]) {\n        console.error(\"culture \" + culture + \" is not defined. Will load default cultures and set first culture\");\n        generateCultures();\n        culture = 0;\n      }\n      base = cultures[culture].base;\n    }\n    if (!nameBases[base]) {\n      console.error(\"nameBase \" + base + \" is not defined. Will load default names data and first base\");\n      if (!nameBases[0]) applyDefaultNamesData();\n      base = 0;\n    }\n    const method = nameBases[base].method;\n    const error = function(base) {\n      tip(\"Names data for base \" + nameBases[base].name + \" is incorrect. Please fix in Namesbase Editor\");\n      editNamesbase();\n    };\n\n    if (method === \"selection\") {\n      if (nameBase[base].length < 1) {error(base); return;}\n      const rnd = rand(nameBase[base].length - 1);\n      const name = nameBase[base][rnd];\n      return name;\n    }\n\n    const data = chain[base];\n    if (data === undefined || data[\" \"] === undefined) {error(base); return;}\n    const max = nameBases[base].max;\n    const min = nameBases[base].min;\n    const d = nameBases[base].d;\n    let word = \"\", variants = data[\" \"];\n    if (variants === undefined) {\n      error(base);\n      return;\n    }\n    let cur = variants[rand(variants.length - 1)];\n    for (let i=0; i < 21; i++) {\n      if (cur === \" \" && Math.random() < 0.8) {\n        // space means word end, but we don't want to end if word is too short\n        if (word.length < min) {\n          word = \"\";\n          variants = data[\" \"];\n        } else {break;}\n      } else {\n        const l = method === \"let-to-syl\" && cur.length > 1 ? cur[cur.length - 1] : cur;\n        variants = data[l];\n        // word is getting too long, restart\n        word += cur; // add current el to word\n        if (word.length > max) word = \"\";\n      }\n      if (variants === undefined) {\n        error(base);\n        return;\n      }\n      cur = variants[rand(variants.length - 1)];\n    }\n    // very rare case, let's just select a random name\n    if (word.length < 2) word = nameBase[base][rand(nameBase[base].length - 1)];\n\n    // do not allow multi-word name if word is foo short or not allowed for culture\n    if (word.includes(\" \")) {\n      let words = word.split(\" \"), parsed;\n      if (Math.random() > nameBases[base].m) {word = words.join(\"\");}\n      else {\n        for (let i=0; i < words.length; i++) {\n          if (words[i].length < 2) {\n            if (!i) words[1] = words[0] + words[1];\n            if (i) words[i-1] = words[i-1] + words[i];\n            words.splice(i, 1);\n        \t  i--;\n          }\n        }\n        word = words.join(\" \");\n      }\n    }\n\n    // parse word to get a final name\n    const name = [...word].reduce(function(r, c, i, data) {\n      if (c === \" \") {\n        if (!r.length) return \"\";\n        if (i+1 === data.length) return r;\n      }\n      if (!r.length) return c.toUpperCase();\n      if (r.slice(-1) === \" \") return r + c.toUpperCase();\n      if (c === data[i-1]) {\n        if (!d.includes(c)) return r;\n        if (c === data[i-2]) return r;\n      }\n      return r + c;\n    }, \"\");\n    return name;\n  }\n\n  // Define areas based on the closest manor to a polygon\n  function defineRegions(withCultures) {\n    console.time('defineRegions');\n    const manorTree = d3.quadtree();\n    manors.forEach(function(m) {if (m.region !== \"removed\") manorTree.add([m.x, m.y]);});\n\n    const neutral = +neutralInput.value;\n    land.forEach(function(i) {\n      if (i.manor !== undefined && manors[i.manor].region !== \"removed\") {\n        i.region = manors[i.manor].region;\n        if (withCultures && manors[i.manor].culture !== undefined) i.culture = manors[i.manor].culture;\n        return;\n      }\n      const x = i.data[0],y = i.data[1];\n\n      let dist = 100000, manor = null;\n      if (manors.length) {\n        const c = manorTree.find(x, y);\n        dist = Math.hypot(c[0] - x, c[1] - y);\n        manor = getManorId(c);\n      }\n      if (dist > neutral / 2 || manor === null) {\n        i.region = \"neutral\";\n        if (withCultures) {\n          const closestCulture = cultureTree.find(x, y);\n          i.culture = getCultureId(closestCulture);\n        }\n      } else {\n        const cell = manors[manor].cell;\n        if (cells[cell].fn !== i.fn) {\n          let minDist = dist * 3;\n          land.forEach(function(l) {\n            if (l.fn === i.fn && l.manor !== undefined) {\n              if (manors[l.manor].region === \"removed\") return;\n              const distN = Math.hypot(l.data[0] - x, l.data[1] - y);\n              if (distN < minDist) {minDist = distN; manor = l.manor;}\n            }\n          });\n        }\n        i.region = manors[manor].region;\n        if (withCultures) i.culture = manors[manor].culture;\n      }\n    });\n    console.timeEnd('defineRegions');\n  }\n\n  // Define areas cells\n  function drawRegions() {\n    console.time('drawRegions');\n    labels.select(\"#countries\").selectAll(\"*\").remove();\n\n    // arrays to store edge data\n    const edges = [],coastalEdges = [],borderEdges = [],neutralEdges = [];\n    for (let a=0; a < states.length; a++) {\n      edges[a] = [];\n      coastalEdges[a] = [];\n    }\n    const e = diagram.edges;\n    for (let i=0; i < e.length; i++) {\n      if (e[i] === undefined) continue;\n      const start = e[i][0].join(\" \");\n      const end = e[i][1].join(\" \");\n      const p = {start, end};\n      if (e[i].left === undefined) {\n        const r = e[i].right.index;\n        const rr = cells[r].region;\n        if (Number.isInteger(rr)) edges[rr].push(p);\n        continue;\n      }\n      if (e[i].right === undefined) {\n        const l = e[i].left.index;\n        const lr = cells[l].region;\n        if (Number.isInteger(lr)) edges[lr].push(p);\n        continue;\n      }\n      const l = e[i].left.index;\n      const r = e[i].right.index;\n      const lr = cells[l].region;\n      const rr = cells[r].region;\n      if (lr === rr) continue;\n      if (Number.isInteger(lr)) {\n        edges[lr].push(p);\n        if (rr === undefined) {coastalEdges[lr].push(p);}\n        else if (rr === \"neutral\") {neutralEdges.push(p);}\n      }\n      if (Number.isInteger(rr)) {\n        edges[rr].push(p);\n        if (lr === undefined) {coastalEdges[rr].push(p);}\n        else if (lr === \"neutral\") {neutralEdges.push(p);}\n        else if (Number.isInteger(lr)) {borderEdges.push(p);}\n      }\n    }\n    edges.map(function(e, i) {\n      if (e.length) {\n        drawRegion(e, i);\n        drawRegionCoast(coastalEdges[i],i);\n      }\n    });\n    drawBorders(borderEdges, \"state\");\n    drawBorders(neutralEdges, \"neutral\");\n    console.timeEnd('drawRegions');\n  }\n\n  function drawRegion(edges, region) {\n    let path = \"\";\n    const array = [];\n    lineGen.curve(d3.curveLinear);\n    while (edges.length > 2) {\n      const edgesOrdered = []; // to store points in a correct order\n      const start = edges[0].start;\n      let end = edges[0].end;\n      edges.shift();\n      let spl = start.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      spl = end.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      for (let i = 0; end !== start && i < 2000; i++) {\n        const next = $.grep(edges, function (e) {\n          return (e.start == end || e.end == end);\n        });\n        if (next.length > 0) {\n          if (next[0].start == end) {\n            end = next[0].end;\n          } else if (next[0].end == end) {\n            end = next[0].start;\n          }\n          spl = end.split(\" \");\n          edgesOrdered.push({scX: spl[0],scY: spl[1]});\n        }\n        const rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n      }\n      path += lineGen(edgesOrdered) + \"Z \";\n      array[array.length] = edgesOrdered.map(function(e) {return [+e.scX, +e.scY];});\n    }\n    const color = states[region].color;\n    regions.append(\"path\").attr(\"d\", round(path, 1)).attr(\"fill\", color).attr(\"class\", \"region\"+region);\n    array.sort(function(a, b){return b.length - a.length;});\n    let capital = states[region].capital;\n    // add capital cell as a hole\n    if (!isNaN(capital)) {\n      const capitalCell = manors[capital].cell;\n      array.push(polygons[capitalCell]);\n    }\n    const name = states[region].name;\n    const c = polylabel(array, 1.0); // pole of inaccessibility\n    labels.select(\"#countries\").append(\"text\").attr(\"id\", \"regionLabel\"+region).attr(\"x\", rn(c[0])).attr(\"y\", rn(c[1])).text(name).on(\"click\", editLabel);\n    states[region].area = rn(Math.abs(d3.polygonArea(array[0]))); // define region area\n  }\n\n  function drawRegionCoast(edges, region) {\n    let path = \"\";\n    while (edges.length > 0) {\n      const edgesOrdered = []; // to store points in a correct order\n      const start = edges[0].start;\n      let end = edges[0].end;\n      edges.shift();\n      let spl = start.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      spl = end.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      let next = $.grep(edges, function (e) {\n        return (e.start == end || e.end == end);\n      });\n      while (next.length > 0) {\n        if (next[0].start == end) {\n          end = next[0].end;\n        } else if (next[0].end == end) {\n          end = next[0].start;\n        }\n        spl = end.split(\" \");\n        edgesOrdered.push({scX: spl[0],scY: spl[1]});\n        const rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n        next = $.grep(edges, function(e) {return (e.start == end || e.end == end);});\n      }\n      path += lineGen(edgesOrdered);\n    }\n    const color = states[region].color;\n    regions.append(\"path\").attr(\"d\", round(path, 1)).attr(\"fill\", \"none\").attr(\"stroke\", color).attr(\"stroke-width\", 5).attr(\"class\", \"region\"+region);\n  }\n\n  function drawBorders(edges, type) {\n    let path = \"\";\n    if (edges.length < 1) {return;}\n    while (edges.length > 0) {\n      const edgesOrdered = []; // to store points in a correct order\n      const start = edges[0].start;\n      let end = edges[0].end;\n      edges.shift();\n      let spl = start.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      spl = end.split(\" \");\n      edgesOrdered.push({scX: spl[0],scY: spl[1]});\n      let next = $.grep(edges, function (e) {\n        return (e.start == end || e.end == end);\n      });\n      while (next.length > 0) {\n        if (next[0].start == end) {\n          end = next[0].end;\n        } else if (next[0].end == end) {\n          end = next[0].start;\n        }\n        spl = end.split(\" \");\n        edgesOrdered.push({scX: spl[0],scY: spl[1]});\n        const rem = edges.indexOf(next[0]);\n        edges.splice(rem, 1);\n        next = $.grep(edges, function(e) {return (e.start == end || e.end == end);});\n      }\n      path += lineGen(edgesOrdered);\n    }\n    if (type === \"state\") {stateBorders.append(\"path\").attr(\"d\", round(path, 1));}\n    if (type === \"neutral\") {neutralBorders.append(\"path\").attr(\"d\", round(path, 1));}\n  }\n\n  // generate region name\n  function generateStateName(state) {\n    let culture = null;\n    if (states[state]) if(manors[states[state].capital]) culture = manors[states[state].capital].culture;\n    let name = \"NameIdontWant\";\n    if (Math.random() < 0.85 || culture === null) {\n      // culture is random if capital is not yet defined\n      if (culture === null) culture = rand(cultures.length - 1);\n      // try to avoid too long words as a basename\n      for (let i=0; i < 20 && name.length > 7; i++) {\n        name = generateName(culture);\n      }\n    } else {\n      name = manors[state].name;\n    }\n    const base = cultures[culture].base;\n\n    let addSuffix = false;\n    // handle special cases\n    const e = name.slice(-2);\n    if (base === 5 && (e === \"sk\" || e === \"ev\" || e === \"ov\")) {\n      // remove -sk and -ev/-ov for Ruthenian\n      name = name.slice(0,-2);\n      addSuffix = true;\n    } else if (name.length > 5 && base === 1 && name.slice(-3) === \"ton\") {\n      // remove -ton ending for English\n      name = name.slice(0,-3);\n      addSuffix = true;\n    } else if (name.length > 6 && name.slice(-4) === \"berg\") {\n      // remove -berg ending for any\n      name = name.slice(0,-4);\n      addSuffix = true;\n    } else if (base === 12) {\n      // Japanese ends on vowels\n      if (vowels.includes(name.slice(-1))) return name;\n      return name + \"u\";\n    } else if (base === 10) {\n      // Korean has \"guk\" suffix\n      if (name.slice(-3) === \"guk\") return name;\n      if (name.slice(-1) === \"g\") name = name.slice(0,-1);\n      if (Math.random() < 0.2 && name.length < 7) name = name + \"guk\"; // 20% for \"guk\"\n      return name;\n    } else if (base === 11) {\n      // Chinese has \"guo\" suffix\n      if (name.slice(-3) === \"guo\") return name;\n      if (name.slice(-1) === \"g\") name = name.slice(0,-1);\n      if (Math.random() < 0.3 && name.length < 7) name = name + \" Guo\"; // 30% for \"guo\"\n      return name;\n    }\n\n    // define if suffix should be used\n    let vowel = vowels.includes(name.slice(-1)); // last char is vowel\n    if (vowel && name.length > 3) {\n      if (Math.random() < 0.85) {\n        if (vowels.includes(name.slice(-2,-1))) {\n          name = name.slice(0,-2);\n          addSuffix = true; // 85% for vv\n        } else if (Math.random() < 0.7) {\n          name = name.slice(0,-1);\n          addSuffix = true; // ~60% for cv\n        }\n      }\n    } else if (Math.random() < 0.6) {\n      addSuffix = true; // 60% for cc and vc\n    }\n\n    if (addSuffix === false) return name;\n    let suffix = \"ia\"; // common latin suffix\n    const rnd = Math.random();\n    if (rnd < 0.05 && base === 3) suffix = \"terra\"; // 5% \"terra\" for Italian\n    else if (rnd < 0.05 && base === 4) suffix = \"terra\"; // 5% \"terra\" for Spanish\n    else if (rnd < 0.05 && base == 2) suffix = \"terre\"; // 5% \"terre\" for French\n    else if (rnd < 0.5 && base == 0) suffix = \"land\"; // 50% \"land\" for German\n    else if (rnd < 0.4 && base == 1) suffix = \"land\"; // 40% \"land\" for English\n    else if (rnd < 0.3 && base == 6) suffix = \"land\"; // 30% \"land\" for Nordic\n    else if (rnd < 0.1 && base == 7) suffix = \"eia\"; // 10% \"eia\" for Greek (\"ia\" is also Greek)\n    else if (rnd < 0.4 && base == 9) suffix = \"maa\"; // 40% \"maa\" for Finnic\n    if (name.slice(-1 * suffix.length) === suffix) return name; // no suffix if name already ends with it\n    if (name.slice(-1) === suffix.charAt(0)) name = name.slice(0, -1); // remove name last letter if it's a suffix first letter\n    return name + suffix;\n  }\n\n  // re-calculate cultures\n  function recalculateCultures(fullRedraw) {\n    console.time(\"recalculateCultures\");\n    // For each capital find closest culture and assign it to capital\n    states.forEach(function(s) {\n      if (s.capital === \"neutral\" || s.capital === \"select\") return;\n      const capital = manors[s.capital];\n      const c = cultureTree.find(capital.x, capital.y);\n      capital.culture = getCultureId(c);\n    });\n\n    // For each town if distance to its capital > neutral / 2,\n    // assign closest culture to the town; else assign capital's culture\n    const manorTree = d3.quadtree();\n    const neutral = +neutralInput.value;\n    manors.forEach(function(m) {\n      if (m.region === \"removed\") return;\n      manorTree.add([m.x, m.y]);\n      if (m.region === \"neutral\") {\n        const culture = cultureTree.find(m.x, m.y);\n        m.culture = getCultureId(culture);\n        return;\n      }\n      const c = states[m.region].capital;\n      if (c !== \"neutral\" && c !== \"select\") {\n        const dist = Math.hypot(m.x - manors[c].x, m.y - manors[c].y);\n        if (dist <= neutral / 5) {\n          m.culture = manors[c].culture;\n          return;\n        }\n      }\n      const culture = cultureTree.find(m.x, m.y);\n      m.culture = getCultureId(culture);\n    });\n\n    // For each land cell if distance to closest manor > neutral / 2,\n    // assign closest culture to the cell; else assign manors's culture\n    const changed = [];\n    land.forEach(function(i) {\n      const x = i.data[0],y = i.data[1];\n      const c = manorTree.find(x, y);\n      const culture = i.culture;\n      const dist = Math.hypot(c[0] - x, c[1] - y);\n      let manor = getManorId(c);\n      if (dist > neutral / 2 || manor === undefined) {\n        const closestCulture = cultureTree.find(i.data[0],i.data[1]);\n        i.culture = getCultureId(closestCulture);\n      } else {\n        const cell = manors[manor].cell;\n        if (cells[cell].fn !== i.fn) {\n          let minDist = dist * 3;\n          land.forEach(function(l) {\n            if (l.fn === i.fn && l.manor !== undefined) {\n              if (manors[l.manor].region === \"removed\") return;\n              const distN = Math.hypot(l.data[0] - x, l.data[1] - y);\n              if (distN < minDist) {minDist = distN; manor = l.manor;}\n            }\n          });\n        }\n        i.culture = manors[manor].culture;\n      }\n      // re-color cells\n      if (i.culture !== culture || fullRedraw) {\n        const clr = cultures[i.culture].color;\n        cults.select(\"#cult\"+i.index).attr(\"fill\", clr).attr(\"stroke\", clr);\n      }\n    });\n    console.timeEnd(\"recalculateCultures\");\n  }\n\n  // get culture Id from center coordinates\n  function getCultureId(c) {\n    for (let i=0; i < cultures.length; i++) {\n      if (cultures[i].center[0] === c[0]) if (cultures[i].center[1] === c[1]) return i;\n    }\n  }\n\n  // get manor Id from center coordinates\n  function getManorId(c) {\n    for (let i=0; i < manors.length; i++) {\n      if (manors[i].x === c[0]) if (manors[i].y === c[1]) return i;\n    }\n  }\n\n  // focus on coorditanes, cell or burg provided in searchParams\n  function focusOn() {\n    if (params.get(\"from\") === \"MFCG\") {\n      // focus on burg from MFCG\n      findBurgForMFCG();\n      return;\n    }\n    let s = params.get(\"scale\") || 8;\n    let x = params.get(\"x\");\n    let y = params.get(\"y\");\n    let c = params.get(\"cell\");\n    if (c !== null) {\n      x = cells[+c].data[0];\n      y = cells[+c].data[1];\n    }\n    let b = params.get(\"burg\");\n    if (b !== null) {\n      x = manors[+b].x;\n      y = manors[+b].y;\n    }\n    if (x !== null && y !== null) zoomTo(x, y, s, 1600);\n  }\n\n  // find burg from MFCG and focus on it\n  function findBurgForMFCG() {\n    if (!manors.length) {console.error(\"No burgs generated. Cannot select a burg for MFCG\"); return;}\n    const size = +params.get(\"size\");\n    let coast = +params.get(\"coast\");\n    let port = +params.get(\"port\");\n    let river = +params.get(\"river\");\n    let selection = defineSelection(coast, port, river);\n    if (!selection.length) selection = defineSelection(coast, !port, !river);\n    if (!selection.length) selection = defineSelection(!coast, 0, !river);\n    if (!selection.length) selection = manors[0]; // select first if nothing is found\n    if (!selection.length) {console.error(\"Cannot find a burg for MFCG\"); return;}\n\n    function defineSelection(coast, port, river) {\n      let selection = [];\n      if (port && river) selection = $.grep(manors, function(e) {return cells[e.cell].port !== undefined && cells[e.cell].river !== undefined;});\n      else if (!port && coast && river) selection = $.grep(manors, function(e) {return cells[e.cell].port === undefined && cells[e.cell].ctype === 1 && cells[e.cell].river !== undefined;});\n      else if (!coast && !river) selection = $.grep(manors, function(e) {return cells[e.cell].ctype !== 1 && cells[e.cell].river === undefined;});\n      else if (!coast && river) selection = $.grep(manors, function(e) {return cells[e.cell].ctype !== 1 && cells[e.cell].river !== undefined;});\n      else if (coast && !river) selection = $.grep(manors, function(e) {return cells[e.cell].ctype === 1 && cells[e.cell].river === undefined;});\n      return selection;\n    }\n\n    // select a burg with closes population from selection\n    const selected = d3.scan(selection, function(a, b) {return Math.abs(a.population - size) - Math.abs(b.population - size);});\n    const burg = selection[selected].i;\n    if (size && burg !== undefined) {manors[burg].population = size;} else {return;}\n\n    // focus on found burg\n    const label = burgLabels.select(\"[data-id='\" + burg + \"']\");\n    if (!label.size()) {\n      console.error(\"Cannot find a label for MFCG burg \"+burg);\n      return;\n    }\n    tip(\"Here stands the glorious city of \"+manors[burg].name, true);\n    label.classed(\"drag\", true).on(\"mouseover\", function() {\n      d3.select(this).classed(\"drag\", false);\n      tip(\"\", true);\n    });\n    const x = +label.attr(\"x\"), y = +label.attr(\"y\");\n    zoomTo(x, y, 8, 1600);\n  }\n\n  // draw the Heightmap\n  function toggleHeight() {\n    const scheme = styleSchemeInput.value;\n    let hColor = color;\n    if (scheme === \"light\") hColor = d3.scaleSequential(d3.interpolateRdYlGn);\n    if (scheme === \"green\") hColor = d3.scaleSequential(d3.interpolateGreens);\n    if (scheme === \"monochrome\") hColor = d3.scaleSequential(d3.interpolateGreys);\n    if (!terrs.selectAll(\"path\").size()) {\n      cells.map(function(i, d) {\n        let height = i.height;\n        if (height < 20 && !i.lake) return;\n        if (i.lake) {\n          const nHeights = i.neighbors.map(function(e) {if (cells[e].height >= 20) return cells[e].height;});\n          const mean = d3.mean(nHeights);\n          if (!mean) return;\n          height = Math.trunc(mean);\n          if (height < 20 || isNaN(height)) height = 20;\n        }\n        const clr = hColor((100 - height) / 100);\n        terrs.append(\"path\")\n          .attr(\"d\", \"M\" + polygons[d].join(\"L\") + \"Z\")\n          .attr(\"fill\", clr).attr(\"stroke\", clr);\n      });\n    } else {\n      terrs.selectAll(\"path\").remove();\n    }\n  }\n\n  // draw Cultures\n  function toggleCultures() {\n    if (cults.selectAll(\"path\").size() == 0) {\n      land.map(function(i) {\n        const color = cultures[i.culture].color;\n        cults.append(\"path\")\n          .attr(\"d\", \"M\" + polygons[i.index].join(\"L\") + \"Z\")\n          .attr(\"id\", \"cult\" + i.index)\n          .attr(\"fill\", color)\n          .attr(\"stroke\", color);\n      });\n    } else {\n      cults.selectAll(\"path\").remove();\n    }\n  }\n\n  // draw Overlay\n  function toggleOverlay() {\n    if (overlay.selectAll(\"*\").size() === 0) {\n      const type = styleOverlayType.value;\n      const size = +styleOverlaySize.value;\n      if (type === \"pointyHex\" || type === \"flatHex\") {\n        let points = getHexGridPoints(size, type);\n        let hex = \"m\" + getHex(size, type).slice(0, 4).join(\"l\");\n        let d = points.map(function(p) {return \"M\" + p + hex;}).join(\"\");\n        overlay.append(\"path\").attr(\"d\", d);\n      } else if (type === \"square\") {\n        const x = d3.range(size, svgWidth, size);\n        const y = d3.range(size, svgHeight, size);\n        overlay.append(\"g\").selectAll(\"line\").data(x).enter().append(\"line\")\n          .attr(\"x1\", function(d) {return d;})\n          .attr(\"x2\", function(d) {return d;})\n          .attr(\"y1\", 0).attr(\"y2\", svgHeight);\n        overlay.append(\"g\").selectAll(\"line\").data(y).enter().append(\"line\")\n          .attr(\"y1\", function(d) {return d;})\n          .attr(\"y2\", function(d) {return d;})\n          .attr(\"x1\", 0).attr(\"x2\", svgWidth);\n      } else {\n        const tr = `translate(80 80) scale(${size / 20})`;\n        d3.select(\"#rose\").attr(\"transform\", tr);\n        overlay.append(\"use\").attr(\"xlink:href\",\"#rose\");\n      }\n      overlay.call(d3.drag().on(\"start\", elementDrag));\n      calculateFriendlyOverlaySize();\n    } else {\n      overlay.selectAll(\"*\").remove();\n    }\n  }\n\n  function getHex(radius, type) {\n    let x0 = 0, y0 = 0;\n    let s = type === \"pointyHex\" ? 0 : Math.PI / -6;\n    let thirdPi = Math.PI / 3;\n    let angles = [s, s + thirdPi, s + 2 * thirdPi, s + 3 * thirdPi, s + 4 * thirdPi, s + 5 * thirdPi];\n    return angles.map(function(angle) {\n      const x1 = Math.sin(angle) * radius,\n        y1 = -Math.cos(angle) * radius,\n        dx = x1 - x0,\n        dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  function getHexGridPoints(size, type) {\n    let points = [];\n    const rt3 = Math.sqrt(3);\n    const off = type === \"pointyHex\" ? rt3 * size / 2 : size * 3 / 2;\n    const ySpace = type === \"pointyHex\" ? size * 3 / 2 : rt3 * size / 2;\n    const xSpace = type === \"pointyHex\" ? rt3 * size : size * 3;\n    for (let y = 0, l = 0; y < graphHeight; y += ySpace, l++) {\n      for (let x = l % 2 ? 0 : off; x < graphWidth; x += xSpace) {\n        points.push([x, y]);\n      }\n    }\n    return points;\n  }\n\n  // clean data to get rid of redundand info\n  function cleanData() {\n    console.time(\"cleanData\");\n    cells.map(function(c) {\n      delete c.cost;\n      delete c.used;\n      delete c.coastX;\n      delete c.coastY;\n      if (c.ctype === undefined) delete c.ctype;\n      if (c.lake === undefined) delete c.lake;\n      c.height = Math.trunc(c.height);\n      if (c.height >= 20) c.flux = rn(c.flux, 2);\n    });\n    // restore layers if they was turned on\n    if (!$(\"#toggleHeight\").hasClass(\"buttonoff\") && !terrs.selectAll(\"path\").size()) toggleHeight();\n    if (!$(\"#toggleCultures\").hasClass(\"buttonoff\") && !cults.selectAll(\"path\").size()) toggleCultures();\n    closeDialogs();\n    invokeActiveZooming();\n    console.timeEnd(\"cleanData\");\n  }\n\n  // close all dialogs except stated\n  function closeDialogs(except) {\n    except = except || \"#except\";\n    $(\".dialog:visible\").not(except).each(function(e) {\n      $(this).dialog(\"close\");\n    });\n  }\n\n  // change transparency for modal windowa\n  function changeDialogsTransparency(v) {\n    localStorage.setItem(\"transparency\", v);\n    const alpha = (100 - +v) / 100;\n    const optionsColor = \"rgba(164, 139, 149, \" + alpha + \")\"; // purple-red\n    const dialogsColor = \"rgba(255, 255, 255, \" + alpha + \")\"; // white\n    document.getElementById(\"options\").style.backgroundColor = optionsColor;\n    document.getElementById(\"dialogs\").style.backgroundColor = dialogsColor;\n  }\n\n  // Draw the water flux system (for dubugging)\n  function toggleFlux() {\n    const colorFlux = d3.scaleSequential(d3.interpolateBlues);\n    if (terrs.selectAll(\"path\").size() == 0) {\n      land.map(function(i) {\n        terrs.append(\"path\")\n          .attr(\"d\", \"M\" + polygons[i.index].join(\"L\") + \"Z\")\n          .attr(\"fill\", colorFlux(0.1 + i.flux))\n          .attr(\"stroke\", colorFlux(0.1 + i.flux));\n      });\n    } else {\n      terrs.selectAll(\"path\").remove();\n    }\n  }\n\n  // Draw the Relief (need to create more beautiness)\n  function drawRelief() {\n    console.time('drawRelief');\n    let h, count, rnd, cx, cy, swampCount = 0;\n    const hills = terrain.select(\"#hills\");\n    const mounts = terrain.select(\"#mounts\");\n    const swamps = terrain.select(\"#swamps\");\n    const forests = terrain.select(\"#forests\");\n    terrain.selectAll(\"g\").selectAll(\"g\").remove();\n    // sort the land to Draw the top element first (reduce the elements overlapping)\n    land.sort(compareY);\n    for (let i = 0; i < land.length; i++) {\n      if (land[i].river) continue; // no icons on rivers\n      const cell = land[i].index;\n      const p = d3.polygonCentroid(polygons[cell]); // polygon centroid point\n      if (p === undefined) continue; // something is wrong with data\n      const height = land[i].height;\n      const area = land[i].area;\n      if (height >= 70) {\n        // mount icon\n        h = (height - 55) * 0.12;\n        for (let c = 0, a = area; Math.random() < a / 50; c++, a -= 50) {\n          if (polygons[cell][c] === undefined) break;\n          const g = mounts.append(\"g\").attr(\"data-cell\", cell);\n          if (c < 2) {\n            cx = p[0] - h / 100 * (1 - c / 10) - c * 2;\n            cy = p[1] + h / 400 + c;\n          } else {\n            const p2 = polygons[cell][c];\n            cx = (p[0] * 1.2 + p2[0] * 0.8) / 2;\n            cy = (p[1] * 1.2 + p2[1] * 0.8) / 2;\n          }\n          rnd = Math.random() * 0.8 + 0.2;\n          let mount = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h + rnd) + \",\" + (cy - h / 1.2 + rnd) + \" L\" + (cx + h * 2) + \",\" + cy;\n          let shade = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h / 1.5) + \",\" + cy;\n          let dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.3) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.3);\n          dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.6) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.6);\n          g.append(\"path\").attr(\"d\", round(mount, 1)).attr(\"stroke\", \"#5c5c70\");\n          g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"#999999\");\n          g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n        }\n      } else if (height > 50) {\n        // hill icon\n        h = (height - 40) / 10;\n        if (h > 1.7) h = 1.7;\n        for (let c = 0, a = area; Math.random() < a / 30; c++, a -= 30) {\n          if (land[i].ctype === 1 && c > 0) break;\n          if (polygons[cell][c] === undefined) break;\n          const g = hills.append(\"g\").attr(\"data-cell\", cell);\n          if (c < 2) {\n            cx = p[0] - h - c * 1.2;\n            cy = p[1] + h / 4 + c / 1.6;\n          } else {\n            const p2 = polygons[cell][c];\n            cx = (p[0] * 1.2 + p2[0] * 0.8) / 2;\n            cy = (p[1] * 1.2 + p2[1] * 0.8) / 2;\n          }\n          let hill = \"M\" + cx + \",\" + cy + \" Q\" + (cx + h) + \",\" + (cy - h) + \" \" + (cx + 2 * h) + \",\" + cy;\n          let shade = \"M\" + (cx + 0.6 * h) + \",\" + (cy + 0.1) + \" Q\" + (cx + h * 0.95) + \",\" + (cy - h * 0.91) + \" \" + (cx + 2 * h * 0.97) + \",\" + cy;\n          let dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.2) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.2);\n          dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.4) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.4);\n          g.append(\"path\").attr(\"d\", round(hill, 1)).attr(\"stroke\", \"#5c5c70\");\n          g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"white\");\n          g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n        }\n      }\n\n      // swamp icons\n      if (height >= 21 && height < 22 && swampCount < +swampinessInput.value && land[i].used != 1) {\n        const g = swamps.append(\"g\").attr(\"data-cell\", cell);\n        swampCount++;\n        land[i].used = 1;\n        let swamp = drawSwamp(p[0],p[1]);\n        land[i].neighbors.forEach(function(e) {\n          if (cells[e].height >= 20 && cells[e].height < 30 && !cells[e].river && cells[e].used != 1) {\n            cells[e].used = 1;\n            swamp += drawSwamp(cells[e].data[0], cells[e].data[1]);\n          }\n        });\n        g.append(\"path\").attr(\"d\", round(swamp, 1));\n      }\n\n      // forest icons\n      if (Math.random() < height / 100 && height >= 22 && height < 48) {\n        for (let c = 0, a = area; Math.random() < a / 15; c++, a -= 15) {\n          if (land[i].ctype === 1 && c > 0) break;\n          if (polygons[cell][c] === undefined) break;\n          const g = forests.append(\"g\").attr(\"data-cell\", cell);\n          if (c === 0) {\n            cx = rn(p[0] - 1 - Math.random(), 1);\n            cy = p[1] - 2;\n          } else {\n            const p2 = polygons[cell][c];\n            if (c > 1) {\n              const dist = Math.hypot(p2[0] - polygons[cell][c-1][0],p2[1] - polygons[cell][c-1][1]);\n              if (dist < 2) continue;\n            }\n            cx = (p[0] * 0.5 + p2[0] * 1.5) / 2;\n            cy = (p[1] * 0.5 + p2[1] * 1.5) / 2 - 1;\n          }\n          const forest = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 v0.75 h0.1 v-0.75 q0.95,-0.47 -0.05,-1.25 z \";\n          const light = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 h0.1 q0.95,-0.47 -0.05,-1.25 z \";\n          const shade = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 q-0.2,-0.55 0,-1.1 z \";\n          g.append(\"path\").attr(\"d\", forest);\n          g.append(\"path\").attr(\"d\", light).attr(\"fill\", \"white\").attr(\"stroke\", \"none\");\n          g.append(\"path\").attr(\"d\", shade).attr(\"fill\", \"#999999\").attr(\"stroke\", \"none\");\n        }\n      }\n    }\n    terrain.selectAll(\"g\").selectAll(\"g\").on(\"click\", editReliefIcon);\n    console.timeEnd('drawRelief');\n  }\n\n  function addReliefIcon(height, type, cx, cy, cell) {\n    const g = terrain.select(\"#\" + type).append(\"g\").attr(\"data-cell\", cell);\n    if (type === \"mounts\") {\n      const h = height >= 0.7 ? (height - 0.55) * 12 : 1.8;\n      const rnd = Math.random() * 0.8 + 0.2;\n      let mount = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h + rnd) + \",\" + (cy - h / 1.2 + rnd) + \" L\" + (cx + h * 2) + \",\" + cy;\n      let shade = \"M\" + cx + \",\" + cy + \" L\" + (cx + h / 3 + rnd) + \",\" + (cy - h / 4 - rnd * 1.2) + \" L\" + (cx + h / 1.1) + \",\" + (cy - h) + \" L\" + (cx + h / 1.5) + \",\" + cy;\n      let dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.3) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.3);\n      dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.6) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.6);\n      g.append(\"path\").attr(\"d\", round(mount, 1)).attr(\"stroke\", \"#5c5c70\");\n      g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"#999999\");\n      g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n    }\n    if (type === \"hills\") {\n      let h = height > 0.5 ? (height - 0.4) * 10 : 1.2;\n      if (h > 1.8) h = 1.8;\n      let hill = \"M\" + cx + \",\" + cy + \" Q\" + (cx + h) + \",\" + (cy - h) + \" \" + (cx + 2 * h) + \",\" + cy;\n      let shade = \"M\" + (cx + 0.6 * h) + \",\" + (cy + 0.1) + \" Q\" + (cx + h * 0.95) + \",\" + (cy - h * 0.91) + \" \" + (cx + 2 * h * 0.97) + \",\" + cy;\n      let dash = \"M\" + (cx - 0.1) + \",\" + (cy + 0.2) + \" L\" + (cx + 2 * h + 0.1) + \",\" + (cy + 0.2);\n      dash += \"M\" + (cx + 0.4) + \",\" + (cy + 0.4) + \" L\" + (cx + 2 * h - 0.3) + \",\" + (cy + 0.4);\n      g.append(\"path\").attr(\"d\", round(hill, 1)).attr(\"stroke\", \"#5c5c70\");\n      g.append(\"path\").attr(\"d\", round(shade, 1)).attr(\"fill\", \"white\");\n      g.append(\"path\").attr(\"d\", round(dash, 1)).attr(\"class\", \"strokes\");\n    }\n    if (type === \"swamps\") {\n      const swamp = drawSwamp(cx, cy);\n      g.append(\"path\").attr(\"d\", round(swamp, 1));\n    }\n    if (type === \"forests\") {\n      const rnd = Math.random();\n      const h = rnd * 0.4 + 0.6;\n      const forest = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 v0.75 h0.1 v-0.75 q0.95,-0.47 -0.05,-1.25 z \";\n      const light = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 h0.1 q0.95,-0.47 -0.05,-1.25 z \";\n      const shade = \"M\" + cx + \",\" + cy + \" q-1,0.8 -0.05,1.25 q-0.2,-0.55 0,-1.1 z \";\n      g.append(\"path\").attr(\"d\", forest);\n      g.append(\"path\").attr(\"d\", light).attr(\"fill\", \"white\").attr(\"stroke\", \"none\");\n      g.append(\"path\").attr(\"d\", shade).attr(\"fill\", \"#999999\").attr(\"stroke\", \"none\");\n    }\n    g.on(\"click\", editReliefIcon);\n    return g;\n  }\n\n  function compareY(a, b) {\n    if (a.data[1] > b.data[1]) return 1;\n    if (a.data[1] < b.data[1]) return -1;\n    return 0;\n  }\n\n  function drawSwamp(x, y) {\n    const h = 0.6;\n    let line = \"\";\n    for (let c = 0; c < 3; c++) {\n      let cx;\n      let cy;\n      if (c == 0) {\n        cx = x;\n        cy = y - 0.5 - Math.random();\n      }\n      if (c == 1) {\n        cx = x + h + Math.random();\n        cy = y + h + Math.random();\n      }\n      if (c == 2) {\n        cx = x - h - Math.random();\n        cy = y + 2 * h + Math.random();\n      }\n      line += \"M\" + cx + \",\" + cy + \" H\" + (cx - h / 6) + \" M\" + cx + \",\" + cy + \" H\" + (cx + h / 6) + \" M\" + cx + \",\" + cy + \" L\" + (cx - h / 3) + \",\" + (cy - h / 2) + \" M\" + cx + \",\" + cy + \" V\" + (cy - h / 1.5) + \" M\" + cx + \",\" + cy + \" L\" + (cx + h / 3) + \",\" + (cy - h / 2);\n      line += \"M\" + (cx - h) + \",\" + cy + \" H\" + (cx - h / 2) + \" M\" + (cx + h / 2) + \",\" + cy + \" H\" + (cx + h);\n    }\n    return line;\n  }\n\n  function dragged(e) {\n    const el = d3.select(this);\n    const x = d3.event.x;\n    const y = d3.event.y;\n    el.raise().classed(\"drag\", true);\n    if (el.attr(\"x\")) {\n      el.attr(\"x\", x).attr(\"y\", y + 0.8);\n      const matrix = el.attr(\"transform\");\n      if (matrix) {\n        const angle = matrix.split('(')[1].split(')')[0].split(' ')[0];\n        const bbox = el.node().getBBox();\n        const rotate = \"rotate(\" + angle + \" \" + (bbox.x + bbox.width / 2) + \" \" + (bbox.y + bbox.height / 2) + \")\";\n        el.attr(\"transform\", rotate);\n      }\n    } else {\n      el.attr(\"cx\", x).attr(\"cy\", y);\n    }\n  }\n\n  function dragended(d) {\n    d3.select(this).classed(\"drag\", false);\n  }\n\n  // Complete the map for the \"customize\" mode\n  function getMap() {\n    if (customization !== 1) {\n      tip('Nothing to complete! Click on \"Edit\" or \"Clear all\" to enter a heightmap customization mode', null, \"error\");\n      return;\n    }\n    if (+landmassCounter.innerHTML < 150) {\n      tip(\"Insufficient land area! Please add more land cells to complete the map\", null, \"error\");\n      return;\n    }\n    exitCustomization();\n    console.time(\"TOTAL\");\n    markFeatures();\n    drawOcean();\n    elevateLakes();\n    resolveDepressionsPrimary();\n    reGraph();\n    resolveDepressionsSecondary();\n    flux();\n    addLakes();\n    if (!changeHeights.checked) restoreCustomHeights();\n    drawCoastline();\n    drawRelief();\n    const keepData = states.length && manors.length;\n    if (keepData) {\n      restoreRegions();\n    } else {\n      generateCultures();\n      manorsAndRegions();\n    }\n    cleanData();\n    console.timeEnd(\"TOTAL\");\n  }\n\n  // Add support \"click to add\" button events\n  $(\"#customizeTab\").click(clickToAdd);\n  function clickToAdd() {\n    if (modules.clickToAdd) return;\n    modules.clickToAdd = true;\n\n    // add label on click\n    $(\"#addLabel\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addLabelOnClick);\n      }\n    });\n\n    function addLabelOnClick() {\n      const point = d3.mouse(this);\n      const index = getIndex(point);\n      const x = rn(point[0],2), y = rn(point[1],2);\n\n      // get culture in clicked point to generate a name\n      const closest = cultureTree.find(x, y);\n      const culture = cultureTree.data().indexOf(closest) || 0;\n      const name = generateName(culture);\n\n      let group = labels.select(\"#addedLabels\");\n      if (!group.size()) {\n        group = labels.append(\"g\").attr(\"id\", \"addedLabels\")\n          .attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1)\n          .attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\")\n          .attr(\"font-size\", 18).attr(\"data-size\", 18);\n      }\n      let id = \"label\" + Date.now().toString().slice(7);\n      group.append(\"text\").attr(\"id\", id).attr(\"x\", x).attr(\"y\", y).text(name).on(\"click\", editLabel);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addLabel\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n    }\n\n    // add burg on click\n    $(\"#addBurg\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n        tip(\"\", true);\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).attr(\"data-state\", -1).addClass('pressed');\n        $(\"#burgAdd, #burgAddfromEditor\").addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addBurgOnClick);\n        tip(\"Click on map to place burg icon with a label. Hold Shift to place several\", true);\n      }\n    });\n\n    function addBurgOnClick() {\n      const point = d3.mouse(this);\n      const index = getIndex(point);\n      const x = rn(point[0],2), y = rn(point[1],2);\n\n      // get culture in clicked point to generate a name\n      let culture = cells[index].culture;\n      if (culture === undefined) culture = 0;\n      const name = generateName(culture);\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place burg in the water! Select a land cell\", null, \"error\");\n        return;\n      }\n      if (cells[index].manor !== undefined) {\n        tip(\"There is already a burg in this cell. Please select a free cell\", null, \"error\");\n        $('#grid').fadeIn();\n        d3.select(\"#toggleGrid\").classed(\"buttonoff\", false);\n        return;\n      }\n      const i = manors.length;\n      const size = burgIcons.select(\"#towns\").attr(\"size\");\n      burgIcons.select(\"#towns\").append(\"circle\").attr(\"id\", \"burg\"+i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", size).on(\"click\", editBurg);\n      burgLabels.select(\"#towns\").append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n      invokeActiveZooming();\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addBurg, #burgAdd, #burgAddfromEditor\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n\n      let region, state = +$(\"#addBurg\").attr(\"data-state\");\n      if (state !== -1) {\n        region = states[state].capital === \"neutral\" ? \"neutral\" : state;\n        const oldRegion = cells[index].region;\n        if (region !== oldRegion) {\n          cells[index].region = region;\n          redrawRegions();\n        }\n      } else {\n        region = cells[index].region;\n        state = region === \"neutral\" ? states.length - 1 : region;\n      }\n      cells[index].manor = i;\n      let score = cells[index].score;\n      if (score <= 0) {score = rn(Math.random(), 2);}\n      if (cells[index].crossroad) {score += cells[index].crossroad;} // crossroads\n      if (cells[index].confluence) {score += Math.pow(cells[index].confluence, 0.3);} // confluences\n      if (cells[index].port !== undefined) {score *= 3;} // port-capital\n      const population = rn(score, 1);\n      manors.push({i, cell:index, x, y, region, culture, name, population});\n      recalculateStateData(state);\n      updateCountryEditors();\n      tip(\"\", true);\n    }\n\n    // add river on click\n    $(\"#addRiver\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        unselect();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        unselect();\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addRiverOnClick);\n        tip(\"Click on map to place new river or extend an existing one\", true);\n      }\n    });\n\n    function addRiverOnClick() {\n      const point = d3.mouse(this);\n      const index = diagram.find(point[0], point[1]).index;\n      let cell = cells[index];\n      if (cell.river || cell.height < 20) return;\n      const dataRiver = []; // to store river points\n      const last = $(\"#rivers > path\").last();\n      const river = last.length ? +last.attr(\"id\").slice(5) + 1 : 0;\n      cell.flux = 0.85;\n      while (cell) {\n        cell.river = river;\n        const x = cell.data[0], y = cell.data[1];\n        dataRiver.push({x, y, cell:index});\n        const nHeights = [];\n        cell.neighbors.forEach(function(e) {nHeights.push(cells[e].height);});\n        const minId = nHeights.indexOf(d3.min(nHeights));\n        const min = cell.neighbors[minId];\n        const tx = cells[min].data[0], ty = cells[min].data[1];\n        if (cells[min].height < 20) {\n          const px = (x + tx) / 2;\n          const py = (y + ty) / 2;\n          dataRiver.push({x: px, y: py, cell:index});\n          cell = undefined;\n        } else {\n          if (cells[min].river === undefined) {cells[min].flux += cell.flux; cell = cells[min];}\n          else {\n            const r = cells[min].river;\n            const riverEl = $(\"#river\"+r);\n            const riverCells = $.grep(land, function(e) {return e.river === r;});\n            riverCells.sort(function(a, b) {return b.height - a.height});\n            const riverCellsUpper = $.grep(riverCells, function(e) {return e.height > cells[min].height;});\n            if (dataRiver.length > riverCellsUpper.length) {\n              // new river is more perspective\n              const avPrec = rn(precInput.value / Math.sqrt(cells.length), 2);\n              let dataRiverMin = [];\n              riverCells.map(function(c) {\n                if (c.height < cells[min].height) {\n                  cells[c.index].river = undefined;\n                  cells[c.index].flux = avPrec;\n                } else {\n                  dataRiverMin.push({x:c.data[0],y:c.data[1],cell:c.index});\n                }\n              });\n              cells[min].flux += cell.flux;\n              if (cells[min].confluence) {cells[min].confluence += riverCellsUpper.length;}\n              else {cells[min].confluence = riverCellsUpper.length;}\n              cell = cells[min];\n              // redraw old river's upper part or remove if small\n              if (dataRiverMin.length > 1) {\n                var riverAmended = amendRiver(dataRiverMin, 1);\n                var d = drawRiver(riverAmended, 1.3, 1);\n                riverEl.attr(\"d\", d).attr(\"data-width\", 1.3).attr(\"data-increment\", 1);\n              } else {\n                riverEl.remove();\n                dataRiverMin.map(function(c) {cells[c.cell].river = undefined;});\n              }\n            } else {\n              if (cells[min].confluence) {cells[min].confluence += dataRiver.length;}\n              else {cells[min].confluence = dataRiver.length;}\n              cells[min].flux += cell.flux;\n              dataRiver.push({x: tx, y: ty, cell:min});\n              cell = undefined;\n            }\n          }\n        }\n      }\n      const rndFactor = 0.2 + Math.random() * 1.6; // random factor in range 0.2-1.8\n      var riverAmended = amendRiver(dataRiver, rndFactor);\n      var d = drawRiver(riverAmended, 1.3, 1);\n      rivers.append(\"path\").attr(\"d\", d).attr(\"id\", \"river\"+river)\n        .attr(\"data-width\", 1.3).attr(\"data-increment\", 1).on(\"click\", editRiver);\n    }\n\n    // add relief icon on click\n    $(\"#addRelief\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        closeDialogs(\".stable\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addReliefOnClick);\n        tip(\"Click on map to place relief icon. Hold Shift to place several\", true);\n      }\n    });\n\n    function addReliefOnClick() {\n      const point = d3.mouse(this);\n      const index = getIndex(point);\n      const height = cells[index].height;\n      if (height < 20) {\n        tip(\"Cannot place icon in the water! Select a land cell\");\n        return;\n      }\n\n      const x = rn(point[0],2), y = rn(point[1],2);\n      const type = reliefGroup.value;\n      addReliefIcon(height / 100, type, x, y, index);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addRelief\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n      tip(\"\", true);\n    }\n\n    // add route on click\n    $(\"#addRoute\").click(function() {\n      if (!modules.editRoute) editRoute();\n      $(\"#routeNew\").click();\n    });\n\n    // add marker on click\n    $(\"#addMarker\").click(function() {\n      if ($(this).hasClass('pressed')) {\n        $(\".pressed\").removeClass('pressed');\n        restoreDefaultEvents();\n      } else {\n        $(\".pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        $(\"#markerAdd\").addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", addMarkerOnClick);\n      }\n    });\n\n    function addMarkerOnClick() {\n      const point = d3.mouse(this);\n      let x = rn(point[0],2), y = rn(point[1],2);\n      let selected = markerSelectGroup.value;\n      let valid = selected && d3.select(\"#defs-markers\").select(\"#\"+selected).size() === 1;\n      let symbol = valid ? \"#\"+selected : \"#marker0\";\n      let desired = valid ? markers.select(\"[data-id='\" + symbol + \"']\").attr(\"data-size\") : 1;\n      if (isNaN(desired)) desired = 1;\n      let id = \"marker\" + Date.now().toString().slice(7); // unique id\n      let size = desired * 5 + 25 / scale;\n\n      markers.append(\"use\").attr(\"id\", id).attr(\"xlink:href\", symbol).attr(\"data-id\", symbol)\n        .attr(\"data-x\", x).attr(\"data-y\", y).attr(\"x\", x - size / 2).attr(\"y\", y - size)\n        .attr(\"data-size\", desired).attr(\"width\", size).attr(\"height\", size).on(\"click\", editMarker);\n\n      if (d3.event.shiftKey === false) {\n        $(\"#addMarker, #markerAdd\").removeClass(\"pressed\");\n        restoreDefaultEvents();\n      }\n    }\n\n  }\n\n  // return cell / polly Index or error\n  function getIndex(point) {\n    let c = diagram.find(point[0], point[1]);\n    if (!c) {\n      console.error(\"Cannot find closest cell for points\" + point[0] + \", \" + point[1]);\n      return;\n    }\n    return c.index;\n  }\n\n  // re-calculate data for a particular state\n  function recalculateStateData(state) {\n    const s = states[state] || states[states.length - 1];\n    if (s.capital === \"neutral\") state = \"neutral\";\n    const burgs = $.grep(manors, function(e) {return e.region === state;});\n    s.burgs = burgs.length;\n    let burgsPop = 0; // get summ of all burgs population\n    burgs.map(function(b) {burgsPop += b.population;});\n    s.urbanPopulation = rn(burgsPop, 1);\n    const regionCells = $.grep(cells, function(e) {return (e.region === state);});\n    let cellsPop = 0, area = 0;\n    regionCells.map(function(c) {\n      cellsPop += c.pop;\n      area += c.area;\n    });\n    s.cells = regionCells.length;\n    s.area = rn(area);\n    s.ruralPopulation = rn(cellsPop, 1);\n  }\n\n  function changeSelectedOnClick() {\n    const point = d3.mouse(this);\n    const index = diagram.find(point[0],point[1]).index;\n    if (cells[index].height < 20) return;\n    $(\".selected\").removeClass(\"selected\");\n    let color;\n\n    // select state\n    if (customization === 2) {\n      const assigned = regions.select(\"#temp\").select(\"path[data-cell='\"+index+\"']\");\n      let s = assigned.size() ? assigned.attr(\"data-state\") : cells[index].region;\n      if (s === \"neutral\") s = states.length - 1;\n      color = states[s].color;\n      if (color === \"neutral\") color = \"white\";\n      $(\"#state\"+s).addClass(\"selected\");\n    }\n\n    // select culture\n    if (customization === 4) {\n      const assigned = cults.select(\"#cult\"+index);\n      const c = assigned.attr(\"data-culture\") !== null\n        ? +assigned.attr(\"data-culture\")\n        : cells[index].culture;\n      color = cultures[c].color;\n      $(\"#culture\"+c).addClass(\"selected\");\n    }\n\n    debug.selectAll(\".circle\").attr(\"stroke\", color);\n  }\n\n  // fetch default fonts if not done before\n  function loadDefaultFonts() {\n    if (!$('link[href=\"fonts.css\"]').length) {\n      $(\"head\").append('<link rel=\"stylesheet\" type=\"text/css\" href=\"fonts.css\">');\n      const fontsToAdd = [\"Amatic+SC:700\", \"IM+Fell+English\", \"Great+Vibes\", \"MedievalSharp\", \"Metamorphous\",\n                        \"Nova+Script\", \"Uncial+Antiqua\", \"Underdog\", \"Caesar+Dressing\", \"Bitter\", \"Yellowtail\", \"Montez\",\n                        \"Shadows+Into+Light\", \"Fredericka+the+Great\", \"Orbitron\", \"Dancing+Script:700\",\n                        \"Architects+Daughter\", \"Kaushan+Script\", \"Gloria+Hallelujah\", \"Satisfy\", \"Comfortaa:700\", \"Cinzel\"];\n      fontsToAdd.forEach(function(f) {if (fonts.indexOf(f) === -1) fonts.push(f);});\n      updateFontOptions();\n    }\n  }\n\n  function fetchFonts(url) {\n    return new Promise((resolve, reject) => {\n      if (url === \"\") {\n        tip(\"Use a direct link to any @font-face declaration or just font name to fetch from Google Fonts\");\n        return;\n      }\n      if (url.indexOf(\"http\") === -1) {\n        url = url.replace(url.charAt(0), url.charAt(0).toUpperCase()).split(\" \").join(\"+\");\n        url = \"https://fonts.googleapis.com/css?family=\" + url;\n      }\n      const fetched = addFonts(url).then(fetched => {\n        if (fetched === undefined) {\n          tip(\"Cannot fetch font for this value!\");\n          return;\n        }\n        if (fetched === 0) {\n          tip(\"Already in the fonts list!\");\n          return;\n        }\n        updateFontOptions();\n        if (fetched === 1) {\n          tip(\"Font \" + fonts[fonts.length - 1] + \" is fetched\");\n        } else if (fetched > 1) {\n          tip(fetched + \" fonts are added to the list\");\n        }\n        resolve(fetched);\n      });\n    })\n  }\n\n  function addFonts(url) {\n    $(\"head\").append('<link rel=\"stylesheet\" type=\"text/css\" href=\"' + url + '\">');\n    return fetch(url)\n      .then(resp => resp.text())\n      .then(text => {\n        let s = document.createElement('style');\n        s.innerHTML = text;\n        document.head.appendChild(s);\n        let styleSheet = Array.prototype.filter.call(\n          document.styleSheets,\n          sS => sS.ownerNode === s)[0];\n        let FontRule = rule => {\n          let family = rule.style.getPropertyValue('font-family');\n          let font = family.replace(/['\"]+/g, '').replace(/ /g, \"+\");\n          let weight = rule.style.getPropertyValue('font-weight');\n          if (weight !== \"400\") font += \":\" + weight;\n          if (fonts.indexOf(font) == -1) {\n            fonts.push(font);\n            fetched++\n          }\n        };\n        let fetched = 0;\n        for (let r of styleSheet.cssRules) {FontRule(r);}\n        document.head.removeChild(s);\n        return fetched;\n      })\n      .catch(function() {});\n  }\n\n  // Update font list for Label and Burg Editors\n  function updateFontOptions() {\n    labelFontSelect.innerHTML = \"\";\n    for (let i=0; i < fonts.length; i++) {\n      const opt = document.createElement('option');\n      opt.value = i;\n      const font = fonts[i].split(':')[0].replace(/\\+/g, \" \");\n      opt.style.fontFamily = opt.innerHTML = font;\n      labelFontSelect.add(opt);\n    }\n    burgSelectDefaultFont.innerHTML  = labelFontSelect.innerHTML;\n  }\n\n  // convert RGB color string to HEX without #\n  function toHEX(rgb){\n    if (rgb.charAt(0) === \"#\") {return rgb;}\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      return (rgb && rgb.length === 4) ? \"#\" +\n      (\"0\" + parseInt(rgb[1],10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[2],10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[3],10).toString(16)).slice(-2) : '';\n  }\n\n  // random number in a range\n  function rand(min, max) {\n    if (min === undefined && !max === undefined) return Math.random();\n    if (max === undefined) {max = min; min = 0;}\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  // round value to d decimals\n  function rn(v, d) {\n     var d = d || 0;\n    const m = Math.pow(10, d);\n    return Math.round(v * m) / m;\n  }\n\n  // round string to d decimals\n  function round(s, d) {\n     var d = d || 1;\n     return s.replace(/[\\d\\.-][\\d\\.e-]*/g, function(n) {return rn(n, d);})\n  }\n\n  // corvent number to short string with SI postfix\n  function si(n) {\n    if (n >= 1e9) {return rn(n / 1e9, 1) + \"B\";}\n    if (n >= 1e8) {return rn(n / 1e6) + \"M\";}\n    if (n >= 1e6) {return rn(n / 1e6, 1) + \"M\";}\n    if (n >= 1e4) {return rn(n / 1e3) + \"K\";}\n    if (n >= 1e3) {return rn(n / 1e3, 1) + \"K\";}\n    return rn(n);\n  }\n\n  // getInteger number from user input data\n  function getInteger(value) {\n    const metric = value.slice(-1);\n    if (metric === \"K\") {return parseInt(value.slice(0, -1) * 1e3);}\n    if (metric === \"M\") {return parseInt(value.slice(0, -1) * 1e6);}\n    if (metric === \"B\") {return parseInt(value.slice(0, -1) * 1e9);}\n    return parseInt(value);\n  }\n\n  // downalod map as SVG or PNG file\n  function saveAsImage(type) {\n    console.time(\"saveAsImage\");\n    const webSafe = [\"Georgia\", \"Times+New+Roman\", \"Comic+Sans+MS\", \"Lucida+Sans+Unicode\", \"Courier+New\", \"Verdana\", \"Arial\", \"Impact\"];\n    // get non-standard fonts used for labels to fetch them from web\n    const fontsInUse = []; // to store fonts currently in use\n    labels.selectAll(\"g\").each(function(d) {\n      const font = d3.select(this).attr(\"data-font\");\n      if (!font) return;\n      if (webSafe.indexOf(font) !== -1) return; // do not fetch web-safe fonts\n      if (fontsInUse.indexOf(font) === -1) fontsInUse.push(font);\n    });\n    const fontsToLoad = \"https://fonts.googleapis.com/css?family=\" + fontsInUse.join(\"|\");\n\n    // clone svg\n    const cloneEl = document.getElementsByTagName(\"svg\")[0].cloneNode(true);\n    cloneEl.id = \"fantasyMap\";\n    document.getElementsByTagName(\"body\")[0].appendChild(cloneEl);\n    const clone = d3.select(\"#fantasyMap\");\n\n    // rteset transform for svg\n    if (type === \"svg\") {\n      clone.attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n      clone.select(\"#viewbox\").attr(\"transform\", null);\n      if (svgWidth !== graphWidth || svgHeight !== graphHeight) {\n        // move scale bar to right bottom corner\n        const el = clone.select(\"#scaleBar\");\n        if (!el.size()) return;\n        const bbox = el.select(\"rect\").node().getBBox();\n        const tr = [graphWidth - bbox.width, graphHeight - (bbox.height - 10)];\n        el.attr(\"transform\", \"translate(\" + rn(tr[0]) + \",\" + rn(tr[1]) + \")\");\n      }\n\n      // to fix use elements sizing\n      clone.selectAll(\"use\").each(function() {\n        const size = this.parentNode.getAttribute(\"size\") || 1;\n        this.setAttribute(\"width\", size + \"px\");\n        this.setAttribute(\"height\", size + \"px\");\n      });\n\n      // clean attributes\n      //clone.selectAll(\"*\").each(function() {\n      //  const attributes = this.attributes;\n      //  for (let i = 0; i < attributes.length; i++) {\n      //    const attr = attributes[i];\n      //    if (attr.value === \"\" || attr.name.includes(\"data\")) {\n      //      this.removeAttribute(attr.name);\n      //    }\n      //  }\n      //});\n\n    }\n\n    // for each g element get inline style\n    const emptyG = clone.append(\"g\").node();\n    const defaultStyles = window.getComputedStyle(emptyG);\n\n    // show hidden labels but in reduced size\n    clone.select(\"#labels\").selectAll(\".hidden\").each(function(e) {\n      const size = d3.select(this).attr(\"font-size\");\n      d3.select(this).classed(\"hidden\", false).attr(\"font-size\", rn(size * 0.4, 2));\n    });\n\n    // save group css to style attribute\n    clone.selectAll(\"g, #ruler > g > *, #scaleBar > text\").each(function(d) {\n      const compStyle = window.getComputedStyle(this);\n      let style = \"\";\n      for (let i=0; i < compStyle.length; i++) {\n        const key = compStyle[i];\n        const value = compStyle.getPropertyValue(key);\n        // Firefox mask hack\n        if (key === \"mask-image\" && value !== defaultStyles.getPropertyValue(key)) {\n          style += \"mask-image: url('#shape');\";\n          continue;\n        }\n        if (key === \"cursor\") continue; // cursor should be default\n        if (this.hasAttribute(key)) continue; // don't add style if there is the same attribute\n        if (value === defaultStyles.getPropertyValue(key)) continue;\n        style += key + ':' + value + ';';\n      }\n      if (style != \"\") this.setAttribute('style', style);\n    });\n    emptyG.remove();\n\n    // load fonts as dataURI so they will be available in downloaded svg/png\n    GFontToDataURI(fontsToLoad).then(cssRules => {\n      clone.select(\"defs\").append(\"style\").text(cssRules.join('\\n'));\n      const svg_xml = (new XMLSerializer()).serializeToString(clone.node());\n      clone.remove();\n      const blob = new Blob([svg_xml], {type: 'image/svg+xml;charset=utf-8'});\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.target = \"_blank\";\n      if (type === \"png\") {\n        const ratio = svgHeight / svgWidth;\n        canvas.width = svgWidth * pngResolutionInput.value;\n        canvas.height = svgHeight * pngResolutionInput.value;\n        const img = new Image();\n        img.src = url;\n        img.onload = function(){\n          window.URL.revokeObjectURL(url);\n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n          link.download = \"fantasy_map_\" + Date.now() + \".png\";\n          canvas.toBlob(function(blob) {\n             link.href = window.URL.createObjectURL(blob);\n             document.body.appendChild(link);\n             link.click();\n             window.setTimeout(function() {window.URL.revokeObjectURL(link.href);}, 5000);\n          });\n          canvas.style.opacity = 0;\n          canvas.width = svgWidth;\n          canvas.height = svgHeight;\n        }\n      } else {\n        link.download = \"fantasy_map_\" + Date.now() + \".svg\";\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n      }\n      console.timeEnd(\"saveAsImage\");\n      window.setTimeout(function() {window.URL.revokeObjectURL(url);}, 5000);\n    });\n  }\n\n  // Code from Kaiido's answer:\n  // https://stackoverflow.com/questions/42402584/how-to-use-google-fonts-in-canvas-when-drawing-dom-objects-in-svg\n  function GFontToDataURI(url) {\n    return fetch(url) // first fecth the embed stylesheet page\n      .then(resp => resp.text()) // we only need the text of it\n      .then(text => {\n        let s = document.createElement('style');\n        s.innerHTML = text;\n        document.head.appendChild(s);\n        let styleSheet = Array.prototype.filter.call(\n          document.styleSheets,\n          sS => sS.ownerNode === s)[0];\n        let FontRule = rule => {\n          let src = rule.style.getPropertyValue('src');\n          let family = rule.style.getPropertyValue('font-family');\n          let url = src.split('url(')[1].split(')')[0];\n          return {\n            rule: rule,\n            src: src,\n            url: url.substring(url.length - 1, 1)\n          };\n        };\n        let fontRules = [],fontProms = [];\n\n        for (let r of styleSheet.cssRules) {\n          let fR = FontRule(r);\n          fontRules.push(fR);\n          fontProms.push(\n            fetch(fR.url) // fetch the actual font-file (.woff)\n            .then(resp => resp.blob())\n            .then(blob => {\n              return new Promise(resolve => {\n                let f = new FileReader();\n                f.onload = e => resolve(f.result);\n                f.readAsDataURL(blob);\n              })\n            })\n            .then(dataURL => {\n              return fR.rule.cssText.replace(fR.url, dataURL);\n            })\n          )\n        }\n        document.head.removeChild(s); // clean up\n        return Promise.all(fontProms); // wait for all this has been done\n      });\n  }\n\n  // Save in .map format, based on FileSystem API\n  function saveMap() {\n    console.time(\"saveMap\");\n    // data convention: 0 - params; 1 - all points; 2 - cells; 3 - manors; 4 - states;\n    // 5 - svg; 6 - options (see below); 7 - cultures;\n    // 8 - empty (former nameBase); 9 - empty (former nameBases); 10 - heights; 11 - notes;\n    // size stats: points = 6%, cells = 36%, manors and states = 2%, svg = 56%;\n    const date = new Date();\n    const dateString = date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\n    const license = \"File can be loaded in azgaar.github.io/Fantasy-Map-Generator\";\n    const params = version + \"|\" + license +  \"|\" + dateString + \"|\" + seed;\n    const options = customization + \"|\" +\n    distanceUnit.value + \"|\" + distanceScale.value + \"|\" + areaUnit.value + \"|\" +\n    barSize.value  + \"|\" + barLabel.value  + \"|\" + barBackOpacity.value  + \"|\" + barBackColor.value + \"|\" +\n    populationRate.value + \"|\" + urbanization.value;\n\n    // set zoom / transform values to default\n    svg.attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n    const transform = d3.zoomTransform(svg.node());\n    viewbox.attr(\"transform\", null);\n    const oceanBack = ocean.select(\"rect\");\n    const oceanShift = [oceanBack.attr(\"x\"), oceanBack.attr(\"y\"), oceanBack.attr(\"width\"), oceanBack.attr(\"height\")];\n    oceanBack.attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n\n    const svg_xml = (new XMLSerializer()).serializeToString(svg.node());\n    const line = \"\\r\\n\";\n    let data = params + line + JSON.stringify(points) + line + JSON.stringify(cells) + line;\n    data += JSON.stringify(manors) + line + JSON.stringify(states) + line + svg_xml + line + options + line;\n    data += JSON.stringify(cultures) + line + \"\" + line + \"\" + line + heights + line +  JSON.stringify(notes) + line;\n    const dataBlob = new Blob([data], {type: \"text/plain\"});\n    const dataURL = window.URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.download = \"fantasy_map_\" + Date.now() + \".map\";\n    link.href = dataURL;\n    document.body.appendChild(link);\n    link.click();\n\n    // restore initial values\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    zoom.transform(svg, transform);\n    oceanBack.attr(\"x\", oceanShift[0]).attr(\"y\", oceanShift[1]).attr(\"width\", oceanShift[2]).attr(\"height\", oceanShift[3]);\n\n    console.timeEnd(\"saveMap\");\n    window.setTimeout(function() {window.URL.revokeObjectURL(dataURL);}, 4000);\n  }\n\n  // Map Loader based on FileSystem API\n  $(\"#mapToLoad\").change(function() {\n    console.time(\"loadMap\");\n    closeDialogs();\n    const fileToLoad = this.files[0];\n    this.value = \"\";\n    uploadFile(fileToLoad);\n  });\n\n  function uploadFile(file, callback) {\n    console.time(\"loadMap\");\n    const fileReader = new FileReader();\n    fileReader.onload = function(fileLoadedEvent) {\n      const dataLoaded = fileLoadedEvent.target.result;\n      const data = dataLoaded.split(\"\\r\\n\");\n      // data convention: 0 - params; 1 - all points; 2 - cells; 3 - manors; 4 - states;\n      // 5 - svg; 6 - options; 7 - cultures; 8 - none; 9 - none; 10 - heights; 11 - notes;\n      const params = data[0].split(\"|\");\n      const mapVersion = params[0] || data[0];\n      if (mapVersion !== version) {\n        let message = `The Map version `;\n        // mapVersion reference was not added to downloaded map before v. 0.52b, so I cannot support really old files\n        if (mapVersion.length <= 10) {\n          message +=  `(${mapVersion}) does not match the Generator version (${version}). The map will be auto-updated.\n                      In case of critical issues you may send the .map file\n                      <a href=\"mailto:maxganiev@yandex.ru?Subject=Map%20update%20request\" target=\"_blank\">to me</a>\n                      or just keep using\n                      <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog\" target=\"_blank\">an appropriate version</a>\n                      of the Generator`;\n        } else if (!mapVersion || parseFloat(mapVersion) < 0.54) {\n          message += `you are trying to load is too old and cannot be updated. Please re-create the map or just keep using\n                      <a href=\"https://github.com/Azgaar/Fantasy-Map-Generator/wiki/Changelog\" target=\"_blank\">an archived version</a>\n                      of the Generator. Please note the Generator is still on demo and a lot of changes are being made every month`;\n        }\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({title: \"Warning\", buttons: {OK: function() {\n          loadDataFromMap(data);\n        }}});\n      } else {loadDataFromMap(data);}\n      if (mapVersion.length > 10) {console.error(\"Cannot load map\"); }\n    };\n    fileReader.readAsText(file, \"UTF-8\");\n    if (callback) {callback();}\n  }\n\n  function loadDataFromMap(data) {\n    closeDialogs();\n    // update seed\n    const params = data[0].split(\"|\");\n    if (params[3]) {\n      seed = params[3];\n      optionsSeed.value = seed;\n    }\n\n    // get options\n    if (data[0] === \"0.52b\" || data[0] === \"0.53b\") {\n      customization = 0;\n    } else if (data[6]) {\n      const options = data[6].split(\"|\");\n      customization = +options[0] || 0;\n      if (options[1]) distanceUnit.value = options[1];\n      if (options[2]) distanceScale.value = options[2];\n      if (options[3]) areaUnit.value = options[3];\n      if (options[4]) barSize.value = options[4];\n      if (options[5]) barLabel.value = options[5];\n      if (options[6]) barBackOpacity.value = options[6];\n      if (options[7]) barBackColor.value = options[7];\n      if (options[8]) populationRate.value = options[8];\n      if (options[9]) urbanization.value = options[9];\n    }\n\n    // replace old svg\n    svg.remove();\n    if (data[0] === \"0.52b\" || data[0] === \"0.53b\") {\n      states = []; // no states data in old maps\n      document.body.insertAdjacentHTML(\"afterbegin\", data[4]);\n    } else {\n      states = JSON.parse(data[4]);\n      document.body.insertAdjacentHTML(\"afterbegin\", data[5]);\n    }\n\n    svg = d3.select(\"svg\");\n\n    // always change graph size to the size of loaded map\n    const nWidth = +svg.attr(\"width\"), nHeight = +svg.attr(\"height\");\n    graphWidth = nWidth;\n    graphHeight = nHeight;\n    voronoi = d3.voronoi().extent([[-1, -1],[graphWidth+1, graphHeight+1]]);\n    zoom.translateExtent([[0, 0],[graphWidth, graphHeight]]).scaleExtent([1, 20]).scaleTo(svg, 1);\n    viewbox.attr(\"transform\", null);\n\n    // temporary fit loaded svg element to current canvas size\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    if (nWidth !== svgWidth || nHeight !== svgHeight) {\n      alertMessage.innerHTML  = `The loaded map has size ${nWidth} x ${nHeight} pixels, while the current canvas size is ${svgWidth} x ${svgHeight} pixels.\n                                Click \"Rescale\" to fit the map to the current canvas size. Click \"OK\" to browse the map without rescaling`;\n      $(\"#alert\").dialog({title: \"Map size conflict\",\n        buttons: {\n          Rescale: function() {\n            applyLoadedData(data);\n            // rescale loaded map\n            const xRatio = svgWidth / nWidth;\n            const yRatio = svgHeight / nHeight;\n            const scaleTo = rn(Math.min(xRatio, yRatio), 4);\n            // calculate frames to scretch ocean background\n            const extent = (100 / scaleTo) + \"%\";\n            const xShift = (nWidth * scaleTo - svgWidth) / 2 / scaleTo;\n            const yShift = (nHeight * scaleTo - svgHeight) / 2 / scaleTo;\n            svg.select(\"#ocean\").selectAll(\"rect\").attr(\"x\", xShift).attr(\"y\", yShift).attr(\"width\", extent).attr(\"height\", extent);\n            zoom.translateExtent([[0, 0],[nWidth, nHeight]]).scaleExtent([scaleTo, 20]).scaleTo(svg, scaleTo);\n            $(this).dialog(\"close\");\n          },\n          OK: function() {\n            changeMapSize();\n            applyLoadedData(data);\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    } else {\n      applyLoadedData(data);\n    }\n  }\n\n  function applyLoadedData(data) {\n    // redefine variables\n    defs = svg.select(\"#deftemp\");\n    viewbox = svg.select(\"#viewbox\");\n    ocean = viewbox.select(\"#ocean\");\n    oceanLayers = ocean.select(\"#oceanLayers\");\n    oceanPattern = ocean.select(\"#oceanPattern\");\n    landmass = viewbox.select(\"#landmass\");\n    grid = viewbox.select(\"#grid\");\n    overlay = viewbox.select(\"#overlay\");\n    terrs = viewbox.select(\"#terrs\");\n    cults = viewbox.select(\"#cults\");\n    routes = viewbox.select(\"#routes\");\n    roads = routes.select(\"#roads\");\n    trails = routes.select(\"#trails\");\n    rivers = viewbox.select(\"#rivers\");\n    terrain = viewbox.select(\"#terrain\");\n    regions = viewbox.select(\"#regions\");\n    borders = viewbox.select(\"#borders\");\n    stateBorders = borders.select(\"#stateBorders\");\n    neutralBorders = borders.select(\"#neutralBorders\");\n    coastline = viewbox.select(\"#coastline\");\n    lakes = viewbox.select(\"#lakes\");\n    searoutes = routes.select(\"#searoutes\");\n    labels = viewbox.select(\"#labels\");\n    icons = viewbox.select(\"#icons\");\n    markers = viewbox.select(\"#markers\");\n    ruler = viewbox.select(\"#ruler\");\n    debug = viewbox.select(\"#debug\");\n\n    if (!d3.select(\"#defs-markers\").size()) {\n      let symbol = '<g id=\"defs-markers\"><symbol id=\"marker0\" viewBox=\"0 0 30 30\"><path d=\"M6,19 l9,10 L24,19\" fill=\"#000000\" stroke=\"none\"></path><circle cx=\"15\" cy=\"15\" r=\"10\" stroke-width=\"1\" stroke=\"#000000\" fill=\"#ffffff\"></circle><text x=\"50%\" y=\"50%\" fill=\"#000000\" stroke-width=\"0\" stroke=\"#000000\" font-size=\"22px\" dominant-baseline=\"central\">?</text></symbol></g>';\n      let cont = document.getElementsByTagName(\"defs\");\n      cont[0].insertAdjacentHTML(\"afterbegin\", symbol);\n      markers = viewbox.append(\"g\").attr(\"id\", \"markers\");\n    }\n\n    // version control: ensure required groups are created with correct data\n    if (!labels.select(\"#burgLabels\").size()) {\n      labels.append(\"g\").attr(\"id\", \"burgLabels\");\n      $(\"#labels #capitals, #labels #towns\").detach().appendTo($(\"#burgLabels\"));\n    }\n\n    if (!icons.select(\"#burgIcons\").size()) {\n      icons.append(\"g\").attr(\"id\", \"burgIcons\");\n      $(\"#icons #capitals, #icons #towns\").detach().appendTo($(\"#burgIcons\"));\n      icons.select(\"#burgIcons\").select(\"#capitals\").attr(\"size\", 1).attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1);\n      icons.select(\"#burgIcons\").select(\"#towns\").attr(\"size\", .5).attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1);\n    }\n\n    icons.selectAll(\"g\").each(function() {\n      const size = this.getAttribute(\"font-size\");\n      if (size === null || size === undefined) return;\n      this.removeAttribute(\"font-size\");\n      this.setAttribute(\"size\", size);\n    });\n\n    icons.select(\"#burgIcons\").selectAll(\"circle\").each(function() {\n      this.setAttribute(\"r\", this.parentNode.getAttribute(\"size\"));\n    });\n\n    icons.selectAll(\"use\").each(function() {\n      const size = this.parentNode.getAttribute(\"size\");\n      if (size === null || size === undefined) return;\n      this.setAttribute(\"width\", size);\n      this.setAttribute(\"height\", size);\n    });\n\n    if (!labels.select(\"#countries\").size()) {\n      labels.append(\"g\").attr(\"id\", \"countries\")\n        .attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1)\n        .attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\")\n        .attr(\"font-size\", 14).attr(\"data-size\", 14);\n    }\n\n    burgLabels = labels.select(\"#burgLabels\");\n    burgIcons = icons.select(\"#burgIcons\");\n\n    // restore events\n    svg.call(zoom);\n    restoreDefaultEvents();\n    viewbox.on(\"touchmove mousemove\", moved);\n    overlay.selectAll(\"*\").call(d3.drag().on(\"start\", elementDrag));\n    terrain.selectAll(\"g\").selectAll(\"g\").on(\"click\", editReliefIcon);\n    labels.selectAll(\"text\").on(\"click\", editLabel);\n    icons.selectAll(\"circle, path, use\").on(\"click\", editIcon);\n    burgLabels.selectAll(\"text\").on(\"click\", editBurg);\n    burgIcons.selectAll(\"circle, path, use\").on(\"click\", editBurg);\n    rivers.selectAll(\"path\").on(\"click\", editRiver);\n    routes.selectAll(\"path\").on(\"click\", editRoute);\n    markers.selectAll(\"use\").on(\"click\", editMarker);\n    svg.select(\"#scaleBar\").call(d3.drag().on(\"start\", elementDrag)).on(\"click\", editScale);\n    ruler.selectAll(\"g\").call(d3.drag().on(\"start\", elementDrag));\n    ruler.selectAll(\"g\").selectAll(\"text\").on(\"click\", removeParent);\n    ruler.selectAll(\".opisometer\").selectAll(\"circle\").call(d3.drag().on(\"start\", opisometerEdgeDrag));\n    ruler.selectAll(\".linear\").selectAll(\"circle:not(.center)\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n    ruler.selectAll(\".linear\").selectAll(\"circle.center\").call(d3.drag().on(\"drag\", rulerCenterDrag));\n\n    // update data\n    const newPoints = [];\n    riversData = [], queue = [], elSelected = \"\";\n    points = JSON.parse(data[1]);\n    cells = JSON.parse(data[2]);\n    manors = JSON.parse(data[3]);\n    if (data[7]) cultures = JSON.parse(data[7]);\n    if (data[7] === undefined) generateCultures();\n    if (data[11]) notes = JSON.parse(data[11]);\n\n    // place random point\n    function placePoint() {\n      const x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      const y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      return [x, y];\n    }\n\n    // ensure each culure has a valid namesbase assigned, if not assign first base\n    if (!nameBase[0]) applyDefaultNamesData();\n    cultures.forEach(function(c) {\n      const b = c.base;\n      if (b === undefined) c.base = 0;\n      if (!nameBase[b] || !nameBases[b]) c.base = 0;\n      if (c.center === undefined) c.center = placePoint();\n    });\n    const graphSizeAdj = 90 / Math.sqrt(cells.length, 2); // adjust to different graphSize\n\n    // cells validations\n    cells.forEach(function(c, d) {\n      // collect points\n      newPoints.push(c.data);\n\n      // update old 0-1 height range to a new 0-100 range\n      if (c.height < 1) c.height = Math.trunc(c.height * 100);\n      if (c.height === 1 && c.region !== undefined && c.flux !== undefined) c.height = 100;\n\n      // check if there are any unavailable cultures\n      if (c.culture > cultures.length - 1) {\n        const center = [c.data[0],c.data[1]];\n        const cult = {name:\"AUTO_\"+c.culture, color:\"#ff0000\", base:0, center};\n        cultures.push(cult);\n      }\n\n      if (c.height >= 20) {\n        if (!polygons[d] || !polygons[d].length) return;\n        // calculate area\n        if (c.area === undefined || isNaN(c.area)) {\n          const area = d3.polygonArea(polygons[d]);\n          c.area = rn(Math.abs(area), 2);\n        }\n        // calculate population\n        if (c.pop === undefined || isNaN(c.pop)) {\n          let population = 0;\n          const elevationFactor = Math.pow((100 - c.height) / 100, 3);\n          population = elevationFactor * c.area * graphSizeAdj;\n          if (c.region === \"neutral\") population *= 0.5;\n          c.pop = rn(population, 1);\n        }\n        // if culture is undefined, set to 0\n        if (c.culture === undefined || isNaN(c.culture)) c.culture = 0;\n      }\n    });\n\n    land = $.grep(cells, function(e) {return (e.height >= 20);});\n    calculateVoronoi(newPoints);\n\n    // get heights Uint8Array\n    if (data[10]) {heights = new Uint8Array(data[10].split(\",\"));}\n    else {\n      heights = new Uint8Array(points.length);\n      for (let i=0; i < points.length; i++) {\n        const cell = diagram.find(points[i][0],points[i][1]).index;\n        heights[i] = cells[cell].height;\n      }\n    }\n\n    // restore Heightmap customization mode\n    if (customization === 1) {\n      optionsTrigger.click();\n      $(\"#customizeHeightmap, #customizationMenu\").slideDown();\n      $(\"#openEditor\").slideUp();\n      updateHistory();\n      customizeTab.click();\n      paintBrushes.click();\n      tip(\"The map is in Heightmap customization mode. Please finalize the Heightmap\", true);\n    }\n    // restore Country Edition mode\n    if (customization === 2 || customization === 3) tip(\"The map is in Country Edition mode. Please complete the assignment\", true);\n\n    // restore layers state\n    d3.select(\"#toggleCultures\").classed(\"buttonoff\", !cults.selectAll(\"path\").size());\n    d3.select(\"#toggleHeight\").classed(\"buttonoff\", !terrs.selectAll(\"path\").size());\n    d3.select(\"#toggleCountries\").classed(\"buttonoff\", regions.style(\"display\") === \"none\");\n    d3.select(\"#toggleRivers\").classed(\"buttonoff\", rivers.style(\"display\") === \"none\");\n    d3.select(\"#toggleOcean\").classed(\"buttonoff\", oceanPattern.style(\"display\") === \"none\");\n    d3.select(\"#toggleRelief\").classed(\"buttonoff\", terrain.style(\"display\") === \"none\");\n    d3.select(\"#toggleBorders\").classed(\"buttonoff\", borders.style(\"display\") === \"none\");\n    d3.select(\"#toggleIcons\").classed(\"buttonoff\", icons.style(\"display\") === \"none\");\n    d3.select(\"#toggleLabels\").classed(\"buttonoff\", labels.style(\"display\") === \"none\");\n    d3.select(\"#toggleRoutes\").classed(\"buttonoff\", routes.style(\"display\") === \"none\");\n    d3.select(\"#toggleGrid\").classed(\"buttonoff\", grid.style(\"display\") === \"none\");\n\n    // update map to support some old versions and fetch fonts\n    labels.selectAll(\"g\").each(function(d) {\n      const el = d3.select(this);\n      if (el.attr(\"id\") === \"burgLabels\") return;\n      const font = el.attr(\"data-font\");\n      if (font && fonts.indexOf(font) === -1) addFonts(\"https://fonts.googleapis.com/css?family=\" + font);\n      if (!el.attr(\"data-size\")) el.attr(\"data-size\", +el.attr(\"font-size\"));\n      if (el.style(\"display\") === \"none\") el.node().style.display = null;\n    });\n\n    invokeActiveZooming();\n    console.timeEnd(\"loadMap\");\n  }\n\n  // get square grid with some jirrering\n  function getJitteredGrid() {\n    let sizeMod = rn((graphWidth + graphHeight) / 1500, 2); // screen size modifier\n    spacing = rn(7.5 * sizeMod / graphSize, 2); // space between points before jirrering\n    const radius = spacing / 2; // square radius\n    const jittering = radius * 0.9; // max deviation\n    const jitter = function() {return Math.random() * 2 * jittering - jittering;};\n    let points = [];\n    for (let y = radius; y < graphHeight; y += spacing) {\n      for (let x = radius; x < graphWidth; x += spacing) {\n        let xj = rn(x + jitter(), 2);\n        let yj = rn(y + jitter(), 2);\n        points.push([xj, yj]);\n      }\n    }\n    return points;\n  }\n\n  // Hotkeys, see github.com/Azgaar/Fantasy-Map-Generator/wiki/Hotkeys\n  d3.select(\"body\").on(\"keydown\", function() {\n    const active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n    const key = d3.event.keyCode;\n    const ctrl = d3.event.ctrlKey;\n    const p = d3.mouse(this);\n    if (key === 117) $(\"#randomMap\").click(); // \"F6\" for new map\n    else if (key === 27) closeDialogs(); // Escape to close all dialogs\n    else if (key === 79) optionsTrigger.click(); // \"O\" to toggle options\n    else if (key === 80) saveAsImage(\"png\"); // \"P\" to save as PNG\n    else if (key === 83) saveAsImage(\"svg\"); // \"S\" to save as SVG\n    else if (key === 77) saveMap(); // \"M\" to save MAP file\n    else if (key === 76) mapToLoad.click(); // \"L\" to load MAP\n    else if (key === 32) console.table(cells[diagram.find(p[0],p[1]).index]); // Space to log focused cell data\n    else if (key === 192) console.log(cells); // \"`\" to log cells data\n    else if (key === 66) console.table(manors); // \"B\" to log burgs data\n    else if (key === 67) console.table(states); // \"C\" to log countries data\n    else if (key === 70) console.table(features); // \"F\" to log features data\n    else if (key === 37) zoom.translateBy(svg, 10, 0); // Left to scroll map left\n    else if (key === 39) zoom.translateBy(svg, -10, 0); // Right to scroll map right\n    else if (key === 38) zoom.translateBy(svg, 0, 10); // Up to scroll map up\n    else if (key === 40) zoom.translateBy(svg, 0, -10); // Up to scroll map up\n    else if (key === 107) zoom.scaleBy(svg, 1.2); // Plus to zoom map up\n    else if (key === 109) zoom.scaleBy(svg, 0.8); // Minus to zoom map out\n    else if (key === 48 || key === 96) resetZoom(); // 0 to reset zoom\n    else if (key === 49 || key === 97) zoom.scaleTo(svg, 1); // 1 to zoom to 1\n    else if (key === 50 || key === 98) zoom.scaleTo(svg, 2); // 2 to zoom to 2\n    else if (key === 51 || key === 99) zoom.scaleTo(svg, 3); // 3 to zoom to 3\n    else if (key === 52 || key === 100) zoom.scaleTo(svg, 4); // 4 to zoom to 4\n    else if (key === 53 || key === 101) zoom.scaleTo(svg, 5); // 5 to zoom to 5\n    else if (key === 54 || key === 102) zoom.scaleTo(svg, 6); // 6 to zoom to 6\n    else if (key === 55 || key === 103) zoom.scaleTo(svg, 7); // 7 to zoom to 7\n    else if (key === 56 || key === 104) zoom.scaleTo(svg, 8); // 8 to zoom to 8\n    else if (key === 57 || key === 105) zoom.scaleTo(svg, 9); // 9 to zoom to 9\n    else if (key === 9) $(\"#updateFullscreen\").click(); // Tab to fit map to fullscreen\n    else if (ctrl && key === 90) undo.click(); // Ctrl + \"Z\" to toggle undo\n    else if (ctrl && key === 89) redo.click(); // Ctrl + \"Y\" to toggle undo\n  });\n\n  // Show help\n  function showHelp() {\n    $(\"#help\").dialog({\n      title: \"About Fantasy Map Generator\",\n      minHeight: 30, width: \"auto\", maxWidth: 275, resizable: false,\n      position: {my: \"center top+10\", at: \"bottom\", of: this},\n      close: unselect\n    });\n  }\n\n  // Toggle Options pane\n  $(\"#optionsTrigger\").on(\"click\", function() {\n    if (tooltip.getAttribute(\"data-main\") === \"Сlick the arrow button to open options\") {\n      tooltip.setAttribute(\"data-main\", \"\");\n      tooltip.innerHTML = \"\";\n      localStorage.setItem(\"disable_click_arrow_tooltip\", true);\n    }\n    if ($(\"#options\").css(\"display\") === \"none\") {\n      $(\"#regenerate\").hide();\n      $(\"#options\").fadeIn();\n      $(\"#layoutTab\").click();\n      $(\"#optionsTrigger\").removeClass(\"icon-right-open glow\").addClass(\"icon-left-open\");\n    } else {\n      $(\"#options\").fadeOut();\n      $(\"#optionsTrigger\").removeClass(\"icon-left-open\").addClass(\"icon-right-open\");\n    }\n  });\n  $(\"#collapsible\").hover(function() {\n    if ($(\"#optionsTrigger\").hasClass(\"glow\")) return;\n    if ($(\"#options\").css(\"display\") === \"none\") {\n      $(\"#regenerate\").show();\n      $(\"#optionsTrigger\").removeClass(\"glow\");\n    }}, function() {\n    $(\"#regenerate\").hide();\n  });\n\n  // move layers on mapLayers dragging (jquery sortable)\n  function moveLayer(event, ui) {\n    const el = getLayer(ui.item.attr(\"id\"));\n    if (el) {\n      const prev = getLayer(ui.item.prev().attr(\"id\"));\n      const next = getLayer(ui.item.next().attr(\"id\"));\n      if (prev) {el.insertAfter(prev);} else if (next) {el.insertBefore(next);}\n    }\n  }\n\n  // define connection between option layer buttons and actual svg groups\n  function getLayer(id) {\n    if (id === \"toggleGrid\") {return $(\"#grid\");}\n    if (id === \"toggleOverlay\") {return $(\"#overlay\");}\n    if (id === \"toggleHeight\") {return $(\"#terrs\");}\n    if (id === \"toggleCultures\") {return $(\"#cults\");}\n    if (id === \"toggleRoutes\") {return $(\"#routes\");}\n    if (id === \"toggleRivers\") {return $(\"#rivers\");}\n    if (id === \"toggleCountries\") {return $(\"#regions\");}\n    if (id === \"toggleBorders\") {return $(\"#borders\");}\n    if (id === \"toggleRelief\") {return $(\"#terrain\");}\n    if (id === \"toggleLabels\") {return $(\"#labels\");}\n    if (id === \"toggleIcons\") {return $(\"#icons\");}\n  }\n\n  // UI Button handlers\n  $(\"button, a, li, i\").on(\"click\", function() {\n    const id = this.id;\n    const parent = this.parentNode.id;\n    if (debug.selectAll(\".tag\").size()) {debug.selectAll(\".tag, .line\").remove();}\n    if (id === \"toggleHeight\") {toggleHeight();}\n    if (id === \"toggleCountries\") {$('#regions').fadeToggle();}\n    if (id === \"toggleCultures\") {toggleCultures();}\n    if (id === \"toggleOverlay\") {toggleOverlay();}\n    if (id === \"toggleFlux\") {toggleFlux();}\n    if (parent === \"mapLayers\" || parent === \"styleContent\") {$(this).toggleClass(\"buttonoff\");}\n    if (id === \"randomMap\" || id === \"regenerate\") {\n      changeSeed();\n      exitCustomization();\n      undraw();\n      resetZoom(1000);\n      generate();\n      return;\n    }\n    if (id === \"editCountries\") editCountries();\n    if (id === \"editCultures\") editCultures();\n    if (id === \"editScale\" || id === \"editScaleCountries\" || id === \"editScaleBurgs\") editScale();\n    if (id === \"countriesManually\") {\n      customization = 2;\n      tip(\"Click to select a country, drag the circle to re-assign\", true);\n      mockRegions();\n      let temp = regions.append(\"g\").attr(\"id\", \"temp\");\n      $(\"#countriesBottom\").children().hide();\n      $(\"#countriesManuallyButtons\").show();\n      // highlight capital cells as it's not allowed to change capital's state that way\n      states.map(function(s) {\n        if (s.capital === \"neutral\" || s.capital === \"select\") return;\n        const capital = s.capital;\n        const index = manors[capital].cell;\n        temp.append(\"path\")\n          .attr(\"data-cell\", index).attr(\"data-state\", s.i)\n          .attr(\"d\", \"M\" + polygons[index].join(\"L\") + \"Z\")\n          .attr(\"fill\", s.color).attr(\"stroke\", \"red\").attr(\"stroke-width\", .7);\n      });\n      viewbox.style(\"cursor\", \"crosshair\").call(drag).on(\"click\", changeSelectedOnClick);\n    }\n    if (id === \"countriesRegenerate\") {\n      customization = 3;\n      tip(\"Manually change \\\"Expansion\\\" value for a country or click on \\\"Randomize\\\" button\", true);\n      mockRegions();\n      regions.append(\"g\").attr(\"id\", \"temp\");\n      $(\"#countriesBottom\").children().hide();\n      $(\"#countriesRegenerateButtons\").show();\n      $(\".statePower, .icon-resize-full, .stateCells, .icon-check-empty\").toggleClass(\"hidden\");\n      $(\"div[data-sortby='expansion'],div[data-sortby='cells']\").toggleClass(\"hidden\");\n    }\n    if (id === \"countriesManuallyComplete\") {\n      debug.selectAll(\".circle\").remove();\n      const changedCells = regions.select(\"#temp\").selectAll(\"path\");\n      let changedStates = [];\n      changedCells.each(function() {\n        const el = d3.select(this);\n        const cell = +el.attr(\"data-cell\");\n        let stateOld = cells[cell].region;\n        if (stateOld === \"neutral\") {stateOld = states.length - 1;}\n        const stateNew = +el.attr(\"data-state\");\n        const region = states[stateNew].color === \"neutral\" ? \"neutral\" : stateNew;\n        cells[cell].region = region;\n        if (cells[cell].manor !== undefined) {manors[cells[cell].manor].region = region;}\n        changedStates.push(stateNew, stateOld);\n      });\n      changedStates = [...new Set(changedStates)];\n      changedStates.map(function(s) {recalculateStateData(s);});\n      const last = states.length - 1;\n      if (states[last].capital === \"neutral\" && states[last].cells === 0) {\n        $(\"#state\" + last).remove();\n        states.splice(-1);\n      }\n      $(\"#countriesManuallyCancel\").click();\n      if (changedStates.length) {editCountries();}\n    }\n    if (id === \"countriesManuallyCancel\") {\n      redrawRegions();\n      debug.selectAll(\".circle\").remove();\n      if (grid.style(\"display\") === \"inline\") {toggleGrid.click();}\n      if (labels.style(\"display\") === \"none\") {toggleLabels.click();}\n      $(\"#countriesBottom\").children().show();\n      $(\"#countriesManuallyButtons, #countriesRegenerateButtons\").hide();\n      $(\".selected\").removeClass(\"selected\");\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").addClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").removeClass(\"hidden\");\n      customization = 0;\n      restoreDefaultEvents();\n    }\n    if (id === \"countriesApply\") {$(\"#countriesManuallyCancel\").click();}\n    if (id === \"countriesRandomize\") {\n      const mod = +powerInput.value * 2;\n      $(\".statePower\").each(function(e, i) {\n        const state = +(this.parentNode.id).slice(5);\n        if (states[state].capital === \"neutral\") return;\n        const power = rn(Math.random() * mod / 2 + 1, 1);\n        $(this).val(power);\n        $(this).parent().attr(\"data-expansion\", power);\n        states[state].power = power;\n      });\n      regenerateCountries();\n    }\n    if (id === \"countriesAddM\" || id === \"countriesAddR\" || id === \"countriesAddG\") {\n      let i = states.length;\n      // move neutrals to the last line\n      if (states[i-1].capital === \"neutral\") {states[i-1].i = i; i -= 1;}\n      var name = generateStateName(0);\n      const color = colors20(i);\n      states.push({i, color, name, capital: \"select\", cells: 0, burgs: 0, urbanPopulation: 0, ruralPopulation: 0, area: 0, power: 1});\n      states.sort(function(a, b){return a.i - b.i});\n      editCountries();\n    }\n    if (id === \"countriesRegenerateNames\") {\n      const editor = d3.select(\"#countriesBody\");\n      states.forEach(function(s) {\n        if (s.capital === \"neutral\") return;\n        s.name = generateStateName(s.i);\n        labels.select(\"#regionLabel\"+s.i).text(s.name);\n        editor.select(\"#state\"+s.i).select(\".stateName\").attr(\"value\", s.name);\n      });\n    }\n    if (id === \"countriesPercentage\") {\n      var el = $(\"#countriesEditor\");\n      if (el.attr(\"data-type\") === \"absolute\") {\n        el.attr(\"data-type\", \"percentage\");\n        const totalCells = land.length;\n        const totalBurgs = +countriesFooterBurgs.innerHTML;\n        let totalArea = countriesFooterArea.innerHTML;\n        totalArea = getInteger(totalArea.split(\" \")[0]);\n        const totalPopulation = getInteger(countriesFooterPopulation.innerHTML);\n        $(\"#countriesBody > .states\").each(function() {\n          const cells = rn($(this).attr(\"data-cells\") / totalCells * 100);\n          const burgs = rn($(this).attr(\"data-burgs\") / totalBurgs * 100);\n          const area = rn($(this).attr(\"data-area\") / totalArea * 100);\n          const population = rn($(this).attr(\"data-population\") / totalPopulation * 100);\n          $(this).children().filter(\".stateCells\").text(cells + \"%\");\n          $(this).children().filter(\".stateBurgs\").text(burgs + \"%\");\n          $(this).children().filter(\".stateArea\").text(area + \"%\");\n          $(this).children().filter(\".statePopulation\").val(population + \"%\");\n        });\n      } else {\n        el.attr(\"data-type\", \"absolute\");\n        editCountries();\n      }\n    }\n    if (id === \"countriesExport\") {\n      if ($(\".statePower\").length === 0) {return;}\n      const unit = areaUnit.value === \"square\" ? distanceUnit.value + \"2\" : areaUnit.value;\n      let data = \"Country,Capital,Cells,Burgs,Area (\" + unit + \"),Population\\n\"; // countries headers\n      $(\"#countriesBody > .states\").each(function() {\n        const country = $(this).attr(\"data-country\");\n        if (country === \"bottom\") {data += \"neutral,\"} else {data += country + \",\";}\n        const capital = $(this).attr(\"data-capital\");\n        if (capital === \"bottom\" || capital === \"select\") {data += \",\"} else {data += capital + \",\";}\n        data += $(this).attr(\"data-cells\") + \",\";\n        data += $(this).attr(\"data-burgs\") + \",\";\n        data += $(this).attr(\"data-area\") + \",\";\n        const population = +$(this).attr(\"data-population\");\n        data += population + \"\\n\";\n      });\n      data += \"\\nBurg,Country,Culture,Population\\n\"; // burgs headers\n      manors.map(function(m) {\n        if (m.region === \"removed\") return; // skip removed burgs\n        data += m.name + \",\";\n        const country = m.region === \"neutral\" ? \"neutral\" : states[m.region].name;\n        data += country + \",\";\n        data += cultures[m.culture].name + \",\";\n        const population = m.population * urbanization.value * populationRate.value * 1000;\n        data += population + \"\\n\";\n      });\n      const dataBlob = new Blob([data], {type: \"text/plain\"});\n      const url = window.URL.createObjectURL(dataBlob);\n      const link = document.createElement(\"a\");\n      document.body.appendChild(link);\n      link.download = \"countries_data\" + Date.now() + \".csv\";\n      link.href = url;\n      link.click();\n      window.setTimeout(function() {window.URL.revokeObjectURL(url);}, 2000);\n    }\n\n    if (id === \"burgNamesImport\") burgsListToLoad.click();\n\n    if (id === \"removeCountries\") {\n      alertMessage.innerHTML = `Are you sure you want remove all countries?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove countries\",\n        buttons: {\n          Cancel: function() {$(this).dialog(\"close\");},\n          Remove: function() {\n            $(this).dialog(\"close\");\n            $(\"#countriesBody\").empty();\n            manors.map(function(m) {m.region = \"neutral\";});\n            land.map(function(l) {l.region = \"neutral\";});\n            states.map(function(s) {\n              const c = +s.capital;\n              if (isNaN(c)) return;\n              moveBurgToGroup(c, \"towns\");\n            });\n            removeAllLabelsInGroup(\"countries\");\n            regions.selectAll(\"path\").remove();\n            states = [];\n            states.push({i: 0, color: \"neutral\", capital: \"neutral\", name: \"Neutrals\"});\n            recalculateStateData(0);\n            if ($(\"#burgsEditor\").is(\":visible\")) {$(\"#burgsEditor\").dialog(\"close\");}\n            editCountries();\n          }\n        }\n      })\n    }\n    if (id === \"removeBurgs\") {\n      alertMessage.innerHTML = `Are you sure you want to remove all burgs associated with the country?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove associated burgs\",\n        buttons: {\n          Cancel: function() {$(this).dialog(\"close\");},\n          Remove: function() {\n            $(this).dialog(\"close\");\n            const state = +$(\"#burgsEditor\").attr(\"data-state\");\n            const region = states[state].capital === \"neutral\" ? \"neutral\" : state;\n            $(\"#burgsBody\").empty();\n            manors.map(function(m) {\n              if (m.region !== region) {return;}\n              m.region = \"removed\";\n              cells[m.cell].manor = undefined;\n              labels.select(\"[data-id='\" + m.i + \"']\").remove();\n              icons.selectAll(\"[data-id='\" + m.i + \"']\").remove();\n            });\n            states[state].urbanPopulation = 0;\n            states[state].burgs = 0;\n            states[state].capital = \"select\";\n            if ($(\"#countriesEditor\").is(\":visible\")) {\n              editCountries();\n              $(\"#burgsEditor\").dialog(\"moveToTop\");\n            }\n            burgsFooterBurgs.innerHTML = 0;\n            burgsFooterPopulation.value = 0;\n          }\n        }\n      });\n    }\n    if (id === \"changeCapital\") {\n      if ($(this).hasClass(\"pressed\")) {\n        $(this).removeClass(\"pressed\")\n      } else {\n        $(\".pressed\").removeClass(\"pressed\");\n        $(this).addClass(\"pressed\");\n      }\n    }\n    if (id === \"regenerateBurgNames\") {\n      var s = +$(\"#burgsEditor\").attr(\"data-state\");\n      $(\".burgName\").each(function(e, i) {\n        const b = +(this.parentNode.id).slice(5);\n        const name = generateName(manors[b].culture);\n        $(this).val(name);\n        $(this).parent().attr(\"data-burg\", name);\n        manors[b].name = name;\n        labels.select(\"[data-id='\" + b + \"']\").text(name);\n      });\n      if ($(\"#countriesEditor\").is(\":visible\")) {\n        if (states[s].capital === \"neutral\") {return;}\n        var c = states[s].capital;\n        $(\"#state\"+s).attr(\"data-capital\", manors[c].name);\n        $(\"#state\"+s+\" > .stateCapital\").val(manors[c].name);\n      }\n    }\n    if (id === \"burgAdd\") {\n      var state = +$(\"#burgsEditor\").attr(\"data-state\");\n      clickToAdd(); // to load on click event function\n      $(\"#addBurg\").click().attr(\"data-state\", state);\n    }\n    if (id === \"toggleScaleBar\") {$(\"#scaleBar\").toggleClass(\"hidden\");}\n    if (id === \"addRuler\") {\n      $(\"#ruler\").show();\n      const rulerNew = ruler.append(\"g\").attr(\"class\", \"linear\").call(d3.drag().on(\"start\", elementDrag));\n      const factor = rn(1 / Math.pow(scale, 0.3), 1);\n      const y = Math.floor(Math.random() * graphHeight * 0.5 + graphHeight * 0.25);\n      const x1 = graphWidth * 0.2, x2 = graphWidth * 0.8;\n      const dash = rn(30 / distanceScale.value, 2);\n      rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y).attr(\"class\", \"white\").attr(\"stroke-width\", factor);\n      rulerNew.append(\"line\").attr(\"x1\", x1).attr(\"y1\", y).attr(\"x2\", x2).attr(\"y2\", y).attr(\"class\", \"gray\").attr(\"stroke-width\", factor).attr(\"stroke-dasharray\", dash);\n      rulerNew.append(\"circle\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"cx\", x1).attr(\"cy\", y).attr(\"data-edge\", \"left\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"r\", 2 * factor).attr(\"stroke-width\", 0.5 * factor).attr(\"cx\", x2).attr(\"cy\", y).attr(\"data-edge\", \"rigth\").call(d3.drag().on(\"drag\", rulerEdgeDrag));\n      rulerNew.append(\"circle\").attr(\"r\", 1.2 * factor).attr(\"stroke-width\", 0.3 * factor).attr(\"cx\", graphWidth / 2).attr(\"cy\", y).attr(\"class\", \"center\").call(d3.drag().on(\"start\", rulerCenterDrag));\n      const dist = rn(x2 - x1);\n      const label = rn(dist * distanceScale.value) + \" \" + distanceUnit.value;\n      rulerNew.append(\"text\").attr(\"x\", graphWidth / 2).attr(\"y\", y).attr(\"dy\", -1).attr(\"data-dist\", dist).text(label).text(label).on(\"click\", removeParent).attr(\"font-size\", 10 * factor);\n      return;\n    }\n    if (id === \"addOpisometer\" || id === \"addPlanimeter\") {\n      if ($(this).hasClass(\"pressed\")) {\n        restoreDefaultEvents();\n        $(this).removeClass(\"pressed\");\n      } else {\n        $(this).addClass(\"pressed\");\n        viewbox.style(\"cursor\", \"crosshair\").call(drag);\n      }\n      return;\n    }\n    if (id === \"removeAllRulers\") {\n      if ($(\"#ruler > g\").length < 1) {return;}\n      alertMessage.innerHTML = `Are you sure you want to remove all placed rulers?`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove all rulers\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            $(\"#ruler > g\").remove();\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n      return;\n    }\n    if (id === \"editHeightmap\") {$(\"#customizeHeightmap\").slideToggle();}\n    if (id === \"fromScratch\") {\n      alertMessage.innerHTML = \"Are you sure you want to clear the map? All progress will be lost\";\n      $(\"#alert\").dialog({resizable: false, title: \"Clear map\",\n        buttons: {\n          Clear: function() {\n            closeDialogs();\n            undraw();\n            placePoints();\n            calculateVoronoi(points);\n            detectNeighbors(\"grid\");\n            drawScaleBar();\n            customizeHeightmap();\n            openBrushesPanel();\n            $(this).dialog(\"close\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    }\n    if (id === \"fromHeightmap\") {\n      const message = `Hightmap is a basic element on which secondary data (rivers, burgs, countries etc) is based.\n      If you want to significantly change the hightmap, it may be better to clean up all the secondary data\n      and let the system to re-generate it based on the updated hightmap. In case of minor changes, you can keep the data.\n      Newly added lands will be considered as neutral. Burgs located on a removed land cells will be deleted.\n      Rivers and small lakes will be re-gerenated based on updated heightmap. Routes won't be regenerated.`;\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({resizable: false, title: \"Edit Heightmap\",\n        buttons: {\n          \"Clean up\": function() {\n            editHeightmap(\"clean\");\n            $(this).dialog(\"close\");\n          },\n          Keep: function() {\n            $(this).dialog(\"close\");\n            editHeightmap(\"keep\");\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n      return;\n    }\n    // heightmap customization buttons\n    if (customization === 1) {\n      if (id === \"paintBrushes\") {openBrushesPanel();}\n      if (id === \"rescaleExecute\") {\n        const subject = rescaleLower.value + \"-\" + rescaleHigher.value;\n        const sign = conditionSign.value;\n        let modifier = rescaleModifier.value;\n        if (sign === \"×\") {modifyHeights(subject, 0, +modifier);}\n        if (sign === \"÷\") {modifyHeights(subject, 0, (1 / modifier));}\n        if (sign === \"+\") {modifyHeights(subject, +modifier, 1);}\n        if (sign === \"-\") {modifyHeights(subject, (-1 * modifier), 1);}\n        if (sign === \"^\") {modifyHeights(subject, 0, \"^\" + modifier);}\n        updateHeightmap();\n        updateHistory();\n      }\n      if (id === \"rescaleButton\") {\n        $(\"#modifyButtons\").children().not(\"#rescaleButton, .condition\").toggle();\n      }\n      if (id === \"rescaleCondButton\") {$(\"#modifyButtons\").children().not(\"#rescaleCondButton, #rescaler\").toggle();}\n      if (id === \"undo\" || id === \"templateUndo\") {restoreHistory(historyStage - 1);}\n      if (id === \"redo\" || id === \"templateRedo\") {restoreHistory(historyStage + 1);}\n      if (id === \"smoothHeights\") {\n        smoothHeights(4);\n        updateHeightmap();\n        updateHistory();\n      }\n      if (id === \"disruptHeights\") {\n        disruptHeights();\n        updateHeightmap();\n        updateHistory();\n      }\n      if (id === \"getMap\") getMap();\n      if (id === \"applyTemplate\") {\n        if ($(\"#templateEditor\").is(\":visible\")) {return;}\n        $(\"#templateEditor\").dialog({\n          title: \"Template Editor\",\n          minHeight: \"auto\", width: \"auto\", resizable: false,\n          position: {my: \"right top\", at: \"right-10 top+10\", of: \"svg\"}\n        });\n      }\n      if (id === \"convertImage\") {convertImage();}\n      if (id === \"convertImageGrid\") {$(\"#grid\").fadeToggle();}\n      if (id === \"convertImageHeights\") {$(\"#landmass\").fadeToggle();}\n      if (id === \"perspectiveView\") {\n        if ($(\"#perspectivePanel\").is(\":visible\")) return;\n        $(\"#perspectivePanel\").dialog({\n          title: \"Perspective View\",\n          width: 520, height: 190,\n          position: {my: \"center center\", at: \"center center\", of: \"svg\"}\n        });\n        drawPerspective();\n        return;\n      }\n    }\n    if (id === \"restoreStyle\") {\n      alertMessage.innerHTML = \"Are you sure you want to restore default style?\";\n      $(\"#alert\").dialog({resizable: false, title: \"Restore style\",\n        buttons: {\n          Restore: function() {\n            applyDefaultStyle();\n            $(this).dialog(\"close\");\n          },\n          Cancel: function() {\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    }\n    if (parent === \"mapFilters\") {\n      $(\"svg\").attr(\"filter\", \"\");\n      if ($(this).hasClass('pressed')) {\n        $(\"#mapFilters .pressed\").removeClass('pressed');\n      } else {\n        $(\"#mapFilters .pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        $(\"svg\").attr(\"filter\", \"url(#filter-\" + id + \")\");\n      }\n      return;\n    }\n    if (id === \"updateFullscreen\") {\n      mapWidthInput.value = window.innerWidth;\n      mapHeightInput.value = window.innerHeight;\n      localStorage.removeItem(\"mapHeight\");\n      localStorage.removeItem(\"mapWidth\");\n      changeMapSize();\n    }\n    if (id === \"zoomExtentDefault\") {\n      zoomExtentMin.value = 1;\n      zoomExtentMax.value = 20;\n      zoom.scaleExtent([1, 20]).scaleTo(svg, 1);\n    }\n    if (id === \"saveButton\") {$(\"#saveDropdown\").slideToggle();}\n    if (id === \"loadMap\") {mapToLoad.click();}\n    if (id === \"zoomReset\") {resetZoom(1000);}\n    if (id === \"zoomPlus\") {\n      scale += 1;\n      if (scale > 40) {scale = 40;}\n      invokeActiveZooming();\n    }\n    if (id === \"zoomMinus\") {\n      scale -= 1;\n      if (scale <= 1) {scale = 1; viewX = 0; viewY = 0;}\n      invokeActiveZooming();\n    }\n    if (id === \"styleFontPlus\" || id === \"styleFontMinus\") {\n      var el = viewbox.select(\"#\"+styleElementSelect.value);\n      var mod = id === \"styleFontPlus\" ? 1.1 : 0.9;\n      el.selectAll(\"g\").each(function() {\n        const el = d3.select(this);\n        let size = rn(el.attr(\"data-size\") * mod, 2);\n        if (size < 2) {size = 2;}\n        el.attr(\"data-size\", size).attr(\"font-size\", rn((size + (size / scale)) / 2, 2));\n      });\n      invokeActiveZooming();\n      return;\n    }\n    if (id === \"brushClear\") {\n      if (customization === 1) {\n        var message = \"Are you sure you want to clear the map?\";\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({resizable: false, title: \"Clear map\",\n          buttons: {\n            Clear: function() {\n              $(this).dialog(\"close\");\n              viewbox.style(\"cursor\", \"crosshair\").call(drag);\n              landmassCounter.innerHTML = \"0\";\n              $(\"#landmass\").empty();\n              heights = new Uint8Array(heights.length);\n              // clear history\n              history = [];\n              historyStage = 0;\n              updateHistory();\n              redo.disabled = templateRedo.disabled = true;\n              undo.disabled = templateUndo.disabled =  true;\n            },\n            Cancel: function() {$(this).dialog(\"close\");}\n          }\n        });\n      } else {\n        start.click();\n      }\n    }\n    if (id === \"templateComplete\") getMap();\n    if (id === \"convertColorsMinus\") {\n      var current = +convertColors.value - 1;\n      if (current < 4) {current = 3;}\n      convertColors.value = current;\n      heightsFromImage(current);\n    }\n    if (id === \"convertColorsPlus\") {\n      var current = +convertColors.value + 1;\n      if (current > 255) {current = 256;}\n      convertColors.value = current;\n      heightsFromImage(current);\n    }\n    if (id === \"convertOverlayButton\") {\n      $(\"#convertImageButtons\").children().not(this).not(\"#convertColors\").toggle();\n    }\n    if (id === \"convertAutoLum\") {autoAssing(\"lum\");}\n    if (id === \"convertAutoHue\") {autoAssing(\"hue\");}\n    if (id === \"convertComplete\") {completeConvertion();}\n  });\n\n  // support save options\n  $(\"#saveDropdown > div\").click(function() {\n    const id = this.id;\n    let dns_allow_popup_message = localStorage.getItem(\"dns_allow_popup_message\");\n    if (!dns_allow_popup_message) {\n      localStorage.clear();\n      let message = \"Generator uses pop-up window to download files. \";\n      message += \"Please ensure your browser does not block popups. \";\n      message += \"Please check browser settings and turn off adBlocker if it is enabled\";\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({title: \"File saver. Please enable popups!\",\n        buttons: {\n          \"Don't show again\": function() {\n            localStorage.setItem(\"dns_allow_popup_message\", true);\n            $(this).dialog(\"close\");\n          },\n          Close: function() {$(this).dialog(\"close\");}\n        },\n        position: {my: \"center\", at: \"center\", of: \"svg\"}\n      });\n    }\n    if (id === \"saveMap\") {saveMap();}\n    if (id === \"saveSVG\") {saveAsImage(\"svg\");}\n    if (id === \"savePNG\") {saveAsImage(\"png\");}\n    $(\"#saveDropdown\").slideUp(\"fast\");\n  });\n\n  // lock / unlock option randomization\n  $(\"#options i[class^='icon-lock']\").click(function() {\n    $(this).toggleClass(\"icon-lock icon-lock-open\");\n    const locked = +$(this).hasClass(\"icon-lock\");\n    $(this).attr(\"data-locked\", locked);\n    const option = (this.id).slice(4, -5).toLowerCase();\n    const value = $(\"#\"+option+\"Input\").val();\n    if (locked) {localStorage.setItem(option, value);}\n    else {localStorage.removeItem(option);}\n  });\n\n  function editHeightmap(type) {\n    closeDialogs();\n    const regionData = [],cultureData = [];\n    if (type !== \"clean\") {\n      for (let i = 0; i < points.length; i++) {\n        let cell = diagram.find(points[i][0],points[i][1]).index;\n        // if closest cell is a small lake, try to find a land neighbor\n        if (cells[cell].lake === 2) cells[cell].neighbors.forEach(function(n) {\n          if (cells[n].height >= 20) {cell = n; }\n        });\n        let region = cells[cell].region;\n        if (region === undefined) region = -1;\n        regionData.push(region);\n        let culture = cells[cell].culture;\n        if (culture === undefined) culture = -1;\n        cultureData.push(culture);\n      }\n    } else {undraw();}\n    calculateVoronoi(points);\n    detectNeighbors(\"grid\");\n    drawScaleBar();\n    if (type === \"keep\") {\n      svg.selectAll(\"#lakes, #coastline, #terrain, #rivers, #grid, #terrs, #landmass, #ocean, #regions\")\n        .selectAll(\"path, circle, line\").remove();\n      svg.select(\"#shape\").remove();\n      for (let i = 0; i < points.length; i++) {\n        if (regionData[i] !== -1) cells[i].region = regionData[i];\n        if (cultureData[i] !== -1) cells[i].culture = cultureData[i];\n      }\n    }\n    mockHeightmap();\n    customizeHeightmap();\n    openBrushesPanel();\n  }\n\n  function openBrushesPanel() {\n    if ($(\"#brushesPanel\").is(\":visible\")) {return;}\n    $(\"#brushesPanel\").dialog({\n      title: \"Paint Brushes\",\n      minHeight: 40, width: \"auto\", maxWidth: 200, resizable: false,\n      position: {my: \"right top\", at: \"right-10 top+10\", of: \"svg\"}\n    }).on('dialogclose', function() {\n      restoreDefaultEvents();\n      $(\"#brushesButtons > .pressed\").removeClass('pressed');\n    });\n\n    if (modules.openBrushesPanel) return;\n    modules.openBrushesPanel = true;\n\n    $(\"#brushesButtons > button\").on(\"click\", function() {\n      const rSlider = $(\"#brushRadiusLabel, #brushRadius\");\n      debug.selectAll(\".circle, .tag, .line\").remove();\n      if ($(this).hasClass('pressed')) {\n        $(this).removeClass('pressed');\n        restoreDefaultEvents();\n        rSlider.attr(\"disabled\", true).addClass(\"disabled\");\n      } else {\n        $(\"#brushesButtons > .pressed\").removeClass('pressed');\n        $(this).addClass('pressed');\n        viewbox.style(\"cursor\", \"crosshair\");\n        const id = this.id;\n        if (id === \"brushRange\" || id === \"brushTrough\") {viewbox.on(\"click\", placeLinearFeature);} // on click brushes\n        else {viewbox.call(drag).on(\"click\", null);} // on drag brushes\n        if ($(this).hasClass(\"feature\")) {rSlider.attr(\"disabled\", true).addClass(\"disabled\");}\n        else {rSlider.attr(\"disabled\", false).removeClass(\"disabled\");}\n      }\n    });\n  }\n\n  function drawPerspective() {\n    console.time(\"drawPerspective\");\n    const width = 320, height = 180;\n    const wRatio = graphWidth / width, hRatio = graphHeight / height;\n    const lineCount = 320, lineGranularity = 90;\n    const perspective = document.getElementById(\"perspective\");\n    const pContext = perspective.getContext(\"2d\");\n    const lines = [];\n    let i = lineCount;\n    while (i--) {\n      const x = i / lineCount * width | 0;\n      const canvasPoints = [];\n      lines.push(canvasPoints);\n      let j = Math.floor(lineGranularity);\n      while (j--) {\n        const y = j / lineGranularity * height | 0;\n        let index = getCellIndex(x * wRatio, y * hRatio);\n        let h = heights[index] - 20;\n        if (h < 1) h = 0;\n        canvasPoints.push([x, y, h]);\n      }\n    }\n    pContext.clearRect(0, 0, perspective.width, perspective.height);\n    for (let canvasPoints of lines) {\n      for (let i = 0; i < canvasPoints.length - 1; i++) {\n        const pt1 = canvasPoints[i];\n        const pt2 = canvasPoints[i + 1];\n        const avHeight = (pt1[2] + pt2[2]) / 200;\n        pContext.beginPath();\n        pContext.moveTo(...transformPt(pt1));\n        pContext.lineTo(...transformPt(pt2));\n        let clr = \"rgb(81, 103, 169)\"; // water\n        if (avHeight !== 0) {clr = color(1 - avHeight - 0.2);}\n        pContext.strokeStyle = clr;\n        pContext.stroke();\n      }\n      for (let i = 0; i < canvasPoints.length - 1; i++) {\n\n      }\n    }\n    console.timeEnd(\"drawPerspective\");\n  }\n\n  // get square grid cell index based on coords\n  function getCellIndex(x, y) {\n    const index = diagram.find(x, y).index;\n    // let cellsX = Math.round(graphWidth / spacing);\n    // let index = Math.ceil(y / spacing) * cellsX + Math.round(x / spacing);\n    return index;\n  }\n\n  function transformPt(pt) {\n    const width = 320, maxHeight = 0.2;\n    var [x, y] = projectIsometric(pt[0],pt[1]);\n    return [x + width / 2 + 10, y + 10 - pt[2] * maxHeight];\n  }\n\n  function projectIsometric(x, y) {\n    const scale = 1, yProj = 4;\n    return [(x - y) * scale, (x + y) / yProj * scale];\n  }\n\n  // templateEditor Button handlers\n  $(\"#templateTools > button\").on(\"click\", function() {\n    let id = this.id;\n    id = id.replace(\"template\", \"\");\n    if (id === \"Mountain\") {\n      const steps = $(\"#templateBody > div\").length;\n      if (steps > 0) return;\n    }\n    $(\"#templateBody\").attr(\"data-changed\", 1);\n    $(\"#templateBody\").append('<div data-type=\"' + id + '\">' + id + '</div>');\n    const el = $(\"#templateBody div:last-child\");\n    if (id === \"Hill\" || id === \"Pit\" || id === \"Range\" || id === \"Trough\") {\n      var count = '<label>count:<input class=\"templateElCount\" onmouseover=\"tip(\\'Blobs to add\\')\" type=\"number\" value=\"1\" min=\"1\" max=\"99\"></label>';\n    }\n    if (id === \"Hill\") {\n      var dist = '<label>distribution:<input class=\"templateElDist\" onmouseover=\"tip(\\'Set blobs distribution. 0.5 - map center; 0 - any place\\')\" type=\"number\" value=\"0.25\" min=\"0\" max=\"0.5\" step=\"0.01\"></label>';\n    }\n    if (id === \"Add\" || id === \"Multiply\") {\n      var dist = '<label>to:<select class=\"templateElDist\" onmouseover=\"tip(\\'Change only land or all cells\\')\"><option value=\"all\" selected>all cells</option><option value=\"land\">land only</option><option value=\"interval\">interval</option></select></label>';\n    }\n    if (id === \"Add\") {\n      var count = '<label>value:<input class=\"templateElCount\" onmouseover=\"tip(\\'Add value to height of all cells (negative values are allowed)\\')\" type=\"number\" value=\"-10\" min=\"-100\" max=\"100\" step=\"1\"></label>';\n    }\n    if (id === \"Multiply\") {\n      var count = '<label>by value:<input class=\"templateElCount\" onmouseover=\"tip(\\'Multiply all cells Height by the value\\')\" type=\"number\" value=\"1.1\" min=\"0\" max=\"10\" step=\"0.1\"></label>';\n    }\n    if (id === \"Smooth\") {\n      var count = '<label>fraction:<input class=\"templateElCount\" onmouseover=\"tip(\\'Set smooth fraction. 1 - full smooth, 2 - half-smooth, etc.\\')\" type=\"number\" min=\"1\" max=\"10\" value=\"2\"></label>';\n    }\n    if (id === \"Strait\") {\n      var count = '<label>width:<input class=\"templateElCount\" onmouseover=\"tip(\\'Set strait width\\')\" value=\"1-7\"></label>';\n    }\n    el.append('<span onmouseover=\"tip(\\'Remove step\\')\" class=\"icon-trash-empty\"></span>');\n    $(\"#templateBody .icon-trash-empty\").on(\"click\", function() {$(this).parent().remove();});\n    if (dist) el.append(dist);\n    if (count) el.append(count);\n    el.find(\"select.templateElDist\").on(\"input\", fireTemplateElDist);\n    $(\"#templateBody\").attr(\"data-changed\", 1);\n  });\n\n  // fireTemplateElDist selector handlers\n  function fireTemplateElDist() {\n    if (this.value === \"interval\") {\n      const interval = prompt(\"Populate a height interval (e.g. from 17 to 20), without space, but with hyphen\", \"17-20\");\n      if (interval) {\n        const option = '<option value=\"' + interval + '\">' + interval + '</option>';\n        $(this).append(option).val(interval);\n      }\n    }\n  }\n\n  // templateSelect on change listener\n  $(\"#templateSelect\").on(\"input\", function() {\n    const steps = $(\"#templateBody > div\").length;\n    const changed = +$(\"#templateBody\").attr(\"data-changed\");\n    const template = this.value;\n    if (steps && changed === 1) {\n      alertMessage.innerHTML = \"Are you sure you want to change the base template? All the changes will be lost.\";\n      $(\"#alert\").dialog({resizable: false, title: \"Change Template\",\n        buttons: {\n          Change: function() {\n            changeTemplate(template);\n            $(this).dialog(\"close\");\n          },\n          Cancel: function() {\n            const prev = $(\"#templateSelect\").attr(\"data-prev\");\n            $(\"#templateSelect\").val(prev);\n            $(this).dialog(\"close\");\n          }\n        }\n      });\n    }\n    if (steps === 0 || changed === 0) changeTemplate(template);\n  });\n\n  function changeTemplate(template) {\n    $(\"#templateBody\").empty();\n    $(\"#templateSelect\").attr(\"data-prev\", template);\n    if (template === \"templateVolcano\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 5, 0.35);\n      addStep(\"Range\", 3);\n      addStep(\"Trough\", -4);\n    }\n    if (template === \"templateHighIsland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Range\", 6);\n      addStep(\"Hill\", 12, 0.25);\n      addStep(\"Trough\", 3);\n      addStep(\"Multiply\", 0.75, \"land\");\n      addStep(\"Pit\", 1);\n      addStep(\"Hill\", 3, 0.15);\n    }\n    if (template === \"templateLowIsland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Smooth\", 2);\n      addStep(\"Range\", 2);\n      addStep(\"Hill\", 4, 0.4);\n      addStep(\"Hill\", 12, 0.2);\n      addStep(\"Trough\", 8);\n      addStep(\"Multiply\", 0.35, \"land\");\n    }\n    if (template === \"templateContinents\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 30, 0.25);\n      addStep(\"Strait\", \"4-7\");\n      addStep(\"Pit\", 10);\n      addStep(\"Trough\", 10);\n      addStep(\"Multiply\", 0.6, \"land\");\n      addStep(\"Smooth\", 2);\n      addStep(\"Range\", 3);\n    }\n    if (template === \"templateArchipelago\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10);\n      addStep(\"Hill\", 12, 0.15);\n      addStep(\"Range\", 8);\n      addStep(\"Strait\", \"2-3\");\n      addStep(\"Trough\", 15);\n      addStep(\"Pit\", 10);\n      addStep(\"Add\", -5, \"land\");\n      addStep(\"Multiply\", 0.7, \"land\");\n      addStep(\"Smooth\", 3);\n    }\n\n    if (template === \"templateAtoll\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10, \"all\");\n      addStep(\"Hill\", 2, 0.35);\n      addStep(\"Range\", 2);\n      addStep(\"Smooth\", 1);\n      addStep(\"Multiply\", 0.1, \"27-100\");\n    }\n    if (template === \"templateMainland\") {\n      addStep(\"Mountain\");\n      addStep(\"Add\", 10, \"all\");\n      addStep(\"Hill\", 30, 0.2);\n      addStep(\"Range\", 10);\n      addStep(\"Pit\", 20);\n      addStep(\"Hill\", 10, 0.15);\n      addStep(\"Trough\", 10);\n      addStep(\"Multiply\", 0.4, \"land\");\n      addStep(\"Range\", 10);\n      addStep(\"Smooth\", 3);\n    }\n    if (template === \"templatePeninsulas\") {\n      addStep(\"Add\", 15);\n      addStep(\"Hill\", 30, 0);\n      addStep(\"Range\", 5);\n      addStep(\"Pit\", 15);\n      addStep(\"Strait\", \"15-20\");\n    }\n    $(\"#templateBody\").attr(\"data-changed\", 0);\n  }\n\n  // interprete template function\n  function addStep(feature, count, dist) {\n    if (!feature) return;\n    if (feature === \"Mountain\") templateMountain.click();\n    if (feature === \"Hill\") templateHill.click();\n    if (feature === \"Pit\") templatePit.click();\n    if (feature === \"Range\") templateRange.click();\n    if (feature === \"Trough\") templateTrough.click();\n    if (feature === \"Strait\") templateStrait.click();\n    if (feature === \"Add\") templateAdd.click();\n    if (feature === \"Multiply\") templateMultiply.click();\n    if (feature === \"Smooth\") templateSmooth.click();\n    if (count) {$(\"#templateBody div:last-child .templateElCount\").val(count);}\n    if (dist !== undefined) {\n      if (dist !== \"land\") {\n        const option = '<option value=\"' + dist + '\">' + dist + '</option>';\n        $(\"#templateBody div:last-child .templateElDist\").append(option);\n      }\n      $(\"#templateBody div:last-child .templateElDist\").val(dist);\n    }\n  }\n\n  // Execute custom template\n  $(\"#templateRun\").on(\"click\", function() {\n    if (customization !== 1) return;\n    let steps = $(\"#templateBody > div\").length;\n    if (!steps) return;\n    heights = new Uint8Array(heights.length); // clean all heights\n    for (let step=1; step <= steps; step++) {\n      const type = $(\"#templateBody div:nth-child(\" + step + \")\").attr(\"data-type\");\n      if (type === \"Mountain\") {addMountain(); continue;}\n      let count = $(\"#templateBody div:nth-child(\" + step + \") .templateElCount\").val();\n      const dist = $(\"#templateBody div:nth-child(\" + step + \") .templateElDist\").val();\n      if (count) {\n        if (count[0] !== \"-\" && count.includes(\"-\")) {\n          const lim = count.split(\"-\");\n          count = Math.floor(Math.random() * (+lim[1] - +lim[0] + 1) + +lim[0]);\n        } else {\n          count = +count; // parse string\n        }\n      }\n      if (type === \"Hill\") {addHill(count, +dist);}\n      if (type === \"Pit\") {addPit(count);}\n      if (type === \"Range\") {addRange(count);}\n      if (type === \"Trough\") {addRange(-1 * count);}\n      if (type === \"Strait\") {addStrait(count);}\n      if (type === \"Add\") {modifyHeights(dist, count, 1);}\n      if (type === \"Multiply\") {modifyHeights(dist, 0, count);}\n      if (type === \"Smooth\") {smoothHeights(count);}\n    }\n    mockHeightmap();\n    updateHistory();\n  });\n\n  // Save custom template as text file\n  $(\"#templateSave\").on(\"click\", function() {\n    const steps = $(\"#templateBody > div\").length;\n    let stepsData = \"\";\n    for (let step=1; step <= steps; step++) {\n      const element = $(\"#templateBody div:nth-child(\" + step + \")\");\n      const type = element.attr(\"data-type\");\n      let count = $(\"#templateBody div:nth-child(\" + step + \") .templateElCount\").val();\n      let dist = $(\"#templateBody div:nth-child(\" + step + \") .templateElDist\").val();\n      if (!count) {count = \"0\";}\n      if (!dist) {dist = \"0\";}\n      stepsData += type + \" \" + count + \" \" + dist + \"\\r\\n\";\n    }\n    const dataBlob = new Blob([stepsData], {type: \"text/plain\"});\n    const url = window.URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.download = \"template_\" + Date.now() + \".txt\";\n    link.href = url;\n    link.click();\n    $(\"#templateBody\").attr(\"data-changed\", 0);\n  });\n\n  // Load custom template as text file\n  $(\"#templateLoad\").on(\"click\", function() {templateToLoad.click();});\n  $(\"#templateToLoad\").change(function() {\n    const fileToLoad = this.files[0];\n    this.value = \"\";\n    const fileReader = new FileReader();\n    fileReader.onload = function(fileLoadedEvent) {\n      const dataLoaded = fileLoadedEvent.target.result;\n      const data = dataLoaded.split(\"\\r\\n\");\n      $(\"#templateBody\").empty();\n      if (data.length > 0) {\n        $(\"#templateBody\").attr(\"data-changed\", 1);\n        $(\"#templateSelect\").attr(\"data-prev\", \"templateCustom\").val(\"templateCustom\");\n      }\n      for (let i=0; i < data.length; i++) {\n        const line = data[i].split(\" \");\n        addStep(line[0],line[1],line[2]);\n      }\n    };\n    fileReader.readAsText(fileToLoad, \"UTF-8\");\n  });\n\n  // Image to Heightmap Converter dialog\n  function convertImage() {\n    canvas.width = svgWidth;\n    canvas.height = svgHeight;\n    // turn off paint brushes drag and cursor\n    $(\".pressed\").removeClass('pressed');\n    restoreDefaultEvents();\n    const div = d3.select(\"#colorScheme\");\n    if (div.selectAll(\"*\").size() === 0) {\n      for (let i = 0; i <= 100; i++) {\n        let width = i < 20 || i > 70 ? \"1px\" : \"3px\";\n        if (i === 0) width = \"4px\";\n        const clr = color(1 - i / 100);\n        const style = \"background-color: \" + clr + \"; width: \" + width;\n        div.append(\"div\").attr(\"data-color\", i).attr(\"style\", style);\n      }\n      div.selectAll(\"*\").on(\"touchmove mousemove\", showHeight).on(\"click\", assignHeight);\n    }\n    if ($(\"#imageConverter\").is(\":visible\")) {return;}\n    $(\"#imageConverter\").dialog({\n      title: \"Image to Heightmap Converter\",\n      minHeight: 30, width: 260, resizable: false,\n      position: {my: \"right top\", at: \"right-10 top+10\", of: \"svg\"}})\n    .on('dialogclose', function() {completeConvertion();});\n  }\n\n  // Load image to convert\n  $(\"#convertImageLoad\").on(\"click\", function() {imageToLoad.click();});\n  $(\"#imageToLoad\").change(function() {\n    console.time(\"loadImage\");\n    // set style\n    resetZoom();\n    grid.attr(\"stroke-width\", .2);\n    // load image\n    const file = this.files[0];\n    this.value = \"\"; // reset input value to get triggered if the same file is uploaded\n    const reader = new FileReader();\n    const img = new Image;\n    // draw image\n    img.onload = function() {\n      ctx.drawImage(img, 0, 0, svgWidth, svgHeight);\n      heightsFromImage(+convertColors.value);\n      console.timeEnd(\"loadImage\");\n    };\n    reader.onloadend = function() {img.src = reader.result;};\n    reader.readAsDataURL(file);\n  });\n\n  function heightsFromImage(count) {\n    const imageData = ctx.getImageData(0, 0, svgWidth, svgHeight);\n    const data = imageData.data;\n    $(\"#landmass > path, .color-div\").remove();\n    $(\"#landmass, #colorsUnassigned\").fadeIn();\n    $(\"#colorsAssigned\").fadeOut();\n    const colors = [], palette = [];\n    points.map(function(i) {\n      let x = rn(i[0]), y = rn(i[1]);\n      if (y == svgHeight) {y--;}\n      if (x == svgWidth) {x--;}\n      const p = (x + y * svgWidth) * 4;\n      const r = data[p], g = data[p + 1], b = data[p + 2];\n      colors.push([r, g, b]);\n    });\n    const cmap = MMCQ.quantize(colors, count);\n    heights = new Uint8Array(points.length);\n    polygons.map(function(i, d) {\n      const nearest = cmap.nearest(colors[d]);\n      const rgb = \"rgb(\" + nearest[0] + \", \" + nearest[1] + \", \" + nearest[2] + \")\";\n      const hex = toHEX(rgb);\n      if (palette.indexOf(hex) === -1) {palette.push(hex);}\n      landmass.append(\"path\")\n        .attr(\"d\", \"M\" + i.join(\"L\") + \"Z\").attr(\"data-i\", d)\n        .attr(\"fill\", hex).attr(\"stroke\", hex);\n    });\n    landmass.selectAll(\"path\").on(\"click\", landmassClicked);\n    palette.sort(function(a, b) {return d3.lab(a).b - d3.lab(b).b;}).map(function(i) {\n      $(\"#colorsUnassigned\").append('<div class=\"color-div\" id=\"' + i.substr(1) + '\" style=\"background-color: ' + i + ';\"/>');\n    });\n    $(\".color-div\").click(selectColor);\n  }\n\n  function landmassClicked() {\n    const color = d3.select(this).attr(\"fill\");\n    $(\"#\"+color.slice(1)).click();\n  }\n\n  function selectColor() {\n    landmass.selectAll(\".selectedCell\").classed(\"selectedCell\", 0);\n    const el = d3.select(this);\n    if (el.classed(\"selectedColor\")) {\n      el.classed(\"selectedColor\", 0);\n    } else {\n      $(\".selectedColor\").removeClass(\"selectedColor\");\n      el.classed(\"selectedColor\", 1);\n      $(\"#colorScheme .hoveredColor\").removeClass(\"hoveredColor\");\n      $(\"#colorsSelectValue\").text(0);\n      if (el.attr(\"data-height\")) {\n        const height = el.attr(\"data-height\");\n        $(\"#colorScheme div[data-color='\" + height + \"']\").addClass(\"hoveredColor\");\n        $(\"#colorsSelectValue\").text(height);\n      }\n      const color = \"#\" + d3.select(this).attr(\"id\");\n      landmass.selectAll(\"path\").classed(\"selectedCell\", 0);\n      landmass.selectAll(\"path[fill='\" + color + \"']\").classed(\"selectedCell\", 1);\n    }\n  }\n\n  function showHeight() {\n    let el = d3.select(this);\n    let height = el.attr(\"data-color\");\n    $(\"#colorsSelectValue\").text(height);\n    $(\"#colorScheme .hoveredColor\").removeClass(\"hoveredColor\");\n    el.classed(\"hoveredColor\", 1);\n  }\n\n  function assignHeight() {\n    const sel = $(\".selectedColor\")[0];\n    const height = +d3.select(this).attr(\"data-color\");\n    const rgb = color(1 - height / 100);\n    const hex = toHEX(rgb);\n    sel.style.backgroundColor = rgb;\n    sel.setAttribute(\"data-height\", height);\n    const cur = \"#\" + sel.id;\n    sel.id = hex.substr(1);\n    landmass.selectAll(\".selectedCell\").each(function() {\n      d3.select(this).attr(\"fill\", hex).attr(\"stroke\", hex);\n      let i = +d3.select(this).attr(\"data-i\");\n      heights[i] = height;\n    });\n    const parent = sel.parentNode;\n    if (parent.id === \"colorsUnassigned\") {\n      colorsAssigned.appendChild(sel);\n      $(\"#colorsAssigned\").fadeIn();\n      if ($(\"#colorsUnassigned .color-div\").length < 1) {$(\"#colorsUnassigned\").fadeOut();}\n    }\n    if ($(\"#colorsAssigned .color-div\").length > 1) {sortAssignedColors();}\n  }\n\n  // sort colors based on assigned height\n  function sortAssignedColors() {\n    const data = [];\n    const colors = d3.select(\"#colorsAssigned\").selectAll(\".color-div\");\n    colors.each(function(d) {\n      const id = d3.select(this).attr(\"id\");\n      const height = +d3.select(this).attr(\"data-height\");\n      data.push({id, height});\n    });\n    data.sort(function(a, b) {return a.height - b.height}).map(function(i) {\n      $(\"#colorsAssigned\").append($(\"#\"+i.id));\n    });\n  }\n\n  // auto assign color based on luminosity or hue\n  function autoAssing(type) {\n    const imageData = ctx.getImageData(0, 0, svgWidth, svgHeight);\n    const data = imageData.data;\n    $(\"#landmass > path, .color-div\").remove();\n    $(\"#colorsAssigned\").fadeIn();\n    $(\"#colorsUnassigned\").fadeOut();\n    polygons.forEach(function(i, d) {\n      let x = rn(i.data[0]), y = rn(i.data[1]);\n      if (y == svgHeight) y--;\n      if (x == svgWidth) x--;\n      const p = (x + y * svgWidth) * 4;\n      const r = data[p], g = data[p + 1], b = data[p + 2];\n      const lab = d3.lab(\"rgb(\" + r + \", \" + g + \", \" + b + \")\");\n      if (type === \"hue\") {\n        var normalized = rn(normalize(lab.b + lab.a / 2, -50, 200), 2);\n      } else {\n        var normalized = rn(normalize(lab.l, 0, 100), 2);\n      }\n      const rgb = color(1 - normalized);\n      const hex = toHEX(rgb);\n      heights[d] = normalized * 100;\n      landmass.append(\"path\").attr(\"d\", \"M\" + i.join(\"L\") + \"Z\").attr(\"data-i\", d).attr(\"fill\", hex).attr(\"stroke\", hex);\n    });\n    let unique = [...new Set(heights)].sort();\n    unique.forEach(function(h) {\n      const rgb = color(1 - h / 100);\n      const hex = toHEX(rgb);\n      $(\"#colorsAssigned\").append('<div class=\"color-div\" id=\"' + hex.substr(1) + '\" data-height=\"' + h + '\" style=\"background-color: ' + hex + ';\"/>');\n    });\n    $(\".color-div\").click(selectColor);\n  }\n\n  function normalize(val, min, max) {\n    let normalized = (val - min) / (max - min);\n    if (normalized < 0) {normalized = 0;}\n    if (normalized > 1) {normalized = 1;}\n    return normalized;\n  }\n\n  function completeConvertion() {\n    mockHeightmap();\n    restartHistory();\n    $(\".color-div\").remove();\n    $(\"#colorsAssigned, #colorsUnassigned\").fadeOut();\n    grid.attr(\"stroke-width\", .1);\n    canvas.style.opacity = convertOverlay.value = convertOverlayValue.innerHTML = 0;\n    // turn on paint brushes drag and cursor\n    viewbox.style(\"cursor\", \"crosshair\").call(drag);\n    $(\"#imageConverter\").dialog('close');\n  }\n\n  // Clear the map\n  function undraw() {\n    viewbox.selectAll(\"path, circle, line, text, use, #ruler > g\").remove();\n    defs.selectAll(\"*\").remove();\n    landmass.select(\"rect\").remove();\n    cells = [],land = [],riversData = [],manors = [],states = [],features = [],queue = [];\n  }\n\n  // Enter Heightmap Customization mode\n  function customizeHeightmap() {\n    customization = 1;\n    tip('Heightmap customization mode is active. Click on \"Complete\" to finalize the Heightmap', true);\n    $(\"#getMap\").removeClass(\"buttonoff\").addClass(\"glow\");\n    resetZoom();\n    landmassCounter.innerHTML = \"0\";\n    $('#grid').fadeIn();\n    $('#toggleGrid').removeClass(\"buttonoff\");\n    restartHistory();\n    $(\"#customizationMenu\").slideDown();\n    $(\"#openEditor\").slideUp();\n  }\n\n  // Remove all customization related styles, reset values\n  function exitCustomization() {\n    customization = 0;\n    tip(\"\", true);\n    canvas.style.opacity = 0;\n    $(\"#customizationMenu\").slideUp();\n    $(\"#getMap\").addClass(\"buttonoff\").removeClass(\"glow\");\n    $(\"#landmass\").empty();\n    $('#grid').empty().fadeOut();\n    $('#toggleGrid').addClass(\"buttonoff\");\n    restoreDefaultEvents();\n    if (!$(\"#toggleHeight\").hasClass(\"buttonoff\")) {toggleHeight();}\n    closeDialogs();\n    history = [];\n    historyStage = 0;\n    $(\"#customizeHeightmap\").slideUp();\n    $(\"#openEditor\").slideDown();\n    debug.selectAll(\".circle, .tag, .line\").remove();\n  }\n\n  // open editCountries dialog\n  function editCountries() {\n    if (cults.selectAll(\"path\").size()) $(\"#toggleCultures\").click();\n    if (regions.style(\"display\") === \"none\") $(\"#toggleCountries\").click();\n    layoutPreset.value = \"layoutPolitical\";\n    $(\"#countriesBody\").empty();\n    $(\"#countriesHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    let totalArea = 0, totalBurgs = 0, unit, areaConv;\n    if (areaUnit.value === \"square\") {unit = \" \" + distanceUnit.value + \"²\";} else {unit = \" \" + areaUnit.value;}\n    let totalPopulation = 0;\n    for (let s = 0; s < states.length; s++) {\n      $(\"#countriesBody\").append('<div class=\"states\" id=\"state' + s + '\"></div>');\n      const el = $(\"#countriesBody div:last-child\");\n      const burgsCount = states[s].burgs;\n      totalBurgs += burgsCount;\n      // calculate user-friendly area and population\n      const area = rn(states[s].area * Math.pow(distanceScale.value, 2));\n      totalArea += area;\n      areaConv = si(area) + unit;\n      const urban = rn(states[s].urbanPopulation * urbanization.value * populationRate.value);\n      const rural = rn(states[s].ruralPopulation * populationRate.value);\n      var population = (urban + rural) * 1000;\n      totalPopulation += population;\n      const populationConv = si(population);\n      const title = '\\'Total population: ' + populationConv + '; Rural population: ' + rural + 'K; Urban population: ' + urban + 'K\\'';\n      let neutral = states[s].color === \"neutral\" || states[s].capital === \"neutral\";\n      // append elements to countriesBody\n      if (!neutral) {\n        el.append('<input onmouseover=\"tip(\\'Country color. Click to change\\')\" class=\"stateColor\" type=\"color\" value=\"' + states[s].color + '\"/>');\n        el.append('<input onmouseover=\"tip(\\'Country name. Click and type to change\\')\" class=\"stateName\" value=\"' + states[s].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        var capital = states[s].capital !== \"select\" ? manors[states[s].capital].name : \"select\";\n        if (capital === \"select\") {\n          el.append('<button onmouseover=\"tip(\\'Click on map to select a capital or to create a new capital\\')\" class=\"selectCapital\" id=\"selectCapital' + s + '\">★ select</button>');\n        } else {\n          el.append('<span onmouseover=\"tip(\\'Country capital. Click to enlange\\')\" class=\"icon-star-empty enlange\"></span>');\n          el.append('<input onmouseover=\"tip(\\'Capital name. Click and type to rename\\')\" class=\"stateCapital\" value=\"' + capital + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        }\n        el.append('<span onmouseover=\"tip(\\'Country expansionism (defines competitive size)\\')\" class=\"icon-resize-full hidden\"></span>');\n        el.append('<input onmouseover=\"tip(\\'Capital expansionism (defines competitive size)\\')\" class=\"statePower hidden\" type=\"number\" min=\"0\" max=\"99\" step=\"0.1\" value=\"' + states[s].power + '\"/>');\n      } else {\n        el.append('<input class=\"stateColor placeholder\" disabled type=\"color\"/>');\n        el.append('<input onmouseover=\"tip(\\'Neutral burgs are united into this group. Click to change the group name\\')\" class=\"stateName italic\" id=\"stateName' + s + '\" value=\"' + states[s].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n        el.append('<span class=\"icon-star-empty placeholder\"></span>');\n        el.append('<input class=\"stateCapital placeholder\"/>');\n        el.append('<span class=\"icon-resize-full hidden placeholder\"></span>');\n        el.append('<input class=\"statePower hidden placeholder\" value=\"0.0\"/>');\n      }\n      el.append('<span onmouseover=\"tip(\\'Cells count\\')\" class=\"icon-check-empty\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Cells count\\')\" class=\"stateCells\">' + states[s].cells + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Burgs count. Click to see a full list\\')\" style=\"padding-right: 1px\" class=\"stateBIcon icon-dot-circled\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Burgs count. Click to see a full list\\')\" class=\"stateBurgs\">' + burgsCount + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Country area: ' + (area + unit) + '\\')\" style=\"padding-right: 4px\" class=\"icon-map-o\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Country area: ' + (area + unit) + '\\')\" class=\"stateArea\">' + areaConv + '</div>');\n      el.append('<span onmouseover=\"tip(' + title + ')\" class=\"icon-male\"></span>');\n      el.append('<input onmouseover=\"tip(' + title + ')\" class=\"statePopulation\" value=\"' + populationConv + '\">');\n      if (!neutral) {\n        el.append('<span onmouseover=\"tip(\\'Remove country, all assigned cells will become Neutral\\')\" class=\"icon-trash-empty\"></span>');\n        el.attr(\"data-country\", states[s].name).attr(\"data-capital\", capital).attr(\"data-expansion\", states[s].power).attr(\"data-cells\", states[s].cells)\n          .attr(\"data-burgs\", states[s].burgs).attr(\"data-area\", area).attr(\"data-population\", population);\n      } else {\n        el.attr(\"data-country\", \"bottom\").attr(\"data-capital\", \"bottom\").attr(\"data-expansion\", \"bottom\").attr(\"data-cells\", states[s].cells)\n          .attr(\"data-burgs\", states[s].burgs).attr(\"data-area\", area).attr(\"data-population\", population);\n      }\n    }\n    // initialize jQuery dialog\n    if (!$(\"#countriesEditor\").is(\":visible\")) {\n      $(\"#countriesEditor\").dialog({\n        title: \"Countries Editor\",\n        minHeight: \"auto\", minWidth: Math.min(svgWidth, 390),\n        position: {my: \"right top\", at: \"right-10 top+10\", of: \"svg\"}\n      }).on(\"dialogclose\", function() {\n        if (customization === 2 || customization === 3) {\n          $(\"#countriesManuallyCancel\").click()\n        }\n      });\n    }\n    // restore customization Editor version\n    if (customization === 3) {\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").removeClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").addClass(\"hidden\");\n    } else {\n      $(\"div[data-sortby='expansion'],.statePower, .icon-resize-full\").addClass(\"hidden\");\n      $(\"div[data-sortby='cells'],.stateCells, .icon-check-empty\").removeClass(\"hidden\");\n    }\n    // populate total line on footer\n    countriesFooterCountries.innerHTML = states.length;\n    if (states[states.length-1].capital === \"neutral\") {countriesFooterCountries.innerHTML = states.length - 1;}\n    countriesFooterBurgs.innerHTML = totalBurgs;\n    countriesFooterArea.innerHTML = si(totalArea) + unit;\n    countriesFooterPopulation.innerHTML = si(totalPopulation);\n    // handle events\n    $(\"#countriesBody .states\").hover(focusOnState, unfocusState);\n    $(\".enlange\").click(function() {\n      const s = +(this.parentNode.id).slice(5);\n      const capital = states[s].capital;\n      const l = labels.select(\"[data-id='\" + capital + \"']\");\n      const x = +l.attr(\"x\"), y = +l.attr(\"y\");\n      zoomTo(x, y, 8, 1600);\n    });\n    $(\".stateName\").on(\"input\", function() {\n      const s = +(this.parentNode.id).slice(5);\n      states[s].name = this.value;\n      labels.select(\"#regionLabel\"+s).text(this.value);\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          const color = '<input title=\"Country color. Click to change\" type=\"color\" class=\"stateColor\" value=\"' + states[s].color + '\"/>';\n          $(\"div[aria-describedby='burgsEditor'] .ui-dialog-title\").text(\"Burgs of \" + this.value).prepend(color);\n        }\n      }\n    });\n    $(\".states > .stateColor\").on(\"change\", function() {\n      const s = +(this.parentNode.id).slice(5);\n      states[s].color = this.value;\n      regions.selectAll(\".region\"+s).attr(\"fill\", this.value).attr(\"stroke\", this.value);\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          $(\".ui-dialog-title > .stateColor\").val(this.value);\n        }\n      }\n    });\n    $(\".stateCapital\").on(\"input\", function() {\n      const s = +(this.parentNode.id).slice(5);\n      const capital = states[s].capital;\n      manors[capital].name = this.value;\n      labels.select(\"[data-id='\" + capital +\"']\").text(this.value);\n      if ($(\"#burgsEditor\").is(\":visible\")) {\n        if ($(\"#burgsEditor\").attr(\"data-state\") == s) {\n          $(\"#burgs\"+capital+\" > .burgName\").val(this.value);\n        }\n      }\n    }).hover(focusCapital, unfocus);\n    $(\".stateBurgs, .stateBIcon\").on(\"click\", editBurgs).hover(focusBurgs, unfocus);\n\n    $(\"#countriesBody > .states\").on(\"click\", function() {\n      if (customization === 2) {\n        $(\".selected\").removeClass(\"selected\");\n        $(this).addClass(\"selected\");\n        const state = +$(this).attr(\"id\").slice(5);\n        let color = states[state].color;\n        if (color === \"neutral\") {color = \"white\";}\n        if (debug.selectAll(\".circle\").size()) debug.selectAll(\".circle\").attr(\"stroke\", color);\n      }\n    });\n\n    $(\".selectCapital\").on(\"click\", function() {\n      if ($(this).hasClass(\"pressed\")) {\n        $(this).removeClass(\"pressed\");\n        tooltip.setAttribute(\"data-main\", \"\");\n        restoreDefaultEvents();\n      } else {\n        $(this).addClass(\"pressed\");\n        viewbox.style(\"cursor\", \"crosshair\").on(\"click\", selectCapital);\n        tip(\"Click on the map to select or create a new capital\", true);\n      }\n    });\n\n    function selectCapital() {\n      const point = d3.mouse(this);\n      const index = getIndex(point);\n      const x = rn(point[0], 2), y = rn(point[1], 2);\n\n      if (cells[index].height < 20) {\n        tip(\"Cannot place capital on the water! Select a land cell\");\n        return;\n      }\n      const state = +$(\".selectCapital.pressed\").attr(\"id\").replace(\"selectCapital\", \"\");\n      let oldState = cells[index].region;\n      if (oldState === \"neutral\") {oldState = states.length - 1;}\n      if (cells[index].manor !== undefined) {\n        // cell has burg\n        const burg = cells[index].manor;\n        if (states[oldState].capital === burg) {\n          tip(\"Existing capital cannot be selected as a new state capital! Select other cell\");\n          return;\n        } else {\n          // make this burg a new capital\n          const urbanFactor = 0.9; // for old neutrals\n          manors[burg].region = state;\n          if (oldState === \"neutral\") {manors[burg].population *= (1 / urbanFactor);}\n          manors[burg].population *= 2; // give capital x2 population bonus\n          states[state].capital = burg;\n          moveBurgToGroup(burg, \"capitals\");\n        }\n      } else {\n        // free cell -> create new burg for a capital\n        const closest = cultureTree.find(x, y);\n        const culture = cultureTree.data().indexOf(closest) || 0;\n        const name = generateName(culture);\n        const i = manors.length;\n        cells[index].manor = i;\n        states[state].capital = i;\n        let score = cells[index].score;\n        if (score <= 0) {score = rn(Math.random(), 2);}\n        if (cells[index].crossroad) {score += cells[index].crossroad;} // crossroads\n        if (cells[index].confluence) {score += Math.pow(cells[index].confluence, 0.3);} // confluences\n        if (cells[index].port !== undefined) {score *= 3;} // port-capital\n        const population = rn(score, 1);\n        manors.push({i, cell:index, x, y, region: state, culture, name, population});\n        burgIcons.select(\"#capitals\").append(\"circle\").attr(\"id\", \"burg\"+i).attr(\"data-id\", i).attr(\"cx\", x).attr(\"cy\", y).attr(\"r\", 1).on(\"click\", editBurg);\n        burgLabels.select(\"#capitals\").append(\"text\").attr(\"data-id\", i).attr(\"x\", x).attr(\"y\", y).attr(\"dy\", \"-0.35em\").text(name).on(\"click\", editBurg);\n      }\n      cells[index].region = state;\n      cells[index].neighbors.map(function(n) {\n        if (cells[n].height < 20) {return;}\n        if (cells[n].manor !== undefined) {return;}\n        cells[n].region = state;\n      });\n      redrawRegions();\n      recalculateStateData(oldState); // re-calc old state data\n      recalculateStateData(state); // calc new state data\n      editCountries();\n      restoreDefaultEvents();\n    }\n\n    $(\".statePower\").on(\"input\", function() {\n      const s = +(this.parentNode.id).slice(5);\n      states[s].power = +this.value;\n      regenerateCountries();\n    });\n    $(\".statePopulation\").on(\"change\", function() {\n      let s = +(this.parentNode.id).slice(5);\n      const popOr = +$(this).parent().attr(\"data-population\");\n      const popNew = getInteger(this.value);\n      if (!Number.isInteger(popNew) || popNew < 1000) {\n        this.value = si(popOr);\n        return;\n      }\n      const change = popNew / popOr;\n      states[s].urbanPopulation = rn(states[s].urbanPopulation * change, 2);\n      states[s].ruralPopulation = rn(states[s].ruralPopulation * change, 2);\n      const urban = rn(states[s].urbanPopulation * urbanization.value * populationRate.value);\n      const rural = rn(states[s].ruralPopulation * populationRate.value);\n      const population = (urban + rural) * 1000;\n      $(this).parent().attr(\"data-population\", population);\n      this.value = si(population);\n      let total = 0;\n      $(\"#countriesBody > div\").each(function(e, i) {\n        total += +$(this).attr(\"data-population\");\n      });\n      countriesFooterPopulation.innerHTML = si(total);\n      if (states[s].capital === \"neutral\") {s = \"neutral\";}\n      manors.map(function(m) {\n        if (m.region !== s) {return;}\n        m.population = rn(m.population * change, 2);\n      });\n    });\n    // fully remove country\n    $(\"#countriesBody .icon-trash-empty\").on(\"click\", function() {\n      const s = +(this.parentNode.id).slice(5);\n      alertMessage.innerHTML = `Are you sure you want to remove the country? All lands and burgs will become neutral`;\n      $(\"#alert\").dialog({resizable: false, title: \"Remove country\", buttons: {\n        Remove: function() {removeCountry(s); $(this).dialog(\"close\");},\n        Cancel: function() {$(this).dialog(\"close\");}\n      }});\n    });\n\n    function removeCountry(s) {\n      const cellsCount = states[s].cells;\n      const capital = +states[s].capital;\n      if (!isNaN(capital)) moveBurgToGroup(capital, \"towns\");\n      states.splice(s, 1);\n      states.map(function(s, i) {s.i = i;});\n      land.map(function(c) {\n        if (c.region === s) c.region = \"neutral\";\n        else if (c.region > s) c.region -= 1;\n      });\n      // do only if removed state had cells\n      if (cellsCount) {\n        manors.map(function(b) {if (b.region === s) b.region = \"neutral\";});\n        // re-calculate neutral data\n        const i = states.length;\n        if (states[i-1].capital !== \"neutral\") {\n          states.push({i, color: \"neutral\", name: \"Neutrals\", capital: \"neutral\"});\n        }\n        recalculateStateData(i-1); // re-calc data for neutrals\n        redrawRegions();\n      }\n      editCountries();\n    }\n\n    $(\"#countriesNeutral, #countriesNeutralNumber\").on(\"change\", regenerateCountries);\n  }\n\n  // burgs list + editor\n  function editBurgs(context, s) {\n    if (s === undefined) {s = +(this.parentNode.id).slice(5);}\n    $(\"#burgsEditor\").attr(\"data-state\", s);\n    $(\"#burgsBody\").empty();\n    $(\"#burgsHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    const region = states[s].capital === \"neutral\" ? \"neutral\" : s;\n    const burgs = $.grep(manors, function (e) {\n      return (e.region === region);\n    });\n    const populationArray = [];\n    burgs.map(function(b) {\n      $(\"#burgsBody\").append('<div class=\"states\" id=\"burgs' + b.i + '\"></div>');\n      const el = $(\"#burgsBody div:last-child\");\n      el.append('<span title=\"Click to enlarge the burg\" style=\"padding-right: 2px\" class=\"enlarge icon-globe\"></span>');\n      el.append('<input title=\"Burg name. Click and type to change\" class=\"burgName\" value=\"' + b.name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n      el.append('<span title=\"Burg culture\" class=\"icon-book\" style=\"padding-right: 2px\"></span>');\n      el.append('<div title=\"Burg culture\" class=\"burgCulture\">' + cultures[b.culture].name + '</div>');\n      let population = b.population * urbanization.value * populationRate.value * 1000;\n      populationArray.push(population);\n      population = population > 1e4 ? si(population) : rn(population, -1);\n      el.append('<span title=\"Population\" class=\"icon-male\"></span>');\n      el.append('<input title=\"Population. Input to change\" class=\"burgPopulation\" value=\"' + population + '\"/>');\n      const capital = states[s].capital;\n      let type = \"z-burg\"; // usual burg by default\n      if (b.i === capital) {el.append('<span title=\"Capital\" class=\"icon-star-empty\"></span>'); type = \"c-capital\";}\n      else {el.append('<span class=\"icon-star-empty placeholder\"></span>');}\n      if (cells[b.cell].port !== undefined) {\n        el.append('<span title=\"Port\" class=\"icon-anchor small\"></span>');\n        if (type === \"c-capital\") {type = \"a-capital-port\";} else {type = \"p-port\";}\n      } else {\n        el.append('<span class=\"icon-anchor placeholder\"></span>');\n      }\n      if (b.i !== capital) {el.append('<span title=\"Remove burg\" class=\"icon-trash-empty\"></span>');}\n      el.attr(\"data-burg\", b.name).attr(\"data-culture\", cultures[b.culture].name).attr(\"data-population\", b.population).attr(\"data-type\", type);\n    });\n    if (!$(\"#burgsEditor\").is(\":visible\")) {\n      $(\"#burgsEditor\").dialog({\n        title: \"Burgs of \" + states[s].name,\n        minHeight: \"auto\", width: \"auto\",\n        position: {my: \"right bottom\", at: \"right-10 bottom-10\", of: \"svg\"}\n      });\n      const color = '<input title=\"Country color. Click to change\" type=\"color\" class=\"stateColor\" value=\"' + states[s].color + '\"/>';\n      if (region !== \"neutral\") {$(\"div[aria-describedby='burgsEditor'] .ui-dialog-title\").prepend(color);}\n    }\n    // populate total line on footer\n    burgsFooterBurgs.innerHTML = burgs.length;\n    burgsFooterCulture.innerHTML = $(\"#burgsBody div:first-child .burgCulture\").text();\n    const avPop = rn(d3.mean(populationArray), -1);\n    burgsFooterPopulation.value = avPop;\n    $(\".enlarge\").click(function() {\n      const b = +(this.parentNode.id).slice(5);\n      const l = labels.select(\"[data-id='\" + b + \"']\");\n      const x = +l.attr(\"x\"), y = +l.attr(\"y\");\n      zoomTo(x, y, 8, 1600);\n    });\n\n    $(\"#burgsBody > div\").hover(focusBurg, unfocus);\n\n    $(\"#burgsBody > div\").click(function() {\n      if (!$(\"#changeCapital\").hasClass(\"pressed\")) return;\n      const s = +$(\"#burgsEditor\").attr(\"data-state\");\n      const newCap = +$(this).attr(\"id\").slice(5);\n      const oldCap = +states[s].capital;\n      if (newCap === oldCap) {\n        tip(\"This burg is already a capital! Please select a different burg\", null, \"error\");\n        return;\n      }\n      $(\"#changeCapital\").removeClass(\"pressed\");\n      states[s].capital = newCap;\n      if (!isNaN(oldCap)) moveBurgToGroup(oldCap, \"towns\");\n      recalculateStateData(s);\n      moveBurgToGroup(newCap, \"capitals\");\n    });\n\n    $(\".burgName\").on(\"input\", function() {\n      const b = +(this.parentNode.id).slice(5);\n      manors[b].name = this.value;\n      labels.select(\"[data-id='\" + b + \"']\").text(this.value);\n      if (b === s && $(\"#countriesEditor\").is(\":visible\")) {\n        $(\"#state\"+s+\" > .stateCapital\").val(this.value);\n      }\n    });\n    $(\".ui-dialog-title > .stateColor\").on(\"change\", function() {\n      states[s].color = this.value;\n      regions.selectAll(\".region\"+s).attr(\"fill\", this.value).attr(\"stroke\", this.value);\n      if ($(\"#countriesEditor\").is(\":visible\")) {\n        $(\"#state\"+s+\" > .stateColor\").val(this.value);\n      }\n    });\n    $(\".burgPopulation\").on(\"change\", function() {\n      const b = +(this.parentNode.id).slice(5);\n      const pop = getInteger(this.value);\n      if (!Number.isInteger(pop) || pop < 10) {\n        const orig = rn(manors[b].population * urbanization.value * populationRate.value * 1000, 2);\n        this.value = si(orig);\n        return;\n      }\n      populationRaw = rn(pop / urbanization.value / populationRate.value / 1000, 2);\n      const change = populationRaw - manors[b].population;\n      manors[b].population = populationRaw;\n      $(this).parent().attr(\"data-population\", populationRaw);\n      this.value = si(pop);\n      let state = manors[b].region;\n      if (state === \"neutral\") {state = states.length - 1;}\n      states[state].urbanPopulation += change;\n      updateCountryPopulationUI(state);\n      const average = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n      burgsFooterPopulation.value = rn(average, -1);\n    });\n    $(\"#burgsFooterPopulation\").on(\"change\", function() {\n      const state = +$(\"#burgsEditor\").attr(\"data-state\");\n      const newPop = +this.value;\n      const avPop = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n      if (!Number.isInteger(newPop) || newPop < 10) {this.value = rn(avPop, -1); return;}\n      const change = +this.value / avPop;\n      $(\"#burgsBody > div\").each(function(e, i) {\n        const b = +(this.id).slice(5);\n        const pop = rn(manors[b].population * change, 2);\n        manors[b].population = pop;\n        $(this).attr(\"data-population\", pop);\n        let popUI = pop * urbanization.value * populationRate.value * 1000;\n        popUI = popUI > 1e4 ? si(popUI) : rn(popUI, -1);\n        $(this).children().filter(\".burgPopulation\").val(popUI);\n      });\n      states[state].urbanPopulation = rn(states[state].urbanPopulation * change, 2);\n      updateCountryPopulationUI(state);\n    });\n    $(\"#burgsBody .icon-trash-empty\").on(\"click\", function() {\n      alertMessage.innerHTML = `Are you sure you want to remove the burg?`;\n      const b = +(this.parentNode.id).slice(5);\n      $(\"#alert\").dialog({resizable: false, title: \"Remove burg\",\n        buttons: {\n          Remove: function() {\n            $(this).dialog(\"close\");\n            const state = +$(\"#burgsEditor\").attr(\"data-state\");\n            $(\"#burgs\"+b).remove();\n            const cell = manors[b].cell;\n            manors[b].region = \"removed\";\n            cells[cell].manor = undefined;\n            states[state].burgs = states[state].burgs - 1;\n            burgsFooterBurgs.innerHTML = states[state].burgs;\n            countriesFooterBurgs.innerHTML = +countriesFooterBurgs.innerHTML - 1;\n            states[state].urbanPopulation = states[state].urbanPopulation - manors[b].population;\n            const avPop = states[state].urbanPopulation / states[state].burgs * urbanization.value * populationRate.value * 1000;\n            burgsFooterPopulation.value = rn(avPop, -1);\n            if ($(\"#countriesEditor\").is(\":visible\")) {\n              $(\"#state\"+state+\" > .stateBurgs\").text(states[state].burgs);\n            }\n            labels.select(\"[data-id='\" + b + \"']\").remove();\n            icons.select(\"[data-id='\" + b + \"']\").remove();\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n  }\n\n  // onhover style functions\n  function focusOnState() {\n    const s = +(this.id).slice(5);\n    labels.select(\"#regionLabel\" + s).classed(\"drag\", true);\n    document.getElementsByClassName(\"region\" + s)[0].style.stroke = \"red\";\n    document.getElementsByClassName(\"region\" + s)[0].setAttribute(\"filter\", \"url(#blur1)\");\n  }\n\n  function unfocusState() {\n    const s = +(this.id).slice(5);\n    labels.select(\"#regionLabel\" + s).classed(\"drag\", false);\n    document.getElementsByClassName(\"region\" + s)[0].style.stroke = \"none\";\n    document.getElementsByClassName(\"region\" + s)[0].setAttribute(\"filter\", null);\n  }\n\n  function focusCapital() {\n    const s = +(this.parentNode.id).slice(5);\n    const capital = states[s].capital;\n    labels.select(\"[data-id='\" + capital + \"']\").classed(\"drag\", true);\n    icons.select(\"[data-id='\" + capital + \"']\").classed(\"drag\", true);\n  }\n\n  function focusBurgs() {\n    const s = +(this.parentNode.id).slice(5);\n    const stateManors = $.grep(manors, function (e) {\n      return (e.region === s);\n    });\n    stateManors.map(function(m) {\n      labels.select(\"[data-id='\" + m.i + \"']\").classed(\"drag\", true);\n      icons.select(\"[data-id='\" + m.i + \"']\").classed(\"drag\", true);\n    });\n  }\n\n  function focusBurg() {\n    const b = +(this.id).slice(5);\n    const l = labels.select(\"[data-id='\" + b + \"']\");\n    l.classed(\"drag\", true);\n  }\n\n  function unfocus() {$(\".drag\").removeClass(\"drag\");}\n\n  // save dialog position if \"stable\" dialog window is dragged\n  $(\".stable\").on(\"dialogdragstop\", function(event, ui) {\n    sessionStorage.setItem(this.id, [ui.offset.left, ui.offset.top]);\n  });\n\n  // restore saved dialog position on \"stable\" dialog window open\n  $(\".stable\").on(\"dialogopen\", function(event, ui) {\n    let pos = sessionStorage.getItem(this.id);\n    if (!pos) {return;}\n    pos = pos.split(\",\");\n    if (pos[0] > $(window).width() - 100 || pos[1] > $(window).width()  - 40) {return;} // prevent showing out of screen\n    const at = `left+${pos[0]} top+${pos[1]}`;\n    $(this).dialog(\"option\", \"position\", {my: \"left top\", at: at, of: \"svg\"});\n  });\n\n  // open editCultures dialog\n  function editCultures() {\n    if (!cults.selectAll(\"path\").size()) $(\"#toggleCultures\").click();\n    if (regions.style(\"display\") !== \"none\") $(\"#toggleCountries\").click();\n    layoutPreset.value = \"layoutCultural\";\n    $(\"#culturesBody\").empty();\n    $(\"#culturesHeader\").children().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n\n    // collect data\n    const cellsC = [],areas = [],rurPops = [],urbPops = [];\n    const unit = areaUnit.value === \"square\" ? \" \" + distanceUnit.value + \"²\" : \" \" + areaUnit.value;\n    land.map(function(l) {\n      const c = l.culture;\n      if (c === undefined) return;\n      cellsC[c] = cellsC[c] ? cellsC[c] + 1 : 1;\n      areas[c] = areas[c] ? areas[c] + l.area : l.area;\n      rurPops[c] = rurPops[c] ? rurPops[c] + l.pop : l.pop;\n    });\n\n    manors.map(function(m) {\n      const c = m.culture;\n      if (isNaN(c)) return;\n      urbPops[c] = urbPops[c] ? urbPops[c] + m.population : m.population;\n    });\n\n    if (!nameBases[0]) applyDefaultNamesData();\n    for (let c = 0; c < cultures.length; c++) {\n      $(\"#culturesBody\").append('<div class=\"states cultures\" id=\"culture' + c + '\"></div>');\n      if (cellsC[c] === undefined) {\n        cellsC[c] = 0;\n        areas[c] = 0;\n        rurPops[c] = 0;\n      }\n      if (urbPops[c] === undefined) urbPops[c] = 0;\n      const area = rn(areas[c] * Math.pow(distanceScale.value, 2));\n      const areaConv = si(area) + unit;\n      const urban = rn(urbPops[c] * +urbanization.value * populationRate.value);\n      const rural = rn(rurPops[c] * populationRate.value);\n      const population = (urban + rural) * 1000;\n      const populationConv = si(population);\n      const title = '\\'Total population: '+populationConv+'; Rural population: '+rural+'K; Urban population: '+urban+'K\\'';\n      let b = cultures[c].base;\n      if (b >= nameBases.length) b = 0;\n      const base = nameBases[b].name;\n      const el = $(\"#culturesBody div:last-child\");\n      el.append('<input onmouseover=\"tip(\\'Culture color. Click to change\\')\" class=\"stateColor\" type=\"color\" value=\"' + cultures[c].color + '\"/>');\n      el.append('<input onmouseover=\"tip(\\'Culture name. Click and type to change\\')\" class=\"cultureName\" value=\"' + cultures[c].name + '\" autocorrect=\"off\" spellcheck=\"false\"/>');\n      el.append('<span onmouseover=\"tip(\\'Culture cells count\\')\" class=\"icon-check-empty\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Culture cells count\\')\" class=\"stateCells\">' + cellsC[c] + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Culture area: ' + areaConv + '\\')\" style=\"padding-right: 4px\" class=\"icon-map-o\"></span>');\n      el.append('<div onmouseover=\"tip(\\'Culture area: ' + areaConv + '\\')\" class=\"stateArea\">' + areaConv + '</div>');\n      el.append('<span onmouseover=\"tip(' + title + ')\" class=\"icon-male\"></span>');\n      el.append('<div onmouseover=\"tip(' + title + ')\" class=\"culturePopulation\">' + populationConv + '</div>');\n      el.append('<span onmouseover=\"tip(\\'Click to re-generate names for burgs with this culture assigned\\')\" class=\"icon-arrows-cw\"></span>');\n      el.append('<select onmouseover=\"tip(\\'Culture namesbase. Click to change\\')\" class=\"cultureBase\"></select>');\n      if (cultures.length > 1) {\n        el.append('<span onmouseover=\"tip(\\'Remove culture. Remaining cultures will be recalculated\\')\" class=\"icon-trash-empty\"></span>');\n      }\n      el.attr(\"data-color\", cultures[c].color).attr(\"data-culture\", cultures[c].name)\n        .attr(\"data-cells\", cellsC[c]).attr(\"data-area\", area).attr(\"data-population\", population).attr(\"data-base\", base);\n    }\n\n    addCultureBaseOptions();\n    drawCultureCenters();\n\n    let activeCultures = cellsC.reduce(function(s, v) {if(v) {return s + 1;} else {return s;}}, 0);\n    culturesFooterCultures.innerHTML = activeCultures + \"/\" + cultures.length;\n    culturesFooterCells.innerHTML = land.length;\n    let totalArea = areas.reduce(function(s, v) {return s + v;});\n    totalArea = rn(totalArea * Math.pow(distanceScale.value, 2));\n    culturesFooterArea.innerHTML = si(totalArea) + unit;\n    let totalPopulation = rurPops.reduce(function(s, v) {return s + v;}) * urbanization.value;\n    totalPopulation += urbPops.reduce(function(s, v) {return s + v;});\n    culturesFooterPopulation.innerHTML = si(totalPopulation * 1000 * populationRate.value);\n\n    // initialize jQuery dialog\n    if (!$(\"#culturesEditor\").is(\":visible\")) {\n      $(\"#culturesEditor\").dialog({\n        title: \"Cultures Editor\",\n        minHeight: \"auto\", minWidth: Math.min(svgWidth, 336),\n        position: {my: \"right top\", at: \"right-10 top+10\", of: \"svg\"},\n        close: function() {\n          debug.select(\"#cultureCenters\").selectAll(\"*\").remove();\n          exitCulturesManualAssignment();\n        }\n      });\n    }\n\n    $(\".cultures\").hover(function() {\n      const c = +(this.id).slice(7);\n      debug.select(\"#cultureCenter\"+c).attr(\"stroke\", \"#000000e6\");\n    }, function() {\n      const c = +(this.id).slice(7);\n      debug.select(\"#cultureCenter\"+c).attr(\"stroke\", \"#00000080\");\n    });\n\n    $(\".cultures\").on(\"click\", function() {\n      if (customization !== 4) return;\n      const c = +(this.id).slice(7);\n      $(\".selected\").removeClass(\"selected\");\n      $(this).addClass(\"selected\");\n      let color = cultures[c].color;\n      debug.selectAll(\".circle\").attr(\"stroke\", color);\n    });\n\n    $(\".cultures .stateColor\").on(\"input\", function() {\n      const c = +(this.parentNode.id).slice(7);\n      const old = cultures[c].color;\n      cultures[c].color = this.value;\n      debug.select(\"#cultureCenter\"+c).attr(\"fill\", this.value);\n      cults.selectAll('[fill=\"'+old+'\"]').attr(\"fill\", this.value).attr(\"stroke\", this.value);\n    });\n\n    $(\".cultures .cultureName\").on(\"input\", function() {\n      const c = +(this.parentNode.id).slice(7);\n      cultures[c].name = this.value;\n    });\n\n    $(\".cultures .icon-arrows-cw\").on(\"click\", function() {\n      const c = +(this.parentNode.id).slice(7);\n      manors.forEach(function(m) {\n        if (m.region === \"removed\") return;\n        if (m.culture !== c) return;\n        m.name = generateName(c);\n        labels.select(\"[data-id='\" + m.i +\"']\").text(m.name);\n      });\n    });\n\n    $(\"#culturesBody .icon-trash-empty\").on(\"click\", function() {\n      const c = +(this.parentNode.id).slice(7);\n      cultures.splice(c, 1);\n      const centers = cultures.map(function(c) {return c.center;});\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures(\"fullRedraw\");\n      editCultures();\n    });\n\n    if (modules.editCultures) return;\n    modules.editCultures = true;\n\n    function addCultureBaseOptions() {\n      $(\".cultureBase\").each(function() {\n        const c = +(this.parentNode.id).slice(7);\n        for (let i=0; i < nameBases.length; i++) {\n          this.options.add(new Option(nameBases[i].name, i));\n        }\n        this.value = cultures[c].base;\n        this.addEventListener(\"change\", function() {\n          cultures[c].base = +this.value;\n        })\n      });\n    }\n\n    function drawCultureCenters() {\n      let cultureCenters = debug.select(\"#cultureCenters\");\n      if (cultureCenters.size()) {cultureCenters.selectAll(\"*\").remove();}\n      else {cultureCenters = debug.append(\"g\").attr(\"id\", \"cultureCenters\");}\n      for (let c=0; c < cultures.length; c++) {\n        cultureCenters.append(\"circle\").attr(\"id\", \"cultureCenter\"+c)\n          .attr(\"cx\", cultures[c].center[0]).attr(\"cy\", cultures[c].center[1])\n          .attr(\"r\", 6).attr(\"stroke-width\", 2).attr(\"stroke\", \"#00000080\").attr(\"fill\", cultures[c].color)\n          .on(\"mousemove\", cultureCenterTip).on(\"mouseleave\", function() {tip(\"\", true)})\n          .call(d3.drag().on(\"start\", cultureCenterDrag));\n      }\n    }\n\n    function cultureCenterTip() {\n      tip('Drag to move culture center and re-calculate cultures', true);\n    }\n\n    function cultureCenterDrag() {\n      const el = d3.select(this);\n      const c = +this.id.slice(13);\n\n      d3.event.on(\"drag\", function() {\n        const x = d3.event.x, y = d3.event.y;\n        el.attr(\"cx\", x).attr(\"cy\", y);\n        cultures[c].center = [x, y];\n        const centers = cultures.map(function(c) {return c.center;});\n        cultureTree = d3.quadtree(centers);\n        recalculateCultures();\n      });\n    }\n\n    $(\"#culturesPercentage\").on(\"click\", function() {\n      const el = $(\"#culturesEditor\");\n      if (el.attr(\"data-type\") === \"absolute\") {\n        el.attr(\"data-type\", \"percentage\");\n        const totalCells = land.length;\n        let totalArea = culturesFooterArea.innerHTML;\n        totalArea = getInteger(totalArea.split(\" \")[0]);\n        const totalPopulation = getInteger(culturesFooterPopulation.innerHTML);\n        $(\"#culturesBody > .cultures\").each(function() {\n          const cells = rn($(this).attr(\"data-cells\") / totalCells * 100);\n          const area = rn($(this).attr(\"data-area\") / totalArea * 100);\n          const population = rn($(this).attr(\"data-population\") / totalPopulation * 100);\n          $(this).children().filter(\".stateCells\").text(cells + \"%\");\n          $(this).children().filter(\".stateArea\").text(area + \"%\");\n          $(this).children().filter(\".culturePopulation\").text(population + \"%\");\n        });\n      } else {\n        el.attr(\"data-type\", \"absolute\");\n        editCultures();\n      }\n    });\n\n    $(\"#culturesManually\").on(\"click\", function() {\n      customization = 4;\n      tip(\"Click to select a culture, drag the circle to re-assign\", true);\n      $(\"#culturesBottom\").children().hide();\n      $(\"#culturesManuallyButtons\").show();\n      viewbox.style(\"cursor\", \"crosshair\").call(drag).on(\"click\", changeSelectedOnClick);\n      debug.select(\"#cultureCenters\").selectAll(\"*\").remove();\n    });\n\n    $(\"#culturesManuallyComplete\").on(\"click\", function() {\n      const changed = cults.selectAll(\"[data-culture]\");\n      changed.each(function() {\n        const i = +(this.id).slice(4);\n        const c = +this.getAttribute(\"data-culture\");\n        this.removeAttribute(\"data-culture\");\n        cells[i].culture = c;\n        const manor = cells[i].manor;\n        if (manor !== undefined) manors[manor].culture = c;\n      });\n      exitCulturesManualAssignment();\n      if (changed.size()) editCultures();\n    });\n\n    $(\"#culturesManuallyCancel\").on(\"click\", function() {\n      cults.selectAll(\"[data-culture]\").each(function() {\n        const i = +(this.id).slice(4);\n        const c = cells[i].culture;\n        this.removeAttribute(\"data-culture\");\n        const color = cultures[c].color;\n        this.setAttribute(\"fill\", color);\n        this.setAttribute(\"stroke\", color);\n      });\n      exitCulturesManualAssignment();\n      drawCultureCenters();\n    });\n\n    function exitCulturesManualAssignment() {\n      debug.selectAll(\".circle\").remove();\n      $(\"#culturesBottom\").children().show();\n      $(\"#culturesManuallyButtons\").hide();\n      $(\".selected\").removeClass(\"selected\");\n      customization = 0;\n      restoreDefaultEvents();\n    }\n\n    $(\"#culturesRandomize\").on(\"click\", function() {\n      const centers = cultures.map(function(c) {\n        const x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n        const y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n        const center = [x, y];\n        c.center = center;\n        return center;\n      });\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures();\n      drawCultureCenters();\n      editCultures();\n    });\n\n    $(\"#culturesExport\").on(\"click\", function() {\n      const unit = areaUnit.value === \"square\" ? distanceUnit.value + \"2\" : areaUnit.value;\n      let data = \"Culture,Cells,Area (\"+ unit +\"),Population,Namesbase\\n\"; // headers\n      $(\"#culturesBody > .cultures\").each(function() {\n        data += $(this).attr(\"data-culture\") + \",\";\n        data += $(this).attr(\"data-cells\") + \",\";\n        data += $(this).attr(\"data-area\") + \",\";\n        data += $(this).attr(\"data-population\") + \",\";\n        data += $(this).attr(\"data-base\") + \"\\n\";\n      });\n\n      const dataBlob = new Blob([data], {type: \"text/plain\"});\n      const url = window.URL.createObjectURL(dataBlob);\n      const link = document.createElement(\"a\");\n      document.body.appendChild(link);\n      link.download = \"cultures_data\" + Date.now() + \".csv\";\n      link.href = url;\n      link.click();\n      window.setTimeout(function() {window.URL.revokeObjectURL(url);}, 2000);\n    });\n\n    $(\"#culturesRegenerateNames\").on(\"click\", function() {\n      manors.forEach(function(m) {\n        if (m.region === \"removed\") return;\n        const culture = m.culture;\n        m.name = generateName(culture);\n        labels.select(\"[data-id='\" + m.i +\"']\").text(m.name);\n      });\n    });\n\n    $(\"#culturesEditNamesBase\").on(\"click\", editNamesbase);\n\n    $(\"#culturesAdd\").on(\"click\", function() {\n      const x = Math.floor(Math.random() * graphWidth * 0.8 + graphWidth * 0.1);\n      const y = Math.floor(Math.random() * graphHeight * 0.8 + graphHeight * 0.1);\n      const center = [x, y];\n\n      let culture, base, name, color;\n      if (cultures.length < defaultCultures.length) {\n        // add one of the default cultures\n        culture = cultures.length;\n        base = defaultCultures[culture].base;\n        color = defaultCultures[culture].color;\n        name = defaultCultures[culture].name;\n      } else {\n        // add random culture besed on one of the current ones\n        culture = rand(cultures.length - 1);\n        name = generateName(culture);\n        color = colors20(cultures.length % 20);\n        base = cultures[culture].base;\n      }\n      cultures.push({name, color, base, center});\n      const centers = cultures.map(function(c) {return c.center;});\n      cultureTree = d3.quadtree(centers);\n      recalculateCultures();\n      editCultures();\n    });\n  }\n\n  // open editNamesbase dialog\n  function editNamesbase() {\n    // update list of bases\n    const select = document.getElementById(\"namesbaseSelect\");\n    for (let i = select.options.length; i < nameBases.length; i++) {\n      const option = new Option(nameBases[i].name, i);\n      select.options.add(option);\n    }\n\n    // restore previous state\n    const textarea = document.getElementById(\"namesbaseTextarea\");\n    let selected = +textarea.getAttribute(\"data-base\");\n    if (selected >= nameBases.length) selected = 0;\n    select.value = selected;\n    if (textarea.value === \"\") namesbaseUpdateInputs(selected);\n    const examples = document.getElementById(\"namesbaseExamples\");\n    if (examples.innerHTML === \"\") namesbaseUpdateExamples(selected);\n\n    // open a dialog\n    $(\"#namesbaseEditor\").dialog({\n      title: \"Namesbase Editor\",\n      minHeight: \"auto\", minWidth: Math.min(svgWidth, 400),\n      position: {my: \"center\", at: \"center\", of: \"svg\"}\n    });\n\n    if (modules.editNamesbase) return;\n    modules.editNamesbase = true;\n\n    function namesbaseUpdateInputs(selected) {\n      const textarea = document.getElementById(\"namesbaseTextarea\");\n      textarea.value = nameBase[selected].join(\", \");\n      textarea.setAttribute(\"data-base\", selected);\n      const name = document.getElementById(\"namesbaseName\");\n      const method = document.getElementById(\"namesbaseMethod\");\n      const min = document.getElementById(\"namesbaseMin\");\n      const max = document.getElementById(\"namesbaseMax\");\n      const dublication = document.getElementById(\"namesbaseDouble\");\n      name.value = nameBases[selected].name;\n      method.value = nameBases[selected].method;\n      min.value = nameBases[selected].min;\n      max.value = nameBases[selected].max;\n      dublication.value = nameBases[selected].d;\n    }\n\n    function namesbaseUpdateExamples(selected) {\n      const examples = document.getElementById(\"namesbaseExamples\");\n      let text = \"\";\n      for (let i=0; i < 10; i++) {\n        const name = generateName(false, selected);\n        if (name === undefined) {\n          text = \"Cannot generate examples. Please verify the data\";\n          break;\n        }\n        if (i !== 0) text += \", \";\n        text += name\n      }\n      examples.innerHTML = text;\n    }\n\n    $(\"#namesbaseSelect\").on(\"change\", function() {\n      const selected = +this.value;\n      namesbaseUpdateInputs(selected);\n      namesbaseUpdateExamples(selected);\n    });\n\n    $(\"#namesbaseName\").on(\"input\", function() {\n      const base = +textarea.getAttribute(\"data-base\");\n      const select = document.getElementById(\"namesbaseSelect\");\n      select.options[base].innerHTML = this.value;\n      nameBases[base].name = this.value;\n    });\n\n    $(\"#namesbaseTextarea\").on(\"input\", function() {\n      const base = +this.getAttribute(\"data-base\");\n      const data = textarea.value.replace(/ /g, \"\").split(\",\");\n      nameBase[base] = data;\n      if (data.length < 3) {\n        chain[base] = [];\n        const examples = document.getElementById(\"namesbaseExamples\");\n        examples.innerHTML = \"Please provide a correct source data\";\n        return;\n      }\n      const method = document.getElementById(\"namesbaseMethod\").value;\n      if (method !== \"selection\") chain[base] = calculateChain(base);\n    });\n\n    $(\"#namesbaseMethod\").on(\"change\", function() {\n      const base = +textarea.getAttribute(\"data-base\");\n      nameBases[base].method = this.value;\n      if (this.value !== \"selection\") chain[base] = calculateChain(base);\n    });\n\n    $(\"#namesbaseMin\").on(\"change\", function() {\n      const base = +textarea.getAttribute(\"data-base\");\n      if (+this.value > nameBases[base].max) {\n        tip(\"Minimal length cannot be greated that maximal\");\n      } else {\n        nameBases[base].min = +this.value;\n      }\n    });\n\n    $(\"#namesbaseMax\").on(\"change\", function() {\n      const base = +textarea.getAttribute(\"data-base\");\n      if (+this.value < nameBases[base].min) {\n        tip(\"Maximal length cannot be less than minimal\");\n      } else {\n        nameBases[base].max = +this.value;\n      }\n    });\n\n    $(\"#namesbaseDouble\").on(\"change\", function() {\n      const base = +textarea.getAttribute(\"data-base\");\n      nameBases[base].d = this.value;\n    });\n\n    $(\"#namesbaseDefault\").on(\"click\", function() {\n      alertMessage.innerHTML = `Are you sure you want to restore the default namesbase?\n        All custom bases will be removed and default ones will be assigned to existing cultures.\n        Meanwhile existing names will not be changed.`;\n      $(\"#alert\").dialog({resizable: false, title: \"Restore default data\",\n        buttons: {\n          Restore: function() {\n            $(this).dialog(\"close\");\n            $(\"#namesbaseEditor\").dialog(\"close\");\n            const select = document.getElementById(\"namesbaseSelect\");\n            select.options.length = 0;\n            document.getElementById(\"namesbaseTextarea\").value = \"\";\n            document.getElementById(\"namesbaseTextarea\").setAttribute(\"data-base\", 0);\n            document.getElementById(\"namesbaseExamples\").innerHTML === \"\";\n            applyDefaultNamesData();\n            const baseMax = nameBases.length - 1;\n            cultures.forEach(function(c) {if (c.base > baseMax) c.base = baseMax;});\n            chains = {};\n            calculateChains();\n            editCultures();\n            editNamesbase();\n          },\n          Cancel: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    $(\"#namesbaseAdd\").on(\"click\", function() {\n      const base = nameBases.length;\n      const name = \"Base\" + base;\n      const method = document.getElementById(\"namesbaseMethod\").value;\n      const select = document.getElementById(\"namesbaseSelect\");\n      select.options.add(new Option(name, base));\n      select.value = base;\n      nameBases.push({name, method, min: 4, max: 10, d: \"\", m: 1});\n      nameBase.push([]);\n      document.getElementById(\"namesbaseName\").value = name;\n      const textarea = document.getElementById(\"namesbaseTextarea\");\n      textarea.value = \"\";\n      textarea.setAttribute(\"data-base\", base);\n      document.getElementById(\"namesbaseExamples\").innerHTML = \"\";\n      chain[base] = [];\n      editCultures();\n    });\n\n    $(\"#namesbaseExamples, #namesbaseUpdateExamples\").on(\"click\", function() {\n      const select = document.getElementById(\"namesbaseSelect\");\n      namesbaseUpdateExamples(+select.value);\n    });\n\n    $(\"#namesbaseDownload\").on(\"click\", function() {\n      const nameBaseString = JSON.stringify(nameBase) + \"\\r\\n\";\n      const nameBasesString = JSON.stringify(nameBases);\n      const dataBlob = new Blob([nameBaseString + nameBasesString],{type:\"text/plain\"});\n      const url = window.URL.createObjectURL(dataBlob);\n      const link = document.createElement(\"a\");\n      link.download = \"namebase\" + Date.now() + \".txt\";\n      link.href = url;\n      link.click();\n    });\n\n    $(\"#namesbaseUpload\").on(\"click\", function() {namesbaseToLoad.click();});\n    $(\"#namesbaseToLoad\").change(function() {\n      const fileToLoad = this.files[0];\n      this.value = \"\";\n      const fileReader = new FileReader();\n      fileReader.onload = function(fileLoadedEvent) {\n        const dataLoaded = fileLoadedEvent.target.result;\n        const data = dataLoaded.split(\"\\r\\n\");\n        if (data[0] && data[1]) {\n          nameBase = JSON.parse(data[0]);\n          nameBases = JSON.parse(data[1]);\n          const select = document.getElementById(\"namesbaseSelect\");\n          select.options.length = 0;\n          document.getElementById(\"namesbaseTextarea\").value = \"\";\n          document.getElementById(\"namesbaseTextarea\").setAttribute(\"data-base\", 0);\n          document.getElementById(\"namesbaseExamples\").innerHTML === \"\";\n          const baseMax = nameBases.length - 1;\n          cultures.forEach(function(c) {if (c.base > baseMax) c.base = baseMax;});\n          chains = {};\n          calculateChains();\n          editCultures();\n          editNamesbase();\n        } else {\n          tip(\"Cannot load a namesbase. Please check the data format\")\n        }\n      };\n      fileReader.readAsText(fileToLoad, \"UTF-8\");\n    });\n  }\n\n  // open editLegends dialog\n  function editLegends(id, name) {\n    // update list of objects\n    const select = document.getElementById(\"legendSelect\");\n    for (let i = select.options.length; i < notes.length; i++) {\n      let option = new Option(notes[i].id, notes[i].id);\n      select.options.add(option);\n    }\n\n    // select an object\n    if (id) {\n      let note = notes.find(note => note.id === id);\n      if (note === undefined) {\n        if (!name) name = id;\n        note = {id, name, legend: \"\"};\n        notes.push(note);\n        let option = new Option(id, id);\n        select.options.add(option);\n      }\n      select.value = id;\n      legendName.value = note.name;\n      legendText.value = note.legend;\n    }\n\n    // open a dialog\n    $(\"#legendEditor\").dialog({\n      title: \"Legends Editor\",\n      minHeight: \"auto\", minWidth: Math.min(svgWidth, 400),\n      position: {my: \"center\", at: \"center\", of: \"svg\"}\n    });\n\n    if (modules.editLegends) return;\n    modules.editLegends = true;\n\n    // select another object\n    document.getElementById(\"legendSelect\").addEventListener(\"change\", function() {\n      let note = notes.find(note => note.id === this.value);\n      legendName.value = note.name;\n      legendText.value = note.legend;\n    });\n\n    // change note name on input\n    document.getElementById(\"legendName\").addEventListener(\"input\", function() {\n      let select = document.getElementById(\"legendSelect\");\n      let id = select.value;\n      let note = notes.find(note => note.id === id);\n      note.name = this.value;\n    });\n\n    // change note text on input\n    document.getElementById(\"legendText\").addEventListener(\"input\", function() {\n      let select = document.getElementById(\"legendSelect\");\n      let id = select.value;\n      let note = notes.find(note => note.id === id);\n      note.legend = this.value;\n    });\n\n    // hightlight DOM element\n    document.getElementById(\"legendFocus\").addEventListener(\"click\", function() {\n      let select = document.getElementById(\"legendSelect\");\n      let element = document.getElementById(select.value);\n\n      // if element is not found\n      if (element === null) {\n        const message = \"Related element is not found. Would you like to remove the note (legend item)?\";\n        alertMessage.innerHTML = message;\n        $(\"#alert\").dialog({resizable: false, title: \"Element not found\",\n          buttons: {\n            Remove: function() {$(this).dialog(\"close\"); removeLegend();},\n            Keep: function() {$(this).dialog(\"close\");}\n          }\n        });\n        return;\n      }\n\n      // if element is found\n      highlightElement(element);\n    });\n\n    function highlightElement(element) {\n      if (debug.select(\".highlighted\").size()) return; // allow only 1 highlight element simultaniosly\n      let box = element.getBBox();\n      let transform = element.getAttribute(\"transform\") || null;\n      let t = d3.transition().duration(1000).ease(d3.easeBounceOut);\n      let r = d3.transition().duration(500).ease(d3.easeLinear);\n      let highlight = debug.append(\"rect\").attr(\"x\", box.x).attr(\"y\", box.y).attr(\"width\", box.width).attr(\"height\", box.height).attr(\"transform\", transform);\n      highlight.classed(\"highlighted\", 1)\n        .transition(t).style(\"outline-offset\", \"0px\")\n        .transition(r).style(\"outline-color\", \"transparent\").remove();\n      let tr = parseTransform(transform);\n      let x = box.x + box.width / 2;\n      if (tr[0]) x += tr[0];\n      let y = box.y + box.height / 2;\n      if (tr[1]) y += tr[1];\n      if (scale >= 2) zoomTo(x, y, scale, 1600);\n    }\n\n    // download legends object as text file\n    document.getElementById(\"legendDownload\").addEventListener(\"click\", function() {\n      const legendString = JSON.stringify(notes);\n      const dataBlob = new Blob([legendString],{type:\"text/plain\"});\n      const url = window.URL.createObjectURL(dataBlob);\n      const link = document.createElement(\"a\");\n      link.download = \"legends\" + Date.now() + \".txt\";\n      link.href = url;\n      link.click();\n    });\n\n    // upload legends object as text file and parse to json\n    document.getElementById(\"legendUpload\").addEventListener(\"click\", function() {\n      document.getElementById(\"lagendsToLoad\").click();\n    });\n    document.getElementById(\"lagendsToLoad\").addEventListener(\"change\", function() {\n      const fileToLoad = this.files[0];\n      this.value = \"\";\n      const fileReader = new FileReader();\n      fileReader.onload = function(fileLoadedEvent) {\n        const dataLoaded = fileLoadedEvent.target.result;\n        if (dataLoaded) {\n          notes = JSON.parse(dataLoaded);\n          const select = document.getElementById(\"legendSelect\");\n          select.options.length = 0;\n          editLegends(notes[0].id, notes[0].name);\n        } else {\n          tip(\"Cannot load a file. Please check the data format\")\n        }\n      };\n      fileReader.readAsText(fileToLoad, \"UTF-8\");\n    });\n\n    // remove the legend item\n    document.getElementById(\"legendRemove\").addEventListener(\"click\", function() {\n      alertMessage.innerHTML = \"Are you sure you want to remove the selected legend?\";\n      $(\"#alert\").dialog({resizable: false, title: \"Remove legend element\",\n        buttons: {\n          Remove: function() {$(this).dialog(\"close\"); removeLegend();},\n          Keep: function() {$(this).dialog(\"close\");}\n        }\n      });\n    });\n\n    function removeLegend() {\n      let select = document.getElementById(\"legendSelect\");\n      let index = notes.findIndex(n => n.id === select.value);\n      notes.splice(index, 1);\n      select.options.length = 0;\n      if (notes.length === 0) {\n        $(\"#legendEditor\").dialog(\"close\");\n        return;\n      }\n      editLegends(notes[0].id, notes[0].name);\n    }\n\n  }\n\n  // Map scale and measurements editor\n  function editScale() {\n    $(\"#ruler\").fadeIn();\n    $(\"#scaleEditor\").dialog({\n      title: \"Scale Editor\",\n      minHeight: \"auto\", width: \"auto\", resizable: false,\n      position: {my: \"center bottom\", at: \"center bottom-10\", of: \"svg\"}\n    });\n  }\n\n  // update only UI and sorting value in countryEditor screen\n  function updateCountryPopulationUI(s) {\n    if ($(\"#countriesEditor\").is(\":visible\")) {\n      const urban = rn(states[s].urbanPopulation * +urbanization.value * populationRate.value);\n      const rural = rn(states[s].ruralPopulation * populationRate.value);\n      const population = (urban + rural) * 1000;\n      $(\"#state\"+s).attr(\"data-population\", population);\n      $(\"#state\"+s).children().filter(\".statePopulation\").val(si(population));\n    }\n  }\n\n  // update dialogs if measurements are changed\n  function updateCountryEditors() {\n    if ($(\"#countriesEditor\").is(\":visible\")) {editCountries();}\n    if ($(\"#burgsEditor\").is(\":visible\")) {\n      const s = +$(\"#burgsEditor\").attr(\"data-state\");\n      editBurgs(this, s);\n    }\n  }\n\n  // remove drawn regions and draw all regions again\n  function redrawRegions() {\n    regions.selectAll(\"*\").remove();\n    borders.selectAll(\"path\").remove();\n    removeAllLabelsInGroup(\"countries\");\n    drawRegions();\n  }\n\n  // remove all labels in group including textPaths\n  function removeAllLabelsInGroup(group) {\n    labels.select(\"#\"+group).selectAll(\"text\").each(function() {\n      defs.select(\"#textPath_\" + this.id).remove();\n      this.remove();\n    });\n    if (group !== \"countries\") {\n      labels.select(\"#\"+group).remove();\n      updateLabelGroups();\n    }\n  }\n\n  // restore keeped region / burgs / cultures data on edit heightmap completion\n  function restoreRegions() {\n    borders.selectAll(\"path\").remove();\n    removeAllLabelsInGroup(\"countries\");\n    manors.map(function(m) {\n      const cell = diagram.find(m.x, m.y).index;\n      if (cells[cell].height < 20) {\n        // remove manor in ocean\n        m.region = \"removed\";\n        m.cell = cell;\n        d3.selectAll(\"[data-id='\" + m.i + \"']\").remove();\n      } else {\n        m.cell = cell;\n        cells[cell].manor = m.i;\n      }\n    });\n    cells.map(function(c) {\n      if (c.height < 20) {\n        // no longer a land cell\n        delete c.region;\n        delete c.culture;\n        return;\n      }\n      if (c.region === undefined) {\n        c.region = \"neutral\";\n        if (states[states.length - 1].capital !== \"neutral\") {\n          states.push({i: states.length, color: \"neutral\", capital: \"neutral\", name: \"Neutrals\"});\n        }\n      }\n      if (c.culture === undefined) {\n        const closest = cultureTree.find(c.data[0],c.data[1]);\n        c.culture = cultureTree.data().indexOf(closest);\n      }\n    });\n    states.map(function(s) {recalculateStateData(s.i);});\n    drawRegions();\n  }\n\n  function regenerateCountries() {\n    regions.selectAll(\"*\").remove();\n    const neutral = neutralInput.value = +countriesNeutral.value;\n    manors.forEach(function(m) {\n      if (m.region === \"removed\") return;\n      let state = \"neutral\", closest = neutral;\n      states.map(function(s) {\n        if (s.capital === \"neutral\" || s.capital === \"select\") return;\n        const c = manors[s.capital];\n        let dist = Math.hypot(c.x - m.x, c.y - m.y) / s.power;\n        if (cells[m.cell].fn !== cells[c.cell].fn) dist *= 3;\n        if (dist < closest) {state = s.i; closest = dist;}\n      });\n      m.region = state;\n      cells[m.cell].region = state;\n    });\n\n    defineRegions();\n    const temp = regions.append(\"g\").attr(\"id\", \"temp\");\n    land.forEach(function(l) {\n      if (l.region === undefined) return;\n      if (l.region === \"neutral\") return;\n      const color = states[l.region].color;\n      temp.append(\"path\")\n        .attr(\"data-cell\", l.index).attr(\"data-state\", l.region)\n        .attr(\"d\", \"M\" + polygons[l.index].join(\"L\") + \"Z\")\n        .attr(\"fill\", color).attr(\"stroke\", color);\n    });\n    const neutralCells = $.grep(cells, function(e) {return e.region === \"neutral\";});\n    const last = states.length - 1;\n    const type = states[last].color;\n    if (type === \"neutral\" && !neutralCells.length) {\n      // remove neutral line\n      $(\"#state\" + last).remove();\n      states.splice(-1);\n    }\n    // recalculate data for all countries\n    states.map(function(s) {\n      recalculateStateData(s.i);\n      $(\"#state\"+s.i+\" > .stateCells\").text(s.cells);\n      $(\"#state\"+s.i+\" > .stateBurgs\").text(s.burgs);\n      const area = rn(s.area * Math.pow(distanceScale.value, 2));\n      const unit = areaUnit.value === \"square\" ? \" \" + distanceUnit.value + \"²\" : \" \" + areaUnit.value;\n      $(\"#state\"+s.i+\" > .stateArea\").text(si(area) + unit);\n      const urban = rn(s.urbanPopulation * urbanization.value * populationRate.value);\n      const rural = rn(s.ruralPopulation  * populationRate.value);\n      const population = (urban + rural) * 1000;\n      $(\"#state\"+s.i+\" > .statePopulation\").val(si(population));\n      $(\"#state\"+s.i).attr(\"data-cells\", s.cells).attr(\"data-burgs\", s.burgs)\n        .attr(\"data-area\", area).attr(\"data-population\", population);\n    });\n    if (type !== \"neutral\" && neutralCells.length) {\n      // add neutral line\n      states.push({i: states.length, color: \"neutral\", capital: \"neutral\", name: \"Neutrals\"});\n      recalculateStateData(states.length - 1);\n      editCountries();\n    }\n  }\n\n  // enter state edit mode\n  function mockRegions() {\n    if (grid.style(\"display\") !== \"inline\") {toggleGrid.click();}\n    if (labels.style(\"display\") !== \"none\") {toggleLabels.click();}\n    stateBorders.selectAll(\"*\").remove();\n    neutralBorders.selectAll(\"*\").remove();\n  }\n\n  // handle DOM elements sorting on header click\n  $(\".sortable\").on(\"click\", function() {\n    const el = $(this);\n    // remove sorting for all siglings except of clicked element\n    el.siblings().removeClass(\"icon-sort-name-up icon-sort-name-down icon-sort-number-up icon-sort-number-down\");\n    const type = el.hasClass(\"alphabetically\") ? \"name\" : \"number\";\n    let state = \"no\";\n    if (el.is(\"[class*='down']\")) {state = \"asc\";}\n    if (el.is(\"[class*='up']\")) {state = \"desc\";}\n    const sortby = el.attr(\"data-sortby\");\n    const list = el.parent().next(); // get list container element (e.g. \"countriesBody\")\n    const lines = list.children(\"div\"); // get list elements\n    if (state === \"no\" || state === \"asc\") { // sort desc\n      el.removeClass(\"icon-sort-\" + type + \"-down\");\n      el.addClass(\"icon-sort-\" + type + \"-up\");\n      lines.sort(function(a, b) {\n        let an = a.getAttribute(\"data-\" + sortby);\n        if (an === \"bottom\") {return 1;}\n        let bn = b.getAttribute(\"data-\" + sortby);\n        if (bn === \"bottom\") {return -1;}\n        if (type === \"number\") {an = +an; bn = +bn;}\n        if (an > bn) {return 1;}\n        if (an < bn) {return -1;}\n        return 0;\n      });\n    }\n    if (state === \"desc\") { // sort asc\n      el.removeClass(\"icon-sort-\" + type + \"-up\");\n      el.addClass(\"icon-sort-\" + type + \"-down\");\n      lines.sort(function(a, b) {\n        let an = a.getAttribute(\"data-\" + sortby);\n        if (an === \"bottom\") {return 1;}\n        let bn = b.getAttribute(\"data-\" + sortby);\n        if (bn === \"bottom\") {return -1;}\n        if (type === \"number\") {an = +an; bn = +bn;}\n        if (an < bn) {return 1;}\n        if (an > bn) {return -1;}\n        return 0;\n      });\n    }\n    lines.detach().appendTo(list);\n  });\n\n  // load text file with new burg names\n  $(\"#burgsListToLoad\").change(function() {\n    const fileToLoad = this.files[0];\n    this.value = \"\";\n    const fileReader = new FileReader();\n    fileReader.onload = function(fileLoadedEvent) {\n      const dataLoaded = fileLoadedEvent.target.result;\n      const data = dataLoaded.split(\"\\r\\n\");\n      if (data.length === 0) {return;}\n      let change = [];\n      let message = `Burgs will be renamed as below. Please confirm`;\n      message += `<div class=\"overflow-div\"><table class=\"overflow-table\"><tr><th>Id</th><th>Current name</th><th>New Name</th></tr>`;\n      for (let i=0; i < data.length && i < manors.length; i++) {\n        const v = data[i];\n        if (v === \"\" || v === undefined) {continue;}\n        if (v === manors[i].name) {continue;}\n        change.push({i, name: v});\n        message += `<tr><td style=\"width:20%\">${i}</td><td style=\"width:40%\">${manors[i].name}</td><td style=\"width:40%\">${v}</td></tr>`;\n      }\n      message += `</tr></table></div>`;\n      alertMessage.innerHTML = message;\n      $(\"#alert\").dialog({title: \"Burgs bulk renaming\", position: {my: \"center\", at: \"center\", of: \"svg\"},\n        buttons: {\n          Cancel: function() {$(this).dialog(\"close\");},\n          Confirm: function() {\n            for (let i=0; i < change.length; i++) {\n              const id = change[i].i;\n              manors[id].name = change[i].name;\n              labels.select(\"[data-id='\" + id + \"']\").text(change[i].name);\n            }\n            $(this).dialog(\"close\");\n            updateCountryEditors();\n          }\n        }\n      });\n    };\n    fileReader.readAsText(fileToLoad, \"UTF-8\");\n  });\n\n  // just apply map size that was already set, apply graph size!\n  function applyMapSize() {\n    svgWidth = graphWidth = +mapWidthInput.value;\n    svgHeight = graphHeight = +mapHeightInput.value;\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    // set extent to map borders + 100px to get infinity world reception\n    voronoi = d3.voronoi().extent([[-1, -1],[graphWidth+1, graphHeight+1]]);\n    zoom.translateExtent([[0, 0],[graphWidth, graphHeight]]).scaleExtent([1, 20]).scaleTo(svg, 1);\n    viewbox.attr(\"transform\", null);\n    ocean.selectAll(\"rect\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", graphWidth).attr(\"height\", graphHeight);\n  }\n\n  // change svg size on manual size change or window resize, do not change graph size\n  function changeMapSize() {\n    fitScaleBar();\n    svgWidth = +mapWidthInput.value;\n    svgHeight = +mapHeightInput.value;\n    svg.attr(\"width\", svgWidth).attr(\"height\", svgHeight);\n    const width = Math.max(svgWidth, graphWidth);\n    const height = Math.max(svgHeight, graphHeight);\n    zoom.translateExtent([[0, 0],[width, height]]);\n    svg.select(\"#ocean\").selectAll(\"rect\").attr(\"x\", 0)\n      .attr(\"y\", 0).attr(\"width\", width).attr(\"height\", height);\n  }\n\n  // fit full-screen map if window is resized\n  $(window).resize(function(e) {\n    // trick to prevent resize on download bar opening\n    if (autoResize === false) return;\n    mapWidthInput.value = window.innerWidth;\n    mapHeightInput.value = window.innerHeight;\n    changeMapSize();\n  });\n\n  // fit ScaleBar to map size\n  function fitScaleBar() {\n    const el = d3.select(\"#scaleBar\");\n    if (!el.select(\"rect\").size()) return;\n    const bbox = el.select(\"rect\").node().getBBox();\n    let tr = [svgWidth - bbox.width, svgHeight - (bbox.height - 10)];\n    if (sessionStorage.getItem(\"scaleBar\")) {\n      const scalePos = sessionStorage.getItem(\"scaleBar\").split(\",\");\n      tr = [+scalePos[0] - bbox.width, +scalePos[1] - bbox.height];\n    }\n    el.attr(\"transform\", \"translate(\" + rn(tr[0]) + \",\" + rn(tr[1]) + \")\");\n  }\n\n  // restore initial style\n  function applyDefaultStyle() {\n    viewbox.on(\"touchmove mousemove\", moved);\n    landmass.attr(\"opacity\", 1).attr(\"fill\", \"#eef6fb\");\n    coastline.attr(\"opacity\", .5).attr(\"stroke\", \"#1f3846\").attr(\"stroke-width\", .7).attr(\"filter\", \"url(#dropShadow)\");\n    regions.attr(\"opacity\", .4);\n    stateBorders.attr(\"opacity\", .8).attr(\"stroke\", \"#56566d\").attr(\"stroke-width\", .7).attr(\"stroke-dasharray\", \"1.2 1.5\").attr(\"stroke-linecap\", \"butt\");\n    neutralBorders.attr(\"opacity\", .8).attr(\"stroke\", \"#56566d\").attr(\"stroke-width\", .5).attr(\"stroke-dasharray\", \"1 1.5\").attr(\"stroke-linecap\", \"butt\");\n    cults.attr(\"opacity\", .6);\n    rivers.attr(\"opacity\", 1).attr(\"fill\", \"#5d97bb\");\n    lakes.attr(\"opacity\", .5).attr(\"fill\", \"#a6c1fd\").attr(\"stroke\", \"#5f799d\").attr(\"stroke-width\", .7);\n    icons.selectAll(\"g\").attr(\"opacity\", 1).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\");\n    roads.attr(\"opacity\", .9).attr(\"stroke\", \"#d06324\").attr(\"stroke-width\", .35).attr(\"stroke-dasharray\", \"1.5\").attr(\"stroke-linecap\", \"butt\");\n    trails.attr(\"opacity\", .9).attr(\"stroke\", \"#d06324\").attr(\"stroke-width\", .15).attr(\"stroke-dasharray\", \".8 1.6\").attr(\"stroke-linecap\", \"butt\");\n    searoutes.attr(\"opacity\", .8).attr(\"stroke\", \"#ffffff\").attr(\"stroke-width\", .35).attr(\"stroke-dasharray\", \"1 2\").attr(\"stroke-linecap\", \"round\");\n    grid.attr(\"opacity\", 1).attr(\"stroke\", \"#808080\").attr(\"stroke-width\", .1);\n    ruler.attr(\"opacity\", 1).style(\"display\", \"none\").attr(\"filter\", \"url(#dropShadow)\");\n    overlay.attr(\"opacity\", .8).attr(\"stroke\", \"#808080\").attr(\"stroke-width\", .5);\n    markers.attr(\"filter\", \"url(#dropShadow01)\");\n\n    // ocean style\n    svg.style(\"background-color\", \"#000000\");\n    ocean.attr(\"opacity\", 1);\n    oceanLayers.select(\"rect\").attr(\"fill\", \"#53679f\");\n    oceanLayers.attr(\"filter\", \"\");\n    oceanPattern.attr(\"opacity\", 1);\n    oceanLayers.selectAll(\"path\").attr(\"display\", null);\n    styleOceanPattern.checked = true;\n    styleOceanLayers.checked = true;\n\n    labels.attr(\"opacity\", 1).attr(\"stroke\", \"#3a3a3a\").attr(\"stroke-width\", 0);\n    let size = rn(8 - regionsInput.value / 20);\n    if (size < 3) size = 3;\n    burgLabels.select(\"#capitals\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", size).attr(\"data-size\", size);\n    burgLabels.select(\"#towns\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", 3).attr(\"data-size\", 4);\n    burgIcons.select(\"#capitals\").attr(\"size\", 1).attr(\"stroke-width\", .24).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1).attr(\"opacity\", 1);\n    burgIcons.select(\"#towns\").attr(\"size\", .5).attr(\"stroke-width\", .12).attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"fill-opacity\", .7).attr(\"stroke-opacity\", 1).attr(\"opacity\", 1);\n    size = rn(16 - regionsInput.value / 6);\n    if (size < 6) size = 6;\n    labels.select(\"#countries\").attr(\"fill\", \"#3e3e4b\").attr(\"opacity\", 1).attr(\"font-family\", \"Almendra SC\").attr(\"data-font\", \"Almendra+SC\").attr(\"font-size\", size).attr(\"data-size\", size);\n    icons.select(\"#capital-anchors\").attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"stroke-width\", 1.2).attr(\"size\", 2);\n    icons.select(\"#town-anchors\").attr(\"fill\", \"#ffffff\").attr(\"stroke\", \"#3e3e4b\").attr(\"stroke-width\", 1.2).attr(\"size\", 1);\n  }\n\n  // Style options\n  $(\"#styleElementSelect\").on(\"change\", function() {\n    const sel = this.value;\n    let el = viewbox.select(\"#\"+sel);\n    if (sel == \"ocean\") el = oceanLayers.select(\"rect\");\n    $(\"#styleInputs > div\").hide();\n\n    // opacity\n    $(\"#styleOpacity, #styleFilter\").css(\"display\", \"block\");\n    const opacity = el.attr(\"opacity\") || 1;\n    styleOpacityInput.value = styleOpacityOutput.value = opacity;\n\n    // filter\n    if (sel == \"ocean\") el = oceanLayers;\n    styleFilterInput.value = el.attr(\"filter\") || \"\";\n    if (sel === \"rivers\" || sel === \"lakes\" || sel === \"landmass\") {\n      $(\"#styleFill\").css(\"display\", \"inline-block\");\n      styleFillInput.value = styleFillOutput.value = el.attr(\"fill\");\n    }\n\n    if (sel === \"roads\" || sel === \"trails\" || sel === \"searoutes\" || sel === \"lakes\" || sel === \"stateBorders\" || sel === \"neutralBorders\" || sel === \"grid\" || sel === \"overlay\" || sel === \"coastline\") {\n      $(\"#styleStroke\").css(\"display\", \"inline-block\");\n      styleStrokeInput.value = styleStrokeOutput.value = el.attr(\"stroke\");\n      $(\"#styleStrokeWidth\").css(\"display\", \"block\");\n      const width = el.attr(\"stroke-width\") || \"\";\n      styleStrokeWidthInput.value = styleStrokeWidthOutput.value = width;\n    }\n\n    if (sel === \"roads\" || sel === \"trails\" || sel === \"searoutes\" || sel === \"stateBorders\" || sel === \"neutralBorders\" || sel === \"overlay\") {\n      $(\"#styleStrokeDasharray, #styleStrokeLinecap\").css(\"display\", \"block\");\n      styleStrokeDasharrayInput.value = el.attr(\"stroke-dasharray\") || \"\";\n      styleStrokeLinecapInput.value = el.attr(\"stroke-linecap\") || \"inherit\";\n    }\n\n    if (sel === \"terrs\") $(\"#styleScheme\").css(\"display\", \"block\");\n    if (sel === \"heightmap\") $(\"#styleScheme\").css(\"display\", \"block\");\n    if (sel === \"overlay\") $(\"#styleOverlay\").css(\"display\", \"block\");\n\n    if (sel === \"labels\") {\n      $(\"#styleFill, #styleStroke, #styleStrokeWidth, #styleFontSize\").css(\"display\", \"inline-block\");\n      styleFillInput.value = styleFillOutput.value = el.select(\"g\").attr(\"fill\") || \"#3e3e4b\";\n      styleStrokeInput.value = styleStrokeOutput.value = el.select(\"g\").attr(\"stroke\") || \"#3a3a3a\";\n      styleStrokeWidthInput.value = styleStrokeWidthOutput.value = el.attr(\"stroke-width\") || 0;\n      $(\"#styleLabelGroups\").css(\"display\", \"inline-block\");\n      updateLabelGroups();\n    }\n\n    if (sel === \"ocean\") {\n      $(\"#styleOcean\").css(\"display\", \"block\");\n      styleOceanBack.value = styleOceanBackOutput.value = svg.style(\"background-color\");\n      styleOceanFore.value = styleOceanForeOutput.value = oceanLayers.select(\"rect\").attr(\"fill\");\n    }\n  });\n\n  // update Label Groups displayed on Style tab\n  function updateLabelGroups() {\n    if (styleElementSelect.value !== \"labels\") return;\n    const cont = d3.select(\"#styleLabelGroupItems\");\n    cont.selectAll(\"button\").remove();\n    labels.selectAll(\"g\").each(function() {\n      const el = d3.select(this);\n      const id = el.attr(\"id\");\n      const name = id.charAt(0).toUpperCase() + id.substr(1);\n      const state = el.classed(\"hidden\");\n      if (id === \"burgLabels\") return;\n      cont.append(\"button\").attr(\"id\", id).text(name).classed(\"buttonoff\", state).on(\"click\", function() {\n        // toggle label group on click\n        if (hideLabels.checked) hideLabels.click();\n        const el = d3.select(\"#\"+this.id);\n        const state = !el.classed(\"hidden\");\n        el.classed(\"hidden\", state);\n        d3.select(this).classed(\"buttonoff\", state);\n      });\n    });\n  }\n\n  $(\"#styleFillInput\").on(\"input\", function() {\n    styleFillOutput.value = this.value;\n    const el = svg.select(\"#\" + styleElementSelect.value);\n    if (styleElementSelect.value !== \"labels\") {\n      el.attr('fill', this.value);\n    } else {\n      el.selectAll(\"g\").attr('fill', this.value);\n    }\n  });\n\n  $(\"#styleStrokeInput\").on(\"input\", function() {\n    styleStrokeOutput.value = this.value;\n    const el = svg.select(\"#\"+styleElementSelect.value);\n    el.attr('stroke', this.value);\n  });\n\n  $(\"#styleStrokeWidthInput\").on(\"input\", function() {\n    styleStrokeWidthOutput.value = this.value;\n    const el = svg.select(\"#\"+styleElementSelect.value);\n    el.attr('stroke-width', +this.value);\n  });\n\n  $(\"#styleStrokeDasharrayInput\").on(\"input\", function() {\n    const sel = styleElementSelect.value;\n    svg.select(\"#\"+sel).attr('stroke-dasharray', this.value);\n  });\n\n  $(\"#styleStrokeLinecapInput\").on(\"change\", function() {\n    const sel = styleElementSelect.value;\n    svg.select(\"#\"+sel).attr('stroke-linecap', this.value);\n  });\n\n  $(\"#styleOpacityInput\").on(\"input\", function() {\n    styleOpacityOutput.value = this.value;\n    const sel = styleElementSelect.value;\n    svg.select(\"#\"+sel).attr('opacity', this.value);\n\n  });\n\n  $(\"#styleFilterInput\").on(\"change\", function() {\n    let sel = styleElementSelect.value;\n    if (sel == \"ocean\") sel = \"oceanLayers\";\n    const el = svg.select(\"#\"+sel);\n    el.attr('filter', this.value);\n    zoom.scaleBy(svg, 1.00001); // enforce browser re-draw\n  });\n\n  $(\"#styleSchemeInput\").on(\"change\", function() {\n    terrs.selectAll(\"path\").remove();\n    toggleHeight();\n  });\n\n  $(\"#styleOverlayType\").on(\"change\", function() {\n    overlay.selectAll(\"*\").remove();\n    if (!$(\"#toggleOverlay\").hasClass(\"buttonoff\")) toggleOverlay();\n  });\n\n  $(\"#styleOverlaySize\").on(\"change\", function() {\n    overlay.selectAll(\"*\").remove();\n    if (!$(\"#toggleOverlay\").hasClass(\"buttonoff\")) toggleOverlay();\n    styleOverlaySizeOutput.value = this.value;\n  });\n\n  function calculateFriendlyOverlaySize() {\n    let size = styleOverlaySize.value;\n    if (styleOverlayType.value === \"windrose\") {styleOverlaySizeFriendly.innerHTML = \"\"; return;}\n    if (styleOverlayType.value === \"pointyHex\" || styleOverlayType.value === \"flatHex\") size *= Math.cos(30 * Math.PI / 180) * 2;\n    let friendly = \"(\" + rn(size * distanceScale.value) + \" \" + distanceUnit.value + \")\";\n    styleOverlaySizeFriendly.value = friendly;\n  }\n\n  $(\"#styleOceanBack\").on(\"input\", function() {\n    svg.style(\"background-color\", this.value);\n    styleOceanBackOutput.value = this.value;\n  });\n\n  $(\"#styleOceanFore\").on(\"input\", function() {\n    oceanLayers.select(\"rect\").attr(\"fill\", this.value);\n    styleOceanForeOutput.value = this.value;\n  });\n\n  $(\"#styleOceanPattern\").on(\"click\", function() {oceanPattern.attr(\"opacity\", +this.checked);});\n\n  $(\"#styleOceanLayers\").on(\"click\", function() {\n    const display = this.checked ? \"block\" : \"none\";\n    oceanLayers.selectAll(\"path\").attr(\"display\", display);\n  });\n\n  // Other Options handlers\n  $(\"input, select\").on(\"input change\", function() {\n    const id = this.id;\n    if (id === \"hideLabels\") invokeActiveZooming();\n    if (id === \"mapWidthInput\" || id === \"mapHeightInput\") {\n      changeMapSize();\n      autoResize = false;\n      localStorage.setItem(\"mapWidth\", mapWidthInput.value);\n      localStorage.setItem(\"mapHeight\", mapHeightInput.value);\n    }\n    if (id === \"sizeInput\") {\n      graphSize = sizeOutput.value = +this.value;\n      if (graphSize === 3) {sizeOutput.style.color = \"red\";}\n      if (graphSize === 2) {sizeOutput.style.color = \"yellow\";}\n      if (graphSize === 1) {sizeOutput.style.color = \"green\";}\n      // localStorage.setItem(\"graphSize\", this.value); - temp off to always start with size 1\n    }\n    if (id === \"templateInput\") {localStorage.setItem(\"template\", this.value);}\n    if (id === \"manorsInput\") {manorsOutput.value = this.value; localStorage.setItem(\"manors\", this.value);}\n    if (id === \"regionsInput\") {\n      regionsOutput.value = this.value;\n      let size = rn(6 - this.value / 20);\n      if (size < 3) {size = 3;}\n      burgLabels.select(\"#capitals\").attr(\"data-size\", size);\n      size = rn(18 - this.value / 6);\n      if (size < 4) {size = 4;}\n      labels.select(\"#countries\").attr(\"data-size\", size);\n      localStorage.setItem(\"regions\", this.value);\n    }\n    if (id === \"powerInput\") {powerOutput.value = this.value; localStorage.setItem(\"power\", this.value);}\n    if (id === \"neutralInput\") {neutralOutput.value = countriesNeutral.value = this.value; localStorage.setItem(\"neutal\", this.value);}\n    if (id === \"culturesInput\") {culturesOutput.value = this.value; localStorage.setItem(\"cultures\", this.value);}\n    if (id === \"precInput\") {precOutput.value = +precInput.value; localStorage.setItem(\"prec\", this.value);}\n    if (id === \"swampinessInput\") {swampinessOutput.value = this.value; localStorage.setItem(\"swampiness\", this.value);}\n    if (id === \"outlineLayersInput\") localStorage.setItem(\"outlineLayers\", this.value);\n    if (id === \"transparencyInput\") changeDialogsTransparency(this.value);\n    if (id === \"pngResolutionInput\") localStorage.setItem(\"pngResolution\", this.value);\n    if (id === \"zoomExtentMin\" || id === \"zoomExtentMax\") {\n      zoom.scaleExtent([+zoomExtentMin.value, +zoomExtentMax.value]);\n      zoom.scaleTo(svg, +this.value);\n    }\n\n    if (id === \"convertOverlay\") {canvas.style.opacity = convertOverlayValue.innerHTML = +this.value;}\n    if (id === \"populationRate\") {\n      populationRateOutput.value = si(+populationRate.value * 1000);\n      updateCountryEditors();\n    }\n    if (id === \"urbanization\") {\n      urbanizationOutput.value = this.value;\n      updateCountryEditors();\n    }\n    if (id === \"distanceUnit\" || id === \"distanceScale\" || id === \"areaUnit\") {\n      const dUnit = distanceUnit.value;\n      if (id === \"distanceUnit\" && dUnit === \"custom_name\") {\n        const custom = prompt(\"Provide a custom name for distance unit\");\n        if (custom) {\n          const opt = document.createElement(\"option\");\n          opt.value = opt.innerHTML = custom;\n          distanceUnit.add(opt);\n          distanceUnit.value = custom;\n        } else {\n          this.value = \"km\"; return;\n        }\n      }\n      const scale = distanceScale.value;\n      scaleOutput.value = scale + \" \" + dUnit;\n      ruler.selectAll(\"g\").each(function() {\n        let label;\n        const g = d3.select(this);\n        const area = +g.select(\"text\").attr(\"data-area\");\n        if (area) {\n          const areaConv = area * Math.pow(scale, 2); // convert area to distanceScale\n          let unit = areaUnit.value;\n          if (unit === \"square\") {unit = dUnit + \"²\"} else {unit = areaUnit.value;}\n          label = si(areaConv) + \" \" + unit;\n        } else {\n          const dist = +g.select(\"text\").attr(\"data-dist\");\n          label = rn(dist * scale) + \" \" + dUnit;\n        }\n        g.select(\"text\").text(label);\n      });\n      ruler.selectAll(\".gray\").attr(\"stroke-dasharray\", rn(30 / scale, 2));\n      drawScaleBar();\n      updateCountryEditors();\n    }\n    if (id === \"barSize\") {\n      barSizeOutput.innerHTML = this.value;\n      $(\"#scaleBar\").removeClass(\"hidden\");\n      drawScaleBar();\n    }\n    if (id === \"barLabel\") {\n      $(\"#scaleBar\").removeClass(\"hidden\");\n      drawScaleBar();\n    }\n    if (id === \"barBackOpacity\" || id === \"barBackColor\") {\n      d3.select(\"#scaleBar > rect\")\n        .attr(\"opacity\", +barBackOpacity.value)\n        .attr(\"fill\", barBackColor.value);\n      $(\"#scaleBar\").removeClass(\"hidden\");\n    }\n  });\n\n  $(\"#scaleOutput\").change(function() {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0.01 || this.value > 10) {\n      tip(\"Manually entered distance scale should be a number in a [0.01; 10] range\");\n      this.value = distanceScale.value + \" \" + distanceUnit.value;\n      return;\n    }\n    distanceScale.value = +this.value;\n    scaleOutput.value = this.value + \" \" + distanceUnit.value;\n    updateCountryEditors();\n  });\n\n  $(\"#populationRateOutput\").change(function() {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0.001 || this.value > 10) {\n      tip(\"Manually entered population rate should be a number in a [0.001; 10] range\");\n      this.value = si(populationRate.value * 1000);\n      return;\n    }\n    populationRate.value = +this.value;\n    populationRateOutput.value = si(this.value * 1000);\n    updateCountryEditors();\n  });\n\n  $(\"#urbanizationOutput\").change(function() {\n    if (this.value === \"\" || isNaN(+this.value) || this.value < 0 || this.value > 10) {\n      tip(\"Manually entered urbanization rate should be a number in a [0; 10] range\");\n      this.value = urbanization.value;\n      return;\n    }\n    const val = parseFloat(+this.value);\n    if (val > 2) urbanization.setAttribute(\"max\", val);\n    urbanization.value = urbanizationOutput.value = val;\n    updateCountryEditors();\n  });\n\n\n  // lock manually changed option to restrict it randomization\n  $(\"#optionsContent input, #optionsContent select\").change(function() {\n    const icon = \"lock\" + this.id.charAt(0).toUpperCase() + this.id.slice(1);\n    const el = document.getElementById(icon);\n    if (!el) return;\n    el.setAttribute(\"data-locked\", 1);\n    el.className = \"icon-lock\";\n  });\n\n  $(\"#optionsReset\").click(restoreDefaultOptions);\n\n  $(\"#rescaler\").change(function() {\n      const change = rn((+this.value - 5), 2);\n      modifyHeights(\"all\", change, 1);\n      updateHeightmap();\n      updateHistory();\n      rescaler.value = 5;\n  });\n\n  $(\"#layoutPreset\").on(\"change\", function() {\n    const preset = this.value;\n    $(\"#mapLayers li\").not(\"#toggleOcean\").addClass(\"buttonoff\");\n    $(\"#toggleOcean\").removeClass(\"buttonoff\");\n    $(\"#oceanPattern\").fadeIn();\n    $(\"#rivers, #terrain, #borders, #regions, #icons, #labels, #routes, #grid, #markers\").fadeOut();\n    cults.selectAll(\"path\").remove();\n    terrs.selectAll(\"path\").remove();\n    if (preset === \"layoutPolitical\") {\n      toggleRivers.click();\n      toggleRelief.click();\n      toggleBorders.click();\n      toggleCountries.click();\n      toggleIcons.click();\n      toggleLabels.click();\n      toggleRoutes.click();\n      toggleMarkers.click();\n    }\n    if (preset === \"layoutCultural\") {\n      toggleRivers.click();\n      toggleRelief.click();\n      toggleBorders.click();\n      $(\"#toggleCultures\").click();\n      toggleIcons.click();\n      toggleLabels.click();\n      toggleMarkers.click();\n    }\n    if (preset === \"layoutHeightmap\") {\n      $(\"#toggleHeight\").click();\n      toggleRivers.click();\n    }\n  });\n\n  // UI Button handlers\n  $(\".tab > button\").on(\"click\", function() {\n    $(\".tabcontent\").hide();\n    $(\".tab > button\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n    const id = this.id;\n    if (id === \"layoutTab\") {$(\"#layoutContent\").show();}\n    if (id === \"styleTab\") {$(\"#styleContent\").show();}\n    if (id === \"optionsTab\") {$(\"#optionsContent\").show();}\n    if (id === \"customizeTab\") {$(\"#customizeContent\").show();}\n    if (id === \"aboutTab\") {$(\"#aboutContent\").show();}\n  });\n\n  // re-load page with provided seed\n  $(\"#optionsSeedGenerate\").on(\"click\", function() {\n    if (optionsSeed.value == seed) return;\n    seed = optionsSeed.value;\n    const url = new URL(window.location.href);\n    window.location.href = url.pathname + \"?seed=\" + seed;\n  });\n\n  // Pull request from @evyatron\n  // https://github.com/Azgaar/Fantasy-Map-Generator/pull/49\n  function addDragToUpload() {\n    document.addEventListener('dragover', function(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        $('#map-dragged').show();\n    });\n\n    document.addEventListener('dragleave', function(e) {\n        $('#map-dragged').hide();\n    });\n\n    document.addEventListener('drop', function(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      $('#map-dragged').hide();\n      // no files or more than one\n      if (e.dataTransfer.items == null || e.dataTransfer.items.length != 1) {return;}\n      const file = e.dataTransfer.items[0].getAsFile();\n      // not a .map file\n      if (file.name.indexOf('.map') == -1) {\n        alertMessage.innerHTML = 'Please upload a <b>.map</b> file you have previously downloaded';\n        $(\"#alert\").dialog({\n          resizable: false, title: \"Invalid file format\",\n          width: 400, buttons: {\n            Close: function() { $(this).dialog(\"close\"); }\n          }, position: {my: \"center\", at: \"center\", of: \"svg\"}\n        });\n        return;\n      }\n      // all good - show uploading text and load the map\n      $(\"#map-dragged > p\").text(\"Uploading<span>.</span><span>.</span><span>.</span>\");\n      uploadFile(file, function onUploadFinish() {\n        $(\"#map-dragged > p\").text(\"Drop to upload\");\n      });\n    });\n  }\n}\n\nfunction tip(tip, main, error) {\n  const tooltip = d3.select(\"#tooltip\");\n  const reg = \"linear-gradient(0.1turn, #ffffff00, #5e5c5c4d, #ffffff00)\";\n  const red = \"linear-gradient(0.1turn, #ffffff00, #c71d1d66, #ffffff00)\";\n  tooltip.text(tip).style(\"background\", error ? red : reg);\n  if (main) tooltip.attr(\"data-main\", tip);\n}\n\nwindow.tip = tip;\n\n$(\"#optionsContainer *\").on(\"mouseout\", function() {\n  tooltip.innerHTML = tooltip.getAttribute(\"data-main\");\n});\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"sourceRoot":"src/components"}]}